webpackJsonp([0],{"+3lO":function(t,e,n){n("abPz");var r=n("YjQv");var i=n("aLzV");var o=n("yYxz");var a=n("hgbu")("toStringTag");var s=("CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,"+"DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,"+"MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,"+"SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,"+"TextTrackList,TouchList").split(",");for(var u=0;u<s.length;u++){var l=s[u];var c=r[l];var f=c&&c.prototype;if(f&&!f[a])i(f,a,l);o[l]=o.Array}},"+MZ2":function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},"+SdG":function(t,e,n){var r=n("a/OS")("keys");var i=n("GmwO");t.exports=function(t){return r[t]||(r[t]=i(t))}},"+VX5":function(t,e,n){var r=n("W6Rd");var i=Math.max;var o=Math.min;t.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},"+WQ+":function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];t[0]=r*c+a*s+i*l-o*u;t[1]=i*c+a*u+o*s-r*l;t[2]=o*c+a*l+r*u-i*s;t[3]=a*c-r*s-i*u-o*l;return t}},"+iDZ":function(t,e,n){var r=n("YjQv").document;t.exports=r&&r.documentElement},"+sAb":function(t,e,n){"use strict";n.d(e,"a",function(){return s});e["c"]=l;e["d"]=c;e["b"]=f;var r=n("u/dy");var i=n("N+Om");var o=n.n(i);var a={VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",true],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",true],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",true],ELEMENT_INDEX_UINT32:["OES_element_index_uint",true],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",true],COLOR_ENCODING_SRGB:["EXT_sRGB",true],TEXTURE_DEPTH:["WEBGL_depth_texture",true],TEXTURE_FLOAT:["OES_texture_float",true],TEXTURE_HALF_FLOAT:["OES_texture_half_float",true],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:["WEBGL_color_buffer_float","EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[false,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:[false,"EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",true],GLSL_FRAG_DEPTH:["EXT_frag_depth",true],GLSL_DERIVATIVES:["OES_standard_derivatives",true],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",true]};var s={};Object.keys(a).forEach(function(t){s[t]=t});function u(t,e){var n=a[e];o()(n,e);var i=Object(r["h"])(t)?n[1]||n[0]:n[0];var s=typeof i==="string"?Boolean(t.getExtension(i)):i;o()(s===false||s===true);return s}function l(t,e){return c(t,e)}function c(t,e){e=Array.isArray(e)?e:[e];return e.every(function(e){return u(t,e)})}function f(t){t.luma=t.luma||{};if(!t.luma.caps){t.luma.caps={};t.luma.caps.webgl2=Object(r["h"])(t);for(var e in a){t.luma.caps[e]=u(t,e)}}return t.luma.caps}var h={WEBGL_FEATURES:a}},"+zJ9":function(t,e,n){var r=n("GmwO")("meta");var i=n("8ANE");var o=n("x//u");var a=n("GCs6").f;var s=0;var u=Object.isExtensible||function(){return true};var l=!n("zyKz")(function(){return u(Object.preventExtensions({}))});var c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})};var f=function(t,e){if(!i(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i};var h=function(t,e){if(!o(t,r)){if(!u(t))return true;if(!e)return false;c(t)}return t[r].w};var p=function(t){if(l&&d.NEED&&u(t)&&!o(t,r))c(t);return t};var d=t.exports={KEY:r,NEED:false,fastKey:f,getWeak:h,onFreeze:p}},"/3J5":function(t,e){t.exports=n;function n(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4];t[2]=e[8];t[3]=e[12];t[4]=n;t[6]=e[9];t[7]=e[13];t[8]=r;t[9]=o;t[11]=e[14];t[12]=i;t[13]=a;t[14]=s}else{t[0]=e[0];t[1]=e[4];t[2]=e[8];t[3]=e[12];t[4]=e[1];t[5]=e[5];t[6]=e[9];t[7]=e[13];t[8]=e[2];t[9]=e[6];t[10]=e[10];t[11]=e[14];t[12]=e[3];t[13]=e[7];t[14]=e[11];t[15]=e[15]}return t}},"/JMw":function(t,e,n){t.exports=n("n0om")},"/o50":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;t[2]=e[2]*n;return t}},"/ocq":function(t,e,n){"use strict";/**
  * vue-router v3.0.1
  * (c) 2017 Evan You
  * @license MIT
  */
function r(t,e){if(!t){throw new Error("[vue-router] "+e)}}function i(t,e){if(false){typeof console!=="undefined"&&console.warn("[vue-router] "+e)}}function o(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var a={name:"router-view",functional:true,props:{name:{type:String,default:"default"}},render:function t(e,n){var r=n.props;var i=n.children;var o=n.parent;var a=n.data;a.routerView=true;var l=o.$createElement;var c=r.name;var f=o.$route;var h=o._routerViewCache||(o._routerViewCache={});var p=0;var d=false;while(o&&o._routerRoot!==o){if(o.$vnode&&o.$vnode.data.routerView){p++}if(o._inactive){d=true}o=o.$parent}a.routerViewDepth=p;if(d){return l(h[c],a,i)}var v=f.matched[p];if(!v){h[c]=null;return l()}var m=h[c]=v.components[c];a.registerRouteInstance=function(t,e){var n=v.instances[c];if(e&&n!==t||!e&&n===t){v.instances[c]=e}};(a.hook||(a.hook={})).prepatch=function(t,e){v.instances[c]=e.componentInstance};var g=a.props=s(f,v.props&&v.props[c]);if(g){g=a.props=u({},g);var y=a.attrs=a.attrs||{};for(var _ in g){if(!m.props||!(_ in m.props)){y[_]=g[_];delete g[_]}}}return l(m,a,i)}};function s(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:undefined;default:if(false){i(false,'props in "'+t.path+'" is a '+typeof e+", "+"expecting an object, function or boolean.")}}}function u(t,e){for(var n in e){t[n]=e[n]}return t}var l=/[!'()*]/g;var c=function(t){return"%"+t.charCodeAt(0).toString(16)};var f=/%2C/g;var h=function(t){return encodeURIComponent(t).replace(l,c).replace(f,",")};var p=decodeURIComponent;function d(t,e,n){if(e===void 0)e={};var r=n||v;var o;try{o=r(t||"")}catch(t){"production"!=="production"&&i(false,t.message);o={}}for(var a in e){o[a]=e[a]}return o}function v(t){var e={};t=t.trim().replace(/^(\?|#|&)/,"");if(!t){return e}t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("=");var r=p(n.shift());var i=n.length>0?p(n.join("=")):null;if(e[r]===undefined){e[r]=i}else if(Array.isArray(e[r])){e[r].push(i)}else{e[r]=[e[r],i]}});return e}function m(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(n===undefined){return""}if(n===null){return h(e)}if(Array.isArray(n)){var r=[];n.forEach(function(t){if(t===undefined){return}if(t===null){r.push(h(e))}else{r.push(h(e)+"="+h(t))}});return r.join("&")}return h(e)+"="+h(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var g=/\/?$/;function y(t,e,n,r){var i=r&&r.options.stringifyQuery;var o=e.query||{};try{o=_(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:w(e,i),matched:t?x(t):[]};if(n){a.redirectedFrom=w(n,i)}return Object.freeze(a)}function _(t){if(Array.isArray(t)){return t.map(_)}else if(t&&typeof t==="object"){var e={};for(var n in t){e[n]=_(t[n])}return e}else{return t}}var b=y(null,{path:"/"});function x(t){var e=[];while(t){e.unshift(t);t=t.parent}return e}function w(t,e){var n=t.path;var r=t.query;if(r===void 0)r={};var i=t.hash;if(i===void 0)i="";var o=e||m;return(n||"/")+o(r)+i}function E(t,e){if(e===b){return t===e}else if(!e){return false}else if(t.path&&e.path){return t.path.replace(g,"")===e.path.replace(g,"")&&t.hash===e.hash&&T(t.query,e.query)}else if(t.name&&e.name){return t.name===e.name&&t.hash===e.hash&&T(t.query,e.query)&&T(t.params,e.params)}else{return false}}function T(t,e){if(t===void 0)t={};if(e===void 0)e={};if(!t||!e){return t===e}var n=Object.keys(t);var r=Object.keys(e);if(n.length!==r.length){return false}return n.every(function(n){var r=t[n];var i=e[n];if(typeof r==="object"&&typeof i==="object"){return T(r,i)}return String(r)===String(i)})}function I(t,e){return t.path.replace(g,"/").indexOf(e.path.replace(g,"/"))===0&&(!e.hash||t.hash===e.hash)&&C(t.query,e.query)}function C(t,e){for(var n in e){if(!(n in t)){return false}}return true}var M=[String,Object];var A=[String,Array];var S={name:"router-link",props:{to:{type:M,required:true},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:A,default:"click"}},render:function t(e){var n=this;var r=this.$router;var i=this.$route;var o=r.resolve(this.to,i,this.append);var a=o.location;var s=o.route;var u=o.href;var l={};var c=r.options.linkActiveClass;var f=r.options.linkExactActiveClass;var h=c==null?"router-link-active":c;var p=f==null?"router-link-exact-active":f;var d=this.activeClass==null?h:this.activeClass;var v=this.exactActiveClass==null?p:this.exactActiveClass;var m=a.path?y(null,a,null,r):s;l[v]=E(i,m);l[d]=this.exact?l[v]:I(i,m);var g=function(t){if(R(t)){if(n.replace){r.replace(a)}else{r.push(a)}}};var _={click:R};if(Array.isArray(this.event)){this.event.forEach(function(t){_[t]=g})}else{_[this.event]=g}var b={class:l};if(this.tag==="a"){b.on=_;b.attrs={href:u}}else{var x=L(this.$slots.default);if(x){x.isStatic=false;var w=k.util.extend;var T=x.data=w({},x.data);T.on=_;var C=x.data.attrs=w({},x.data.attrs);C.href=u}else{b.on=_}}return e(this.tag,b,this.$slots.default)}};function R(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey){return}if(t.defaultPrevented){return}if(t.button!==undefined&&t.button!==0){return}if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e)){return}}if(t.preventDefault){t.preventDefault()}return true}function L(t){if(t){var e;for(var n=0;n<t.length;n++){e=t[n];if(e.tag==="a"){return e}if(e.children&&(e=L(e.children))){return e}}}}var k;function N(t){if(N.installed&&k===t){return}N.installed=true;k=t;var e=function(t){return t!==undefined};var n=function(t,n){var r=t.$options._parentVnode;if(e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)){r(t,n)}};t.mixin({beforeCreate:function r(){if(e(this.$options.router)){this._routerRoot=this;this._router=this.$options.router;this._router.init(this);t.util.defineReactive(this,"_route",this._router.history.current)}else{this._routerRoot=this.$parent&&this.$parent._routerRoot||this}n(this,this)},destroyed:function t(){n(this)}});Object.defineProperty(t.prototype,"$router",{get:function t(){return this._routerRoot._router}});Object.defineProperty(t.prototype,"$route",{get:function t(){return this._routerRoot._route}});t.component("router-view",a);t.component("router-link",S);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}var F=typeof window!=="undefined";function O(t,e,n){var r=t.charAt(0);if(r==="/"){return t}if(r==="?"||r==="#"){return e+t}var i=e.split("/");if(!n||!i[i.length-1]){i.pop()}var o=t.replace(/^\//,"").split("/");for(var a=0;a<o.length;a++){var s=o[a];if(s===".."){i.pop()}else if(s!=="."){i.push(s)}}if(i[0]!==""){i.unshift("")}return i.join("/")}function B(t){var e="";var n="";var r=t.indexOf("#");if(r>=0){e=t.slice(r);t=t.slice(0,r)}var i=t.indexOf("?");if(i>=0){n=t.slice(i+1);t=t.slice(0,i)}return{path:t,query:n,hash:e}}function P(t){return t.replace(/\/\//g,"/")}var U=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};var D=it;var z=W;var j=Z;var V=Y;var G=rt;var X=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function W(t,e){var n=[];var r=0;var i=0;var o="";var a=e&&e.delimiter||"/";var s;while((s=X.exec(t))!=null){var u=s[0];var l=s[1];var c=s.index;o+=t.slice(i,c);i=c+u.length;if(l){o+=l[1];continue}var f=t[i];var h=s[2];var p=s[3];var d=s[4];var v=s[5];var m=s[6];var g=s[7];if(o){n.push(o);o=""}var y=h!=null&&f!=null&&f!==h;var _=m==="+"||m==="*";var b=m==="?"||m==="*";var x=s[2]||a;var w=d||v;n.push({name:p||r++,prefix:h||"",delimiter:x,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:w?q(w):g?".*":"[^"+J(x)+"]+?"})}if(i<t.length){o+=t.substr(i)}if(o){n.push(o)}return n}function Z(t,e){return Y(W(t,e))}function Q(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function H(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Y(t){var e=new Array(t.length);for(var n=0;n<t.length;n++){if(typeof t[n]==="object"){e[n]=new RegExp("^(?:"+t[n].pattern+")$")}}return function(n,r){var i="";var o=n||{};var a=r||{};var s=a.pretty?Q:encodeURIComponent;for(var u=0;u<t.length;u++){var l=t[u];if(typeof l==="string"){i+=l;continue}var c=o[l.name];var f;if(c==null){if(l.optional){if(l.partial){i+=l.prefix}continue}else{throw new TypeError('Expected "'+l.name+'" to be defined')}}if(U(c)){if(!l.repeat){throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(c)+"`")}if(c.length===0){if(l.optional){continue}else{throw new TypeError('Expected "'+l.name+'" to not be empty')}}for(var h=0;h<c.length;h++){f=s(c[h]);if(!e[u].test(f)){throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`")}i+=(h===0?l.prefix:l.delimiter)+f}continue}f=l.asterisk?H(c):s(c);if(!e[u].test(f)){throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"')}i+=l.prefix+f}return i}}function J(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function q(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function K(t,e){t.keys=e;return t}function $(t){return t.sensitive?"":"i"}function tt(t,e){var n=t.source.match(/\((?!\?)/g);if(n){for(var r=0;r<n.length;r++){e.push({name:r,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,asterisk:false,pattern:null})}}return K(t,e)}function et(t,e,n){var r=[];for(var i=0;i<t.length;i++){r.push(it(t[i],e,n).source)}var o=new RegExp("(?:"+r.join("|")+")",$(n));return K(o,e)}function nt(t,e,n){return rt(W(t,n),e,n)}function rt(t,e,n){if(!U(e)){n=e||n;e=[]}n=n||{};var r=n.strict;var i=n.end!==false;var o="";for(var a=0;a<t.length;a++){var s=t[a];if(typeof s==="string"){o+=J(s)}else{var u=J(s.prefix);var l="(?:"+s.pattern+")";e.push(s);if(s.repeat){l+="(?:"+u+l+")*"}if(s.optional){if(!s.partial){l="(?:"+u+"("+l+"))?"}else{l=u+"("+l+")?"}}else{l=u+"("+l+")"}o+=l}}var c=J(n.delimiter||"/");var f=o.slice(-c.length)===c;if(!r){o=(f?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"}if(i){o+="$"}else{o+=r&&f?"":"(?="+c+"|$)"}return K(new RegExp("^"+o,$(n)),e)}function it(t,e,n){if(!U(e)){n=e||n;e=[]}n=n||{};if(t instanceof RegExp){return tt(t,e)}if(U(t)){return et(t,e,n)}return nt(t,e,n)}D.parse=z;D.compile=j;D.tokensToFunction=V;D.tokensToRegExp=G;var ot=Object.create(null);function at(t,e,n){try{var r=ot[t]||(ot[t]=D.compile(t));return r(e||{},{pretty:true})}catch(t){if(false){i(false,"missing param for "+n+": "+t.message)}return""}}function st(t,e,n,r){var i=e||[];var o=n||Object.create(null);var a=r||Object.create(null);t.forEach(function(t){ut(i,o,a,t)});for(var s=0,u=i.length;s<u;s++){if(i[s]==="*"){i.push(i.splice(s,1)[0]);u--;s--}}return{pathList:i,pathMap:o,nameMap:a}}function ut(t,e,n,o,a,s){var u=o.path;var l=o.name;if(false){r(u!=null,'"path" is required in a route configuration.');r(typeof o.component!=="string",'route config "component" for path: '+String(u||l)+" cannot be a "+"string id. Use an actual component instead.")}var c=o.pathToRegexpOptions||{};var f=ct(u,a,c.strict);if(typeof o.caseSensitive==="boolean"){c.sensitive=o.caseSensitive}var h={path:f,regex:lt(f,c),components:o.components||{default:o.component},instances:{},name:l,parent:a,matchAs:s,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:o.props==null?{}:o.components?o.props:{default:o.props}};if(o.children){if(false){if(o.name&&!o.redirect&&o.children.some(function(t){return/^\/?$/.test(t.path)})){i(false,"Named Route '"+o.name+"' has a default child route. "+"When navigating to this named route (:to=\"{name: '"+o.name+"'\"), "+"the default child route will not be rendered. Remove the name from "+"this route and use the name of the default child route for named "+"links instead.")}}o.children.forEach(function(r){var i=s?P(s+"/"+r.path):undefined;ut(t,e,n,r,h,i)})}if(o.alias!==undefined){var p=Array.isArray(o.alias)?o.alias:[o.alias];p.forEach(function(r){var i={path:r,children:o.children};ut(t,e,n,i,a,h.path||"/")})}if(!e[h.path]){t.push(h.path);e[h.path]=h}if(l){if(!n[l]){n[l]=h}else if(false){i(false,"Duplicate named routes definition: "+'{ name: "'+l+'", path: "'+h.path+'" }')}}}function lt(t,e){var n=D(t,[],e);if(false){var r=Object.create(null);n.keys.forEach(function(e){i(!r[e.name],'Duplicate param keys in route with path: "'+t+'"');r[e.name]=true})}return n}function ct(t,e,n){if(!n){t=t.replace(/\/$/,"")}if(t[0]==="/"){return t}if(e==null){return t}return P(e.path+"/"+t)}function ft(t,e,n,r){var o=typeof t==="string"?{path:t}:t;if(o.name||o._normalized){return o}if(!o.path&&o.params&&e){o=ht({},o);o._normalized=true;var a=ht(ht({},e.params),o.params);if(e.name){o.name=e.name;o.params=a}else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=at(s,a,"path "+e.path)}else if(false){i(false,"relative params navigation requires a current route.")}return o}var u=B(o.path||"");var l=e&&e.path||"/";var c=u.path?O(u.path,l,n||o.append):l;var f=d(u.query,o.query,r&&r.options.parseQuery);var h=o.hash||u.hash;if(h&&h.charAt(0)!=="#"){h="#"+h}return{_normalized:true,path:c,query:f,hash:h}}function ht(t,e){for(var n in e){t[n]=e[n]}return t}function pt(t,e){var n=st(t);var o=n.pathList;var a=n.pathMap;var s=n.nameMap;function u(t){st(t,o,a,s)}function l(t,n,r){var u=ft(t,n,false,e);var l=u.name;if(l){var c=s[l];if(false){i(c,"Route with name '"+l+"' does not exist")}if(!c){return h(null,u)}var f=c.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if(typeof u.params!=="object"){u.params={}}if(n&&typeof n.params==="object"){for(var p in n.params){if(!(p in u.params)&&f.indexOf(p)>-1){u.params[p]=n.params[p]}}}if(c){u.path=at(c.path,u.params,'named route "'+l+'"');return h(c,u,r)}}else if(u.path){u.params={};for(var d=0;d<o.length;d++){var v=o[d];var m=a[v];if(dt(m.regex,u.path,u.params)){return h(m,u,r)}}}return h(null,u)}function c(t,n){var o=t.redirect;var a=typeof o==="function"?o(y(t,n,null,e)):o;if(typeof a==="string"){a={path:a}}if(!a||typeof a!=="object"){if(false){i(false,"invalid redirect option: "+JSON.stringify(a))}return h(null,n)}var u=a;var c=u.name;var f=u.path;var p=n.query;var d=n.hash;var v=n.params;p=u.hasOwnProperty("query")?u.query:p;d=u.hasOwnProperty("hash")?u.hash:d;v=u.hasOwnProperty("params")?u.params:v;if(c){var m=s[c];if(false){r(m,'redirect failed: named route "'+c+'" not found.')}return l({_normalized:true,name:c,query:p,hash:d,params:v},undefined,n)}else if(f){var g=vt(f,t);var _=at(g,v,'redirect route with path "'+g+'"');return l({_normalized:true,path:_,query:p,hash:d},undefined,n)}else{if(false){i(false,"invalid redirect option: "+JSON.stringify(a))}return h(null,n)}}function f(t,e,n){var r=at(n,e.params,'aliased route with path "'+n+'"');var i=l({_normalized:true,path:r});if(i){var o=i.matched;var a=o[o.length-1];e.params=i.params;return h(a,e)}return h(null,e)}function h(t,n,r){if(t&&t.redirect){return c(t,r||n)}if(t&&t.matchAs){return f(t,n,t.matchAs)}return y(t,n,r,e)}return{match:l,addRoutes:u}}function dt(t,e,n){var r=e.match(t);if(!r){return false}else if(!n){return true}for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];var s=typeof r[i]==="string"?decodeURIComponent(r[i]):r[i];if(a){n[a.name]=s}}return true}function vt(t,e){return O(t,e.parent?e.parent.path:"/",true)}var mt=Object.create(null);function gt(){window.history.replaceState({key:Lt()},"");window.addEventListener("popstate",function(t){_t();if(t.state&&t.state.key){kt(t.state.key)}})}function yt(t,e,n,i){if(!t.app){return}var o=t.options.scrollBehavior;if(!o){return}if(false){r(typeof o==="function","scrollBehavior must be a function")}t.app.$nextTick(function(){var t=bt();var a=o(e,n,i?t:null);if(!a){return}if(typeof a.then==="function"){a.then(function(e){Ct(e,t)}).catch(function(t){if(false){r(false,t.toString())}})}else{Ct(a,t)}})}function _t(){var t=Lt();if(t){mt[t]={x:window.pageXOffset,y:window.pageYOffset}}}function bt(){var t=Lt();if(t){return mt[t]}}function xt(t,e){var n=document.documentElement;var r=n.getBoundingClientRect();var i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function wt(t){return It(t.x)||It(t.y)}function Et(t){return{x:It(t.x)?t.x:window.pageXOffset,y:It(t.y)?t.y:window.pageYOffset}}function Tt(t){return{x:It(t.x)?t.x:0,y:It(t.y)?t.y:0}}function It(t){return typeof t==="number"}function Ct(t,e){var n=typeof t==="object";if(n&&typeof t.selector==="string"){var r=document.querySelector(t.selector);if(r){var i=t.offset&&typeof t.offset==="object"?t.offset:{};i=Tt(i);e=xt(r,i)}else if(wt(t)){e=Et(t)}}else if(n&&wt(t)){e=Et(t)}if(e){window.scrollTo(e.x,e.y)}}var Mt=F&&function(){var t=window.navigator.userAgent;if((t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1){return false}return window.history&&"pushState"in window.history}();var At=F&&window.performance&&window.performance.now?window.performance:Date;var St=Rt();function Rt(){return At.now().toFixed(3)}function Lt(){return St}function kt(t){St=t}function Nt(t,e){_t();var n=window.history;try{if(e){n.replaceState({key:St},"",t)}else{St=Rt();n.pushState({key:St},"",t)}}catch(n){window.location[e?"replace":"assign"](t)}}function Ft(t){Nt(t,true)}function Ot(t,e,n){var r=function(i){if(i>=t.length){n()}else{if(t[i]){e(t[i],function(){r(i+1)})}else{r(i+1)}}};r(0)}function Bt(t){return function(e,n,r){var a=false;var s=0;var u=null;Pt(t,function(t,e,n,l){if(typeof t==="function"&&t.cid===undefined){a=true;s++;var c=jt(function(e){if(zt(e)){e=e.default}t.resolved=typeof e==="function"?e:k.extend(e);n.components[l]=e;s--;if(s<=0){r()}});var f=jt(function(t){var e="Failed to resolve async component "+l+": "+t;"production"!=="production"&&i(false,e);if(!u){u=o(t)?t:new Error(e);r(u)}});var h;try{h=t(c,f)}catch(t){f(t)}if(h){if(typeof h.then==="function"){h.then(c,f)}else{var p=h.component;if(p&&typeof p.then==="function"){p.then(c,f)}}}}});if(!a){r()}}}function Pt(t,e){return Ut(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Ut(t){return Array.prototype.concat.apply([],t)}var Dt=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";function zt(t){return t.__esModule||Dt&&t[Symbol.toStringTag]==="Module"}function jt(t){var e=false;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(e){return}e=true;return t.apply(this,n)}}var Vt=function t(e,n){this.router=e;this.base=Gt(n);this.current=b;this.pending=null;this.ready=false;this.readyCbs=[];this.readyErrorCbs=[];this.errorCbs=[]};Vt.prototype.listen=function t(e){this.cb=e};Vt.prototype.onReady=function t(e,n){if(this.ready){e()}else{this.readyCbs.push(e);if(n){this.readyErrorCbs.push(n)}}};Vt.prototype.onError=function t(e){this.errorCbs.push(e)};Vt.prototype.transitionTo=function t(e,n,r){var i=this;var o=this.router.match(e,this.current);this.confirmTransition(o,function(){i.updateRoute(o);n&&n(o);i.ensureURL();if(!i.ready){i.ready=true;i.readyCbs.forEach(function(t){t(o)})}},function(t){if(r){r(t)}if(t&&!i.ready){i.ready=true;i.readyErrorCbs.forEach(function(e){e(t)})}})};Vt.prototype.confirmTransition=function t(e,n,r){var a=this;var s=this.current;var u=function(t){if(o(t)){if(a.errorCbs.length){a.errorCbs.forEach(function(e){e(t)})}else{i(false,"uncaught error during route navigation:");console.error(t)}}r&&r(t)};if(E(e,s)&&e.matched.length===s.matched.length){this.ensureURL();return u()}var l=Xt(this.current.matched,e.matched);var c=l.updated;var f=l.deactivated;var h=l.activated;var p=[].concat(Qt(f),this.router.beforeHooks,Ht(c),h.map(function(t){return t.beforeEnter}),Bt(h));this.pending=e;var d=function(t,n){if(a.pending!==e){return u()}try{t(e,s,function(t){if(t===false||o(t)){a.ensureURL(true);u(t)}else if(typeof t==="string"||typeof t==="object"&&(typeof t.path==="string"||typeof t.name==="string")){u();if(typeof t==="object"&&t.replace){a.replace(t)}else{a.push(t)}}else{n(t)}})}catch(t){u(t)}};Ot(p,d,function(){var t=[];var r=function(){return a.current===e};var i=Jt(h,t,r);var o=i.concat(a.router.resolveHooks);Ot(o,d,function(){if(a.pending!==e){return u()}a.pending=null;n(e);if(a.router.app){a.router.app.$nextTick(function(){t.forEach(function(t){t()})})}})})};Vt.prototype.updateRoute=function t(e){var n=this.current;this.current=e;this.cb&&this.cb(e);this.router.afterHooks.forEach(function(t){t&&t(e,n)})};function Gt(t){if(!t){if(F){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/";t=t.replace(/^https?:\/\/[^\/]+/,"")}else{t="/"}}if(t.charAt(0)!=="/"){t="/"+t}return t.replace(/\/$/,"")}function Xt(t,e){var n;var r=Math.max(t.length,e.length);for(n=0;n<r;n++){if(t[n]!==e[n]){break}}return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function Wt(t,e,n,r){var i=Pt(t,function(t,r,i,o){var a=Zt(t,e);if(a){return Array.isArray(a)?a.map(function(t){return n(t,r,i,o)}):n(a,r,i,o)}});return Ut(r?i.reverse():i)}function Zt(t,e){if(typeof t!=="function"){t=k.extend(t)}return t.options[e]}function Qt(t){return Wt(t,"beforeRouteLeave",Yt,true)}function Ht(t){return Wt(t,"beforeRouteUpdate",Yt)}function Yt(t,e){if(e){return function n(){return t.apply(e,arguments)}}}function Jt(t,e,n){return Wt(t,"beforeRouteEnter",function(t,r,i,o){return qt(t,i,o,e,n)})}function qt(t,e,n,r,i){return function o(a,s,u){return t(a,s,function(t){u(t);if(typeof t==="function"){r.push(function(){Kt(t,e.instances,n,i)})}})}}function Kt(t,e,n,r){if(e[n]){t(e[n])}else if(r()){setTimeout(function(){Kt(t,e,n,r)},16)}}var $t=function(t){function e(e,n){var r=this;t.call(this,e,n);var i=e.options.scrollBehavior;if(i){gt()}var o=te(this.base);window.addEventListener("popstate",function(t){var n=r.current;var a=te(r.base);if(r.current===b&&a===o){return}r.transitionTo(a,function(t){if(i){yt(e,t,n,true)}})})}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.go=function t(e){window.history.go(e)};e.prototype.push=function t(e,n,r){var i=this;var o=this;var a=o.current;this.transitionTo(e,function(t){Nt(P(i.base+t.fullPath));yt(i.router,t,a,false);n&&n(t)},r)};e.prototype.replace=function t(e,n,r){var i=this;var o=this;var a=o.current;this.transitionTo(e,function(t){Ft(P(i.base+t.fullPath));yt(i.router,t,a,false);n&&n(t)},r)};e.prototype.ensureURL=function t(e){if(te(this.base)!==this.current.fullPath){var n=P(this.base+this.current.fullPath);e?Nt(n):Ft(n)}};e.prototype.getCurrentLocation=function t(){return te(this.base)};return e}(Vt);function te(t){var e=window.location.pathname;if(t&&e.indexOf(t)===0){e=e.slice(t.length)}return(e||"/")+window.location.search+window.location.hash}var ee=function(t){function e(e,n,r){t.call(this,e,n);if(r&&ne(this.base)){return}re()}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.setupListeners=function t(){var e=this;var n=this.router;var r=n.options.scrollBehavior;var i=Mt&&r;if(i){gt()}window.addEventListener(Mt?"popstate":"hashchange",function(){var t=e.current;if(!re()){return}e.transitionTo(ie(),function(n){if(i){yt(e.router,n,t,true)}if(!Mt){se(n.fullPath)}})})};e.prototype.push=function t(e,n,r){var i=this;var o=this;var a=o.current;this.transitionTo(e,function(t){ae(t.fullPath);yt(i.router,t,a,false);n&&n(t)},r)};e.prototype.replace=function t(e,n,r){var i=this;var o=this;var a=o.current;this.transitionTo(e,function(t){se(t.fullPath);yt(i.router,t,a,false);n&&n(t)},r)};e.prototype.go=function t(e){window.history.go(e)};e.prototype.ensureURL=function t(e){var n=this.current.fullPath;if(ie()!==n){e?ae(n):se(n)}};e.prototype.getCurrentLocation=function t(){return ie()};return e}(Vt);function ne(t){var e=te(t);if(!/^\/#/.test(e)){window.location.replace(P(t+"/#"+e));return true}}function re(){var t=ie();if(t.charAt(0)==="/"){return true}se("/"+t);return false}function ie(){var t=window.location.href;var e=t.indexOf("#");return e===-1?"":t.slice(e+1)}function oe(t){var e=window.location.href;var n=e.indexOf("#");var r=n>=0?e.slice(0,n):e;return r+"#"+t}function ae(t){if(Mt){Nt(oe(t))}else{window.location.hash=t}}function se(t){if(Mt){Ft(oe(t))}else{window.location.replace(oe(t))}}var ue=function(t){function e(e,n){t.call(this,e,n);this.stack=[];this.index=-1}if(t)e.__proto__=t;e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.push=function t(e,n,r){var i=this;this.transitionTo(e,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t);i.index++;n&&n(t)},r)};e.prototype.replace=function t(e,n,r){var i=this;this.transitionTo(e,function(t){i.stack=i.stack.slice(0,i.index).concat(t);n&&n(t)},r)};e.prototype.go=function t(e){var n=this;var r=this.index+e;if(r<0||r>=this.stack.length){return}var i=this.stack[r];this.confirmTransition(i,function(){n.index=r;n.updateRoute(i)})};e.prototype.getCurrentLocation=function t(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"};e.prototype.ensureURL=function t(){};return e}(Vt);var le=function t(e){if(e===void 0)e={};this.app=null;this.apps=[];this.options=e;this.beforeHooks=[];this.resolveHooks=[];this.afterHooks=[];this.matcher=pt(e.routes||[],this);var n=e.mode||"hash";this.fallback=n==="history"&&!Mt&&e.fallback!==false;if(this.fallback){n="hash"}if(!F){n="abstract"}this.mode=n;switch(n){case"history":this.history=new $t(this,e.base);break;case"hash":this.history=new ee(this,e.base,this.fallback);break;case"abstract":this.history=new ue(this,e.base);break;default:if(false){r(false,"invalid mode: "+n)}}};var ce={currentRoute:{configurable:true}};le.prototype.match=function t(e,n,r){return this.matcher.match(e,n,r)};ce.currentRoute.get=function(){return this.history&&this.history.current};le.prototype.init=function t(e){var n=this;"production"!=="production"&&r(N.installed,"not installed. Make sure to call `Vue.use(VueRouter)` "+"before creating root instance.");this.apps.push(e);if(this.app){return}this.app=e;var i=this.history;if(i instanceof $t){i.transitionTo(i.getCurrentLocation())}else if(i instanceof ee){var o=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),o,o)}i.listen(function(t){n.apps.forEach(function(e){e._route=t})})};le.prototype.beforeEach=function t(e){return fe(this.beforeHooks,e)};le.prototype.beforeResolve=function t(e){return fe(this.resolveHooks,e)};le.prototype.afterEach=function t(e){return fe(this.afterHooks,e)};le.prototype.onReady=function t(e,n){this.history.onReady(e,n)};le.prototype.onError=function t(e){this.history.onError(e)};le.prototype.push=function t(e,n,r){this.history.push(e,n,r)};le.prototype.replace=function t(e,n,r){this.history.replace(e,n,r)};le.prototype.go=function t(e){this.history.go(e)};le.prototype.back=function t(){this.go(-1)};le.prototype.forward=function t(){this.go(1)};le.prototype.getMatchedComponents=function t(e){var n=e?e.matched?e:this.resolve(e).route:this.currentRoute;if(!n){return[]}return[].concat.apply([],n.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})}))};le.prototype.resolve=function t(e,n,r){var i=ft(e,n||this.history.current,r,this);var o=this.match(i,n);var a=o.redirectedFrom||o.fullPath;var s=this.history.base;var u=he(s,a,this.mode);return{location:i,route:o,href:u,normalizedTo:i,resolved:o}};le.prototype.addRoutes=function t(e){this.matcher.addRoutes(e);if(this.history.current!==b){this.history.transitionTo(this.history.getCurrentLocation())}};Object.defineProperties(le.prototype,ce);function fe(t,e){t.push(e);return function(){var n=t.indexOf(e);if(n>-1){t.splice(n,1)}}}function he(t,e,n){var r=n==="hash"?"#"+e:e;return t?P(t+"/"+r):r}le.install=N;le.version="3.0.1";if(F&&window.Vue){window.Vue.use(le)}e["a"]=le},"/pcz":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];t[2]=e[2]*n[2];return t}},"0/jl":function(t,e,n){"use strict";var r=n("YjQv");var i=n("x//u");var o=n("qs+f");var a=n("Wdy1");var s=n("1RnF");var u=n("+zJ9").KEY;var l=n("zyKz");var c=n("a/OS");var f=n("LhDF");var h=n("GmwO");var p=n("hgbu");var d=n("4DQ7");var v=n("Ntt2");var m=n("6rdy");var g=n("NU0k");var y=n("FKWp");var _=n("ksFB");var b=n("9MbE");var x=n("YTz9");var w=n("NZ8V");var E=n("6tLb");var T=n("rjjF");var I=n("GCs6");var C=n("pEGt");var M=T.f;var A=I.f;var S=E.f;var R=r.Symbol;var L=r.JSON;var k=L&&L.stringify;var N="prototype";var F=p("_hidden");var O=p("toPrimitive");var B={}.propertyIsEnumerable;var P=c("symbol-registry");var U=c("symbols");var D=c("op-symbols");var z=Object[N];var j=typeof R=="function";var V=r.QObject;var G=!V||!V[N]||!V[N].findChild;var X=o&&l(function(){return w(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var r=M(z,e);if(r)delete z[e];A(t,e,n);if(r&&t!==z)A(z,e,r)}:A;var W=function(t){var e=U[t]=w(R[N]);e._k=t;return e};var Z=j&&typeof R.iterator=="symbol"?function(t){return typeof t=="symbol"}:function(t){return t instanceof R};var Q=function t(e,n,r){if(e===z)Q(D,n,r);y(e);n=b(n,true);y(r);if(i(U,n)){if(!r.enumerable){if(!i(e,F))A(e,F,x(1,{}));e[F][n]=true}else{if(i(e,F)&&e[F][n])e[F][n]=false;r=w(r,{enumerable:x(0,false)})}return X(e,n,r)}return A(e,n,r)};var H=function t(e,n){y(e);var r=m(n=_(n));var i=0;var o=r.length;var a;while(o>i)Q(e,a=r[i++],n[a]);return e};var Y=function t(e,n){return n===undefined?w(e):H(w(e),n)};var J=function t(e){var n=B.call(this,e=b(e,true));if(this===z&&i(U,e)&&!i(D,e))return false;return n||!i(this,e)||!i(U,e)||i(this,F)&&this[F][e]?n:true};var q=function t(e,n){e=_(e);n=b(n,true);if(e===z&&i(U,n)&&!i(D,n))return;var r=M(e,n);if(r&&i(U,n)&&!(i(e,F)&&e[F][n]))r.enumerable=true;return r};var K=function t(e){var n=S(_(e));var r=[];var o=0;var a;while(n.length>o){if(!i(U,a=n[o++])&&a!=F&&a!=u)r.push(a)}return r};var $=function t(e){var n=e===z;var r=S(n?D:_(e));var o=[];var a=0;var s;while(r.length>a){if(i(U,s=r[a++])&&(n?i(z,s):true))o.push(U[s])}return o};if(!j){R=function t(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:undefined);var n=function(t){if(this===z)n.call(D,t);if(i(this,F)&&i(this[F],e))this[F][e]=false;X(this,e,x(1,t))};if(o&&G)X(z,e,{configurable:true,set:n});return W(e)};s(R[N],"toString",function t(){return this._k});T.f=q;I.f=Q;n("2m2c").f=E.f=K;n("bSeU").f=J;n("THEY").f=$;if(o&&!n("c8Kh")){s(z,"propertyIsEnumerable",J,true)}d.f=function(t){return W(p(t))}}a(a.G+a.W+a.F*!j,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var nt=C(p.store),rt=0;nt.length>rt;)v(nt[rt++]);a(a.S+a.F*!j,"Symbol",{for:function(t){return i(P,t+="")?P[t]:P[t]=R(t)},keyFor:function t(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var n in P)if(P[n]===e)return n},useSetter:function(){G=true},useSimple:function(){G=false}});a(a.S+a.F*!j,"Object",{create:Y,defineProperty:Q,defineProperties:H,getOwnPropertyDescriptor:q,getOwnPropertyNames:K,getOwnPropertySymbols:$});L&&a(a.S+a.F*(!j||l(function(){var t=R();return k([t])!="[null]"||k({a:t})!="{}"||k(Object(t))!="{}"})),"JSON",{stringify:function t(e){if(e===undefined||Z(e))return;var n=[e];var r=1;var i,o;while(arguments.length>r)n.push(arguments[r++]);i=n[1];if(typeof i=="function")o=i;if(o||!g(i))i=function(t,e){if(o)e=o.call(this,t,e);if(!Z(e))return e};n[1]=i;return k.apply(L,n)}});R[N][O]||n("aLzV")(R[N],O,R[N].valueOf);f(R,"Symbol");f(Math,"Math",true);f(r.JSON,"JSON",true)},"0Lvz":function(t,e,n){var r=n("W6Rd");var i=n("+MZ2");t.exports=function(t){return function(e,n){var o=String(i(e));var a=r(n);var s=o.length;var u,l;if(a<0||a>=s)return t?"":undefined;u=o.charCodeAt(a);return u<55296||u>56319||a+1===s||(l=o.charCodeAt(a+1))<56320||l>57343?t?o.charAt(a):u:t?o.slice(a,a+2):(u-55296<<10)+(l-56320)+65536}}},"0Om0":function(t,e,n){"use strict";var r=n("HGpQ");var i=n("7puw");var o=n("+sAb");function a(t,e){var n=t.vendor,r=t.renderer;var i=void 0;switch(e){case"nvidia":i=n.match(/NVIDIA/i)||r.match(/NVIDIA/i);break;case"intel":i=n.match(/INTEL/i)||r.match(/INTEL/i);break;case"amd":i=n.match(/AMD/i)||r.match(/AMD/i)||n.match(/ATI/i)||r.match(/ATI/i);break;default:i=false}return i}function s(t){var e="";var n=Object(i["getContextInfo"])(t);if(a(n,"nvidia")){e+="#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n"}else if(a(n,"intel")){e+="#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n"}else if(a(n,"amd")){e+="#define AMD_GPU\n"}else{e+="#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n"}return e}function u(t){var e="// Defines for shader portability\n#if (__VERSION__ > 120)\n# define attribute in\n# define varying out\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n#else\n// # define in attribute\n// # define out varying\n#endif // __VERSION\n";if(Object(o["c"])(t,o["a"].GLSL_FRAG_DEPTH)){e+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"}if(Object(o["c"])(t,o["a"].GLSL_DERIVATIVES)){e+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"}if(Object(o["c"])(t,o["a"].GLSL_FRAG_DATA)){e+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"}if(Object(o["c"])(t,o["a"].GLSL_TEXTURE_LOD)){e+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"}return e}var l="#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n";var c="#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n";var f=n("N+Om");var h=n.n(f);e["a"]=M;var p,d;function v(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var m="vs";var g="fs";var y=(p={},v(p,m,"vertex"),v(p,g,"fragment"),p);var _=(d={},v(d,m,l),v(d,g,c),d);var b="#ifdef GL_ES\nprecision highp float;\n#endif\n\n";function x(t){var e=t.id,n=t.source,r=t.type;var i=e&&typeof e==="string"&&n.indexOf("SHADER_NAME")===-1;return i?"\n#define SHADER_NAME "+e+"_"+y[r]+"\n\n":""}function w(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=0;var n="";for(var r in t){if(e===0){n+="\n// APPLICATION DEFINES\n"}e++;n+="#define "+r.toUpperCase()+" "+t[r]+"\n"}if(e===0){n+="\n"}return n}function E(t,e){var n=Object(r["a"])(t);var i=void 0;switch(e){case m:i=n.vs||n.vertexShader;break;case g:i=n.fs||n.fragmentShader;break;default:h()(false)}if(typeof i!=="string"){return""}return"#define MODULE_"+t.toUpperCase()+"\n"+i+"// END MODULE_"+t+"\n\n"}function T(t,e){var n=e.id,r=e.source,i=e.type,o=e.modules,a=o===undefined?[]:o,l=e.defines,c=l===undefined?{}:l;h()(typeof r==="string","shader source must be a string");var f=r.split("\n");var p="";var d=r;if(f[0].indexOf("#version ")===0){p=f[0];d=f.slice(1).join("\n")}var v=x({id:n,source:r,type:i})+"\n"+s(t)+"\n"+u(t)+"\n"+w(c)+"\n"+(i===g?b:"")+"\n";var m=false;var y=true;var T=false;var I=undefined;try{for(var C=a[Symbol.iterator](),M;!(y=(M=C.next()).done);y=true){var A=M.value;switch(A){case"inject":m=true;break;default:v+=E(A,i)}}}catch(t){T=true;I=t}finally{try{if(!y&&C.return){C.return()}}finally{if(T){throw I}}}v=p+v+d;if(m){v.replace("}s*$",_)}return v}function I(t){return function e(n){var i={};var o=true;var a=false;var s=undefined;try{for(var u=t[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;var f=Object(r["a"])(c);var h=f.getUniforms?f.getUniforms(n):{};Object.assign(i,h)}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return i}}function C(t){var e={};var n=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;var l=Object(r["a"])(u);e[u]=l}}catch(t){i=true;o=t}finally{try{if(!n&&a.return){a.return()}}finally{if(i){throw o}}}return e}function M(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.vs,i=e.fs;var o=Object(r["c"])(e.modules||[]);return{gl:t,vs:T(t,Object.assign({},e,{source:n,type:m,modules:o})),fs:T(t,Object.assign({},e,{source:i,type:g,modules:o})),getUniforms:I(o),modules:C(o)}}},"0ZsA":function(t,e){t.exports=n;function n(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];t[3]=-e[3];return t}},"0to9":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];t[2]=e[2]/n[2];return t}},"1/Wr":function(t,e){t.exports=n;function n(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}},"162o":function(t,e,n){var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)};e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)};e.clearTimeout=e.clearInterval=function(t){if(t){t.close()}};function i(t,e){this._id=t;this._clearFn=e}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(window,this._id)};e.enroll=function(t,e){clearTimeout(t._idleTimeoutId);t._idleTimeout=e};e.unenroll=function(t){clearTimeout(t._idleTimeoutId);t._idleTimeout=-1};e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};n("mypn");e.setImmediate=setImmediate;e.clearImmediate=clearImmediate},"1D5K":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.setPathPrefix=o;e.loadFile=a;e.loadImage=s;var r=n("apqo");var i="";function o(t){i=t}function a(t,e){if(typeof t!=="string"&&!e){e=t;t=e.url}e.url=i?i+t:t;return(0,r.requestFile)(e)}function s(t,e){t=i?i+t:t;return new Promise(function(n,r){try{var i=new Image;i.onload=function(){return n(i)};i.onerror=function(){return r(new Error("Could not load image "+t+"."))};i.crossOrigin=e&&e.crossOrigin||"anonymous";i.src=t}catch(t){r(t)}})}},"1HiQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("1D5K");Object.defineProperty(e,"setPathPrefix",{enumerable:true,get:function t(){return r.setPathPrefix}});Object.defineProperty(e,"loadFile",{enumerable:true,get:function t(){return r.loadFile}});Object.defineProperty(e,"loadImage",{enumerable:true,get:function t(){return r.loadImage}});var i=n("623k");Object.defineProperty(e,"loadFiles",{enumerable:true,get:function t(){return i.loadFiles}});Object.defineProperty(e,"loadImages",{enumerable:true,get:function t(){return i.loadImages}});Object.defineProperty(e,"loadTextures",{enumerable:true,get:function t(){return i.loadTextures}});Object.defineProperty(e,"loadProgram",{enumerable:true,get:function t(){return i.loadProgram}});Object.defineProperty(e,"loadModel",{enumerable:true,get:function t(){return i.loadModel}});Object.defineProperty(e,"parseModel",{enumerable:true,get:function t(){return i.parseModel}})},"1RnF":function(t,e,n){t.exports=n("aLzV")},"1Yfb":function(t,e,n){"use strict";e["b"]=f;e["c"]=h;var r=n("jpCA");var i=n("AmSC");var o=n("diIw");var a=n("FenM");n.d(e,"a",function(){return a["c"]});var s=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var l={framebuffer:function t(e,n){var i=n&&n.handle?n.handle:n;return e.bindFramebuffer(r["a"].FRAMEBUFFER,i)},blend:function t(e,n){return n?e.enable(r["a"].BLEND):e.disable(r["a"].BLEND)},blendColor:function t(e,n){return e.blendColor.apply(e,u(n))},blendEquation:function t(e,n){n=c(n)?n:[n,n];e.blendEquationSeparate.apply(e,u(n))},blendFunc:function t(e,n){n=c(n)&&n.length===2?[].concat(u(n),u(n)):n;e.blendFuncSeparate.apply(e,u(n))},clearColor:function t(e,n){return e.clearColor.apply(e,u(n))},clearDepth:function t(e,n){return e.clearDepth(n)},clearStencil:function t(e,n){return e.clearStencil(n)},colorMask:function t(e,n){return e.colorMask.apply(e,u(n))},cull:function t(e,n){return n?e.enable(r["a"].CULL_FACE):e.disable(r["a"].CULL_FACE)},cullFace:function t(e,n){return e.cullFace(n)},depthTest:function t(e,n){return n?e.enable(r["a"].DEPTH_TEST):e.disable(r["a"].DEPTH_TEST)},depthFunc:function t(e,n){return e.depthFunc(n)},depthMask:function t(e,n){return e.depthMask(n)},depthRange:function t(e,n){return e.depthRange.apply(e,u(n))},dither:function t(e,n){return n?e.enable(r["a"].DITHER):e.disable(r["a"].DITHER)},derivativeHint:function t(e,n){e.hint(r["a"].FRAGMENT_SHADER_DERIVATIVE_HINT,n)},frontFace:function t(e,n){return e.frontFace(n)},mipmapHint:function t(e,n){return e.hint(r["a"].GENERATE_MIPMAP_HINT,n)},lineWidth:function t(e,n){return e.lineWidth(n)},polygonOffsetFill:function t(e,n){return n?e.enable(r["a"].POLYGON_OFFSET_FILL):e.disable(r["a"].POLYGON_OFFSET_FILL)},polygonOffset:function t(e,n){return e.polygonOffset.apply(e,u(n))},sampleCoverage:function t(e,n){return e.sampleCoverage.apply(e,u(n))},scissorTest:function t(e,n){return n?e.enable(r["a"].SCISSOR_TEST):e.disable(r["a"].SCISSOR_TEST)},scissor:function t(e,n){return e.scissor.apply(e,u(n))},stencilTest:function t(e,n){return n?e.enable(r["a"].STENCIL_TEST):e.disable(r["a"].STENCIL_TEST)},stencilMask:function t(e,n){n=c(n)?n:[n,n];var i=n,o=s(i,2),a=o[0],u=o[1];e.stencilMaskSeparate(r["a"].FRONT,a);e.stencilMaskSeparate(r["a"].BACK,u)},stencilFunc:function t(e,n){n=c(n)&&n.length===3?[].concat(u(n),u(n)):n;var i=n,o=s(i,6),a=o[0],l=o[1],f=o[2],h=o[3],p=o[4],d=o[5];e.stencilFuncSeparate(r["a"].FRONT,a,l,f);e.stencilFuncSeparate(r["a"].BACK,h,p,d)},stencilOp:function t(e,n){n=c(n)&&n.length===3?[].concat(u(n),u(n)):n;var i=n,o=s(i,6),a=o[0],l=o[1],f=o[2],h=o[3],p=o[4],d=o[5];e.stencilOpSeparate(r["a"].FRONT,a,l,f);e.stencilOpSeparate(r["a"].BACK,h,p,d)},viewport:function t(e,n){return e.viewport.apply(e,u(n))}};function c(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function f(t,e){Object(a["d"])(t,e);for(var n in e){var r=l[n];if(r){r(t,e[n],n)}}}function h(t,e,n){var r=e.frameBuffer,a=e.nocatch,s=a===undefined?true:a;if(r){o["log"].deprecated("withParameters({frameBuffer})","withParameters({framebuffer})");e.framebuffer=e.framebuffer||r}Object(i["c"])(t);f(t,e);var u=void 0;if(s){u=n(t);Object(i["b"])(t)}else{try{u=n(t)}finally{Object(i["b"])(t)}}return u}function p(){o["log"].deprecated("withState","withParameters");return h.apply(undefined,arguments)}function d(){o["log"].deprecated("glContextWithState","withParameters");return h.apply(undefined,arguments)}},"1d9m":function(t,e){t.exports=n;function n(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}},"1e2d":function(t,e,n){(function(e){var n;var n;(function(n){if(true){t.exports=n()}else if(typeof define==="function"&&define.amd){define([],n)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof e!=="undefined"){r=e}else if(typeof self!=="undefined"){r=self}else{r=this}r.mapboxgl=n()}})(function(){var t,r,i;return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var l=typeof n=="function"&&n;if(!u&&l)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,r,i)}return r[s].exports}var a=typeof n=="function"&&n;for(var s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.glMatrix=i()}(this,function(){"use strict";function t(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function e(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function n(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,T=c*v-f*d,I=c*m-h*d,C=c*g-p*d,M=f*m-h*v,A=f*g-p*v,S=h*g-p*m,R=y*S-_*A+b*M+x*C-w*I+E*T;return R?(R=1/R,t[0]=(s*S-u*A+l*M)*R,t[1]=(i*A-r*S-o*M)*R,t[2]=(v*E-m*w+g*x)*R,t[3]=(h*w-f*E-p*x)*R,t[4]=(u*C-a*S-l*I)*R,t[5]=(n*S-i*C+o*I)*R,t[6]=(m*b-d*E-g*_)*R,t[7]=(c*E-h*b+p*_)*R,t[8]=(a*A-s*C+l*T)*R,t[9]=(r*C-n*A-o*T)*R,t[10]=(d*w-v*b+g*y)*R,t[11]=(f*b-c*w-p*y)*R,t[12]=(s*I-a*M-u*T)*R,t[13]=(n*M-r*I+i*T)*R,t[14]=(v*_-d*x-m*y)*R,t[15]=(c*x-f*_+h*y)*R,t):null}function c(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*v,t[1]=_*i+b*u+x*h+w*m,t[2]=_*o+b*l+x*p+w*g,t[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*v,t[5]=_*i+b*u+x*h+w*m,t[6]=_*o+b*l+x*p+w*g,t[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*v,t[9]=_*i+b*u+x*h+w*m,t[10]=_*o+b*l+x*p+w*g,t[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*v,t[13]=_*i+b*u+x*h+w*m,t[14]=_*o+b*l+x*p+w*g,t[15]=_*a+b*c+x*d+w*y,t}function f(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,v=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*v+s*m+f*g+e[12],t[13]=i*v+u*m+h*g+e[13],t[14]=o*v+l*m+p*g+e[14],t[15]=a*v+c*m+d*g+e[15]),t}function h(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function p(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t}function d(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t}function v(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function m(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}(function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0})(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}();return{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:n,rotate:r,scale:i},mat3:{create:o,fromRotation:a},mat4:{create:s,identity:u,translate:f,scale:h,multiply:c,perspective:v,rotateX:p,rotateZ:d,invert:l,ortho:m}}})},{}],2:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],3:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.ShelfPack=i()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,n,r){var i,o,a,s,u={freebin:-1,shelf:-1,waste:1/0},l=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(i=this.freebins[s],n===i.maxh&&t===i.maxw)return this.allocFreebin(s,t,n,r);n>i.maxh||t>i.maxw||n<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*n)<u.waste&&(u.waste=a,u.freebin=s)}for(s=0;s<this.shelves.length;s++)if(o=this.shelves[s],l+=o.h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,r);n>o.h||n<o.h&&(a=(o.h-n)*t)<u.waste&&(u.freebin=-1,u.waste=a,u.shelf=s)}if(-1!==u.freebin)return this.allocFreebin(u.freebin,t,n,r);if(-1!==u.shelf)return this.allocShelf(u.shelf,t,n,r);if(n<=this.h-l&&t<=this.w)return o=new e(l,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,r);if(this.autoResize){var c,f,h,p;return c=f=this.h,h=p=this.w,(h<=c||t>h)&&(p=2*Math.max(t,h)),(c<h||n>c)&&(f=2*Math.max(n,c)),this.resize(p,f),this.packOne(t,n,r)}return null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t],o=i.alloc(e,n,r);return this.bins[r]=o,this.ref(o),o},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var i=this.x;return this.x+=t,this.free-=t,new n(r,i,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],4:[function(t,e,n){"use strict";function r(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(t,e,n,r,i,a,s){for(var u=0;u<e;u++){for(var l=0;l<n;l++)r[l]=t[l*e+u];for(o(r,i,a,s,n),l=0;l<n;l++)t[l*e+u]=i[l]}for(l=0;l<n;l++){for(u=0;u<e;u++)r[u]=t[l*e+u];for(o(r,i,a,s,e),u=0;u<e;u++)t[l*e+u]=Math.sqrt(i[u])}}function o(t,e,n,r,i){n[0]=0,r[0]=-a,r[1]=+a;for(var o=1,s=0;o<i;o++){for(var u=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);u<=r[s];)s--,u=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);s++,n[s]=o,r[s]=u,r[s+1]=+a}for(o=0,s=0;o<i;o++){for(;r[s+1]<o;)s++;e[o]=(o-n[s])*(o-n[s])+t[n[s]]}}e.exports=r;var a=1e20;r.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var o=e.data[4*r+3]/255;this.gridOuter[r]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[r]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(i(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),i(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var s=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},{}],5:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){void 0===e&&(e=1e-6);var n,r,i,o,a;for(i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,(i=t)<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],6:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":7,"./lib/vectortilefeature.js":8,"./lib/vectortilelayer.js":9}],7:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,n){if(3===t){var r=new o(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var o=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":9}],8:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=o,t.readFields(i,this,e)}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}function s(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var u=t("@mapbox/point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(!i){var l=t.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new u(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/u;t[e]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,u=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<f.length;o++)p[o]=f[o][0];f=p,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"@mapbox/point-geometry":2}],9:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":8}],10:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,i,o,a){return a=a||{},t+"?"+["bbox="+n(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function n(t,e,n){e=Math.pow(2,n)-e-1;var i=r(256*t,256*e,n),o=r(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],11:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return i("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=e.indexOf("("),u=e.indexOf(")");if(-1!==i&&u+1===e.length){var c=e.substr(0,i),f=e.substr(i+1,u-(i+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),h];case"hsla":if(4!==f.length)return null;h=a(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),v=a(f[2]),m=v<=.5?v*(d+1):v+d-v*d,g=2*v-m;return[r(255*s(g,m,p+1/3)),r(255*s(g,m,p)),r(255*s(g,m,p-1/3)),h];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(t){}},{}],12:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,!0),u=[];if(!s)return u;var l,c,h,p,d,v,m;if(r&&(s=f(t,e,s,n)),t.length>80*n){l=h=t[0],c=p=t[1];for(var g=n;g<o;g+=n)d=t[g],v=t[g+1],d<l&&(l=d),v<c&&(c=v),d>h&&(h=d),v>p&&(p=v);m=Math.max(h-l,p-c)}return a(s,u,n,l,c,m),u}function i(t,e,n,r,i){var o,a;if(i===L(t,e,n,r)>0)for(o=e;o<n;o+=r)a=A(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=A(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(S(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(S(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&v(t,r,i,f);for(var p,d,m=t;t.prev!==t.next;)if(p=t.prev,d=t.next,f?u(t,r,i,f):s(t))e.push(p.i/n),e.push(t.i/n),e.push(d.i/n),S(t),t=d.next,m=d.next;else if((t=d)===m){h?1===h?(t=l(t,e,n),a(t,e,n,r,i,f,2)):2===h&&c(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=g(s,u,e,n,r),h=g(l,c,e,n,r),p=t.nextZ;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!w(i,o)&&E(i,r,r.next,o)&&I(i,o)&&I(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),S(r),S(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var c=M(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e,n,r){var a,s,u,l,c,f=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=i(t,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(y(c));for(f.sort(h),a=0;a<f.length;a++)p(f[a],n),n=o(n,n.next);return n}function h(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e)){var n=M(e,t);o(n,n.next)}}function d(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&_(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&I(r,t)&&(n=r,h=u),r=r.next;return n}function v(t,e,n,r){var i=t;do{null===i.z&&(i.z=g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return t}function g(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&I(t,e)&&I(e,t)&&C(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function T(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function I(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function C(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function M(t,e){var n=new R(t.i,t.x,t.y),r=new R(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function A(t,e,n,r){var i=new R(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(L(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(L(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],13:[function(t,e,n){function r(t){if("Polygon"===t.type)return i(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=i(t.coordinates[n]);return e}return null}function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e=0;if(t.length>2){for(var n,r,i=0;i<t.length-1;i++)n=t[i],r=t[i+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=o},{wgs84:49}],14:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(i(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function i(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],e);for(var n=1;n<t.length;n++)t[n]=s(t[n],!e);return t}function s(t,e){return u(t)===e?t:t.reverse()}function u(t){return l.ring(t)>=0}var l=t("geojson-area");e.exports=r},{"geojson-area":13}],15:[function(t,e,n){"use strict";function r(t,e,n,r,a,u,l,c){if(n/=e,r/=e,l>=n&&c<=r)return t;if(l>r||c<n)return null;for(var f=[],h=0;h<t.length;h++){var p,d,v=t[h],m=v.geometry,g=v.type;if(p=v.min[a],d=v.max[a],p>=n&&d<=r)f.push(v);else if(!(p>r||d<n)){var y=1===g?i(m,n,r,a):o(m,n,r,a,u,3===g);y.length&&f.push(s(v.tags,g,y,v.id))}}return f.length?f:null}function i(t,e,n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],s=a[r];s>=e&&s<=n&&i.push(a)}return i}function o(t,e,n,r,i,o){for(var s=[],u=0;u<t.length;u++){var l,c,f,h=0,p=0,d=null,v=t[u],m=v.area,g=v.dist,y=v.outer,_=v.length,b=[];for(c=0;c<_-1;c++)l=d||v[c],d=v[c+1],h=p||l[r],p=d[r],h<e?p>n?(b.push(i(l,d,e),i(l,d,n)),o||(b=a(s,b,m,g,y))):p>=e&&b.push(i(l,d,e)):h>n?p<e?(b.push(i(l,d,n),i(l,d,e)),o||(b=a(s,b,m,g,y))):p<=n&&b.push(i(l,d,n)):(b.push(l),p<e?(b.push(i(l,d,e)),o||(b=a(s,b,m,g,y))):p>n&&(b.push(i(l,d,n)),o||(b=a(s,b,m,g,y))));l=v[_-1],h=l[r],h>=e&&h<=n&&b.push(l),f=b[b.length-1],o&&f&&(b[0][0]!==f[0]||b[0][1]!==f[1])&&b.push(b[0]),a(s,b,m,g,y)}return s}function a(t,e,n,r,i){return e.length&&(e.area=n,e.dist=r,void 0!==i&&(e.outer=i),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":17}],16:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)i(n,t.features[r],e);else"Feature"===t.type?i(n,t,e):i(n,{geometry:t},e);return n}function i(t,e,n){if(null!==e.geometry){var r,s,u,c,f=e.geometry,h=f.type,p=f.coordinates,d=e.properties,v=e.id;if("Point"===h)t.push(l(d,1,[a(p)],v));else if("MultiPoint"===h)t.push(l(d,1,o(p),v));else if("LineString"===h)t.push(l(d,2,[o(p,n)],v));else if("MultiLineString"===h||"Polygon"===h){for(u=[],r=0;r<p.length;r++)c=o(p[r],n),"Polygon"===h&&(c.outer=0===r),u.push(c);t.push(l(d,"Polygon"===h?3:2,u,v))}else if("MultiPolygon"===h){for(u=[],r=0;r<p.length;r++)for(s=0;s<p[r].length;s++)c=o(p[r][s],n),c.outer=0===s,u.push(c);t.push(l(d,3,u,v))}else{if("GeometryCollection"!==h)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)i(t,{geometry:f.geometries[r],properties:d},n)}}}function o(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(u(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,i=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],r+=e[0]*n[1]-n[0]*e[1],i+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=i}e.exports=r;var u=t("./simplify"),l=t("./feature")},{"./feature":17,"./simplify":19}],17:[function(t,e,n){"use strict";function r(t,e,n,r){var o={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-1/0,-1/0]};return i(o),o}function i(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)o(n,r,e);else for(var i=0;i<e.length;i++)o(n,r,e[i]);return t}function o(t,e,n){for(var r,i=0;i<n.length;i++)r=n[i],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],18:[function(t,e,n){"use strict";function r(t,e){return new i(t,e)}function i(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,i=c(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=p(i,e.buffer/e.extent,a),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var r=t.source;if(1!==r.length)return!1;var i=r[0];if(3!==i.type||i.geometry.length>1)return!1;var o=i.geometry[0].length;if(5!==o)return!1;for(var a=0;a<o;a++){var s=f.point(i.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var c=t("./convert"),f=t("./transform"),h=t("./clip"),p=t("./wrap"),d=t("./tile");i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(t,e,n,r,i,u,c){for(var f=[t,e,n,r],p=this.options,v=p.debug,m=null;f.length;){r=f.pop(),n=f.pop(),e=f.pop(),t=f.pop();var g=1<<e,y=o(e,n,r),_=this.tiles[y],b=e===p.maxZoom?0:p.tolerance/(g*p.extent);if(!_&&(v>1&&console.time("creation"),_=this.tiles[y]=d(t,g,n,r,b,e===p.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),v)){v>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,_.numFeatures,_.numPoints,_.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(_.source=t,i){if(e===p.maxZoom||e===i)continue;var w=1<<i-e;if(n!==Math.floor(u/w)||r!==Math.floor(c/w))continue}else if(e===p.indexMaxZoom||_.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!l(_,p.extent,p.buffer)){_.source=null,v>1&&console.time("clipping");var E,T,I,C,M,A,S=.5*p.buffer/p.extent,R=.5-S,L=.5+S,k=1+S;E=T=I=C=null,M=h(t,g,n-S,n+L,0,a,_.min[0],_.max[0]),A=h(t,g,n+R,n+k,0,a,_.min[0],_.max[0]),M&&(E=h(M,g,r-S,r+L,1,s,_.min[1],_.max[1]),T=h(M,g,r+R,r+k,1,s,_.min[1],_.max[1])),A&&(I=h(A,g,r-S,r+L,1,s,_.min[1],_.max[1]),C=h(A,g,r+R,r+k,1,s,_.min[1],_.max[1])),v>1&&console.timeEnd("clipping"),t.length&&(f.push(E||[],e+1,2*n,2*r),f.push(T||[],e+1,2*n,2*r+1),f.push(I||[],e+1,2*n+1,2*r),f.push(C||[],e+1,2*n+1,2*r+1))}else i&&(m=e)}return m},i.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return f.tile(this.tiles[u],i);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,h=t,p=e,d=n;!c&&h>0;)h--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(h,p,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",h,p,d),l(c,i,r.buffer))return f.tile(c,i);a>1&&console.time("drilling down");var v=this.splitTile(c.source,h,p,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==v){var m=1<<t-v;u=o(v,Math.floor(e/m),Math.floor(n/m))}return this.tiles[u]?f.tile(this.tiles[u],i):null}},{"./clip":15,"./convert":16,"./tile":20,"./transform":21,"./wrap":22}],19:[function(t,e,n){"use strict";function r(t,e){var n,r,o,a,s=e*e,u=t.length,l=0,c=u-1,f=[];for(t[l][2]=1,t[c][2]=1;c;){for(r=0,n=l+1;n<c;n++)(o=i(t[n],t[l],t[c]))>r&&(a=n,r=o);r>s?(t[a][2]=r,f.push(l),f.push(a),l=a):(c=f.pop(),l=f.pop())}}function i(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],u=t[1],l=o-r,c=a-i;if(0!==l||0!==c){var f=((s-r)*l+(u-i)*c)/(l*l+c*c);f>1?(r=o,i=a):f>0&&(r+=l*f,i+=c*f)}return l=s-r,c=u-i,l*l+c*c}e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,i(s,t[u],o,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function i(t,e,n,r){var i,a,s,u,l=e.geometry,c=e.type,f=[],h=n*n;if(1===c)for(i=0;i<l.length;i++)f.push(l[i]),t.numPoints++,t.numSimplified++;else for(i=0;i<l.length;i++)if(s=l[i],r||!(2===c&&s.dist<n||3===c&&s.area<h)){var p=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>h)&&(p.push(u),t.numSimplified++),t.numPoints++;3===c&&o(p,s.outer),f.push(p)}else t.numPoints+=s.length;if(f.length){var d={geometry:f,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function o(t,e){a(t)<0===e&&t.reverse()}function a(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],21:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,o,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry;if(1===l.type)for(r=0;r<c.length;r++)c[r]=i(c[r],e,a,s,u);else for(r=0;r<c.length;r++){var f=c[r];for(o=0;o<f.length;o++)f[o]=i(f[o],e,a,s,u)}}return t.transformed=!0,t}function i(t,e,n,r,i){return[Math.round(e*(t[0]*n-r)),Math.round(e*(t[1]*n-i))]}n.tile=r,n.point=i},{}],22:[function(t,e,n){"use strict";function r(t,e,n){var r=t,o=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(o||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],o&&(r=i(o,1).concat(r)),s&&(r=r.concat(i(s,-1)))),r}function i(t,e){for(var n=[],r=0;r<t.length;r++){var i,a=t[r],u=a.type;if(1===u)i=o(a.geometry,e);else{i=[];for(var l=0;l<a.geometry.length;l++)i.push(o(a.geometry[l],e))}n.push(s(a.tags,u,i,a.id))}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":15,"./feature":17}],23:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],u=o[i+a+1];r.push(s===u?null:o.subarray(s,u))}var l=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var h=n/e*t;this.min=-h,this.max=t+h}e.exports=r;var i=3;r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var h=4*f;t<=l[h+2]&&e<=l[h+3]&&n>=l[h+0]&&r>=l[h+1]?(a[f]=!0,o.push(u[f])):a[f]=!1}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var h=u;h<=c;h++){var p=this.d*h+f;if(i.call(this,t,e,n,r,p,o,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];o[i+s]=a,o.set(u,a),a+=u.length}return o[i+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],24:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*v}},{}],25:[function(t,e,n){"use strict";function r(t,e,n,r,o){return new i(t,e,n,r,o)}function i(t,e,n,r,i){e=e||o,n=n||a,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),u=t("./range"),l=t("./within");e.exports=r,i.prototype={range:function(t,e,n,r){return u(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return l(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":26,"./sort":27,"./within":28}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var d=p;d<=h;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);else{var v=Math.floor((p+h)/2);s=e[2*v],u=e[2*v+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[v]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(p),l.push(v-1),l.push(m)),(0===f?i>=s:o>=u)&&(l.push(v+1),l.push(h),l.push(m))}}return c}e.exports=r},{}],27:[function(t,e,n){"use strict";function r(t,e,n,o,a,s){if(!(a-o<=n)){var u=Math.floor((o+a)/2);i(t,e,u,o,a,s%2),r(t,e,n,o,u-1,s+1),r(t,e,n,u+1,a,s+1)}}function i(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,l=n-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1);i(t,e,n,Math.max(r,Math.floor(n-l*f/u+h)),Math.min(a,Math.floor(n+(u-l)*f/u+h)),s)}var p=e[2*n+s],d=r,v=a;for(o(t,e,r,n),e[2*a+s]>p&&o(t,e,r,a);d<v;){for(o(t,e,d,v),d++,v--;e[2*d+s]<p;)d++;for(;e[2*v+s]>p;)v--}e[2*r+s]===p?o(t,e,r,v):(v++,o(t,e,v,a)),v<=n&&(r=v+1),n<=v&&(a=v-1)}}function o(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],28:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s=[0,t.length-1,0],u=[],l=o*o;s.length;){var c=s.pop(),f=s.pop(),h=s.pop();if(f-h<=a)for(var p=h;p<=f;p++)i(e[2*p],e[2*p+1],n,r)<=l&&u.push(t[p]);else{var d=Math.floor((h+f)/2),v=e[2*d],m=e[2*d+1];i(v,m,n,r)<=l&&u.push(t[d]);var g=(c+1)%2;(0===c?n-o<=v:r-o<=m)&&(s.push(h),s.push(d-1),s.push(g)),(0===c?n+o>=v:r+o>=m)&&(s.push(d+1),s.push(f),s.push(g))}}return u}function i(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}e.exports=r},{}],29:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,i,s,u){return t===e||(null==t||null==e||!c(t)&&!r(e)?t!==t&&e!==e:a(t,e,o,n,i,s,u))}function a(t,e,n,r,i,o,a){var c=f(t),p=f(e),m=v,g=v;c||(m=I.call(t),m==d?m=b:m!=b&&(c=h(t))),p||(g=I.call(e),g==d?g=b:g!=b&&(p=h(e)));var y=m==b,_=g==b,x=m==g;if(x&&!c&&!y)return u(t,e,m);if(!i){var w=y&&T.call(t,"__wrapped__"),E=_&&T.call(e,"__wrapped__");if(w||E)return n(w?t.value():t,E?e.value():e,r,i,o,a)}if(!x)return!1;o||(o=[]),a||(a=[]);for(var C=o.length;C--;)if(o[C]==t)return a[C]==e;o.push(t),a.push(e);var M=(c?s:l)(t,e,n,r,i,o,a);return o.pop(),a.pop(),M}function s(t,e,n,r,o,a,s){var u=-1,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var f=t[u],h=e[u],p=r?r(o?h:f,o?f:h,u):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(e,function(t){return f===t||n(f,t,r,o,a,s)}))return!1}else if(f!==h&&!n(f,h,r,o,a,s))return!1}return!0}function u(t,e,n){switch(n){case m:case g:return+t==+e;case y:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case x:case w:return t==e+""}return!1}function l(t,e,n,r,i,o,a){var s=p(t),u=s.length;if(u!=p(e).length&&!i)return!1;for(var l=u;l--;){var c=s[l];if(!(i?c in e:T.call(e,c)))return!1}for(var f=i;++l<u;){c=s[l];var h=t[c],d=e[c],v=r?r(i?d:h,i?h:d,c):void 0;if(!(void 0===v?n(h,d,r,i,o,a):v))return!1;f||(f="constructor"==c)}if(!f){var m=t.constructor,g=e.constructor;if(m!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g))return!1}return!0}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=t("lodash.isarray"),h=t("lodash.istypedarray"),p=t("lodash.keys"),d="[object Arguments]",v="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Number]",b="[object Object]",x="[object RegExp]",w="[object String]",E=Object.prototype,T=E.hasOwnProperty,I=E.toString;e.exports=o},{"lodash.isarray":33,"lodash.istypedarray":35,"lodash.keys":36}],30:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function i(t){return t}e.exports=r},{}],31:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function o(t){return a(t)&&p.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(o(t)?d.test(f.call(t)):r(t)&&l.test(t))}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,h=c.hasOwnProperty,p=c.toString,d=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},{}],32:[function(t,e,n){function r(t){return o(t)&&v.call(t,"callee")&&(!g.call(t,"callee")||m.call(t)==f)}function i(t){return null!=t&&s(t.length)&&!a(t)}function o(t){return l(t)&&i(t)}function a(t){var e=u(t)?m.call(t):"";return e==h||e==p}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var c=9007199254740991,f="[object Arguments]",h="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,v=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable;e.exports=r},{}],33:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function a(t){return s(t)&&v.call(t)==c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(a(t)?m.test(p.call(t)):r(t)&&f.test(t))}var l="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,h=Object.prototype,p=Function.prototype.toString,d=h.hasOwnProperty,v=h.toString,m=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=i(Array,"isArray"),y=9007199254740991,_=g||function(t){return r(t)&&o(t.length)&&v.call(t)==l};e.exports=_},{}],34:[function(t,e,n){function r(t,e,n,r){n="function"==typeof n?o(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?i(t,e,n):!!a}var i=t("lodash._baseisequal"),o=t("lodash._bindcallback");e.exports=r},{"lodash._baseisequal":29,"lodash._bindcallback":30}],35:[function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function i(t){return!!t&&"object"==typeof t}function o(t){return i(t)&&r(t.length)&&!!L[N.call(t)]}var a=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",v="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",R="[object Uint32Array]",L={};L[w]=L[E]=L[T]=L[I]=L[C]=L[M]=L[A]=L[S]=L[R]=!0,L[s]=L[u]=L[b]=L[l]=L[x]=L[c]=L[f]=L[h]=L[p]=L[d]=L[v]=L[m]=L[g]=L[y]=L[_]=!1;var k=Object.prototype,N=k.toString;e.exports=o},{}],36:[function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&a(y(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&t<e}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function s(t){for(var e=l(t),n=e.length,r=n&&t.length,i=!!r&&a(r)&&(h(t)||f(t)),s=-1,u=[];++s<n;){var c=e[s];(i&&o(c,r)||v.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(h(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,s=Array(e),l=e>0;++r<e;)s[r]=r+"";for(var c in t)l&&o(c,e)||"constructor"==c&&(i||!v.call(t,c))||s.push(c);return s}var c=t("lodash._getnative"),f=t("lodash.isarguments"),h=t("lodash.isarray"),p=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=c(Object,"keys"),g=9007199254740991,y=r("length"),_=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?s(t):u(t)?m(t):[]}:s;e.exports=_},{"lodash._getnative":31,"lodash.isarguments":32,"lodash.isarray":33}],37:[function(t,e,n){"use strict";function r(t){return!!(i()&&o()&&a()&&s()&&u()&&l()&&c()&&f(t&&t.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(t){return void 0===p[t]&&(p[t]=h(t)),p[t]}function h(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var p={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],38:[function(t,e,n){"use strict";function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(n,r,e),l(r,e)}function u(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function l(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function f(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function E(t,e,n){for(var r="",i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var u,l,c;1===s?o<128&&(a=o):2===s?128==(192&(u=t[i+1]))&&(a=(31&o)<<6|63&u)<=127&&(a=null):3===s?(u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&((a=(15&o)<<12|(63&u)<<6|63&l)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&((a=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function T(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}e.exports=r;var I=t("ieee754");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var C=4294967296,M=1/C;r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*C;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+w(this.buf,this.pos+4)*C;return this.pos+=8,t},readFloat:function(){var t=I.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=I.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return n=r[this.pos++],e=127&n,n<128?e:(n=r[this.pos++],e|=(127&n)<<7,n<128?e:(n=r[this.pos++],e|=(127&n)<<14,n<128?e:(n=r[this.pos++],e|=(127&n)<<21,n<128?e:(n=r[this.pos],e|=(15&n)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=E(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*M),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*M),this.pos+4),this.pos+=8},writeVarint:function(t){if((t=+t||0)>268435455||t<0)return void s(t,this);this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=T(this.buf,t,this.pos);var n=this.pos-e;n>=128&&c(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),I.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),I.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,f,e)},writePackedSVarint:function(t,e){this.writeMessage(t,h,e)},writePackedBoolean:function(t,e){this.writeMessage(t,v,e)},writePackedFloat:function(t,e){this.writeMessage(t,p,e)},writePackedDouble:function(t,e){this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:24}],39:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){v&&m&&(v=!1,m.length?d=m.concat(d):g=-1,d.length&&u())}function u(){if(!v){var t=o(s);v=!0;for(var e=d.length;e;){for(m=d,d=[];++g<e;)m&&m[g].run();g=-1,e=d.length}m=null,v=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f=e.exports={},h,p;!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d=[],v=!1,m,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||v||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],40:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||o;a>n;){if(a-n>600){var u=a-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1);r(t,e,Math.max(n,Math.floor(e-l*f/u+h)),Math.min(a,Math.floor(e+(u-l)*f/u+h)),s)}var p=t[e],d=n,v=a;for(i(t,n,e),s(t[a],p)>0&&i(t,n,a);d<v;){for(i(t,d,v),d++,v--;s(t[d],p)<0;)d++;for(;s(t[v],p)>0;)v--}0===s(t[n],p)?i(t,n,v):(v++,i(t,v,a)),v<=e&&(n=v+1),e<=v&&(a=v-1)}}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],41:[function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){this.options=p(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return{x:l(n[0]),y:c(n[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[f(t.x),h(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return p(p({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t){return 360*(t-.5)}function h(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function v(t){return t.y}var m=t("kdbush");e.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=m(r,d,v,this.options.nodeSize,Float32Array),r=this._cluster(r,i),e&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(r,d,v,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.numPoints?s(a):this.points[a.id])}return i},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=this.trees[e+1].within(n.x,n.y,r),o=[],a=0;a<i.length;a++){var u=this.trees[e+1].points[i[a]];u.parentId===t&&o.push(u.numPoints?s(u):this.points[u.id])}return o},getLeaves:function(t,e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,t,e,n,r,0),i},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,l),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i,o){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(t,u.cluster_id,n+1,r,i,o):o<i?o++:t.push(a[s]),t.length===r)break}return o},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?u(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var a=t[i];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],u=s.within(a.x,a.y,r),l=a.numPoints||1,c=a.x*l,f=a.y*l,h=null;this.options.reduce&&(h=this.options.initial(),this._accumulate(h,a));for(var p=0;p<u.length;p++){var d=s.points[u[p]];if(e<d.zoom){var v=d.numPoints||1;d.zoom=e,c+=d.x*v,f+=d.y*v,l+=v,d.parentId=i,this.options.reduce&&this._accumulate(h,d)}}1===l?n.push(a):(a.parentId=i,n.push(o(c/l,f/l,l,i,h)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},{kdbush:25}],42:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,this.length>0)for(var n=this.length>>1;n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length,i=r>>1,o=e[t];t<i;){var a=1+(t<<1),s=a+1,u=e[a];if(s<r&&n(e[s],u)<0&&(a=s,u=e[s]),n(u,o)>=0)break;e[t]=u,t=a}e[t]=o}}},{}],43:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],44:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],45:[function(t,n,r){(function(e,n){function i(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(e)?n.showHidden=e:e&&r._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return _(i)||(i=u(t,i,n)),i}var o=l(t,e);if(o)return o;var a=Object.keys(e),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),I(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(C(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(I(e))return c(e)}var g="",y=!1,b=["{","}"];if(d(e)&&(y=!0,b=["[","]"]),C(e)){g=" [Function"+(e.name?": "+e.name:"")+"]"}if(w(e)&&(g=" "+RegExp.prototype.toString.call(e)),T(e)&&(g=" "+Date.prototype.toUTCString.call(e)),I(e)&&(g=" "+c(e)),0===a.length&&(!y||0==e.length))return b[0]+g+b[1];if(n<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=y?f(t,e,n,v,a):a.map(function(r){return h(t,e,n,v,r,y)}),t.seen.pop(),p(x,g,b)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)L(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),L(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=m(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===A(t)}function E(t){return"object"==typeof t&&null!==t}function T(t){return E(t)&&"[object Date]"===A(t)}function I(t){return E(t)&&("[object Error]"===A(t)||t instanceof Error)}function C(t){return"function"==typeof t}function M(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function A(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}function R(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;r.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])m(s)||!E(s)?a+=" "+s:a+=" "+i(s);return a},r.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(x(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return o};var N={},F;r.debuglog=function(t){if(x(F)&&(F=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(F)){var n=e.pid;N[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else N[t]=function(){};return N[t]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=v,r.isNull=m,r.isNullOrUndefined=g,r.isNumber=y,r.isString=_,r.isSymbol=b,r.isUndefined=x,r.isRegExp=w,r.isObject=E,r.isDate=T,r.isError=I,r.isFunction=C,r.isPrimitive=M,r.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",R(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":44,_process:39,inherits:43}],46:[function(t,e,n){function r(t){var e=new p;return o(t,e),e.finish()}function i(t){var e={};for(var n in t)e[n]=new d(t[n].features),e[n].name=n;return r({layers:e})}function o(t,e){for(var n in t.layers)e.writeMessage(3,a,t.layers[n])}function a(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n,r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,s,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,h,o[n])}function s(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,u,t),e.writeVarintField(3,n.type),e.writeMessage(4,f,n)}function u(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,h=a[f];void 0===h&&(i.push(l),h=i.length-1,a[f]=h),e.writeVarint(h)}}function l(t,e){return(e<<3)+(7&t)}function c(t){return t<<1^t>>31}function f(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],f=1;1===r&&(f=u.length),e.writeVarint(l(1,f));for(var h=0;h<u.length;h++){1===h&&1!==r&&e.writeVarint(l(2,u.length-1));var p=u[h].x-i,d=u[h].y-o;e.writeVarint(c(p)),e.writeVarint(c(d)),i+=p,o+=d}}}function h(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var p=t("pbf"),d=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=i,e.exports.GeoJSONWrapper=d},{"./lib/geojson_wrapper":47,pbf:38}],47:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function i(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("@mapbox/point-geometry"),a=t("@mapbox/vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new i(this.features[t])},i.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],48:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){m[t]=!0;for(var e in i[t][1]){var r=i[t][1][e];m[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;l<c;l++){var f=u[l],h=o[f].exports;if(h===t||h&&h.default===t){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,c=u.length;l<c;l++){var f=u[l];p[f]=f}i[s]=[Function(["require","module","exports"],"("+t+")(self)"),p]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[s]=s,i[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),v];var m={};n(d);var g="("+r+")({"+Object.keys(m).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return _;var b=y.createObjectURL(_),x=new Worker(b);return x.objectURL=b,x}},{}],49:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],50:[function(t,e,n){e.exports={version:"0.42.2"}},{}],51:[function(t,e,n){"use strict";var r=t("../util/util");e.exports={deserialize:function(t,e){var n={};if(!e)return n;for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(r.extend({layers:s},a)),l=0,c=s;l<c.length;l+=1){var f=c[l];n[f.id]=u}}return n}}},{"../util/util":266}],52:[function(t,e,n){"use strict";function r(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var i=t("../segment"),o=i.SegmentVector,a=t("../../gl/vertex_buffer"),s=t("../../gl/index_buffer"),u=t("../program_configuration"),l=u.ProgramConfigurationSet,c=t("../vertex_array_type"),f=t("../index_array_type"),h=f.TriangleIndexArray,p=t("../load_geometry"),d=t("../extent"),v={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:h,paintAttributes:[{property:"circle-color"},{property:"circle-radius"},{property:"circle-blur"},{property:"circle-opacity"},{property:"circle-stroke-color"},{property:"circle-stroke-width"},{property:"circle-stroke-opacity"}]},m=c(v.layoutAttributes),g=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new m(t.layoutVertexArray),this.indexArray=new h(t.indexArray),this.segments=new o(t.segments),this.programConfigurations=new l(this.constructor.programInterface,t.layers,t.zoom,t.programConfigurations)};g.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=p(a);n.addFeature(a,l),e.featureIndex.insert(a,l,s,u,n.index)}}},g.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},g.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},g.prototype.upload=function(t){this.layoutVertexBuffer=new a(t,this.layoutVertexArray),this.indexBuffer=new s(t,this.indexArray),this.programConfigurations.upload(t)},g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},g.prototype.addFeature=function(t,e){for(var n=this,i=0,o=e;i<o.length;i+=1)for(var a=o[i],s=0,u=a;s<u.length;s+=1){var l=u[s],c=l.x,f=l.y;if(!(c<0||c>=d||f<0||f>=d)){var h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),p=h.vertexLength;r(n.layoutVertexArray,c,f,-1,-1),r(n.layoutVertexArray,c,f,1,-1),r(n.layoutVertexArray,c,f,1,1),r(n.layoutVertexArray,c,f,-1,1),n.indexArray.emplaceBack(p,p+1,p+2),n.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},g.programInterface=v,e.exports=g},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66}],53:[function(t,e,n){"use strict";var r=t("../segment"),i=r.SegmentVector,o=t("../../gl/vertex_buffer"),a=t("../../gl/index_buffer"),s=t("../program_configuration"),u=s.ProgramConfigurationSet,l=t("../vertex_array_type"),c=t("../index_array_type"),f=c.LineIndexArray,h=c.TriangleIndexArray,p=t("../load_geometry"),d=t("earcut"),v=t("../../util/classify_rings"),m=500,g={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:h,indexArrayType2:f,paintAttributes:[{property:"fill-color"},{property:"fill-outline-color"},{property:"fill-opacity"}]},y=l(g.layoutAttributes),_=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new y(t.layoutVertexArray),this.indexArray=new h(t.indexArray),this.indexArray2=new f(t.indexArray2),this.programConfigurations=new u(g,t.layers,t.zoom,t.programConfigurations),this.segments=new i(t.segments),this.segments2=new i(t.segments2)};_.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=p(a);n.addFeature(a,l),e.featureIndex.insert(a,l,s,u,n.index)}}},_.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),indexArray2:this.indexArray2.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),segments2:this.segments2.get()}},_.prototype.upload=function(t){this.layoutVertexBuffer=new o(t,this.layoutVertexArray),this.indexBuffer=new a(t,this.indexArray),this.indexBuffer2=new a(t,this.indexArray2),this.programConfigurations.upload(t)},_.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},_.prototype.addFeature=function(t,e){for(var n=this,r=0,i=v(e,m);r<i.length;r+=1){for(var o=i[r],a=0,s=0,u=o;s<u.length;s+=1){a+=u[s].length}for(var l=n.segments.prepareSegment(a,n.layoutVertexArray,n.indexArray),c=l.vertexLength,f=[],h=[],p=0,g=o;p<g.length;p+=1){var y=g[p];if(0!==y.length){y!==o[0]&&h.push(f.length/2);var _=n.segments2.prepareSegment(y.length,n.layoutVertexArray,n.indexArray2),b=_.vertexLength;n.layoutVertexArray.emplaceBack(y[0].x,y[0].y),n.indexArray2.emplaceBack(b+y.length-1,b),f.push(y[0].x),f.push(y[0].y);for(var x=1;x<y.length;x++)n.layoutVertexArray.emplaceBack(y[x].x,y[x].y),n.indexArray2.emplaceBack(b+x-1,b+x),f.push(y[x].x),f.push(y[x].y);_.vertexLength+=y.length,_.primitiveLength+=y.length}}for(var w=d(f,h),E=0;E<w.length;E+=3)n.indexArray.emplaceBack(c+w[E],c+w[E+1],c+w[E+2]);l.vertexLength+=a,l.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},_.programInterface=g,e.exports=_},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../util/classify_rings":248,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,earcut:12}],54:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*x)+a,i*x*2,o*x*2,Math.round(s))}function i(t,e){return t.x===e.x&&(t.x<0||t.x>m)||t.y===e.y&&(t.y<0||t.y>m)}var o=t("../segment"),a=o.SegmentVector,s=o.MAX_VERTEX_ARRAY_LENGTH,u=t("../../gl/vertex_buffer"),l=t("../../gl/index_buffer"),c=t("../program_configuration"),f=c.ProgramConfigurationSet,h=t("../vertex_array_type"),p=t("../index_array_type"),d=p.TriangleIndexArray,v=t("../load_geometry"),m=t("../extent"),g=t("earcut"),y=t("../../util/classify_rings"),_=500,b={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],indexArrayType:d,paintAttributes:[{property:"fill-extrusion-base"},{property:"fill-extrusion-height"},{property:"fill-extrusion-color"}]},x=Math.pow(2,13),w=h(b.layoutAttributes),E=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new w(t.layoutVertexArray),this.indexArray=new d(t.indexArray),this.programConfigurations=new f(b,t.layers,t.zoom,t.programConfigurations),this.segments=new a(t.segments)};E.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=v(a);n.addFeature(a,l),e.featureIndex.insert(a,l,s,u,n.index)}}},E.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},E.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},E.prototype.upload=function(t){this.layoutVertexBuffer=new u(t,this.layoutVertexArray),this.indexBuffer=new l(t,this.indexArray),this.programConfigurations.upload(t)},E.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},E.prototype.addFeature=function(t,e){for(var n=this,o=0,a=y(e,_);o<a.length;o+=1){for(var u=a[o],l=0,c=0,f=u;c<f.length;c+=1){l+=f[c].length}for(var h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),p=0,d=u;p<d.length;p+=1){var v=d[p];if(0!==v.length)for(var m=0,b=0;b<v.length;b++){var x=v[b];if(b>=1){var w=v[b-1];if(!i(x,w)){h.vertexLength+4>s&&(h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var E=x.sub(w)._perp()._unit();r(n.layoutVertexArray,x.x,x.y,E.x,E.y,0,0,m),r(n.layoutVertexArray,x.x,x.y,E.x,E.y,0,1,m),m+=w.dist(x),r(n.layoutVertexArray,w.x,w.y,E.x,E.y,0,0,m),r(n.layoutVertexArray,w.x,w.y,E.x,E.y,0,1,m);var T=h.vertexLength;n.indexArray.emplaceBack(T,T+1,T+2),n.indexArray.emplaceBack(T+1,T+2,T+3),h.vertexLength+=4,h.primitiveLength+=2}}}}h.vertexLength+l>s&&(h=n.segments.prepareSegment(l,n.layoutVertexArray,n.indexArray));for(var I=[],C=[],M=h.vertexLength,A=0,S=u;A<S.length;A+=1){var R=S[A];if(0!==R.length){R!==u[0]&&C.push(I.length/2);for(var L=0;L<R.length;L++){var k=R[L];r(n.layoutVertexArray,k.x,k.y,0,0,1,1,0),I.push(k.x),I.push(k.y)}}}for(var N=g(I,C),F=0;F<N.length;F+=3)n.indexArray.emplaceBack(M+N[F],M+N[F+1],M+N[F+2]);h.primitiveLength+=N.length/3,h.vertexLength+=l}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},E.programInterface=b,e.exports=E},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../util/classify_rings":248,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,earcut:12}],55:[function(t,e,n){"use strict";var r=t("./circle_bucket"),i={layoutAttributes:r.programInterface.layoutAttributes,indexArrayType:r.programInterface.indexArrayType,paintAttributes:[{property:"heatmap-weight"}]},o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r);o.programInterface=i,e.exports=o},{"./circle_bucket":52}],56:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(m*n.x)+128,Math.round(m*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*b&63)<<2,a*b>>6)}var i=t("../segment"),o=i.SegmentVector,a=t("../../gl/vertex_buffer"),s=t("../../gl/index_buffer"),u=t("../program_configuration"),l=u.ProgramConfigurationSet,c=t("../vertex_array_type"),f=t("../index_array_type"),h=f.TriangleIndexArray,p=t("../load_geometry"),d=t("../extent"),v=t("@mapbox/vector-tile").VectorTileFeature.types,m=63,g=Math.cos(Math.PI/180*37.5),y=15,_=15,b=.5,x=Math.pow(2,_-1)/b,w={layoutAttributes:[{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color"},{property:"line-blur"},{property:"line-opacity"},{property:"line-gap-width",name:"gapwidth"},{property:"line-offset"},{property:"line-width"},{property:"line-floorwidth"}],indexArrayType:h},E=c(w.layoutAttributes),T=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new E(t.layoutVertexArray),this.indexArray=new h(t.indexArray),this.programConfigurations=new l(w,t.layers,t.zoom,t.programConfigurations),this.segments=new o(t.segments)};T.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=p(a);n.addFeature(a,l),e.featureIndex.insert(a,l,s,u,n.index)}}},T.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},T.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},T.prototype.upload=function(t){this.layoutVertexBuffer=new a(t,this.layoutVertexArray),this.indexBuffer=new s(t,this.indexArray),this.programConfigurations.upload(t)},T.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},T.prototype.addFeature=function(t,e){for(var n=this,r=this.layers[0].layout,i=r.get("line-join").evaluate(t),o=r.get("line-cap"),a=r.get("line-miter-limit"),s=r.get("line-round-limit"),u=0,l=e;u<l.length;u+=1){var c=l[u];n.addLine(c,t,i,o,a,s)}},T.prototype.addLine=function(t,e,n,r,i,o){for(var a=this,s="Polygon"===v[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c=y*(d/(512*this.overscaling)),f=t[l],h=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.distance=0;var p,m,_,b=r,x=s?"butt":r,w=!0,E=void 0,T=void 0,I=void 0,C=void 0;this.e1=this.e2=this.e3=-1,s&&(p=t[u-2],C=f.sub(p)._unit()._perp());for(var M=l;M<u;M++)if(!(T=s&&M===u-1?t[l+1]:t[M+1])||!t[M].equals(T)){C&&(I=C),p&&(E=p),p=t[M],C=T?T.sub(p)._unit()._perp():I,I=I||C;var A=I.add(C);0===A.x&&0===A.y||A._unit();var S=A.x*C.x+A.y*C.y,R=0!==S?1/S:1/0,L=S<g&&E&&T;if(L&&M>l){var k=p.dist(E);if(k>2*c){var N=p.sub(p.sub(E)._mult(c/k)._round());a.distance+=N.dist(E),a.addCurrentVertex(N,a.distance,I.mult(1),0,0,!1,h),E=N}}var F=E&&T,O=F?n:T?b:x;if(F&&"round"===O&&(R<o?O="miter":R<=2&&(O="fakeround")),"miter"===O&&R>i&&(O="bevel"),"bevel"===O&&(R>2&&(O="flipbevel"),R<i&&(O="miter")),E&&(a.distance+=p.dist(E)),"miter"===O)A._mult(R),a.addCurrentVertex(p,a.distance,A,0,0,!1,h);else if("flipbevel"===O){if(R>100)A=C.clone().mult(-1);else{var B=I.x*C.y-I.y*C.x>0?-1:1,P=R*I.add(C).mag()/I.sub(C).mag();A._perp()._mult(P*B)}a.addCurrentVertex(p,a.distance,A,0,0,!1,h),a.addCurrentVertex(p,a.distance,A.mult(-1),0,0,!1,h)}else if("bevel"===O||"fakeround"===O){var U=I.x*C.y-I.y*C.x>0,D=-Math.sqrt(R*R-1);if(U?(_=0,m=D):(m=0,_=D),w||a.addCurrentVertex(p,a.distance,I,m,_,!1,h),"fakeround"===O){for(var z=Math.floor(8*(.5-(S-.5))),j=void 0,V=0;V<z;V++)j=C.mult((V+1)/(z+1))._add(I)._unit(),a.addPieSliceVertex(p,a.distance,j,U,h);a.addPieSliceVertex(p,a.distance,A,U,h);for(var G=z-1;G>=0;G--)j=I.mult((G+1)/(z+1))._add(C)._unit(),a.addPieSliceVertex(p,a.distance,j,U,h)}T&&a.addCurrentVertex(p,a.distance,C,-m,-_,!1,h)}else"butt"===O?(w||a.addCurrentVertex(p,a.distance,I,0,0,!1,h),T&&a.addCurrentVertex(p,a.distance,C,0,0,!1,h)):"square"===O?(w||(a.addCurrentVertex(p,a.distance,I,1,1,!1,h),a.e1=a.e2=-1),T&&a.addCurrentVertex(p,a.distance,C,-1,-1,!1,h)):"round"===O&&(w||(a.addCurrentVertex(p,a.distance,I,0,0,!1,h),a.addCurrentVertex(p,a.distance,I,1,1,!0,h),a.e1=a.e2=-1),T&&(a.addCurrentVertex(p,a.distance,C,-1,-1,!0,h),a.addCurrentVertex(p,a.distance,C,0,0,!1,h)));if(L&&M<u-1){var X=p.dist(T);if(X>2*c){var W=p.add(T.sub(p)._mult(c/X)._round());a.distance+=W.dist(p),a.addCurrentVertex(W,a.distance,C.mult(1),0,0,!1,h),p=W}}w=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},T.prototype.addCurrentVertex=function(t,e,n,i,o,a,s){var u,l=this.layoutVertexArray,c=this.indexArray;u=n.clone(),i&&u._sub(n.perp()._mult(i)),r(l,t,u,a,!1,i,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),o&&u._sub(n.perp()._mult(o)),r(l,t,u,a,!0,-o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>x/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,i,o,a,s))},T.prototype.addPieSliceVertex=function(t,e,n,i,o){n=n.mult(i?-1:1);var a=this.layoutVertexArray,s=this.indexArray;r(a,t,n,!1,i,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},T.programInterface=w,e.exports=T},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,"@mapbox/vector-tile":6}],57:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*i),o,a,s?s[0]:void 0,s?s[1]:void 0)}function i(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var o=t("@mapbox/point-geometry"),a=t("../segment"),s=a.SegmentVector,u=t("../../gl/vertex_buffer"),l=t("../../gl/index_buffer"),c=t("../program_configuration"),f=c.ProgramConfigurationSet,h=t("../vertex_array_type"),p=t("../index_array_type"),d=p.TriangleIndexArray,v=p.LineIndexArray,m=t("../../symbol/transform_text"),g=t("../../symbol/mergelines"),y=t("../../util/script_detection"),_=t("../load_geometry"),b=t("@mapbox/vector-tile").VectorTileFeature.types,x=t("../../util/struct_array"),w=t("../../util/verticalize_punctuation"),E=t("../../symbol/anchor"),T=t("../../symbol/opacity_state"),I=t("../../symbol/symbol_size"),C=I.getSizeData,M=x({members:[{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]}),A=x({members:[{type:"Float32",name:"offsetX"}]}),S=x({members:[{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]}),R=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],L=[{name:"a_projected_pos",components:3,type:"Float32"}],k=[{name:"a_fade_opacity",components:1,type:"Uint32"}],N=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],F=[{name:"a_placed",components:2,type:"Uint8"}],O={text:{layoutAttributes:R,dynamicLayoutAttributes:L,indexArrayType:d,opacityAttributes:k,paintAttributes:[{property:"text-color",name:"fill_color"},{property:"text-halo-color",name:"halo_color"},{property:"text-halo-width",name:"halo_width"},{property:"text-halo-blur",name:"halo_blur"},{property:"text-opacity",name:"opacity"}]},icon:{layoutAttributes:R,dynamicLayoutAttributes:L,indexArrayType:d,opacityAttributes:k,paintAttributes:[{property:"icon-color",name:"fill_color"},{property:"icon-halo-color",name:"halo_color"},{property:"icon-halo-width",name:"halo_width"},{property:"icon-halo-blur",name:"halo_blur"},{property:"icon-opacity",name:"opacity"}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],indexArrayType:v,collisionAttributes:F},collisionCircle:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],collisionAttributes:F,indexArrayType:d}},B=function(t,e,n,r){this.programInterface=t;var i=h(t.layoutAttributes),o=t.indexArrayType;if(this.layoutVertexArray=new i(r&&r.layoutVertexArray),this.indexArray=new o(r&&r.indexArray),this.programConfigurations=new f(t,e,n,r&&r.programConfigurations),this.segments=new s(r&&r.segments),t.dynamicLayoutAttributes){var a=h(t.dynamicLayoutAttributes);this.dynamicLayoutVertexArray=new a(r&&r.dynamicLayoutVertexArray)}if(t.opacityAttributes){var u=h(t.opacityAttributes);this.opacityVertexArray=new u(r&&r.opacityVertexArray)}if(t.collisionAttributes){var l=h(t.collisionAttributes);this.collisionVertexArray=new l(r&&r.collisionVertexArray)}};B.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),dynamicLayoutVertexArray:this.dynamicLayoutVertexArray&&this.dynamicLayoutVertexArray.serialize(t),opacityVertexArray:this.opacityVertexArray&&this.opacityVertexArray.serialize(t),collisionVertexArray:this.collisionVertexArray&&this.collisionVertexArray.serialize(t)}},B.prototype.upload=function(t,e){this.layoutVertexBuffer=new u(t,this.layoutVertexArray),this.indexBuffer=new l(t,this.indexArray,e),this.programConfigurations.upload(t),this.programInterface.dynamicLayoutAttributes&&(this.dynamicLayoutVertexBuffer=new u(t,this.dynamicLayoutVertexArray,!0)),this.programInterface.opacityAttributes&&(this.opacityVertexBuffer=new u(t,this.opacityVertexArray,!0),this.opacityVertexBuffer.itemSize=1,this.opacityVertexBuffer.attributes=N),this.programInterface.collisionAttributes&&(this.collisionVertexBuffer=new u(t,this.collisionVertexArray,!0))},B.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer&&this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer&&this.opacityVertexBuffer.destroy(),this.collisionVertexBuffer&&this.collisionVertexBuffer.destroy())};var P=function(t){if(this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.pixelRatio=t.pixelRatio,t.text){this.text=new B(O.text,t.layers,t.zoom,t.text),this.icon=new B(O.icon,t.layers,t.zoom,t.icon),this.collisionBox=new B(O.collisionBox,t.layers,t.zoom,t.collisionBox),this.collisionCircle=new B(O.collisionCircle,t.layers,t.zoom,t.collisionCircle),this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData,this.placedGlyphArray=new M(t.placedGlyphArray),this.placedIconArray=new M(t.placedIconArray),this.glyphOffsetArray=new A(t.glyphOffsetArray),this.lineVertexArray=new S(t.lineVertexArray),this.symbolInstances=t.symbolInstances;var e=t.layers[0].layout;this.sortFeaturesByY=e.get("text-allow-overlap")||e.get("icon-allow-overlap")||e.get("text-ignore-placement")||e.get("icon-ignore-placement")}else{var n=this.layers[0],r=n._unevaluatedLayout._values;if(this.textSizeData=C(this.zoom,r["text-size"]),"composite"===this.textSizeData.functionType){var i=this.textSizeData.zoomRange,o=i.min,a=i.max;this.compositeTextSizes=[r["text-size"].possiblyEvaluate({zoom:o}),r["text-size"].possiblyEvaluate({zoom:a})]}if(this.iconSizeData=C(this.zoom,r["icon-size"]),"composite"===this.iconSizeData.functionType){var s=this.iconSizeData.zoomRange,u=s.min,l=s.max;this.compositeIconSizes=[r["icon-size"].possiblyEvaluate({zoom:u}),r["icon-size"].possiblyEvaluate({zoom:l})]}this.layoutTextSize=r["text-size"].possiblyEvaluate({zoom:this.zoom+1}),this.layoutIconSize=r["icon-size"].possiblyEvaluate({zoom:this.zoom+1}),this.textMaxSize=r["text-size"].possiblyEvaluate({zoom:18})}};P.prototype.createArrays=function(){this.text=new B(O.text,this.layers,this.zoom),this.icon=new B(O.icon,this.layers,this.zoom),this.collisionBox=new B(O.collisionBox,this.layers,this.zoom),this.collisionCircle=new B(O.collisionCircle,this.layers,this.zoom),this.placedGlyphArray=new M,this.placedIconArray=new M,this.glyphOffsetArray=new A,this.lineVertexArray=new S},P.prototype.populate=function(t,e){var n=this,r=this.layers[0],i=r.layout,o=i.get("text-font").join(","),a=i.get("text-field"),s=i.get("icon-image"),u="constant"!==a.value.kind||a.value.value.length>0&&o.length>0,l="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],u||l){for(var c=e.iconDependencies,f=e.glyphDependencies,h=f[o]=f[o]||{},p={zoom:this.zoom},d=0,v=t;d<v.length;d+=1){var x=v[d],E=x.feature,T=x.index,I=x.sourceLayerIndex;if(r._featureFilter(p,E)){var C=void 0;u&&(C=r.getValueAndResolveTokens("text-field",E),C=m(C,r,E));var M=void 0;if(l&&(M=r.getValueAndResolveTokens("icon-image",E)),C||M){var A={text:C,icon:M,index:T,sourceLayerIndex:I,geometry:_(E),properties:E.properties,type:b[E.type]};if(void 0!==E.id&&(A.id=E.id),n.features.push(A),M&&(c[M]=!0),C)for(var S="map"===i.get("text-rotation-alignment")&&"line"===i.get("symbol-placement"),R=y.allowsVerticalWritingMode(C),L=0;L<C.length;L++)if(h[C.charCodeAt(L)]=!0,S&&R){var k=w.lookup[C.charAt(L)];k&&(h[k.charCodeAt(0)]=!0)}}}}"line"===i.get("symbol-placement")&&(this.features=g(this.features))}},P.prototype.isEmpty=function(){return 0===this.symbolInstances.length},P.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,placedGlyphArray:this.placedGlyphArray.serialize(t),placedIconArray:this.placedIconArray.serialize(t),glyphOffsetArray:this.glyphOffsetArray.serialize(t),lineVertexArray:this.lineVertexArray.serialize(t),text:this.text.serialize(t),icon:this.icon.serialize(t),collisionBox:this.collisionBox.serialize(t),collisionCircle:this.collisionCircle.serialize(t),symbolInstances:this.symbolInstances}},P.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},P.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},P.prototype.addToLineVertexArray=function(t,e){var n=this,r=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),a={},s=t.segment+1;s<e.length;s++)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s<e.length-1&&(i+=e[s+1].dist(e[s]));for(var u=t.segment||0;u>=0;u--)a[u]={x:e[u].x,y:e[u].y,tileUnitDistanceFromAnchor:o},u>0&&(o+=e[u-1].dist(e[u]));for(var l=0;l<e.length;l++){var c=a[l];n.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},P.prototype.addSymbols=function(t,e,n,o,a,s,u,l,c,f,h){for(var p=this,d=t.indexArray,v=t.layoutVertexArray,m=t.dynamicLayoutVertexArray,g=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),y=this.glyphOffsetArray.length,_=g.vertexLength,b=0,x=e;b<x.length;b+=1){var w=x[b],E=w.tl,T=w.tr,I=w.bl,C=w.br,M=w.tex,A=g.vertexLength,S=w.glyphOffset[1];r(v,l.x,l.y,E.x,S+E.y,M.x,M.y,n),r(v,l.x,l.y,T.x,S+T.y,M.x+M.w,M.y,n),r(v,l.x,l.y,I.x,S+I.y,M.x,M.y+M.h,n),r(v,l.x,l.y,C.x,S+C.y,M.x+M.w,M.y+M.h,n),i(m,l,0),d.emplaceBack(A,A+1,A+2),d.emplaceBack(A+1,A+2,A+3),g.vertexLength+=4,g.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(w.glyphOffset[0])}h.emplaceBack(l.x,l.y,y,this.glyphOffsetArray.length-y,_,c,f,l.segment,n?n[0]:0,n?n[1]:0,o[0],o[1],u,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,s)},P.prototype._addCollisionDebugVertex=function(t,e,n,r,i){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))},P.prototype.addCollisionDebugVertices=function(t,e,n,r,i,a,s,u){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=l.vertexLength,f=i.layoutVertexArray,h=i.indexArray,p=i.collisionVertexArray;this._addCollisionDebugVertex(f,p,a,s.anchor,new o(t,e)),this._addCollisionDebugVertex(f,p,a,s.anchor,new o(n,e)),this._addCollisionDebugVertex(f,p,a,s.anchor,new o(n,r)),this._addCollisionDebugVertex(f,p,a,s.anchor,new o(t,r)),l.vertexLength+=4,u?(h.emplaceBack(c,c+1,c+2),h.emplaceBack(c,c+2,c+3),l.primitiveLength+=2):(h.emplaceBack(c,c+1),h.emplaceBack(c+1,c+2),h.emplaceBack(c+2,c+3),h.emplaceBack(c+3,c),l.primitiveLength+=4)},P.prototype.generateCollisionDebugBuffers=function(){for(var t=this,e=0,n=t.symbolInstances;e<n.length;e+=1){var r=n[e];r.textCollisionFeature={boxStartIndex:r.textBoxStartIndex,boxEndIndex:r.textBoxEndIndex},r.iconCollisionFeature={boxStartIndex:r.iconBoxStartIndex,boxEndIndex:r.iconBoxEndIndex};for(var i=0;i<2;i++){var o=r[0===i?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var a=o.boxStartIndex;a<o.boxEndIndex;a++){var s=t.collisionBoxArray.get(a),u=s.x1,l=s.y1,c=s.x2,f=s.y2,h=s.radius>0;t.addCollisionDebugVertices(u,l,c,f,h?t.collisionCircle:t.collisionBox,s.anchorPoint,r,h)}}}},P.prototype.deserializeCollisionBoxes=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]);o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<i;u++){var l=t.get(u);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY};break}}return o},P.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);var i=Math.sin(t),o=Math.cos(t);n.sort(function(t,n){var r=e.symbolInstances[t],a=e.symbolInstances[n];return(i*r.anchor.x+o*r.anchor.y|0)-(i*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-r.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=n;a<s.length;a+=1){for(var u=s[a],l=e.symbolInstances[u],c=0,f=l.placedTextSymbolIndices;c<f.length;c+=1)for(var h=f[c],p=e.placedGlyphArray.get(h),d=p.vertexStartIndex+4*p.numGlyphs,v=p.vertexStartIndex;v<d;v+=4)e.text.indexArray.emplaceBack(v,v+1,v+2),e.text.indexArray.emplaceBack(v+1,v+2,v+3);var m=e.placedIconArray.get(u);if(m.numGlyphs){var g=m.vertexStartIndex;e.icon.indexArray.emplaceBack(g,g+1,g+2),e.icon.indexArray.emplaceBack(g+1,g+2,g+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray.serialize()),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray.serialize())}},P.programInterfaces=O,P.MAX_GLYPHS=65535,P.addDynamicAttributes=i,e.exports=P},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../symbol/anchor":205,"../../symbol/mergelines":214,"../../symbol/opacity_state":215,"../../symbol/symbol_size":221,"../../symbol/transform_text":222,"../../util/script_detection":261,"../../util/struct_array":263,"../../util/verticalize_punctuation":268,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],58:[function(t,e,n){"use strict";e.exports=8192},{}],59:[function(t,e,n){"use strict";function r(t,e){return e-t}var i=t("@mapbox/point-geometry"),o=t("./load_geometry"),a=t("./extent"),s=t("../style-spec/feature_filter"),u=t("../util/struct_array"),l=t("grid-index"),c=t("../util/dictionary_coder"),f=t("@mapbox/vector-tile"),h=t("pbf"),p=t("../util/vectortile_to_geojson"),d=t("../util/util").arraysIntersect,v=t("../source/tile_coord"),m=u({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),g=function(t,e,n,r){this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.grid=n||new l(a,16,0),this.featureIndexArray=r||new m};g.deserialize=function(t,e){var n=t.coord,r=new g(new v(n.z,n.x,n.y,n.w),t.overscaling,new l(t.grid),new m(t.featureIndexArray));return r.rawTileData=e,r.bucketLayerIDs=t.bucketLayerIDs,r},g.prototype.insert=function(t,e,n,r,i){var o=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=0;s<e.length;s++){for(var u=e[s],l=[1/0,1/0,-1/0,-1/0],c=0;c<u.length;c++){var f=u[c];l[0]=Math.min(l[0],f.x),l[1]=Math.min(l[1],f.y),l[2]=Math.max(l[2],f.x),l[3]=Math.max(l[3],f.y)}o.grid.insert(a,l[0],l[1],l[2],l[3])}},g.prototype.setCollisionIndex=function(t){this.collisionIndex=t},g.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs}},g.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new f.VectorTile(new h(this.rawTileData)).layers,this.sourceLayerCoder=new c(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},i=t.params||{},o=a/t.tileSize/t.scale,u=s(i.filter),l=t.queryGeometry,p=t.additionalRadius*o,d=1/0,v=1/0,m=-1/0,g=-1/0,y=0;y<l.length;y++)for(var _=l[y],b=0;b<_.length;b++){var x=_[b];d=Math.min(d,x.x),v=Math.min(v,x.y),m=Math.max(m,x.x),g=Math.max(g,x.y)}var w=this.grid.query(d-p,v-p,m+p,g+p);w.sort(r),this.filterMatching(n,w,this.featureIndexArray,l,u,i.layers,e,t.bearing,o);var E=this.collisionIndex?this.collisionIndex.queryRenderedSymbols(l,this.coord,t.tileSourceMaxZoom,a/t.tileSize,t.collisionBoxArray,t.sourceID):[];return E.sort(),this.filterMatching(n,E,t.collisionBoxArray,l,u,i.layers,e,t.bearing,o),n},g.prototype.filterMatching=function(t,e,n,r,i,a,s,u,l){for(var c,f=this,h=0;h<e.length;h++){var v=e[h];if(v!==c){c=v;var m=n.get(v),g=f.bucketLayerIDs[m.bucketIndex];if(!a||d(a,g)){var y=f.sourceLayerCoder.decode(m.sourceLayerIndex),_=f.vtLayers[y],b=_.feature(m.featureIndex);if(i({zoom:f.coord.z},b))for(var x=null,w=0;w<g.length;w++){var E=g[w];if(!(a&&a.indexOf(E)<0)){var T=s[E];if(T&&("symbol"===T.type||(x||(x=o(b)),T.queryIntersectsFeature(r,b,x,f.z,u,l)))){var I=new p(b,f.z,f.x,f.y);I.layer=T.serialize();var C=t[E];void 0===C&&(C=t[E]=[]),C.push({featureIndex:v,feature:I})}}}}}}},g.prototype.hasLayer=function(t){for(var e=this,n=0,r=e.bucketLayerIDs;n<r.length;n+=1)for(var i=r[n],o=0,a=i;o<a.length;o+=1){var s=a[o];if(t===s)return!0}return!1},e.exports=g},{"../source/tile_coord":112,"../style-spec/feature_filter":145,"../util/dictionary_coder":250,"../util/struct_array":263,"../util/util":266,"../util/vectortile_to_geojson":267,"./extent":58,"./load_geometry":61,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6,"grid-index":23,pbf:38}],60:[function(t,e,n){"use strict";function r(t){return i({members:[{type:"Uint16",name:"vertices",components:t}]})}var i=t("../util/struct_array");e.exports={LineIndexArray:r(2),TriangleIndexArray:r(3)}},{"../util/struct_array":263}],61:[function(t,e,n){"use strict";function r(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var i=t("../util/util"),o=t("./extent"),a=r(16);e.exports=function(t){for(var e=o/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var s=n[r],u=0;u<s.length;u++){var l=s[u];l.x=Math.round(l.x*e),l.y=Math.round(l.y*e),(l.x<a.min||l.x>a.max||l.y<a.min||l.y>a.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},{"../util/util":266,"./extent":58}],62:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=i},{"../util/struct_array":263}],63:[function(t,e,n){"use strict";function r(t){return[o(255*t.r,255*t.g),o(255*t.b,255*t.a)]}var i=t("./vertex_array_type"),o=t("../shaders/encode_attribute").packUint8ToFloat,a=t("../gl/vertex_buffer"),s=t("../style-spec/util/color"),u=function(t,e,n,r){this.value=t,this.name=e,this.type=n,this.property=r,this.statistics={max:-1/0}};u.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},u.prototype.populatePaintArray=function(){},u.prototype.setUniforms=function(t,e,n,r){var i=r.constantOr(this.value);"color"===this.type?t.uniform4f(e.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):t.uniform1f(e.uniforms["u_"+this.name],i)};var l=function(t,e,n,r){this.expression=t,this.name=e,this.type=n,this.property=r,this.statistics={max:-1/0}};l.prototype.defines=function(){return[]},l.prototype.populatePaintArray=function(t,e,n,i){var o=this,a=this.expression.evaluate({zoom:0},i);if("color"===this.type)for(var s=r(a),u=e;u<n;u++){var l=t.get(u);l["a_"+o.name+"0"]=s[0],l["a_"+o.name+"1"]=s[1]}else{for(var c=e;c<n;c++){t.get(c)["a_"+o.name]=a}this.statistics.max=Math.max(this.statistics.max,a)}},l.prototype.setUniforms=function(t,e){t.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var c=function(t,e,n,r,i,o){this.expression=t,this.name=e,this.type=n,this.property=r,this.useIntegerZoom=i,this.zoom=o,this.statistics={max:-1/0}};c.prototype.defines=function(){return[]},c.prototype.populatePaintArray=function(t,e,n,i){var o=this,a=this.expression.evaluate({zoom:this.zoom},i),s=this.expression.evaluate({zoom:this.zoom+1},i);if("color"===this.type)for(var u=r(a),l=r(s),c=e;c<n;c++){var f=t.get(c);f["a_"+o.name+"0"]=u[0],f["a_"+o.name+"1"]=u[1],f["a_"+o.name+"2"]=l[0],f["a_"+o.name+"3"]=l[1]}else{for(var h=e;h<n;h++){var p=t.get(h);p["a_"+o.name+"0"]=a,p["a_"+o.name+"1"]=s}this.statistics.max=Math.max(this.statistics.max,a,s)}},c.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},c.prototype.setUniforms=function(t,e,n){t.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var f=function(){this.binders={},this.cacheKey=""};f.createDynamic=function(t,e,n){for(var r=new f,o=[],a=0,s=t.paintAttributes||[];a<s.length;a+=1){var h=s[a],p=h.property,d=h.name||p.replace(e.type+"-","").replace(/-/g,"_"),v=e.paint.get(p),m=v.property.specification.type,g=v.property.useIntegerZoom;"constant"===v.value.kind?(r.binders[d]=new u(v.value,d,m,p),r.cacheKey+="/u_"+d):"source"===v.value.kind?(r.binders[d]=new l(v.value,d,m,p),r.cacheKey+="/a_"+d,o.push({name:"a_"+d,type:"Float32",components:"color"===m?2:1})):(r.binders[d]=new c(v.value,d,m,p,g,n),r.cacheKey+="/z_"+d,o.push({name:"a_"+d,type:"Float32",components:"color"===m?4:2}))}return r.PaintVertexArray=i(o),r.interface=t,r.layer=e,r},f.forBackgroundColor=function(t,e){var n=new f;return n.binders.color=new u(t,"color","color","background-color"),n.cacheKey+="/u_color",n.binders.opacity=new u(e,"opacity","number","background-opacity"),n.cacheKey+="/u_opacity",n},f.forBackgroundPattern=function(t){var e=new f;return e.binders.opacity=new u(t,"opacity","number","background-opacity"),e.cacheKey+="/u_opacity",e},f.forTileClippingMask=function(){return f.forBackgroundColor(s.black,1)},f.prototype.populatePaintArray=function(t,e){var n=this,r=this.paintVertexArray;if(0!==r.bytesPerElement){var i=r.length;r.resize(t);for(var o in n.binders)n.binders[o].populatePaintArray(r,i,t,e)}},f.prototype.defines=function(){var t=this,e=[];for(var n in t.binders)e.push.apply(e,t.binders[n].defines());return e},f.prototype.setUniforms=function(t,e,n,r){var i=this;for(var o in i.binders){var a=i.binders[o];a.setUniforms(t,e,r,n.get(a.property))}},f.prototype.serialize=function(t){var e=this;if(0===this.paintVertexArray.length)return null;var n={};for(var r in e.binders)n[e.binders[r].property]=e.binders[r].statistics;return{array:this.paintVertexArray.serialize(t),type:this.paintVertexArray.constructor.serialize(),statistics:n}},f.deserialize=function(t,e,n,r){var o=f.createDynamic(t,e,n);return r&&(o.PaintVertexArray=i(r.type.members),o.paintVertexArray=new o.PaintVertexArray(r.array),o.paintPropertyStatistics=r.statistics),o},f.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=new a(t,this.paintVertexArray))},f.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var h=function(t,e,n,r){var i=this;if(this.programConfigurations={},r)for(var o=0,a=e;o<a.length;o+=1){var s=a[o];i.programConfigurations[s.id]=f.deserialize(t,s,n,r[s.id])}else for(var u=0,l=e;u<l.length;u+=1){var c=l[u],h=f.createDynamic(t,c,n);h.paintVertexArray=new h.PaintVertexArray,i.programConfigurations[c.id]=h}};h.prototype.populatePaintArrays=function(t,e){var n=this;for(var r in n.programConfigurations)n.programConfigurations[r].populatePaintArray(t,e)},h.prototype.serialize=function(t){var e=this,n={};for(var r in e.programConfigurations){var i=e.programConfigurations[r].serialize(t);i&&(n[r]=i)}return n},h.prototype.get=function(t){return this.programConfigurations[t]},h.prototype.upload=function(t){var e=this;for(var n in e.programConfigurations)e.programConfigurations[n].upload(t)},h.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},e.exports={ProgramConfiguration:f,ProgramConfigurationSet:h}},{"../gl/vertex_buffer":72,"../shaders/encode_attribute":96,"../style-spec/util/color":150,"./vertex_array_type":66}],64:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=i},{"../util/struct_array":263}],65:[function(t,e,n){"use strict";var r=t("../util/util"),i=r.warnOnce,o=Math.pow(2,16)-1,a=function(t){void 0===t&&(t=[]),this.segments=t};a.prototype.prepareSegment=function(t,n,r){var a=this.segments[this.segments.length-1];return t>o&&i("Max vertices per segment is "+o+": bucket requested "+t),(!a||a.vertexLength+t>e.exports.MAX_VERTEX_ARRAY_LENGTH)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(a)),a},a.prototype.get=function(){return this.segments},a.prototype.destroy=function(){for(var t=this,e=0,n=t.segments;e<n.length;e+=1){var r=n[e];for(var i in r.vaos)r.vaos[i].destroy()}},e.exports={SegmentVector:a,MAX_VERTEX_ARRAY_LENGTH:o}},{"../util/util":266}],66:[function(t,e,n){"use strict";function r(t){return i({members:t,alignment:4})}var i=t("../util/struct_array");e.exports=r},{"../util/struct_array":263}],67:[function(t,e,n){"use strict";var r=function(t,e,n){this.column=t,this.row=e,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},r.prototype.sub=function(t){return this.clone()._sub(t)},r.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},r.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=r},{}],68:[function(t,e,n){"use strict";var r=t("../util/util").wrap,i=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.prototype.toBounds=function(e){var n=360*e/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new i(this.lng-r,this.lat-n),new i(this.lng+r,this.lat+n))},i.convert=function(t){if(t instanceof i)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new i(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new i(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=i},{"../util/util":266,"./lng_lat_bounds":69}],69:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};i.prototype.setNorthEast=function(t){return this._ne=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.setSouthWest=function(t){return this._sw=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.extend=function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof i))return Array.isArray(t)?t.every(Array.isArray)?this.extend(i.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},i.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},i.prototype.getSouthWest=function(){return this._sw},i.prototype.getNorthEast=function(){return this._ne},i.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},i.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},i.prototype.getWest=function(){return this._sw.lng},i.prototype.getSouth=function(){return this._sw.lat},i.prototype.getEast=function(){return this._ne.lng},i.prototype.getNorth=function(){return this._ne.lat},i.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},i.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},i.convert=function(t){return!t||t instanceof i?t:new i(t)},e.exports=i},{"./lng_lat":68}],70:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=t("@mapbox/point-geometry"),o=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate").number,u=t("../source/tile_coord"),l=t("../data/extent"),c=t("@mapbox/gl-matrix"),f=c.vec4,h=c.mat4,p=c.mat2,d=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};d.prototype.clone=function(){var t=new d(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new i(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},d.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new i(0,0),0),n=this.pointCoordinate(new i(this.width,0),0),r=Math.floor(e.column),o=Math.floor(n.column),a=[t],s=r;s<=o;s++)0!==s&&a.push(new u(t.z,t.x,t.y,s));return a},d.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),o=new i(r.column-.5,r.row-.5),a=[this.pointCoordinate(new i(0,0),e),this.pointCoordinate(new i(this.width,0),e),this.pointCoordinate(new i(this.width,this.height),e),this.pointCoordinate(new i(0,this.height),e)];return u.cover(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t)-o.dist(e)})},d.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(t){return Math.pow(2,t)},d.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},d.prototype.project=function(t){return new i(this.lngX(t.lng),this.latY(t.lat))},d.prototype.unproject=function(t){return new r(this.xLng(t.x),this.yLat(t.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new i(this.x,this.y)},d.prototype.lngX=function(t){return(180+t)*this.worldSize/360},d.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},d.prototype.xLng=function(t){return 360*t/this.worldSize-180},d.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},d.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},d.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},d.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new r(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},d.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];f.transformMat4(n,n,this.pixelMatrixInverse),f.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],u=n[0]/i,l=r[0]/a,c=n[1]/i,h=r[1]/a,p=n[2]/i,d=r[2]/a,v=p===d?0:(0-p)/(d-p);return new o(s(u,l,v)/this.tileSize,s(c,h,v)/this.tileSize,this.zoom)._zoomTo(e)},d.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return f.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(t,e){var n=t.id.toString();if(e&&(n+=e.toString()),this._posMatrixCache[n])return this._posMatrixCache[n];var r=t.toCoordinate(e),i=this.worldSize/this.zoomScale(r.zoom),o=h.identity(new Float64Array(16));return h.translate(o,o,[r.column*i,r.row*i,0]),h.scale(o,o,[i/l,i/l,1]),h.multiply(o,this.projMatrix,o),this._posMatrixCache[n]=new Float32Array(o),this._posMatrixCache[n]},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=this.latY(f[1]),a=this.latY(f[0]),t=a-o<l.y?l.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=this.lngX(h[0]),u=this.lngX(h[1]),e=u-s<l.x?l.x/(u-s):0}var p=Math.max(e||0,t||0);if(p)return this.center=this.unproject(new i(e?(u+s)/2:this.x,t?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=this.y,v=l.y/2;d-v<o&&(r=o+v),d+v>a&&(r=a-v)}if(this.lngRange){var m=this.x,g=l.x/2;m-g<s&&(n=s+g),m+g>u&&(n=u-g)}void 0===n&&void 0===r||(this.center=this.unproject(new i(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=c,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,i=1.01*r,o=new Float64Array(16);h.perspective(o,this._fov,this.width/this.height,1,i),h.scale(o,o,[1,-1,1]),h.translate(o,o,[0,0,-this.cameraToCenterDistance]),h.rotateX(o,o,this._pitch),h.rotateZ(o,o,this.angle),h.translate(o,o,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(h.scale(o,o,[1,1,a,1]),this.projMatrix=o,o=h.create(),h.scale(o,o,[this.width/2,-this.height/2,1]),h.translate(o,o,[1,-1,0]),this.pixelMatrix=h.multiply(new Float64Array(16),o,this.projMatrix),!(o=h.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=o,this._posMatrixCache={}}},Object.defineProperties(d.prototype,v),e.exports=d},{"../data/extent":58,"../source/tile_coord":112,"../style-spec/util/interpolate":154,"../util/util":266,"./coordinate":67,"./lng_lat":68,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],71:[function(t,e,n){"use strict";var r=function(t,e,n){this.gl=t,this.buffer=t.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?t.DYNAMIC_DRAW:t.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};r.prototype.unbindVAO=function(){void 0===this.gl.extVertexArrayObject&&(this.gl.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object")),this.gl.extVertexArrayObject&&this.gl.extVertexArrayObject.bindVertexArrayOES(null)},r.prototype.bind=function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buffer)},r.prototype.updateData=function(t){this.unbindVAO(),this.bind(),this.gl.bufferSubData(this.gl.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},r.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=r},{}],72:[function(t,e,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},i=function(t,e,n){this.length=e.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.gl=t,this.buffer=t.createBuffer(),this.gl.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.gl.bufferData(t.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?t.DYNAMIC_DRAW:t.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};i.prototype.bind=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer)},i.prototype.updateData=function(t){this.bind(),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t.arrayBuffer)},i.prototype.enableAttributes=function(t,e){for(var n=this,r=0;r<this.attributes.length;r++){var i=n.attributes[r],o=e.attributes[i.name];void 0!==o&&t.enableVertexAttribArray(o)}},i.prototype.setVertexAttribPointers=function(t,e,n){for(var i=this,o=0;o<this.attributes.length;o++){var a=i.attributes[o],s=e.attributes[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[r[a.type]],!1,i.itemSize,a.offset+i.itemSize*(n||0))}},i.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=i},{}],73:[function(t,e,n){"use strict";var r=t("mapbox-gl-supported"),i=t("./util/browser"),o=t("../package.json").version,a=t("./ui/map"),s=t("./ui/control/navigation_control"),u=t("./ui/control/geolocate_control"),l=t("./ui/control/attribution_control"),c=t("./ui/control/scale_control"),f=t("./ui/control/fullscreen_control"),h=t("./ui/popup"),p=t("./ui/marker"),d=t("./style/style"),v=t("./geo/lng_lat"),m=t("./geo/lng_lat_bounds"),g=t("@mapbox/point-geometry"),y=t("./util/evented"),_=t("./util/config"),b=t("./source/rtl_text_plugin");e.exports={version:o,supported:r,workerCount:Math.max(Math.floor(i.hardwareConcurrency/2),1),setRTLTextPlugin:b.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:u,AttributionControl:l,ScaleControl:c,FullscreenControl:f,Popup:h,Marker:p,Style:d,LngLat:v,LngLatBounds:m,Point:g,Evented:y,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t}}},{"../package.json":50,"./geo/lng_lat":68,"./geo/lng_lat_bounds":69,"./source/rtl_text_plugin":107,"./style/style":185,"./ui/control/attribution_control":225,"./ui/control/fullscreen_control":226,"./ui/control/geolocate_control":227,"./ui/control/navigation_control":229,"./ui/control/scale_control":230,"./ui/map":240,"./ui/marker":241,"./ui/popup":242,"./util/browser":245,"./util/config":249,"./util/evented":253,"@mapbox/point-geometry":2,"mapbox-gl-supported":37}],74:[function(t,e,n){"use strict";function r(t,e,n){var r=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0!==o){var s=t.gl,f=t.transform,h=f.tileSize,p=n.paint.get("background-pattern"),d={zoom:f.zoom},v=p||1!==r.a||1!==o?"translucent":"opaque";if(t.renderPass===v){s.disable(s.STENCIL_TEST),t.setDepthSublayer(0);var m=new u(c);m._values["background-color"]=new l(c.properties["fill-color"],{kind:"constant",value:r},d),m._values["background-opacity"]=new l(c.properties["fill-opacity"],{kind:"constant",value:o},d);var g;if(p){if(i.isPatternMissing(p,t))return;var y=a.forBackgroundPattern(o);g=t.useProgram("fillPattern",y),y.setUniforms(s,g,m,d),i.prepare(p,t,g),t.tileExtentPatternVAO.bind(s,g,t.tileExtentBuffer)}else{var _=a.forBackgroundColor(r,o);g=t.useProgram("fill",_),_.setUniforms(s,g,m,d),t.tileExtentVAO.bind(s,g,t.tileExtentBuffer)}for(var b=f.coveringTiles({tileSize:h}),x=0,w=b;x<w.length;x+=1){var E=w[x];p&&i.setTile({coord:E,tileSize:h},t,g),s.uniformMatrix4fv(g.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(E)),s.drawArrays(s.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}var i=t("./pattern"),o=t("../data/program_configuration"),a=o.ProgramConfiguration,s=t("../style/properties"),u=s.PossiblyEvaluated,l=s.PossiblyEvaluatedPropertyValue,c=t("../style/style_layer/fill_style_layer_properties").paint;e.exports=r},{"../data/program_configuration":63,"../style/properties":183,"../style/style_layer/fill_style_layer_properties":194,"./pattern":90}],75:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){var u=t.gl;t.setDepthSublayer(0),t.depthMask(!1),u.disable(u.STENCIL_TEST);for(var l=0;l<r.length;l++){var c=r[l],f=e.getTile(c),h=f.getBucket(n);if(h){var p=h.programConfigurations.get(n.id),d=t.useProgram("circle",p);if(p.setUniforms(u,d,n.paint,{zoom:t.transform.zoom}),u.uniform1f(d.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),u.uniform1i(d.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){u.uniform1i(d.uniforms.u_pitch_with_map,1);var v=i(f,1,t.transform.zoom);u.uniform2f(d.uniforms.u_extrude_scale,v,v)}else u.uniform1i(d.uniforms.u_pitch_with_map,0),u.uniform2fv(d.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);u.uniformMatrix4fv(d.uniforms.u_matrix,!1,t.translatePosMatrix(c.posMatrix,f,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),d.draw(u,u.TRIANGLES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,p)}}}}}var i=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":104}],76:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var a=t.gl,s=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),u=0;u<r.length;u++){var l=r[u],c=e.getTile(l),f=c.getBucket(n);if(f){var h=i?f.collisionCircle:f.collisionBox;if(h){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,l.posMatrix),i||t.lineWidth(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var p=o(c,1,t.transform.zoom),d=Math.pow(2,t.transform.zoom-c.coord.z);a.uniform1f(s.uniforms.u_pixels_to_tile_units,p),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(p*d),t.transform.pixelsToGLUnits[1]/(p*d)),s.draw(a,i?a.TRIANGLES:a.LINES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,h.collisionVertexBuffer,null)}}}}function i(t,e,n,i){r(t,e,n,i,!1),r(t,e,n,i,!0)}var o=t("../source/pixels_to_tile_units");e.exports=i},{"../source/pixels_to_tile_units":104}],77:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)i(t,e,n[r])}function i(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var i=n.posMatrix,h=t.useProgram("debug");r.uniformMatrix4fv(h.uniforms.u_matrix,!1,i),r.uniform4f(h.uniforms.u_color,1,0,0,1),t.debugVAO.bind(r,h,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var p=o(n.toString(),50,200,5),d=new f,v=0;v<p.length;v+=2)d.emplaceBack(p[v],p[v+1]);var m=new l(r,d);(new c).bind(r,h,m),r.uniform4f(h.uniforms.u_color,1,1,1,1);for(var g=e.getTile(n).tileSize,y=u/(Math.pow(2,t.transform.zoom-n.z)*g),_=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<_.length;b++){var x=_[b];r.uniformMatrix4fv(h.uniforms.u_matrix,!1,s.translate([],i,[y*x[0],y*x[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(h.uniforms.u_color,0,0,0,1),r.uniformMatrix4fv(h.uniforms.u_matrix,!1,i),r.drawArrays(r.LINES,0,m.length)}function o(t,e,n,r){r=r||1;var i,o,a,s,u,l,c,f,p=[];for(i=0,o=t.length;i<o;i++)if(u=h[t[i]]){for(f=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?f=null:(l=e+u[1][a]*r,c=n-u[1][a+1]*r,f&&p.push(f.x,f.y,l,c),f={x:l,y:c});e+=u[0]*r}return p}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,u=t("../data/extent"),l=t("../gl/vertex_buffer"),c=t("./vertex_array_object"),f=t("../data/pos_array");e.exports=r;var h={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/extent":58,"../data/pos_array":62,"../gl/vertex_buffer":72,"../util/browser":245,"./vertex_array_object":95,"@mapbox/gl-matrix":1}],78:[function(t,e,n){"use strict";function r(t,e,n,r){var s=n.paint.get("fill-color"),u=n.paint.get("fill-opacity");if(0!==u.constantOr(1)){var c=t.gl;c.enable(c.STENCIL_TEST);var f=n.paint.get("fill-pattern")||1!==s.constantOr(l.transparent).a||1!==u.constantOr(0)?"translucent":"opaque";t.renderPass===f&&(t.setDepthSublayer(1),t.depthMask("opaque"===t.renderPass),i(t,e,n,r,o)),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),i(t,e,n,r,a))}}function i(t,e,n,r,i){if(!u.isPatternMissing(n.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=r;a<s.length;a+=1){var l=s[a],c=e.getTile(l),f=c.getBucket(n);f&&(t.enableTileClippingMask(l),i(t,e,n,c,l,f,o),o=!1)}}function o(t,e,n,r,i,o,a){var u=t.gl,l=o.programConfigurations.get(n.id);s("fill",n.paint.get("fill-pattern"),t,l,n,r,i,a).draw(u,u.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,l)}function a(t,e,n,r,i,o,a){var u=t.gl,l=o.programConfigurations.get(n.id),c=n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),f=s("fillOutline",c,t,l,n,r,i,a);u.uniform2f(f.uniforms.u_world,u.drawingBufferWidth,u.drawingBufferHeight),f.draw(u,u.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,l)}function s(t,e,n,r,i,o,a,s){var l,c=n.currentProgram;return e?(l=n.useProgram(t+"Pattern",r),(s||l!==c)&&(r.setUniforms(n.gl,l,i.paint,{zoom:n.transform.zoom}),u.prepare(e,n,l)),u.setTile(o,n,l)):(l=n.useProgram(t,r),(s||l!==c)&&r.setUniforms(n.gl,l,i.paint,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"))),l}var u=t("./pattern"),l=t("../style-spec/util/color");e.exports=r},{"../style-spec/util/color":150,"./pattern":90}],79:[function(t,e,n){"use strict";function r(t,e,n,r){if(0!==n.paint.get("fill-extrusion-opacity"))if("3d"===t.renderPass){var a=t.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),t.clearColor(),t.depthMask(!0);for(var s=0;s<r.length;s++)o(t,e,n,r[s])}else"translucent"===t.renderPass&&i(t,n)}function i(t,e){var n=e.viewportFrame;if(n){var r=t.gl,i=t.useProgram("extrusionTexture");r.disable(r.STENCIL_TEST),r.disable(r.DEPTH_TEST),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.texture),r.uniform1f(i.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),r.uniform1i(i.uniforms.u_image,0);var o=c.create();c.ortho(o,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(i.uniforms.u_matrix,!1,o),r.uniform2f(i.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),t.viewportVAO.bind(r,i,t.viewportBuffer),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}function o(t,e,n,r){var i=e.getTile(r),o=i.getBucket(n);if(o){var s=t.gl,l=n.paint.get("fill-extrusion-pattern"),c=o.programConfigurations.get(n.id),f=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",c);if(c.setUniforms(s,f,n.paint,{zoom:t.transform.zoom}),l){if(u.isPatternMissing(l,t))return;u.prepare(l,t,f),u.setTile(i,t,f),s.uniform1f(f.uniforms.u_height_factor,-Math.pow(2,r.z)/i.tileSize/8)}t.gl.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.translatePosMatrix(r.posMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),a(f,t),f.draw(s,s.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,c)}}function a(t,e){var n=e.gl,r=e.style.light,i=r.properties.get("position"),o=[i.x,i.y,i.z],a=l.create();"viewport"===r.properties.get("anchor")&&l.fromRotation(a,-e.transform.angle),f.transformMat3(o,o,a);var s=r.properties.get("color");n.uniform3fv(t.uniforms.u_lightpos,o),n.uniform1f(t.uniforms.u_lightintensity,r.properties.get("intensity")),n.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}var s=t("@mapbox/gl-matrix"),u=t("./pattern"),l=s.mat3,c=s.mat4,f=s.vec3;e.exports=r},{"./pattern":90,"@mapbox/gl-matrix":1}],80:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass&&0!==n.paint.get("heatmap-opacity")){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST),i(o,t,n),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.blendFunc(o.ONE,o.ONE);for(var s=0;s<r.length;s++){var u=r[s];if(!e.hasRenderableParent(u)){var c=e.getTile(u),f=c.getBucket(n);if(f){var h=f.programConfigurations.get(n.id),p=t.useProgram("heatmap",h),d=t.transform,v=d.zoom;h.setUniforms(o,p,n.paint,{zoom:v}),o.uniform1f(p.uniforms.u_radius,n.paint.get("heatmap-radius")),o.uniform1f(p.uniforms.u_extrude_scale,l(c,1,v)),o.uniform1f(p.uniforms.u_intensity,n.paint.get("heatmap-intensity")),o.uniformMatrix4fv(p.uniforms.u_matrix,!1,u.posMatrix),p.draw(o,o.TRIANGLES,n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,h)}}}a(o,t,n)}}function i(t,e,n){t.activeTexture(t.TEXTURE1),t.viewport(0,0,e.width/4,e.height/4);var r=n.heatmapTexture,i=n.heatmapFbo;r?(t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,i)):(r=n.heatmapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),i=n.heatmapFbo=t.createFramebuffer(),o(t,e,r,i))}function o(t,e,n,r){t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width/4,e.height/4,0,t.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:t.UNSIGNED_BYTE,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),e.extTextureHalfFloat&&t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o(t,e,n,r))}function a(t,e,n){t.bindFramebuffer(t.FRAMEBUFFER,null),t.activeTexture(t.TEXTURE2);var r=n.colorRampTexture;r||(r=n.colorRampTexture=new u(t,n.colorRamp,t.RGBA)),r.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);var i=e.useProgram("heatmapTexture");t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n.heatmapTexture);var o=n.paint.get("heatmap-opacity");t.uniform1f(i.uniforms.u_opacity,o),t.uniform1i(i.uniforms.u_image,1),t.uniform1i(i.uniforms.u_color_ramp,2);var a=s.create();s.ortho(a,0,e.width,e.height,0,0,1),t.uniformMatrix4fv(i.uniforms.u_matrix,!1,a),t.disable(t.DEPTH_TEST),t.uniform2f(i.uniforms.u_world,t.drawingBufferWidth,t.drawingBufferHeight),e.viewportVAO.bind(t,i,e.viewportBuffer),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}var s=t("@mapbox/gl-matrix").mat4,u=t("./texture"),l=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":104,"./texture":93,"@mapbox/gl-matrix":1}],81:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,u,l,c){var f,h,p,d,v=e.gl,m=a.paint.get("line-dasharray"),g=a.paint.get("line-pattern");if(l||c){var y=1/o(n,1,e.transform.tileZoom);if(m){f=e.lineAtlas.getDash(m.from,"round"===a.layout.get("line-cap")),h=e.lineAtlas.getDash(m.to,"round"===a.layout.get("line-cap"));var _=f.width*m.fromScale,b=h.width*m.toScale;v.uniform2f(t.uniforms.u_patternscale_a,y/_,-f.height/2),v.uniform2f(t.uniforms.u_patternscale_b,y/b,-h.height/2),v.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*i.devicePixelRatio)/2)}else if(g){if(p=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!p||!d)return;v.uniform2f(t.uniforms.u_pattern_size_a,p.displaySize[0]*g.fromScale/y,d.displaySize[1]),v.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/y,d.displaySize[1]);var x=e.imageManager.getPixelSize(),w=x.width,E=x.height;v.uniform2fv(t.uniforms.u_texsize,[w,E])}v.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(m?(v.uniform1i(t.uniforms.u_image,0),v.activeTexture(v.TEXTURE0),e.lineAtlas.bind(v),v.uniform1f(t.uniforms.u_tex_y_a,f.y),v.uniform1f(t.uniforms.u_tex_y_b,h.y),v.uniform1f(t.uniforms.u_mix,m.t)):g&&(v.uniform1i(t.uniforms.u_image,0),v.activeTexture(v.TEXTURE0),e.imageManager.bind(v),v.uniform2fv(t.uniforms.u_pattern_tl_a,p.tl),v.uniform2fv(t.uniforms.u_pattern_br_a,p.br),v.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),v.uniform2fv(t.uniforms.u_pattern_br_b,d.br),v.uniform1f(t.uniforms.u_fade,g.t))),e.enableTileClippingMask(s);var T=e.translatePosMatrix(s.posMatrix,n,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));v.uniformMatrix4fv(t.uniforms.u_matrix,!1,T),v.uniform1f(t.uniforms.u_ratio,1/o(n,1,e.transform.zoom)),t.draw(v,v.TRIANGLES,a.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,u)}var i=t("../util/browser"),o=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,i){if("translucent"===t.renderPass){if(0!==n.paint.get("line-opacity").constantOr(1)){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;o.enable(o.STENCIL_TEST);for(var a,s=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":"line",u=!0,l=0,c=i;l<c.length;l+=1){var f=c[l],h=e.getTile(f),p=h.getBucket(n);if(p){var d=p.programConfigurations.get(n.id),v=t.currentProgram,m=t.useProgram(s,d),g=u||m!==v,y=a!==h.coord.z;g&&d.setUniforms(t.gl,m,n.paint,{zoom:t.transform.zoom}),r(m,t,h,p,n,f,d,g,y),a=h.coord.z,u=!1}}}}}},{"../source/pixels_to_tile_units":104,"../util/browser":245}],82:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")){var u=t.gl,c=e.getSource(),f=t.useProgram("raster");u.enable(u.DEPTH_TEST),t.depthMask(1===n.paint.get("raster-opacity")),u.depthFunc(u.LESS),u.disable(u.STENCIL_TEST),u.uniform1f(f.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),u.uniform1f(f.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),u.uniform1f(f.uniforms.u_saturation_factor,a(n.paint.get("raster-saturation"))),u.uniform1f(f.uniforms.u_contrast_factor,o(n.paint.get("raster-contrast"))),u.uniform3fv(f.uniforms.u_spin_weights,i(n.paint.get("raster-hue-rotate"))),u.uniform1f(f.uniforms.u_buffer_scale,1),u.uniform1i(f.uniforms.u_image0,0),u.uniform1i(f.uniforms.u_image1,1);for(var h=r.length&&r[0].z,p=0,d=r;p<d.length;p+=1){var v=d[p];t.setDepthSublayer(v.z-h);var m=e.getTile(v),g=t.transform.calculatePosMatrix(v,e.getSource().maxzoom);m.registerFadeDuration(n.paint.get("raster-fade-duration")),u.uniformMatrix4fv(f.uniforms.u_matrix,!1,g);var y=e.findLoadedParent(v,0,{}),_=s(m,y,e,n,t.transform),b=void 0,x=void 0;if(u.activeTexture(u.TEXTURE0),m.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST),u.activeTexture(u.TEXTURE1),y?(y.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,y.coord.z-m.coord.z),x=[m.coord.x*b%1,m.coord.y*b%1]):m.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST),u.uniform2fv(f.uniforms.u_tl_parent,x||[0,0]),u.uniform1f(f.uniforms.u_scale_parent,b||1),u.uniform1f(f.uniforms.u_fade_t,_.mix),u.uniform1f(f.uniforms.u_opacity,_.opacity*n.paint.get("raster-opacity")),c instanceof l){var w=c.boundsBuffer;c.boundsVAO.bind(u,f,w),u.drawArrays(u.TRIANGLE_STRIP,0,w.length)}else if(m.maskedBoundsBuffer&&m.maskedIndexBuffer&&m.segments)f.draw(u,u.TRIANGLES,n.id,m.maskedBoundsBuffer,m.maskedIndexBuffer,m.segments);else{var E=t.rasterBoundsBuffer,T=t.rasterBoundsVAO;T.bind(u,f,E),u.drawArrays(u.TRIANGLE_STRIP,0,E.length)}}u.depthFunc(u.LEQUAL)}}function i(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,r,i){var o=r.paint.get("raster-fade-duration");if(o>0){var a=Date.now(),s=(a-t.timeAdded)/o,l=e?(a-e.timeAdded)/o:-1,c=n.getSource(),f=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!e||Math.abs(e.coord.z-f)>Math.abs(t.coord.z-f),p=h&&t.refreshedUponExpiration?1:u.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var u=t("../util/util"),l=t("../source/image_source");e.exports=r},{"../source/image_source":102,"../util/util":266}],83:[function(t,e,n){"use strict";function r(t,e,n,r){if("translucent"===t.renderPass){var o=t.gl;o.disable(o.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),0!==n.paint.get("icon-opacity").constantOr(1)&&i(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&i(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&u(t,e,n,r)}}function i(t,e,n,r,i,s,u,f,h,d){var v=t.gl,m=t.transform,g="map"===f,y="map"===h,_=g&&"line"===n.layout.get("symbol-placement"),b=g&&!y&&!_,x=y;x?v.enable(v.DEPTH_TEST):v.disable(v.DEPTH_TEST);for(var w,E=0,T=r;E<T.length;E+=1){var I=T[E],C=e.getTile(I),M=C.getBucket(n);if(M){var A=i?M.text:M.icon;if(A&&A.segments.get().length){var S=A.programConfigurations.get(n.id),R=i||M.sdfIcons,L=i?M.textSizeData:M.iconSizeData;if(w||(w=t.useProgram(R?"symbolSDF":"symbolIcon",S),S.setUniforms(v,w,n.paint,{zoom:t.transform.zoom}),o(w,t,n,i,b,y,L)),v.activeTexture(v.TEXTURE0),v.uniform1i(w.uniforms.u_texture,0),i)C.glyphAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),v.uniform2fv(w.uniforms.u_texsize,C.glyphAtlasTexture.size);else{var k=1!==n.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear,N=y||0!==m.pitch;C.iconAtlasTexture.bind(R||t.options.rotating||t.options.zooming||k||N?v.LINEAR:v.NEAREST,v.CLAMP_TO_EDGE),v.uniform2fv(w.uniforms.u_texsize,C.iconAtlasTexture.size)}t.enableTileClippingMask(I),v.uniformMatrix4fv(w.uniforms.u_matrix,!1,t.translatePosMatrix(I.posMatrix,C,s,u));var F=l(C,1,t.transform.zoom),O=c.getLabelPlaneMatrix(I.posMatrix,y,g,t.transform,F),B=c.getGlCoordMatrix(I.posMatrix,y,g,t.transform,F);v.uniformMatrix4fv(w.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(B,C,s,u,!0)),_?(v.uniformMatrix4fv(w.uniforms.u_label_plane_matrix,!1,p),c.updateLineLabels(M,I.posMatrix,t,i,O,B,y,d)):v.uniformMatrix4fv(w.uniforms.u_label_plane_matrix,!1,O),v.uniform1f(w.uniforms.u_fade_change,t.options.collisionFadeDuration?(Date.now()-M.fadeStartTime)/t.options.collisionFadeDuration:1),a(w,S,t,n,C,A,i,R,y)}}}x||v.enable(v.DEPTH_TEST)}function o(t,e,n,r,i,o,a){var s=e.gl,u=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(t.uniforms.u_is_text,r?1:0),s.uniform1f(t.uniforms.u_pitch,u.pitch/360*2*Math.PI);var l="constant"===a.functionType||"source"===a.functionType,c="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,l?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,c?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var h=f.evaluateSizeForZoom(a,u.zoom,d.properties[r?"text-size":"icon-size"]);void 0!==h.uSizeT&&s.uniform1f(t.uniforms.u_size_t,h.uSizeT),void 0!==h.uSize&&s.uniform1f(t.uniforms.u_size,h.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,u.width/u.height),s.uniform1i(t.uniforms.u_rotate_symbol,i?1:0)}function a(t,e,n,r,i,o,a,u,l){var c=n.gl,f=n.transform;if(u){var h=0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),p=l?Math.cos(f._pitch)*f.cameraToCenterDistance:1;c.uniform1f(t.uniforms.u_gamma_scale,p),h&&(c.uniform1f(t.uniforms.u_is_halo,1),s(o,r,c,t)),c.uniform1f(t.uniforms.u_is_halo,0)}s(o,r,c,t)}function s(t,e,n,r){r.draw(n,n.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}var u=t("./draw_collision_debug"),l=t("../source/pixels_to_tile_units"),c=t("../symbol/projection"),f=t("../symbol/symbol_size"),h=t("@mapbox/gl-matrix").mat4,p=h.identity(new Float32Array(16)),d=t("../style/style_layer/symbol_style_layer_properties").layout;e.exports=r},{"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":202,"../symbol/projection":216,"../symbol/symbol_size":221,"./draw_collision_debug":76,"@mapbox/gl-matrix":1}],84:[function(t,e,n){"use strict";function r(t){var e=a.create({width:0,height:0}),n={},r=new i(0,0,{autoResize:!0});for(var o in t){var u=t[o],l=n[o]={};for(var c in u){var f=u[+c];if(f&&0!==f.bitmap.width&&0!==f.bitmap.height){var h=r.packOne(f.bitmap.width+2*s,f.bitmap.height+2*s);a.resize(e,{width:r.w,height:r.h}),a.copy(f.bitmap,e,{x:0,y:0},{x:h.x+s,y:h.y+s},f.bitmap),l[c]={rect:h,metrics:f.metrics}}}}return r.shrink(),a.resize(e,{width:r.w,height:r.h}),{image:e,positions:n}}var i=t("@mapbox/shelf-pack"),o=t("../util/image"),a=o.AlphaImage,s=1;e.exports={makeGlyphAtlas:r}},{"../util/image":256,"@mapbox/shelf-pack":3}],85:[function(t,e,n){"use strict";var r=t("../style/load_glyph_range"),i=t("@mapbox/tiny-sdf"),o=t("../util/is_char_in_unicode_block"),a=t("../util/util"),s=a.asyncAll,u=t("../util/image"),l=u.AlphaImage,c=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};c.prototype.setURL=function(t){this.url=t},c.prototype.getGlyphs=function(t,e){var n=this,i=[];for(var o in t)for(var a=0,u=t[o];a<u.length;a+=1){var l=u[a];i.push({stack:o,id:l})}s(i,function(t,e){var i=t.stack,o=t.id,a=n.entries[i];a||(a=n.entries[i]={glyphs:{},requests:{}});var s=a.glyphs[o];if(void 0!==s)return void e(null,{stack:i,id:o,glyph:s});if(s=n._tinySDF(a,i,o))return void e(null,{stack:i,id:o,glyph:s});var u=Math.floor(o/256);if(256*u>65535)return void e(new Error("glyphs > 65535 not supported"));var l=a.requests[u];l||(l=a.requests[u]=[],r(i,u,n.url,n.requestTransform,function(t,e){if(e)for(var n in e)a.glyphs[+n]=e[+n];for(var r=0,i=l;r<i.length;r+=1){(0,i[r])(t,e)}delete a.requests[u]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})},function(t,n){if(t)e(t);else if(n){for(var r={},i=0,o=n;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l}e(null,r)}})},c.prototype._tinySDF=function(t,e,n){var r=this.localIdeographFontFamily;if(r&&(o["CJK Unified Ideographs"](n)||o["Hangul Syllables"](n))){var a=t.tinySDF;if(!a){var s="400";/bold/i.test(e)?s="900":/medium/i.test(e)?s="500":/light/i.test(e)&&(s="200"),a=t.tinySDF=new i(24,3,8,.25,r,s)}return{id:n,bitmap:l.create({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=c},{"../style/load_glyph_range":179,"../util/image":256,"../util/is_char_in_unicode_block":258,"../util/util":266,"@mapbox/tiny-sdf":4}],86:[function(t,e,n){"use strict";function r(t,e){var n=e.pixelRatio,r={x:t.x+u,y:t.y+u,w:t.w-2*u,h:t.h-2*u};return{pixelRatio:n,textureRect:r,tl:[r.x,r.y],br:[r.x+r.w,r.y+r.h],displaySize:[r.w/n,r.h/n]}}function i(t){var e=s.create({width:0,height:0}),n={},i=new o(0,0,{autoResize:!0});for(var a in t){var l=t[a],c=i.packOne(l.data.width+2*u,l.data.height+2*u);s.resize(e,{width:i.w,height:i.h}),s.copy(l.data,e,{x:0,y:0},{x:c.x+u,y:c.y+u},l.data),n[a]=r(c,l)}return i.shrink(),s.resize(e,{width:i.w,height:i.h}),{image:e,positions:n}}var o=t("@mapbox/shelf-pack"),a=t("../util/image"),s=a.RGBAImage,u=1;e.exports={imagePosition:r,makeImageAtlas:i}},{"../util/image":256,"@mapbox/shelf-pack":3}],87:[function(t,e,n){"use strict";var r=t("@mapbox/shelf-pack"),i=t("../util/image"),o=i.RGBAImage,a=t("./image_atlas"),s=a.imagePosition,u=t("./texture"),l=1,c=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new r(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=o.create({width:64,height:64}),this.dirty=!0};c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var n=0,r=e.requestors;n<r.length;n+=1){var i=r[n],o=i.ids,a=i.callback;e._notify(o,a)}this.requestors=[]}},c.prototype.getImage=function(t){return this.images[t]},c.prototype.addImage=function(t,e){this.images[t]=e},c.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},c.prototype.getImages=function(t,e){var n=this,r=!0;if(!this.isLoaded())for(var i=0,o=t;i<o.length;i+=1){var a=o[i];n.images[a]||(r=!1)}this.isLoaded()||r?this._notify(t,e):this.requestors.push({ids:t,callback:e})},c.prototype._notify=function(t,e){for(var n=this,r={},i=0,o=t;i<o.length;i+=1){var a=o[i],s=n.images[a];s&&(r[a]=s)}e(null,r)},c.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},c.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var r=n.data.width+2*l,i=n.data.height+2*l,a=this.shelfPack.packOne(r,i);if(!a)return null;o.resize(this.atlasImage,this.getPixelSize());var u=n.data,c=this.atlasImage,f=a.x+l,h=a.y+l,p=u.width,d=u.height;o.copy(u,c,{x:0,y:0},{x:f,y:h},{width:p,height:d}),o.copy(u,c,{x:0,y:d-1},{x:f,y:h-1},{width:p,height:1}),o.copy(u,c,{x:0,y:0},{x:f,y:h+d},{width:p,height:1}),o.copy(u,c,{x:p-1,y:0},{x:f-1,y:h},{width:1,height:d}),o.copy(u,c,{x:0,y:0},{x:f+p,y:h},{width:1,height:d}),this.dirty=!0;var v=s(a,n);return this.patterns[t]={bin:a,position:v},v},c.prototype.bind=function(t){this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new u(t,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},e.exports=c},{"../util/image":256,"./image_atlas":86,"./texture":93,"@mapbox/shelf-pack":3}],88:[function(t,e,n){"use strict";var r=t("../util/util"),i=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};i.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},i.prototype.addDash=function(t,e){var n=this,i=e?7:0,o=2*i+1;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var u=this.width/a,l=u/2,c=t.length%2==1,f=-i;f<=i;f++)for(var h=n.nextRow+i+f,p=n.width*h,d=c?-t[t.length-1]:0,v=t[0],m=1,g=0;g<this.width;g++){for(;v<g/u;)d=v,v+=t[m],c&&m===t.length-1&&(v+=t[0]),m++;var y=Math.abs(g-d*u),_=Math.abs(g-v*u),b=Math.min(y,_),x=m%2==1,w=void 0;if(e){var E=i?f/i*(l+1):0;if(x){var T=l-Math.abs(E);w=Math.sqrt(b*b+T*T)}else w=l-Math.sqrt(b*b+E*E)}else w=(x?1:-1)*b;n.data[3+4*(p+g)]=Math.max(0,Math.min(255,w+128))}var I={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=o,this.dirty=!0,I},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=i},{"../util/util":266}],89:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("@mapbox/gl-matrix").mat4,o=t("../source/source_cache"),a=t("../data/extent"),s=t("../source/pixels_to_tile_units"),u=t("../util/util"),l=t("../gl/vertex_buffer"),c=t("./vertex_array_object"),f=t("../data/raster_bounds_array"),h=t("../data/pos_array"),p=t("../data/program_configuration"),d=p.ProgramConfiguration,v=t("../symbol/cross_tile_symbol_index"),m=t("../shaders"),g=t("./program"),y=t("./render_texture"),_=t("./tile_mask"),b={symbol:t("./draw_symbol"),circle:t("./draw_circle"),heatmap:t("./draw_heatmap"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},x=function(t,e){this.gl=t,this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.emptyProgramConfiguration=new d,this.crossTileSymbolIndex=new v};x.prototype.resize=function(t,e){var n=this,i=this.gl;if(this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,i.viewport(0,0,this.width,this.height),this.style)for(var o=0,a=n.style._order;o<a.length;o+=1){var s=a[o];n.style._layers[s].resize(i)}this.depthRbo&&(this.gl.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},x.prototype.setup=function(){var t=this.gl;t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new h;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=new l(t,e),this.tileExtentVAO=new c,this.tileExtentPatternVAO=new c;var n=new h;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=new l(t,n),this.debugVAO=new c;var r=new f;r.emplaceBack(0,0,0,0),r.emplaceBack(a,0,a,0),r.emplaceBack(0,a,0,a),r.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=new l(t,r),this.rasterBoundsVAO=new c;var i=new h;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=new l(t,i),this.viewportVAO=new c,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")},x.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},x.prototype.clearStencil=function(){var t=this.gl;t.colorMask(!1,!1,!1,!1),this.depthMask(!1),t.disable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),t.stencilMask(255),t.stencilOp(t.ZERO,t.ZERO,t.ZERO),t.stencilFunc(t.ALWAYS,0,255);var e=i.create();i.ortho(e,0,this.width,this.height,0,0,1),i.scale(e,e,[t.drawingBufferWidth,t.drawingBufferHeight,0]);var n=this.useProgram("fill",d.forTileClippingMask());t.uniformMatrix4fv(n.uniforms.u_matrix,!1,e),this.viewportVAO.bind(t,n,this.viewportBuffer),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.stencilMask(0),t.colorMask(!0,!0,!0,!0),this.depthMask(!0),t.enable(t.DEPTH_TEST)},x.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},x.prototype._renderTileClippingMasks=function(t){var e=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var i=d.forTileClippingMask(),o=0,a=t;o<a.length;o+=1){var s=a[o],u=e._tileClippingMaskIDs[s.id]=r++;n.stencilFunc(n.ALWAYS,u,255);var l=e.useProgram("fill",i);n.uniformMatrix4fv(l.uniforms.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(n,l,e.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},x.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],255)},x.prototype.render=function(t,e){var n=this;this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager;for(var r in t.sourceCaches){var i=n.style.sourceCaches[r];i.used&&i.prepare(n.gl)}var o=this.style._order,a=u.filterObject(this.style.sourceCaches,function(t){return"raster"===t._source.type});for(var s in a)!function(t){var e=a[t],r=e.getVisibleCoordinates(),i=r.map(function(t){return e.getTile(t)});_(i,n.gl)}(s);this.renderPass="3d";for(var l,c=!0,f=[],h=0;h<o.length;h++){var p=n.style._layers[o[h]];if(p.has3DPass()&&!p.isHidden(n.transform.zoom)&&(p.source!==(l&&l.id)&&(l=n.style.sourceCaches[p.source],f=[],l&&(n.clearStencil(),f=l.getVisibleCoordinates()),f.reverse()),f.length)){n._setup3DRenderbuffer();var d=p.viewportFrame||new y(n);p.viewportFrame=d,d.bindWithDepth(n.depthRbo),c&&(n.clearDepth(),c=!1),n.renderLayer(n,l,p,f),d.unbind()}}this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var v,m=[];for(this.currentLayer=o.length-1,this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.currentLayer;this.currentLayer>=0;this.currentLayer--){var g=n.style._layers[o[n.currentLayer]];g.source!==(v&&v.id)&&(v=n.style.sourceCaches[g.source],m=[],v&&(n.clearStencil(),m=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(m))),n.renderLayer(n,v,g,m)}this.renderPass="translucent";var x,w=[];for(this.gl.enable(this.gl.BLEND),this.currentLayer=0,this.currentLayer;this.currentLayer<o.length;this.currentLayer++){var E=n.style._layers[o[n.currentLayer]];E.source!==(x&&x.id)&&(x=n.style.sourceCaches[E.source],w=[],x&&(n.clearStencil(),w=x.getVisibleCoordinates(),x.getSource().isTileClipped&&n._renderTileClippingMasks(w)),w.reverse()),n.renderLayer(n,x,E,w)}if(this.options.showTileBoundaries){var T=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];T&&b.debug(this,T,T.getVisibleCoordinates())}},x.prototype._setup3DRenderbuffer=function(){if(!this.depthRbo){var t=this.gl;this.depthRbo=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRbo),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}this.depthRboAttached=!0},x.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},x.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,b[n.type](t,e,n,r))},x.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},x.prototype.translatePosMatrix=function(t,e,n,r,o){if(!n[0]&&!n[1])return t;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var u=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*u,n[0]*u+n[1]*l]}var c=[o?n[0]:s(e,n[0],this.transform.zoom),o?n[1]:s(e,n[1],this.transform.zoom),0],f=new Float32Array(16);return i.translate(f,t,c),f},x.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},x.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},x.prototype.lineWidth=function(t){this.gl.lineWidth(u.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},x.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);e.blendColor(1/8,1/8,1/8,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},x.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new g(this.gl,m[t],e,this._showOverdrawInspector)),this.cache[n]},x.prototype.useProgram=function(t,e){var n=this.gl,r=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},e.exports=x},{"../data/extent":58,"../data/pos_array":62,"../data/program_configuration":63,"../data/raster_bounds_array":64,"../gl/vertex_buffer":72,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":109,"../symbol/cross_tile_symbol_index":211,"../util/browser":245,"../util/util":266,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_line":81,"./draw_raster":82,"./draw_symbol":83,"./program":91,"./render_texture":92,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":1}],90:[function(t,e,n){"use strict";var r=t("../source/pixels_to_tile_units");n.isPatternMissing=function(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);return!n||!r},n.prepare=function(t,e,n){var r=e.gl,i=e.imageManager.getPattern(t.from),o=e.imageManager.getPattern(t.to);r.uniform1i(n.uniforms.u_image,0),r.uniform2fv(n.uniforms.u_pattern_tl_a,i.tl),r.uniform2fv(n.uniforms.u_pattern_br_a,i.br),r.uniform2fv(n.uniforms.u_pattern_tl_b,o.tl),r.uniform2fv(n.uniforms.u_pattern_br_b,o.br);var a=e.imageManager.getPixelSize(),s=a.width,u=a.height;r.uniform2fv(n.uniforms.u_texsize,[s,u]),r.uniform1f(n.uniforms.u_mix,t.t),r.uniform2fv(n.uniforms.u_pattern_size_a,i.displaySize),r.uniform2fv(n.uniforms.u_pattern_size_b,o.displaySize),r.uniform1f(n.uniforms.u_scale_a,t.fromScale),r.uniform1f(n.uniforms.u_scale_b,t.toScale),r.activeTexture(r.TEXTURE0),e.imageManager.bind(r)},n.setTile=function(t,e,n){var i=e.gl;i.uniform1f(n.uniforms.u_tile_units_to_pixels,1/r(t,1,e.transform.tileZoom));var o=Math.pow(2,t.coord.z),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=a*(t.coord.x+t.coord.w*o),u=a*t.coord.y;i.uniform2f(n.uniforms.u_pixel_coord_upper,s>>16,u>>16),i.uniform2f(n.uniforms.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":104}],91:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("../shaders"),o=t("../data/program_configuration"),a=o.ProgramConfiguration,s=t("./vertex_array_object"),u=function(t,e,n,o){var a=this;this.gl=t,this.program=t.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var u=s.concat(i.prelude.fragmentSource,e.fragmentSource).join("\n"),l=s.concat(i.prelude.vertexSource,e.vertexSource).join("\n"),c=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(c,u),t.compileShader(c),t.attachShader(this.program,c);var f=t.createShader(t.VERTEX_SHADER);t.shaderSource(f,l),t.compileShader(f),t.attachShader(this.program,f);for(var h=n.interface?n.interface.layoutAttributes:[],p=0;p<h.length;p++)t.bindAttribLocation(a.program,p,h[p].name);t.linkProgram(this.program),this.numAttributes=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var v=t.getActiveAttrib(a.program,d);v&&(a.attributes[v.name]=t.getAttribLocation(a.program,v.name))}for(var m=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),g=0;g<m;g++){var y=t.getActiveUniform(a.program,g);y&&(a.uniforms[y.name]=t.getUniformLocation(a.program,y.name))}};u.prototype.draw=function(t,e,n,r,i,o,a,u,l){for(var c,f=this,h=(c={},c[t.LINES]=2,c[t.TRIANGLES]=3,c)[e],p=0,d=o.get();p<d.length;p+=1){var v=d[p],m=v.vaos||(v.vaos={});(m[n]||(m[n]=new s)).bind(t,f,r,i,a&&a.paintVertexBuffer,v.vertexOffset,u,l),t.drawElements(e,v.primitiveLength*h,t.UNSIGNED_SHORT,v.primitiveOffset*h*2)}},e.exports=u},{"../data/program_configuration":63,"../shaders":97,"../util/browser":245,"./vertex_array_object":95}],92:[function(t,e,n){"use strict";var r=function(t){var e=this.gl=t.gl,n=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null);var r=this.fbo=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)};r.prototype.bindWithDepth=function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),this.attachedRbo!==t&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.attachedRbo=t)},r.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},e.exports=r},{}],93:[function(t,e,n){"use strict";var r=t("../util/window"),i=r.HTMLImageElement,o=r.HTMLCanvasElement,a=r.HTMLVideoElement,s=r.ImageData,u=function(t,e,n){this.gl=t;var r=e.width,i=e.height;this.size=[r,i],this.format=n,this.texture=t.createTexture(),this.update(e)};u.prototype.update=function(t){var e=t.width,n=t.height;this.size=[e,n];var r=this,u=r.gl;u.bindTexture(u.TEXTURE_2D,this.texture),u.pixelStorei(u.UNPACK_ALIGNMENT,1),this.format===u.RGBA&&u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t instanceof i||t instanceof o||t instanceof a||t instanceof s?u.texImage2D(u.TEXTURE_2D,0,this.format,this.format,u.UNSIGNED_BYTE,t):u.texImage2D(u.TEXTURE_2D,0,this.format,e,n,0,this.format,u.UNSIGNED_BYTE,t.data)},u.prototype.bind=function(t,e,n){var r=this,i=r.gl;i.bindTexture(i.TEXTURE_2D,this.texture),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)},u.prototype.destroy=function(){this.gl.deleteTexture(this.texture),this.texture=null},e.exports=u},{"../util/window":247}],94:[function(t,e,n){"use strict";function r(t,e,n,o,a){for(var s=0;s<n.length;s++){var u=n[s];if(o.isLessThan(u.coord))break;if(e.id===u.coord.id)return;if(u.coord.isChildOf(e,u.sourceMaxZoom)){for(var l=e.children(1/0),c=0;c<l.length;c++){r(t,l[c],n.slice(s),o,a)}return}}var f=e.z-t.z,h=new i(f,e.x-(t.x<<f),e.y-(t.y<<f)).id;a[h]=a[h]||!0}var i=t("../source/tile_coord");e.exports=function(t,e){for(var n=t.sort(function(t,e){return t.coord.isLessThan(e.coord)?-1:e.coord.isLessThan(t.coord)?1:0}),o=0;o<n.length;o++){var a={},s=n[o],u=n.slice(o+1);r(s.coord.wrapped(),s.coord,u,new i(0,0,0,s.coord.w+1),a),s.setMask(a,e)}}},{"../source/tile_coord":112}],95:[function(t,e,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};r.prototype.bind=function(t,e,n,r,i,o,a,s){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var u=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==i||this.boundIndexBuffer!==r||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?(this.freshBind(t,e,n,r,i,o,a,s),this.gl=t):(t.extVertexArrayObject.bindVertexArrayOES(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind())},r.prototype.freshBind=function(t,e,n,r,i,o,a,s){var u,l=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),u=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=i,this.boundIndexBuffer=r,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=s;else{u=t.currentNumAttributes||0;for(var c=l;c<u;c++)t.disableVertexAttribArray(c)}n.enableAttributes(t,e),i&&i.enableAttributes(t,e),a&&a.enableAttributes(t,e),s&&s.enableAttributes(t,e),n.bind(),n.setVertexAttribPointers(t,e,o),i&&(i.bind(),i.setVertexAttribPointers(t,e,o)),a&&(a.bind(),a.setVertexAttribPointers(t,e,o)),r&&r.bind(),s&&(s.bind(),s.setVertexAttribPointers(t,e,o)),t.currentNumAttributes=l},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=r},{}],96:[function(t,e,n){"use strict";var r=t("../util/util");n.packUint8ToFloat=function(t,e){return t=r.clamp(Math.floor(t),0,255),e=r.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":266}],97:[function(t,e,n){"use strict";var r={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nuniform highp float u_radius;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_radius;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of u_radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by u_radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * u_radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 3.0;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (camera_to_anchor_distance / u_camera_to_center_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w / collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance / collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=function(t){var e=r[t],n={};e.fragmentSource=e.fragmentSource.replace(i,function(t,e,r,i,o){return n[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(i,function(t,e,r,i,o){var a="float"===i?"vec2":"vec4";return n[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"})};for(var a in r)o(a);e.exports=r},{}],98:[function(t,e,n){"use strict";var r=t("./image_source"),i=t("../util/window"),o=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||i.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||0!==Object.keys(this.tiles).length&&this._prepareImage(this.map.painter.gl,this.canvas,t)},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this._playing},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var r=n[e];if(isNaN(r)||r<=0)return!0}return!1},e}(r);e.exports=o},{"../util/window":247,"./image_source":102}],99:[function(t,e,n){"use strict";function r(t){var e=a.document.createElement("a");return e.href=t,e.href}var i=t("../util/evented"),o=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),u=t("../util/ajax").ResourceType,l=t("../util/browser"),c=function(t){function e(e,n,r,i){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(i),this._data=n.data,this._options=o.extend({},n),void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return void t.fire("error",{error:e});t.fire("data",{dataType:"source",sourceDataType:"metadata"})})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},e.prototype._updateWorkerData=function(t){var e=this,n=o.extend({},this.workerOptions),i=this._data;"string"==typeof i?n.request=this.map._transformRequest(r(i),u.Source):n.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){e._loaded=!0,t(n)},this.workerID)},e.prototype.loadTile=function(t,e){var n=this,r=void 0===t.workerID||"expired"===t.state?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:l.devicePixelRatio,overscaling:t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(r,i,function(r,i){return t.unloadVectorData(),t.aborted?e(null):r?e(r):(t.loadVectorData(i,n.map.painter),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},e.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},e.prototype.hasTransition=function(){return!1},e}(i);e.exports=c},{"../data/extent":58,"../util/ajax":244,"../util/browser":245,"../util/evented":253,"../util/util":266,"../util/window":247}],100:[function(t,e,n){"use strict";function r(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var i=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!i)return e(null,null);var o=new a(i.features),u=s(o);0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),e(null,{vectorTile:o,rawData:u.buffer})}var i=t("../util/ajax"),o=t("geojson-rewind"),a=t("./geojson_wrapper"),s=t("vt-pbf"),u=t("supercluster"),l=t("geojson-vt"),c=t("./vector_tile_worker_source"),f=function(t){function e(e,n,i){t.call(this,e,n,r),i&&(this.loadGeoJSON=i),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var n=this;this.loadGeoJSON(t,function(r,i){if(r||!i)return e(r);if("object"!=typeof i)return e(new Error("Input data is not a valid GeoJSON object."));o(i,!0);try{n._geoJSONIndexes[t.source]=t.cluster?u(t.superclusterOptions).load(i.features):l(i,t.geojsonVtOptions)}catch(r){return e(r)}n.loaded[t.source]={},e(null)})},e.prototype.reloadTile=function(e,n){var r=this.loaded[e.source],i=e.uid;return r&&r[i]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},e.prototype.loadGeoJSON=function(t,e){if(t.request)i.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t,e){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source],e()},e}(c);e.exports=f},{"../util/ajax":244,"./geojson_wrapper":101,"./vector_tile_worker_source":114,"geojson-rewind":14,"geojson-vt":18,supercluster:41,"vt-pbf":46}],101:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),i=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),a=function(t){this._feature=t,this.extent=o,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};a.prototype.loadGeometry=function(){var t=this;if(1===this._feature.type){for(var e=[],n=0,i=t._feature.geometry;n<i.length;n+=1){var o=i[n];e.push([new r(o[0],o[1])])}return e}for(var a=[],s=0,u=t._feature.geometry;s<u.length;s+=1){for(var l=u[s],c=[],f=0,h=l;f<h.length;f+=1){var p=h[f];c.push(new r(p[0],p[1]))}a.push(c)}return a},a.prototype.toGeoJSON=function(t,e,n){return i.call(this,t,e,n)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new a(this._features[t])},e.exports=s},{"../data/extent":58,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],102:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/window"),o=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("@mapbox/point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../util/browser"),f=t("../data/extent"),h=t("../data/raster_bounds_array"),p=t("../gl/vertex_buffer"),d=t("../render/vertex_array_object"),v=t("../render/texture"),m=function(t){function e(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n,this.textureLoaded=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.map._transformRequest(this.url,l.ResourceType.Image),function(e,n){e?t.fire("error",{error:e}):n&&(t.image=c.getImageData(n),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),i=this.centerCoord=r.getCoordinatesCenter(n);i.column=Math.floor(i.column),i.row=Math.floor(i.row),this.coord=new o(i.zoom,i.column,i.row),this.minzoom=this.maxzoom=i.zoom;var u=n.map(function(t){var e=t.zoomTo(i.zoom);return new s(Math.round((e.column-i.column)*f),Math.round((e.row-i.row)*f))});return this._boundsArray=new h,this._boundsArray.emplaceBack(u[0].x,u[0].y,0,0),this._boundsArray.emplaceBack(u[1].x,u[1].y,f,0),this._boundsArray.emplaceBack(u[3].x,u[3].y,0,f),this._boundsArray.emplaceBack(u[2].x,u[2].y,f,f),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){0!==Object.keys(this.tiles).length&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,n){var r=this;this.boundsBuffer||(this.boundsBuffer=new p(t,this._boundsArray)),this.boundsVAO||(this.boundsVAO=new d),this.textureLoaded?n?this.texture.update(e):(e instanceof i.HTMLVideoElement||e instanceof i.ImageData||e instanceof i.HTMLCanvasElement)&&(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e)):(this.textureLoaded=!0,this.texture=new v(t,e,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE));for(var o in r.tiles){var a=r.tiles[o];"loaded"!==a.state&&(a.state="loaded",a.texture=r.texture)}},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this.tiles[String(t.coord.w)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return!1},e}(u);e.exports=m},{"../data/extent":58,"../data/raster_bounds_array":64,"../geo/lng_lat":68,"../gl/vertex_buffer":72,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":244,"../util/browser":245,"../util/evented":253,"../util/util":266,"../util/window":247,"./tile_coord":112,"@mapbox/point-geometry":2}],103:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,n){var s=function(t,e){if(t)return n(t);if(e){var i=r.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(i.vectorLayers=e.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),n(null,i)}};t.url?i.getJSON(e(a(t.url),i.ResourceType.Source),s):o.frame(function(){return s(null,t)})}},{"../util/ajax":244,"../util/browser":245,"../util/mapbox":260,"../util/util":266}],104:[function(t,e,n){"use strict";var r=t("../data/extent");e.exports=function(t,e,n){return e*(r/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/extent":58}],105:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function i(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},h=e[l]=e[l]||[],p=0,d=c;p<d.length;p+=1){var v=d[p];f[v.featureIndex]||(f[v.featureIndex]=!0,h.push(v.feature))}}return e}var o=t("./tile_coord");n.rendered=function(t,e,n,o,a,s){var u=t.tilesIn(n);u.sort(r);for(var l=[],c=0,f=u;c<f.length;c+=1){var h=f[c];l.push({wrappedTileID:h.coord.wrapped().id,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,o,s,t.id)})}return i(l)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],i={},a=0;a<n.length;a++){var s=n[a],u=new o(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;i[u]||(i[u]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":112}],106:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,u=t("./tile_bounds"),l=t("../render/texture"),c=function(t){function e(e,n,i,o){t.call(this),this.id=e,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({},n),r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(r.extend(t,n),n.bounds&&(t.tileBounds=new u(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.loadTile=function(t,e){var n=this,r=s(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=i.getImage(this.map._transformRequest(r,i.ResourceType.Tile),function(r,i){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(r)t.state="errored",e(r);else if(i){n.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=n.map.painter.gl;t.texture=n.map.painter.getTileTexture(i.width),t.texture?(t.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,i)):(t.texture=new l(o,i,o.RGBA),t.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),n.map.painter.extTextureFilterAnisotropic&&o.texParameterf(o.TEXTURE_2D,n.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.map.painter.extTextureFilterAnisotropicMax)),o.generateMipmap(o.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},e.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},e.prototype.hasTransition=function(){return!1},e}(o);e.exports=c},{"../render/texture":93,"../util/ajax":244,"../util/evented":253,"../util/mapbox":260,"../util/util":266,"./load_tilejson":103,"./tile_bounds":111}],107:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/evented"),o=t("../util/window"),a=!1,s=null;e.exports.evented=new i,e.exports.registerForPluginAvailability=function(t){return s?t({pluginBlobURL:s,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data],{type:"text/javascript"}))},e.exports.clearRTLTextPlugin=function(){a=!1,s=null},e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,r.getArrayBuffer({url:t},function(t,r){t?n(t):r&&(s=e.exports.createBlobURL(r),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null},{"../util/ajax":244,"../util/evented":253,"../util/window":247}],108:[function(t,e,n){"use strict";var r=t("../util/util"),i={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,o){var a=new i[e.type](t,e,n,o);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return r.bindAll(["load","abort","unload","serialize","prepare"],a),a},n.getType=function(t){return i[t]},n.setType=function(t,e){i[t]=e}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_tile_source":106,"../source/vector_tile_source":113,"../source/video_source":115,"../util/util":266}],109:[function(t,e,n){"use strict";function r(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return new p((r.column-(t.x+t.w*Math.pow(2,t.z)))*h,(r.row-t.y)*h)}function i(t){return"raster"===t||"image"===t||"video"===t}var o=t("./source").create,a=t("./tile"),s=t("../util/evented"),u=t("./tile_coord"),l=t("../util/lru_cache"),c=t("../geo/coordinate"),f=t("../util/util"),h=t("../data/extent"),p=t("@mapbox/point-geometry"),d=function(t){function e(e,n,r){var i=this;t.call(this),this.id=e,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=o(e,n,r,this),this._tiles={},this._cache=new l(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.getNeedsFullPlacement=function(){return this._needsFullPlacement},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(t){var e=this;this._source.prepare&&this._source.prepare();for(var n in e._tiles)e._tiles[n].upload(t)},e.prototype.getIds=function(){var t=this,e=function(e,n){var r=u.fromID(e),i=u.fromID(n),o=new p(r.x,r.y).rotate(t.transform.angle),a=new p(i.x,i.y).rotate(t.transform.angle);return r.z-i.z||a.y-o.y||a.x-o.x};return Object.keys(this._tiles).map(Number).sort(e)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.coord.id)},e.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._cache.reset();for(var e in t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire("error",{tile:t,error:r}):this.update(this.transform));t.timeAdded=(new Date).getTime(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),this.map&&(this.map.painter.tileExtentVAO.vao=null),this._updatePlacement(),this.map&&t.added(this.map.painter.crossTileSymbolIndex)},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,n){var r=this,i=!1;for(var o in r._tiles){var a=r._tiles[o];if(!(n[o]||!a.hasData()||a.coord.z<=t.z||a.coord.z>e)){var s=Math.pow(2,Math.min(a.coord.z,r._source.maxzoom)-Math.min(t.z,r._source.maxzoom));if(Math.floor(a.coord.x/s)===t.x&&Math.floor(a.coord.y/s)===t.y)for(n[o]=!0,i=!0;a&&a.coord.z-1>t.z;){var u=a.coord.parent(r._source.maxzoom);if(!u)break;a=r._tiles[u.id],a&&a.hasData()&&(delete n[o],n[u.id]=!0)}}}return i},e.prototype.findLoadedParent=function(t,e,n){for(var r=this,i=t.z-1;i>=e;i--){var o=t.parent(r._source.maxzoom);if(!o)return;t=o;var a=String(t.id),s=r._tiles[a];if(s&&s.hasData())return n[a]=!0,s;if(r._cache.has(a))return n[a]=!0,r._cache.get(a)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=e*n,i=Math.floor(5*r),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(o)},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){this.updateCacheSize(t),this._coveredTiles={};var r;this.used?this._source.coord?r=t.getVisibleWrappedCoordinates(this._source.coord):(r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(t){return n._source.hasTile(t)}))):r=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(o-e.maxOverzooming,this._source.minzoom),s=Math.max(o+e.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,o),c={};if(i(this._source.type))for(var h=Object.keys(l),p=0;p<h.length;p++){var d=h[p],v=u.fromID(+d),m=n._tiles[d];if(m&&(void 0===m.fadeEndTime||m.fadeEndTime>=Date.now())){n._findLoadedChildren(v,s,l)&&(l[d]=!0);var g=n.findLoadedParent(v,a,c);g&&n._addTile(g.coord)}}var y;for(y in c)l[y]||(n._coveredTiles[y]=!0);for(y in c)l[y]=!0;for(var _=f.keysDifference(this._tiles,l),b=0;b<_.length;b++)n._removeTile(_[b])}},e.prototype._updateRetainedTiles=function(t,n){var r,i,o,a,s=this,u={},l={},c=Math.max(n-e.maxOverzooming,this._source.minzoom);for(r=0;r<t.length;r++){i=t[r],o=s._addTile(i);var f=!1;if(o.hasData())u[i.id]=!0;else{f=o.wasRequested(),u[i.id]=!0,a=!0;if(n+1>s._source.maxzoom){var h=i.children(s._source.maxzoom)[0],p=s.getTile(h);p&&p.hasData()?u[h.id]=!0:a=!1}else for(var d=i.children(s._source.maxzoom),v=0;v<d.length;v++){var m=d[v],g=m?s.getTile(m):null;g&&g.hasData()?u[m.id]=!0:a=!1}if(!a)for(var y=n-1;y>=c;--y){var _=i.scaledTo(y,s._source.maxzoom);if(l[_.id])break;if(l[_.id]=!0,o=s.getTile(_),!o&&f&&(o=s._addTile(_)),o&&(u[_.id]=!0,f=o.wasRequested(),o.hasData()))break}}}return u},e.prototype._addTile=function(t){var e=this._tiles[t.id];if(e)return e;(e=this._cache.getAndRemove(t.id))&&(this._updatePlacement(),this.map&&e.added(this.map.painter.crossTileSymbolIndex),this._cacheTimers[t.id]&&(clearTimeout(this._cacheTimers[t.id]),delete this._cacheTimers[t.id],this._setTileReloadTimer(t.id,e)));var n=Boolean(e);if(!n){var r=t.z,i=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;e=new a(t,this._source.tileSize*i,this._source.maxzoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e?(e.uses++,this._tiles[t.id]=e,n||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e):null},e.prototype._setTileReloadTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),delete n._cacheTimers[t]},r))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(this._updatePlacement(),this.map&&e.removed(this.map.painter.crossTileSymbolIndex),e.hasData()){e.coord=e.coord.wrapped();var n=e.coord.id;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype._updatePlacement=function(){this._needsFullPlacement=!0},e.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n=[],i=this.getIds(),o=1/0,a=1/0,s=-1/0,l=-1/0,f=t[0].zoom,p=0;p<t.length;p++){var d=t[p];o=Math.min(o,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),l=Math.max(l,d.row)}for(var v=0;v<i.length;v++){var m=e._tiles[i[v]],g=u.fromID(i[v]),y=[r(g,m.sourceMaxZoom,new c(o,a,f)),r(g,m.sourceMaxZoom,new c(s,l,f))];if(y[0].x<h&&y[0].y<h&&y[1].x>=0&&y[1].y>=0){for(var _=[],b=0;b<t.length;b++)_.push(r(g,m.sourceMaxZoom,t[b]));n.push({tile:m,coord:g,queryGeometry:[_],scale:Math.pow(2,e.transform.zoom-m.coord.z)})}}return n},e.prototype.commitPlacement=function(t,e){var n=this;this._needsFullPlacement=!1;for(var r=this.getIds(),i=0;i<r.length;i++){n.getTileByID(r[i]).commitPlacement(t,e,n.transform.angle)}},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(u.fromID),n=0,r=e;n<r.length;n+=1){var i=r[n];i.posMatrix=t.transform.calculatePosMatrix(i,t._source.maxzoom)}return e},e.prototype.hasTransition=function(){var t=this;if(this._source.hasTransition())return!0;if(i(this._source.type))for(var e in t._tiles){var n=t._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=Date.now())return!0}return!1},e}(s);d.maxOverzooming=10,d.maxUnderzooming=3,e.exports=d},{"../data/extent":58,"../geo/coordinate":67,"../util/evented":253,"../util/lru_cache":259,"../util/util":266,"./source":108,"./tile":110,"./tile_coord":112,"@mapbox/point-geometry":2}],110:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../data/bucket").deserialize,o=t("../data/bucket/symbol_bucket"),a=t("../data/feature_index"),s=t("@mapbox/vector-tile"),u=t("pbf"),l=t("../util/vectortile_to_geojson"),c=t("../style-spec/feature_filter"),f=t("../symbol/collision_index"),h=t("../symbol/collision_box"),p=t("../data/raster_bounds_array"),d=t("./tile_coord"),v=t("../data/extent"),m=t("@mapbox/point-geometry"),g=t("../gl/vertex_buffer"),y=t("../gl/index_buffer"),_=t("../render/texture"),b=t("../data/segment"),x=b.SegmentVector,w=t("../data/index_array_type"),E=w.TriangleIndexArray,T=t("../symbol/projection"),I=t("../symbol/symbol_placement"),C=I.performSymbolPlacement,M=I.updateOpacities,A=t("../source/pixels_to_tile_units"),S=3e4,R=function(t,e,n){this.coord=t,this.uid=r.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};R.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<Date.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},R.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},R.prototype.loadVectorData=function(t,e){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!t)return void(this.collisionBoxArray=new h);t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new h(t.collisionBoxArray),this.featureIndex=a.deserialize(t.featureIndex,this.rawTileData),this.buckets=i(t.buckets,e.style),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)},R.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},R.prototype.added=function(t){var e=this;for(var n in e.buckets){var r=e.buckets[n];r instanceof o&&t.addTileLayer(n,e.coord,e.sourceMaxZoom,r.symbolInstances)}},R.prototype.removed=function(t){var e=this;for(var n in e.buckets){e.buckets[n]instanceof o&&t.removeTileLayer(n,e.coord,e.sourceMaxZoom)}},R.prototype.placeLayer=function(t,e,n,r){var i=this.getBucket(n),a=this.collisionBoxArray;if(i&&i instanceof o&&a){var s=e.transform.calculatePosMatrix(this.coord,this.sourceMaxZoom),u="map"===i.layers[0].layout.get("text-pitch-alignment"),l=v/this.tileSize,c=A(this,1,e.transform.zoom),f=T.getLabelPlaneMatrix(s,u,!0,e.transform,c);C(i,e,t,e.transform.zoom,l,s,f,this.coord.id,r,a)}},R.prototype.commitPlacement=function(t,e,n){var r=this;for(var i in r.buckets){var a=r.buckets[i];a instanceof o&&(M(a,e),a.sortFeatures(n))}this.featureIndex&&this.featureIndex.setCollisionIndex(t)},R.prototype.getBucket=function(t){return this.buckets[t.id]},R.prototype.upload=function(t){var e=this;for(var n in e.buckets){var r=e.buckets[n];r.uploaded||(r.upload(t),r.uploaded=!0)}this.iconAtlasImage&&(this.iconAtlasTexture=new _(t,this.iconAtlasImage,t.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _(t,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)},R.prototype.queryRenderedFeatures=function(t,e,n,r,i,o){var a=this;if(!this.featureIndex)return{};var s=0;for(var u in t){var l=a.getBucket(t[u]);l&&(s=Math.max(s,t[u].queryRadius(l)))}return this.featureIndex.query({queryGeometry:e,scale:n,tileSize:this.tileSize,bearing:i,params:r,additionalRadius:s,tileSourceMaxZoom:this.sourceMaxZoom,collisionBoxArray:this.collisionBoxArray,sourceID:o},t)},R.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new s.VectorTile(new u(this.rawTileData)).layers);var r=e?e.sourceLayer:"",i=this.vtLayers._geojsonTileLayer||this.vtLayers[r];if(i)for(var o=c(e&&e.filter),a={z:this.coord.z,x:this.coord.x,y:this.coord.y},f=0;f<i.length;f++){var h=i.feature(f);if(o({zoom:n.coord.z},h)){var p=new l(h,n.coord.z,n.coord.x,n.coord.y);p.tile=a,t.push(p)}}}},R.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},R.prototype.setMask=function(t,e){var n=this;if(!r.deepEqual(this.mask,t)&&(this.mask=t,this.clearMask(),!r.deepEqual(t,{0:!0}))){var i=new p,o=new E;this.segments=new x,this.segments.prepareSegment(0,i,o);for(var a=Object.keys(t),s=0;s<a.length;s++){var u=d.fromID(+a[s]),l=v>>u.z,c=new m(u.x*l,u.y*l),f=new m(c.x+l,c.y+l),h=n.segments.prepareSegment(4,i,o);i.emplaceBack(c.x,c.y,c.x,c.y),i.emplaceBack(f.x,c.y,f.x,c.y),i.emplaceBack(c.x,f.y,c.x,f.y),i.emplaceBack(f.x,f.y,f.x,f.y);var _=h.vertexLength;o.emplaceBack(_,_+1,_+2),o.emplaceBack(_+1,_+2,_+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=new g(e,i),this.maskedIndexBuffer=new y(e,o)}},R.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},R.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=r.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var a=this.expirationTime-e;a?this.expirationTime=i+Math.max(a,S):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},R.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},e.exports=R},{"../data/bucket":51,"../data/bucket/symbol_bucket":57,"../data/extent":58,"../data/feature_index":59,"../data/index_array_type":60,"../data/raster_bounds_array":64,"../data/segment":65,"../gl/index_buffer":71,"../gl/vertex_buffer":72,"../render/texture":93,"../source/pixels_to_tile_units":104,"../style-spec/feature_filter":145,"../symbol/collision_box":208,"../symbol/collision_index":210,"../symbol/projection":216,"../symbol/symbol_placement":220,"../util/util":266,"../util/vectortile_to_geojson":267,"./tile_coord":112,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6,pbf:38}],111:[function(t,e,n){"use strict";var r=t("../geo/lng_lat_bounds"),i=t("../util/util").clamp,o=function(t,e,n){this.bounds=r.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t,e){var n=e?Math.min(t.z,e):t.z,r={minX:Math.floor(this.lngX(this.bounds.getWest(),n)),minY:Math.floor(this.latY(this.bounds.getNorth(),n)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),n)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),n))};return t.x>=r.minX&&t.x<r.maxX&&t.y>=r.minY&&t.y<r.maxY},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var n=i(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r},e.exports=o},{"../geo/lng_lat_bounds":69,"../util/util":266}],112:[function(t,e,n){"use strict";function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function i(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,h=o;h<a;h++){var p=u*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,h+f-e.y0))+e.x0;i(Math.floor(d),Math.ceil(p),h)}}function o(t,e,n,o,a,s){var u,l=r(t,e),c=r(e,n),f=r(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>f.dy&&(u=l,l=f,f=u),c.dy>f.dy&&(u=c,c=f,f=u),l.dy&&i(f,l,o,a,s),c.dy&&i(f,c,o,a,s)}function a(t,e,n){for(var r,i="",o=t;o>0;o--)r=1<<o-1,i+=(e&r?1:0)+(n&r?2:0);return i}var s=t("@mapbox/whoots-js"),u=t("../geo/coordinate"),l=function(t,e,n,r){(void 0===r||isNaN(r))&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,(r*=2)<0&&(r=-1*r-1);var i=1<<this.z;this.id=32*(i*i*r+i*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),n=Math.pow(2,e),r=this.y,i=this.x+n*this.w;return new u(i,r,e)},l.prototype.url=function(t,e,n){var r=s.getTileBBox(this.x,this.y,this.z),i=a(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(Math.min(this.z,e||this.z))).replace("{x}",String(this.x)).replace("{y}",String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",r)},l.prototype.parent=function(t){return 0===this.z?null:this.z>t?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.isLessThan=function(t){return this.w<t.w||!(this.w>t.w)&&(this.z<t.z||!(this.z>t.z)&&(this.x<t.x||!(this.x>t.x)&&this.y<t.y))},l.prototype.children=function(t){if(this.z>=t)return[new l(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new l(e,n,r,this.w),new l(e,n+1,r,this.w),new l(e,n,r+1,this.w),new l(e,n+1,r+1,this.w)]},l.prototype.scaledTo=function(t,e){return this.z>e?new l(t,this.x,this.y,this.w):t<=this.z?new l(t,this.x>>this.z-t,this.y>>this.z-t,this.w):new l(t,this.x<<t-this.z,this.y<<t-this.z,this.w)},l.prototype.isChildOf=function(t,e){var n=Math.min(e,t.z),r=Math.min(e,this.z);return 0===t.z||t.z<this.z&&t.x===this.x>>r-n&&t.y===this.y>>r-n},l.cover=function(t,e,n,r){function i(t,e,i){var o,u,c,f;if(i>=0&&i<=a)for(o=t;o<e;o++)u=Math.floor(o/a),c=(o%a+a)%a,0!==u&&!0!==r||(f=new l(n,c,i,u),s[f.id]=f)}void 0===r&&(r=!0);var a=1<<t,s={};return o(e[0],e[1],e[2],0,a,i),o(e[2],e[3],e[0],0,a,i),Object.keys(s).map(function(t){return s[t]})},l.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,i=r%n,o=(r-i)/n%n,a=Math.floor(r/(n*n));return a%2!=0&&(a=-1*a-1),a/=2,new l(e,i,o,a)},e.exports=l},{"../geo/coordinate":67,"@mapbox/whoots-js":10}],113:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("../util/util"),o=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),u=t("../util/ajax").ResourceType,l=t("../util/browser"),c=function(t){function e(e,n,r,o){if(t.call(this),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,i.extend(this,i.pick(n,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(i.extend(t,n),n.bounds&&(t.tileBounds=new s(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return i.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,r){return t.aborted?e(null):n?e(n):(this.map._refreshExpiredTiles&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i=a(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),o={request:this.map._transformRequest(i,u.Tile),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,pixelRatio:l.devicePixelRatio,overscaling:r,showCollisionBoxes:this.map.showCollisionBoxes};void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,n.bind(this)):"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",o,n.bind(this),t.workerID)},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.hasTransition=function(){return!1},e}(r);e.exports=c},{"../util/ajax":244,"../util/browser":245,"../util/evented":253,"../util/mapbox":260,"../util/util":266,"./load_tilejson":103,"./tile_bounds":111}],114:[function(t,e,n){"use strict";function r(t,e){var n=i.getArrayBuffer(t.request,function(t,n){t?e(t):n&&e(null,{vectorTile:new o.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort(),e()}}var i=t("../util/ajax"),o=t("@mapbox/vector-tile"),a=t("pbf"),s=t("./worker_tile"),u=t("../util/util"),l=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||r,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,e){var n=this,r=t.source,i=t.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(t);o.abort=this.loadVectorData(t,function(t,a){if(delete n.loading[r][i],t||!a)return e(t);var s=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile,o.parse(a.vectorTile,n.layerIndex,n.actor,function(t,n,r){if(t||!n)return e(t);e(null,u.extend({rawTileData:s},n,l),r)}),n.loaded[r]=n.loaded[r]||{},n.loaded[r][i]=o})},l.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,r)}e(t,n)}var r=this.loaded[t.source],i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes,"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},l.prototype.abortTile=function(t,e){var n=this.loading[t.source],r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},l.prototype.removeTile=function(t,e){var n=this.loaded[t.source],r=t.uid;n&&n[r]&&delete n[r],e()},e.exports=l},{"../util/ajax":244,"../util/util":266,"./worker_tile":117,"@mapbox/vector-tile":6,pbf:38}],115:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("./image_source"),o=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,r.getVideo(e.urls,function(e,n){e?t.fire("error",{error:e}):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map._rerender()}),t.map&&t.video.play(),t._finishLoading())})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){0===Object.keys(this.tiles).length||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this.video&&!this.video.paused},e}(i);e.exports=o},{"../util/ajax":244,"./image_source":102}],116:[function(t,e,n){"use strict";var r=t("../util/actor"),i=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),a=t("./geojson_worker_source"),s=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new r(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:a},this.workerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(s.applyArabicShaping||s.processBidirectionalText)throw new Error("RTL text plugin already registered.");s.applyArabicShaping=t.applyArabicShaping,s.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},u.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type).abortTile(e,n)},u.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type).removeTile(e,n)},u.prototype.removeSource=function(t,e,n){var r=this.getWorkerSource(t,e.type);void 0!==r.removeSource?r.removeSource(e,n):n()},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{s.applyArabicShaping||s.processBidirectionalText||(this.self.importScripts(e),s.applyArabicShaping&&s.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,i,o){n.actor.send(e,r,i,o,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":203,"../util/actor":243,"./geojson_worker_source":100,"./rtl_text_plugin":107,"./vector_tile_worker_source":114}],117:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t;n<r.length;n+=1){r[n].recalculate({zoom:e,now:Number.MAX_VALUE,defaultFadeDuration:0,zoomHistory:{lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0}})}}function i(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var o=t("../data/feature_index"),a=t("../symbol/symbol_layout"),s=a.performSymbolLayout,u=t("../symbol/collision_box"),l=t("../util/dictionary_coder"),c=t("../data/bucket/symbol_bucket"),f=t("../util/util"),h=t("../render/image_atlas"),p=h.makeImageAtlas,d=t("../render/glyph_atlas"),v=d.makeGlyphAtlas,m=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.showCollisionBoxes=t.showCollisionBoxes};m.prototype.parse=function(t,e,n,a){function h(){var t=this;if(L)return a(L);if(k&&N){var e=v(k),n=p(N);for(var o in y){var u=y[o];u instanceof c&&(r(u.layers,t.zoom),s(u,k,e.positions,N,n.positions,t.showCollisionBoxes))}this.status="done";var l=[e.image.data.buffer,n.image.data.buffer];a(null,{buckets:i(f.values(y),l),featureIndex:g.serialize(l),collisionBoxArray:this.collisionBoxArray.serialize(),glyphAtlasImage:e.image,iconAtlasImage:n.image},l)}}var d=this;this.status="parsing",this.data=t,this.collisionBoxArray=new u;var m=new l(Object.keys(t.layers).sort()),g=new o(this.coord,this.overscaling);g.bucketLayerIDs=[];var y={},_={featureIndex:g,iconDependencies:{},glyphDependencies:{}},b=e.familiesBySource[this.source];for(var x in b){var w=t.layers[x];if(w){1===w.version&&f.warnOnce('Vector tile source "'+d.source+'" layer "'+x+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var E=m.encode(x),T=[],I=0;I<w.length;I++){var C=w.feature(I);T.push({feature:C,index:I,sourceLayerIndex:E})}for(var M=0,A=b[x];M<A.length;M+=1){var S=A[M],R=S[0];if(!(R.minzoom&&d.zoom<Math.floor(R.minzoom))&&(!(R.maxzoom&&d.zoom>=R.maxzoom)&&"none"!==R.visibility)){r(S,d.zoom);(y[R.id]=R.createBucket({index:g.bucketLayerIDs.length,layers:S,zoom:d.zoom,pixelRatio:d.pixelRatio,overscaling:d.overscaling,collisionBoxArray:d.collisionBoxArray})).populate(T,_),g.bucketLayerIDs.push(S.map(function(t){return t.id}))}}}}var L,k,N,F=f.mapObject(_.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(F).length?n.send("getGlyphs",{uid:this.uid,stacks:F},function(t,e){L||(L=t,k=e,h.call(d))}):k={};var O=Object.keys(_.iconDependencies);O.length?n.send("getImages",{icons:O},function(t,e){L||(L=t,N=e,h.call(d))}):N={},h.call(this)},e.exports=m},{"../data/bucket/symbol_bucket":57,"../data/feature_index":59,"../render/glyph_atlas":84,"../render/image_atlas":86,"../symbol/collision_box":208,"../symbol/symbol_layout":219,"../util/dictionary_coder":250,"../util/util":266}],118:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return o.forEach(function(t){t in e&&(n[t]=e[t])}),n}function i(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=r(t[i],e[t[i].ref]));return t}var o=t("./util/ref_properties");e.exports=i},{"./util/ref_properties":155}],119:[function(t,e,n){"use strict";function r(t,e,n,r){t=t||{},e=e||{};var i;for(i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||(n.push({command:c.removeSource,args:[i]}),r[i]=!0));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?l(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type?n.push({command:c.setGeoJSONSourceData,args:[i,e[i].data]}):(n.push({command:c.removeSource,args:[i]}),n.push({command:c.addSource,args:[i,e[i]]}),r[i]=!0)):n.push({command:c.addSource,args:[i,e[i]]}))}function i(t,e,n,r,i,o){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function o(t){return t.id}function a(t,e){return t[e.id]=e,t}function s(t,e,n){t=t||[],e=e||[];var r,s,u,f,h,p,d,v=t.map(o),m=e.map(o),g=t.reduce(a,{}),y=e.reduce(a,{}),_=v.slice(),b=Object.create(null);for(r=0,s=0;r<v.length;r++)u=v[r],y.hasOwnProperty(u)?s++:(n.push({command:c.removeLayer,args:[u]}),_.splice(_.indexOf(u,s),1));for(r=0,s=0;r<m.length;r++)u=m[m.length-1-r],_[_.length-1-r]!==u&&(g.hasOwnProperty(u)?(n.push({command:c.removeLayer,args:[u]}),_.splice(_.lastIndexOf(u,_.length-s),1)):s++,p=_[_.length-r],n.push({command:c.addLayer,args:[y[u],p]}),_.splice(_.length-r,0,u),b[u]=!0);for(r=0;r<m.length;r++)if(u=m[r],f=g[u],h=y[u],!b[u]&&!l(f,h))if(l(f.source,h.source)&&l(f["source-layer"],h["source-layer"])&&l(f.type,h.type)){i(f.layout,h.layout,n,u,null,c.setLayoutProperty),i(f.paint,h.paint,n,u,null,c.setPaintProperty),l(f.filter,h.filter)||n.push({command:c.setFilter,args:[u,h.filter]}),l(f.minzoom,h.minzoom)&&l(f.maxzoom,h.maxzoom)||n.push({command:c.setLayerZoomRange,args:[u,h.minzoom,h.maxzoom]});for(d in f)f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?i(f[d],h[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],h[d])||n.push({command:c.setLayerProperty,args:[u,d,h[d]]}));for(d in h)h.hasOwnProperty(d)&&!f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?i(f[d],h[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],h[d])||n.push({command:c.setLayerProperty,args:[u,d,h[d]]}))}else n.push({command:c.removeLayer,args:[u]}),p=_[_.lastIndexOf(u)+1],n.push({command:c.addLayer,args:[h,p]})}function u(t,e){if(!t)return[{command:c.setStyle,args:[e]}];var n=[];try{if(!l(t.version,e.version))return[{command:c.setStyle,args:[e]}];l(t.center,e.center)||n.push({command:c.setCenter,args:[e.center]}),l(t.zoom,e.zoom)||n.push({command:c.setZoom,args:[e.zoom]}),l(t.bearing,e.bearing)||n.push({command:c.setBearing,args:[e.bearing]}),l(t.pitch,e.pitch)||n.push({command:c.setPitch,args:[e.pitch]}),l(t.sprite,e.sprite)||n.push({command:c.setSprite,args:[e.sprite]}),l(t.glyphs,e.glyphs)||n.push({command:c.setGlyphs,args:[e.glyphs]}),l(t.transition,e.transition)||n.push({command:c.setTransition,args:[e.transition]}),l(t.light,e.light)||n.push({command:c.setLight,args:[e.light]});var i={},o=[];r(t.sources,e.sources,o,i);var a=[];t.layers&&t.layers.forEach(function(t){i[t.source]?n.push({command:c.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(o),s(a,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:c.setStyle,args:[e]}]}return n}var l=t("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=u,e.exports.operations=c},{"lodash.isequal":34}],120:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];this.message=(t?t+": ":"")+i.apply(i,n),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var i=t("util").format;e.exports=r},{util:45}],121:[function(t,e,n){"use strict";function r(t){return{type:t}}function i(t){return Array.isArray(t)?"("+t.map(a).join(", ")+")":"("+a(t.type)+"...)"}var o=t("./types"),a=o.toString,s=t("./parsing_context"),u=t("./evaluation_context"),l=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};l.prototype.evaluate=function(t){return this._evaluate(t,this.args)},l.prototype.eachChild=function(t){this.args.forEach(t)},l.parse=function(t,e){var n=t[0],r=l.definitions[n];if(!r)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(r)?r[0]:r.type,u=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,c=u.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),f=[],h=1;h<t.length;h++){var p=t[h],d=void 0;if(1===c.length){var v=c[0][0];d=Array.isArray(v)?v[h-1]:v.type}var m=e.parse(p,1+f.length,d);if(!m)return null;f.push(m)}for(var g=null,y=0,_=c;y<_.length;y+=1){var b=_[y],x=b[0],w=b[1];if(g=new s(e.definitions,e.path,null,e.scope),Array.isArray(x)&&x.length!==f.length)g.error("Expected "+x.length+" arguments, but found "+f.length+" instead.");else{for(var E=0;E<f.length;E++){var T=Array.isArray(x)?x[E]:x.type,I=f[E];g.concat(E+1).checkSubtype(T,I.type)}if(0===g.errors.length)return new l(n,o,w,f)}}if(1===c.length)e.errors.push.apply(e.errors,g.errors);else{var C=c.length?c:u,M=C.map(function(t){return i(t[0])}).join(" | "),A=f.map(function(t){return a(t.type)}).join(", ");e.error("Expected arguments of type "+M+", but found ("+A+") instead.")}return null},l.register=function(t,e){l.definitions=e;for(var n in e)t[n]=l},e.exports={CompoundExpression:l,varargs:r}},{"./evaluation_context":135,"./parsing_context":138,"./types":143}],122:[function(t,e,n){"use strict";var r=t("../types"),i=r.toString,o=r.array,a=r.ValueType,s=r.StringType,u=r.NumberType,l=r.BooleanType,c=r.checkSubtype,f=t("../values"),h=f.typeOf,p=t("../runtime_error"),d={string:s,number:u,boolean:l},v=function(t,e){this.type=t,this.input=e};v.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var n,r;if(t.length>2){var i=t[1];if("string"!=typeof i||!(i in d))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=d[i]}else n=a;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);r=t[2]}var s=o(n,r),u=e.parse(t[t.length-1],t.length-1,a);return u?new v(s,u):null},v.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(c(this.type,h(e)))throw new p("Expected value to be of type "+i(this.type)+", but found "+i(h(e))+" instead.");return e},v.prototype.eachChild=function(t){t(this.input)},e.exports=v},{"../runtime_error":140,"../types":143,"../values":144}],123:[function(t,e,n){"use strict";var r=t("../types"),i=r.ObjectType,o=r.ValueType,a=r.StringType,s=r.NumberType,u=r.BooleanType,l=t("../runtime_error"),c=t("../types"),f=c.checkSubtype,h=c.toString,p=t("../values"),d=p.typeOf,v={string:a,number:s,boolean:u,object:i},m=function(t,e){this.type=t,this.args=e};m.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=v[n],i=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;i.push(s)}return new m(r,i)},m.prototype.evaluate=function(t){for(var e=this,n=0;n<this.args.length;n++){var r=e.args[n].evaluate(t);if(!f(e.type,d(r)))return r;if(n===e.args.length-1)throw new l("Expected value to be of type "+h(e.type)+", but found "+h(d(r))+" instead.")}return null},m.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=m},{"../runtime_error":140,"../types":143,"../values":144}],124:[function(t,e,n){"use strict";var r=t("../types"),i=r.array,o=r.ValueType,a=r.NumberType,s=t("../runtime_error"),u=function(t,e,n){this.type=t,this.index=e,this.input=n};u.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,a),r=e.parse(t[2],2,i(e.expectedType||o));if(!n||!r)return null;var s=r.type;return new u(s.itemType,n,r)},u.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0||e>=n.length)throw new s("Array index out of bounds: "+e+" > "+n.length+".");if(e!==Math.floor(e))throw new s("Array index must be an integer, but found "+e+" instead.");return n[e]},u.prototype.eachChild=function(t){t(this.index),t(this.input)},e.exports=u},{"../runtime_error":140,"../types":143}],125:[function(t,e,n){"use strict";var r=t("../types"),i=r.BooleanType,o=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};o.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],a=1;a<t.length-1;a+=2){var s=e.parse(t[a],a,i);if(!s)return null;var u=e.parse(t[a+1],a+1,n);if(!u)return null;r.push([s,u]),n=n||u.type}var l=e.parse(t[t.length-1],t.length-1,n);return l?new o(n,r,l):null},o.prototype.evaluate=function(t){for(var e=this,n=0,r=e.branches;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];if(o.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},o.prototype.eachChild=function(t){for(var e=this,n=0,r=e.branches;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];t(o),t(a)}t(this.otherwise)},e.exports=o},{"../types":143}],126:[function(t,e,n){"use strict";var r=function(t,e){this.type=t,this.args=e};r.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],u=e.parse(s,1+i.length,n);if(!u)return null;n=n||u.type,i.push(u)}return new r(n,i)},r.prototype.evaluate=function(t){for(var e=this,n=null,r=0,i=e.args;r<i.length;r+=1){if(null!==(n=i[r].evaluate(t)))break}return n},r.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=r},{}],127:[function(t,e,n){"use strict";var r=t("../types"),i=r.ColorType,o=r.ValueType,a=r.NumberType,s=t("../values"),u=s.Color,l=s.validateRGBA,c=t("../runtime_error"),f={"to-number":a,"to-color":i},h=function(t,e){this.type=t,this.args=e};h.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=f[n],i=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;i.push(s)}return new h(r,i)},h.prototype.evaluate=function(t){var e=this;if("color"===this.type.kind){for(var n,r,i=0,o=e.args;i<o.length;i+=1){if(n=o[i].evaluate(t),r=null,"string"==typeof n){var a=t.parseColor(n);if(a)return a}else if(Array.isArray(n)&&!(r=n.length<3||n.length>4?"Invalid rbga value "+JSON.stringify(n)+": expected an array containing either three or four numeric values.":l(n[0],n[1],n[2],n[3])))return new u(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new c(r||"Could not parse color from value '"+("string"==typeof n?n:JSON.stringify(n))+"'")}for(var s=null,f=0,h=e.args;f<h.length;f+=1){if(null!==(s=h[f].evaluate(t))){var p=Number(s);if(!isNaN(p))return p}}throw new c("Could not convert "+JSON.stringify(s)+" to number.")},h.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=h},{"../runtime_error":140,"../types":143,"../values":144}],128:[function(t,e,n){"use strict";function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t),o=o&&o.evaluate(t);var a=M(n,r,i,o);if(a)throw new L(a);return new C(n/255,r/255,i/255,o)}function i(t,e){return t in e}function o(t,e){var n=e[t];return void 0===n?null:n}function a(t,e){return e[0].evaluate(t).length}function s(t,e){var n=e[0],r=e[1];return n.evaluate(t)===r.evaluate(t)}function u(t,e){var n=e[0],r=e[1];return n.evaluate(t)!==r.evaluate(t)}function l(t,e){var n=e[0],r=e[1];return n.evaluate(t)<r.evaluate(t)}function c(t,e){var n=e[0],r=e[1];return n.evaluate(t)>r.evaluate(t)}function f(t,e){var n=e[0],r=e[1];return n.evaluate(t)<=r.evaluate(t)}function h(t,e){var n=e[0],r=e[1];return n.evaluate(t)>=r.evaluate(t)}var p=t("../types"),d=p.NullType,v=p.NumberType,m=p.StringType,g=p.BooleanType,y=p.ColorType,_=p.ObjectType,b=p.ValueType,x=p.ErrorType,w=p.array,E=p.toString,T=t("../values"),I=T.typeOf,C=T.Color,M=T.validateRGBA,A=t("../compound_expression"),S=A.CompoundExpression,R=A.varargs,L=t("../runtime_error"),k=t("./let"),N=t("./var"),F=t("./literal"),O=t("./assertion"),B=t("./array"),P=t("./coercion"),U=t("./at"),D=t("./match"),z=t("./case"),j=t("./step"),V=t("./interpolate"),G=t("./coalesce"),X={let:k,var:N,literal:F,string:O,number:O,boolean:O,object:O,array:B,"to-number":P,"to-color":P,at:U,case:z,match:D,coalesce:G,step:j,interpolate:V};S.register(X,{error:[x,[m],function(t,e){var n=e[0];throw new L(n.evaluate(t))}],typeof:[m,[b],function(t,e){var n=e[0];return E(I(n.evaluate(t)))}],"to-string":[m,[b],function(t,e){var n=e[0];n=n.evaluate(t);var r=typeof n;return null===n||"string"===r||"number"===r||"boolean"===r?String(n):n instanceof C?"rgba("+255*n.r+","+255*n.g+","+255*n.b+","+n.a+")":JSON.stringify(n)}],"to-boolean":[g,[b],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[w(v,4),[y],function(t,e){var n=e[0],r=n.evaluate(t);return[r.r,r.g,r.b,r.a]}],rgb:[y,[v,v,v],r],rgba:[y,[v,v,v,v],r],length:{type:v,overloads:[[[m],a],[[w(b)],a]]},has:{type:g,overloads:[[[m],function(t,e){return i(e[0].evaluate(t),t.properties())}],[[m,_],function(t,e){var n=e[0],r=e[1];return i(n.evaluate(t),r.evaluate(t))}]]},get:{type:b,overloads:[[[m],function(t,e){return o(e[0].evaluate(t),t.properties())}],[[m,_],function(t,e){var n=e[0],r=e[1];return o(n.evaluate(t),r.evaluate(t))}]]},properties:[_,[],function(t){return t.properties()}],"geometry-type":[m,[],function(t){return t.geometryType()}],id:[b,[],function(t){return t.id()}],zoom:[v,[],function(t){return t.globals.zoom}],"heatmap-density":[v,[],function(t){return t.globals.heatmapDensity||0}],"+":[v,R(v),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1){n+=i[r].evaluate(t)}return n}],"*":[v,R(v),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1){n*=i[r].evaluate(t)}return n}],"-":{type:v,overloads:[[[v,v],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[v],function(t,e){return-e[0].evaluate(t)}]]},"/":[v,[v,v],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[v,[v,v],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[v,[],function(){return Math.LN2}],pi:[v,[],function(){return Math.PI}],e:[v,[],function(){return Math.E}],"^":[v,[v,v],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[v,[v],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[v,[v],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[v,[v],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[v,[v],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[v,[v],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[v,[v],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[v,[v],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[v,[v],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[v,[v],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[v,[v],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[v,R(v),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[v,R(v),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],"==":{type:g,overloads:[[[v,v],s],[[m,m],s],[[g,g],s],[[d,d],s]]},"!=":{type:g,overloads:[[[v,v],u],[[m,m],u],[[g,g],u],[[d,d],u]]},">":{type:g,overloads:[[[v,v],c],[[m,m],c]]},"<":{type:g,overloads:[[[v,v],l],[[m,m],l]]},">=":{type:g,overloads:[[[v,v],h],[[m,m],h]]},"<=":{type:g,overloads:[[[v,v],f],[[m,m],f]]},all:{type:g,overloads:[[[g,g],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[R(g),function(t,e){for(var n=0,r=e;n<r.length;n+=1){if(!r[n].evaluate(t))return!1}return!0}]]},any:{type:g,overloads:[[[g,g],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[R(g),function(t,e){for(var n=0,r=e;n<r.length;n+=1){if(r[n].evaluate(t))return!0}return!1}]]},"!":[g,[g],function(t,e){return!e[0].evaluate(t)}],upcase:[m,[m],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[m,[m],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[m,R(m),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}]}),e.exports=X},{"../compound_expression":121,"../runtime_error":140,"../types":143,"../values":144,"./array":122,"./assertion":123,"./at":124,"./case":125,"./coalesce":126,"./coercion":127,"./interpolate":129,"./let":130,"./literal":131,"./match":132,"./step":133,"./var":134}],129:[function(t,e,n){"use strict";function r(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var i=t("@mapbox/unitbezier"),o=t("../../util/interpolate"),a=t("../types"),s=a.toString,u=a.NumberType,l=t("../stops"),c=l.findStopLessThanOrEqualTo,f=function(t,e,n,r){var i=this;this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=r;o<a.length;o+=1){var s=a[o],u=s[0],l=s[1];i.labels.push(u),i.outputs.push(l)}};f.interpolationFactor=function(t,e,n,o){var a=0;if("exponential"===t.name)a=r(e,t.base,n,o);else if("linear"===t.name)a=r(e,1,n,o);else if("cubic-bezier"===t.name){var s=t.controlPoints,u=new i(s[0],s[1],s[2],s[3]);a=u.solve(r(e,1,n,o))}return a},f.parse=function(t,e){var n=t[1],r=t[2],i=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,u)))return null;var l=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var h=0;h<i.length;h+=2){var p=i[h],d=i[h+1],v=h+3,m=h+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var g=e.parse(d,m,c);if(!g)return null;c=c||g.type,l.push([p,g])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new f(c,n,r,l):e.error("Type "+s(c)+" is not interpolatable.")},f.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var a=c(e,r),s=e[a],u=e[a+1],l=f.interpolationFactor(this.interpolation,r,s,u),h=n[a].evaluate(t),p=n[a+1].evaluate(t);return o[this.type.kind.toLowerCase()](h,p,l)},f.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,r=e.outputs;n<r.length;n+=1){t(r[n])}},e.exports=f},{"../../util/interpolate":154,"../stops":142,"../types":143,"@mapbox/unitbezier":5}],130:[function(t,e,n){"use strict";var r=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};r.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},r.prototype.eachChild=function(t){for(var e=this,n=0,r=e.bindings;n<r.length;n+=1){t(r[n][1])}t(this.result)},r.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var o=t[i];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",i);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=e.parse(t[i+1],i+1);if(!a)return null;n.push([o,a])}var s=e.parse(t[t.length-1],t.length-1,void 0,n);return s?new r(n,s):null},e.exports=r},{}],131:[function(t,e,n){"use strict";var r=t("../values"),i=r.isValue,o=r.typeOf,a=function(t,e){this.type=t,this.value=e};a.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!i(t[1]))return e.error("invalid value");var n=t[1],r=o(n),s=e.expectedType;return"array"!==r.kind||0!==r.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(r=s),new a(r,n)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},e.exports=a},{"../values":144}],132:[function(t,e,n){"use strict";var r=t("../values"),i=r.typeOf,o=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};o.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var a={},s=[],u=2;u<t.length-1;u+=2){var l=t[u],c=t[u+1];Array.isArray(l)||(l=[l]);var f=e.concat(u);if(0===l.length)return f.error("Expected at least one branch label.");for(var h=0,p=l;h<p.length;h+=1){var d=p[h];if("number"!=typeof d&&"string"!=typeof d)return f.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return f.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return f.error("Numeric branch labels must be integer values.");if(n){if(f.checkSubtype(n,i(d)))return null}else n=i(d);if(void 0!==a[String(d)])return f.error("Branch labels must be unique.");a[String(d)]=s.length}var v=e.parse(c,u,r);if(!v)return null;r=r||v.type,s.push(v)}var m=e.parse(t[1],1,n);if(!m)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?new o(n,r,m,a,s,g):null},o.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},o.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},e.exports=o},{"../values":144}],133:[function(t,e,n){"use strict";var r=t("../types"),i=r.NumberType,o=t("../stops"),a=o.findStopLessThanOrEqualTo,s=function(t,e,n){var r=this;this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,o=n;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1];r.labels.push(s),r.outputs.push(u)}};s.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,i)))return null;var o=[],a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType),r.unshift(-1/0);for(var u=0;u<r.length;u+=2){var l=r[u],c=r[u+1],f=u+1,h=u+2;if("number"!=typeof l)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(o.length&&o[o.length-1][0]>=l)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',f);var p=e.parse(c,h,a);if(!p)return null;a=a||p.type,o.push([l,p])}return new s(a,n,o)},s.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[a(e,r)].evaluate(t)},s.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,r=e.outputs;n<r.length;n+=1){t(r[n])}},e.exports=s},{"../stops":142,"../types":143}],134:[function(t,e,n){"use strict";var r=function(t,e){this.type=e,this.name=t};r.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new r(n,e.scope.get(n).type):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},r.prototype.evaluate=function(t){return t.scope.get(this.name).evaluate(t)},r.prototype.eachChild=function(){},e.exports=r},{}],135:[function(t,e,n){"use strict";var r=t("./scope"),i=t("./values"),o=i.Color,a=["Unknown","Point","LineString","Polygon"],s=function(){this.scope=new r,this._parseColorCache={}};s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},s.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?a[this.feature.type]:this.feature.type:null},s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},s.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},s.prototype.popScope=function(){this.scope=this.scope.parent},s.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=o.parse(t)),e},e.exports=s},{"./scope":141,"./values":144}],136:[function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in _}function i(t,e,n){void 0===n&&(n={});var r=new f(_,[],u(e)),i=r.parse(t);if(!i)return T(r.errors);var o,a=new h;if(!1===n.handleErrors)o=function(t,e){return a.globals=t,a.feature=e,i.evaluate(a)};else{var s,c={},p=l(e);"enum"===e.type&&(s=e.values),o=function(t,e){a.globals=t,a.feature=e;try{var n=i.evaluate(a);if(null===n||void 0===n)return p;if(s&&!(n in s))throw new x("Expected value to be one of "+Object.keys(s).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(t){return c[t.message]||(c[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),p}}}return E({evaluate:o,parsed:i})}function o(t,e,n){if(void 0===n&&(n={}),t=i(t,e,n),"error"===t.result)return t;var r=t.value,o=r.evaluate,a=r.parsed,u=b.isFeatureConstant(a);if(!u&&!e["property-function"])return T([new c("","property expressions not supported")]);var l=b.isGlobalPropertyConstant(a,["zoom"]);if(!l&&!1===e["zoom-function"])return T([new c("","zoom expressions not supported")]);var f=s(a);if(!f&&!l)return T([new c("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(f instanceof c)return T([f]);if(f instanceof m&&"piecewise-constant"===e.function)return T([new c("",'"interpolate" expressions cannot be used with this property')]);if(!f)return E(u?{kind:"constant",parsed:a,evaluate:o}:{kind:"source",parsed:a,evaluate:o});var h=f instanceof m?m.interpolationFactor.bind(void 0,f.interpolation):function(){return 0},p=f.labels;return E(u?{kind:"camera",parsed:a,evaluate:o,interpolationFactor:h,zoomStops:p}:{kind:"composite",parsed:a,evaluate:o,interpolationFactor:h,zoomStops:p})}function a(t,e){if(C(t))return M(t,e);if(r(t)){var n=o(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=S.parse(t)),{kind:"constant",evaluate:function(){return i}}}function s(t){var e=null;if(t instanceof y)e=s(t.result);else if(t instanceof g)for(var n=0,r=t.args;n<r.length;n+=1){var i=r[n];if(e=s(i))break}else(t instanceof v||t instanceof m)&&t.input instanceof d&&"zoom"===t.input.name&&(e=t);return e instanceof c?e:(t.eachChild(function(t){var n=s(t);n instanceof c?e=n:!e&&n?e=new c("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new c("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e)}function u(t){var e={color:L,string:k,number:N,enum:k,boolean:F};return"array"===t.type?B(e[t.value]||O,t.length):e[t.type]||null}function l(t){return"color"===t.type&&C(t.default)?new S(0,0,0,0):"color"===t.type?S.parse(t.default)||null:void 0===t.default?null:t.default}var c=t("./parsing_error"),f=t("./parsing_context"),h=t("./evaluation_context"),p=t("./compound_expression"),d=p.CompoundExpression,v=t("./definitions/step"),m=t("./definitions/interpolate"),g=t("./definitions/coalesce"),y=t("./definitions/let"),_=t("./definitions"),b=t("./is_constant"),x=t("./runtime_error"),w=t("../util/result"),E=w.success,T=w.error,I=t("../function"),C=I.isFunction,M=I.createFunction,A=t("./values"),S=A.Color;e.exports={isExpression:r,createExpression:i,createPropertyExpression:o,normalizePropertyExpression:a};var R=t("./types"),L=R.ColorType,k=R.StringType,N=R.NumberType,F=R.BooleanType,O=R.ValueType,B=R.array},{"../function":146,"../util/result":156,"./compound_expression":121,"./definitions":128,"./definitions/coalesce":126,"./definitions/interpolate":129,"./definitions/let":130,"./definitions/step":133,"./evaluation_context":135,"./is_constant":137,"./parsing_context":138,"./parsing_error":139,"./runtime_error":140,"./types":143,"./values":144}],137:[function(t,e,n){"use strict";function r(t){if(t instanceof a){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1}var e=!0;return t.eachChild(function(t){e&&!r(t)&&(e=!1)}),e}function i(t,e){if(t instanceof a&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!i(t,e)&&(n=!1)}),n}var o=t("./compound_expression"),a=o.CompoundExpression;e.exports={isFeatureConstant:r,isGlobalPropertyConstant:i}},{"./compound_expression":121}],138:[function(t,e,n){"use strict";function r(e){var n=t("./compound_expression"),r=n.CompoundExpression,i=t("./is_constant"),o=i.isGlobalPropertyConstant,a=i.isFeatureConstant;if(e instanceof t("./definitions/var"))return!1;if(e instanceof r&&"error"===e.name)return!1;var s=!0;return e.eachChild(function(t){t instanceof u||(s=!1)}),!!s&&(a(e)&&o(e,["zoom","heatmap-density"]))}var i=t("./scope"),o=t("./types"),a=o.checkSubtype,s=t("./parsing_error"),u=t("./definitions/literal"),l=function(t,e,n,r,o){void 0===e&&(e=[]),void 0===r&&(r=new i),void 0===o&&(o=[]),this.definitions=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=o,this.expectedType=n};l.prototype.parse=function(e,n,i,o){var a=this;if(n&&(a=a.concat(n,i,o)),null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return a.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var s=e[0];if("string"!=typeof s)return a.error("Expression name must be a string, but found "+typeof s+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var l=a.definitions[s];if(l){var c=l.parse(e,a);if(!c)return null;var f=a.expectedType,h=c.type;if(f){if(("string"===f.kind||"number"===f.kind||"boolean"===f.kind)&&"value"===h.kind){c=new(t("./definitions/assertion"))(f,[c])}else if("color"===f.kind&&("value"===h.kind||"string"===h.kind)){var p=t("./definitions/coercion");c=new p(f,[c])}if(a.checkSubtype(f,c.type))return null}if(!(c instanceof u)&&r(c)){var d=new(t("./evaluation_context"));try{c=new u(c.type,c.evaluate(d))}catch(e){return a.error(e.message),null}}return c}return a.error('Unknown expression "'+s+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?a.error("'undefined' value invalid. Use null instead."):"object"==typeof e?a.error('Bare objects invalid. Use ["literal", {...}] instead.'):a.error("Expected an array, but found "+typeof e+" instead.")},l.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new l(this.definitions,r,e||null,i,this.errors)},l.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new s(r,t))},l.prototype.checkSubtype=function(t,e){var n=a(t,e);return n&&this.error(n),n},e.exports=l},{"./compound_expression":121,"./definitions/assertion":123,"./definitions/coercion":127,"./definitions/literal":131,"./definitions/var":134,"./evaluation_context":135,"./is_constant":137,"./parsing_error":139,"./scope":141,"./types":143}],139:[function(t,e,n){"use strict";var r=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.exports=r},{}],140:[function(t,e,n){"use strict";var r=function(t){this.name="ExpressionEvaluationError",this.message=t};r.prototype.toJSON=function(){return this.message},e.exports=r},{}],141:[function(t,e,n){"use strict";var r=function(t,e){var n=this;void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];n.bindings[a]=s}};r.prototype.concat=function(t){return new r(this,t)},r.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},r.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},e.exports=r},{}],142:[function(t,e,n){"use strict";function r(t,e){for(var n,r,i=t.length,o=0,a=i-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),n=t[s],r=t[s+1],e===n||e>n&&e<r)return s;n<e?o=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}e.exports={findStopLessThanOrEqualTo:r}},{}],143:[function(t,e,n){"use strict";function r(t,e){return{kind:"array",itemType:t,N:e}}function i(t){if("array"===t.kind){var e=i(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function o(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!o(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=d;n<r.length;n+=1){var a=r[n];if(!o(a,e))return null}}return"Expected "+i(t)+" but found "+i(e)+" instead."}var a={kind:"null"},s={kind:"number"},u={kind:"string"},l={kind:"boolean"},c={kind:"color"},f={kind:"object"},h={kind:"value"},p={kind:"error"},d=[a,s,u,l,c,f,r(h)];e.exports={NullType:a,NumberType:s,StringType:u,BooleanType:l,ColorType:c,ObjectType:f,ValueType:h,array:r,ErrorType:p,toString:i,checkSubtype:o}},{}],144:[function(t,e,n){"use strict";function r(t,e,n,r){if(!("number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255)){return"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1."}function i(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof a)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1){if(!i(n[e]))return!1}return!0}if("object"==typeof t){for(var r in t)if(!i(t[r]))return!1;return!0}return!1}function o(t){if(null===t)return u;if("string"==typeof t)return c;if("boolean"==typeof t)return f;if("number"==typeof t)return l;if(t instanceof a)return h;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var s=i[r],m=o(s);if(e){if(e===m)continue;e=d;break}e=m}return v(e||d,n)}return p}var a=t("../util/color"),s=t("./types"),u=s.NullType,l=s.NumberType,c=s.StringType,f=s.BooleanType,h=s.ColorType,p=s.ObjectType,d=s.ValueType,v=s.array;e.exports={Color:a,validateRGBA:r,isValue:i,typeOf:o}},{"../util/color":150,"./types":143}],145:[function(t,e,n){"use strict";function r(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!r(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}function i(t){if(!t)return function(){return!0};if(!r(t))return new Function("g","f","var p = (f && f.properties || {}); return "+o(t));var e=d(t,m);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return e.value.evaluate}function o(t){if(!t)return"true";var e=t[0];return t.length<=1?"any"===e?"false":"true":"("+("=="===e?s(t[1],t[2],"===",!1):"!="===e?s(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e,!0):"any"===e?u(t.slice(1),"||"):"all"===e?u(t.slice(1),"&&"):"none"===e?f(u(t.slice(1),"||")):"in"===e?l(t[1],t.slice(2)):"!in"===e?f(l(t[1],t.slice(2))):"has"===e?c(t[1]):"!has"===e?f(c(t[1])):"true")+")"}function a(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function s(t,e,n,r){var i=a(t),o="$type"===t?v.indexOf(e):JSON.stringify(e);return(r?"typeof "+i+"=== typeof "+o+"&&":"")+i+n+o}function u(t,e){return t.map(o).join(e)}function l(t,e){"$type"===t&&(e=e.map(function(t){return v.indexOf(t)}));var n=JSON.stringify(e.sort(h)),r=a(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function c(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function f(t){return"!("+t+")"}function h(t,e){return t<e?-1:t>e?1:0}var p=t("../expression"),d=p.createExpression;e.exports=i,e.exports.isExpressionFilter=r;var v=["Unknown","Point","LineString","Polygon"],m={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":136}],146:[function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function i(t){return t}function o(t,e){var n="color"===e.type,r=t.stops&&"object"==typeof t.stops[0][0],f=r||void 0!==t.property,h=r||!f,m=t.type||("interpolated"===e.function?"exponential":"interval");n&&(t=v({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],d.parse(t[1])]})),t.default?t.default=d.parse(t.default):t.default=d.parse(e.default));var g,_,b;if("exponential"===m)g=l;else if("interval"===m)g=u;else if("categorical"===m){g=s,_=Object.create(null);for(var x=0,w=t.stops;x<w.length;x+=1){var E=w[x];_[E[0]]=E[1]}b=typeof t.stops[0][0]}else{if("identity"!==m)throw new Error('Unknown function type "'+m+'"');g=c}var T;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!p[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var I=p[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var C=0;C<t.stops.length;C++)t.stops[C]=[t.stops[C][0],I.forward(t.stops[C][1])];T=I.reverse}else T=i;if(r){for(var M={},A=[],S=0;S<t.stops.length;S++){var R=t.stops[S],L=R[0].zoom;void 0===M[L]&&(M[L]={zoom:L,type:t.type,property:t.property,default:t.default,stops:[]},A.push(L)),M[L].stops.push([R[0].value,R[1]])}for(var k=[],N=0,F=A;N<F.length;N+=1){var O=F[N];k.push([M[O].zoom,o(M[O],e)])}return{kind:"composite",interpolationFactor:y.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:k.map(function(t){return t[0]}),evaluate:function(n,r){var i=n.zoom;return T(l({stops:k,base:t.base},e,i).evaluate(i,r))}}}return h?{kind:"camera",interpolationFactor:"exponential"===m?y.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(t){return t[0]}),evaluate:function(n){var r=n.zoom;return T(g(t,e,r,_,b))}}:{kind:"source",evaluate:function(n,r){var i=r&&r.properties?r.properties[t.property]:void 0;return void 0===i?a(t.default,e.default):T(g(t,e,i,_,b))}}}function a(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function s(t,e,n,r,i){return a(typeof n===i?r[n]:void 0,t.default,e.default)}function u(t,e,n){if("number"!==m(n))return a(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=f(t.stops,n);return t.stops[i][1]}function l(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==m(n))return a(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[o-1][0])return t.stops[o-1][1];var s=f(t.stops,n),u=h(n,r,t.stops[s][0],t.stops[s+1][0]),l=t.stops[s][1],c=t.stops[s+1][1],p=g[e.type]||i;return"function"==typeof l.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=l.evaluate.apply(void 0,t),r=c.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return p(n,r,u)}}:p(l,c,u)}function c(t,e,n){return"color"===e.type?n=d.parse(n):m(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),a(n,t.default,e.default)}function f(t,e){for(var n,r,i=t.length,o=0,a=i-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),n=t[s][0],r=t[s+1][0],e===n||e>n&&e<r)return s;n<e?o=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}function h(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var p=t("../util/color_spaces"),d=t("../util/color"),v=t("../util/extend"),m=t("../util/get_type"),g=t("../util/interpolate"),y=t("../expression/definitions/interpolate");e.exports={createFunction:o,isFunction:r}},{"../expression/definitions/interpolate":129,"../util/color":150,"../util/color_spaces":151,"../util/extend":152,"../util/get_type":153,"../util/interpolate":154}],147:[function(t,e,n){"use strict";function r(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",i=0,o=t;i<o.length;i+=1){n+=r(o[i])+","}return n+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+r(t[a[u]])+",";return s+"}"}function i(t){for(var e="",n=0,i=a;n<i.length;n+=1){e+="/"+r(t[i[n]])}return e}function o(t){for(var e={},n=0;n<t.length;n++){var r=i(t[n]),o=e[r];o||(o=e[r]=[]),o.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}var a=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":155}],148:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":149}],149:[function(t,e,n){e.exports={$version:8,$root:{version:{required:true,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:true,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:true,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:true,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:true,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:true,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:false},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:true,type:"enum",values:{video:{}}},urls:{required:true,type:"array",value:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:true,type:"enum",values:{image:{}}},url:{required:true,type:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:true,type:"enum",values:{canvas:{}}},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:true}},layer:{id:{type:"string",required:true},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":true,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":true,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":true,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":true,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,tokens:true},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,"property-function":true,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":true,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",units:'pixels multiplied by the value of "icon-size"',length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,default:"",tokens:true},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":true,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":true,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":true,"property-function":true,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:false}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:false,"zoom-function":true,"property-function":false,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:true,function:"interpolated","zoom-function":true,"property-function":false},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":true,"property-function":false,transition:true},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true},"fill-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"},{"fill-antialias":true}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":false,default:1,minimum:0,maximum:1,transition:true},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,units:"meters",transition:true},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,units:"meters",transition:true,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":true,minimum:0,transition:true,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:false},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":false,transition:true},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":false,"property-function":false,transition:true},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,transition:true,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":true,default:0,minimum:0,maximum:1,transition:true},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":true,default:1,minimum:0,maximum:1,transition:true},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,transition:true,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],150:[function(t,e,n){"use strict";var r=t("csscolorparser"),i=r.parseCSSColor,o=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};o.parse=function(t){if(t){if(t instanceof o)return t;if("string"==typeof t){var e=i(t);if(e)return new o(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},o.black=new o(0,0,0,1),o.white=new o(1,1,1,1),o.transparent=new o(0,0,0,0),e.exports=o},{csscolorparser:11}],151:[function(t,e,n){"use strict";function r(t){return t>y?Math.pow(t,1/3):t/g+v}function i(t){return t>m?t*t*t:g*(t-v)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t.r),n=a(t.g),i=a(t.b),o=r((.4124564*e+.3575761*n+.1804375*i)/h),s=r((.2126729*e+.7151522*n+.072175*i)/p);return{l:116*s-16,a:500*(o-s),b:200*(s-r((.0193339*e+.119192*n+.9503041*i)/d)),alpha:t.a}}function u(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=p*i(e),n=h*i(n),r=d*i(r),new f(o(3.2404542*n-1.5371385*e-.4985314*r),o(-.969266*n+1.8760108*e+.041556*r),o(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function l(t){var e=s(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*b;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}}function c(t){var e=t.h*_,n=t.c;return u({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}var f=t("./color"),h=.95047,p=1,d=1.08883,v=4/29,m=6/29,g=3*m*m,y=m*m*m,_=Math.PI/180,b=180/Math.PI;e.exports={lab:{forward:s,reverse:u},hcl:{forward:l,reverse:c}}},{"./color":150}],152:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}},{}],153:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],154:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}function i(t,e,n){return new a(r(t.r,e.r,n),r(t.g,e.g,n),r(t.b,e.b,n),r(t.a,e.a,n))}function o(t,e,n){return t.map(function(t,i){return r(t,e[i],n)})}var a=t("./color");e.exports={number:r,color:i,array:o}},{"./color":150}],155:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],156:[function(t,e,n){"use strict";function r(t){return{result:"success",value:t}}function i(t){return{result:"error",value:t}}e.exports={success:r,error:i}},{}],157:[function(t,e,n){"use strict";function r(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function i(t){return Array.isArray(t)?t.map(i):r(t)}e.exports=r,e.exports.deep=i},{}],158:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("../util/extend"),a=t("../util/unbundle_jsonlint"),s=t("../expression"),u=s.isExpression,l=t("../function"),c=l.isFunction;e.exports=function(e){var n=t("./validate_function"),s=t("./validate_expression"),l=t("./validate_object"),f={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},h=e.value,p=e.valueSpec,d=e.key,v=e.styleSpec,m=e.style;if("string"===i(h)&&"@"===h[0]){if(v.$version>7)return[new r(d,h,"constants have been deprecated as of v8")];if(!(h in m.constants))return[new r(d,h,'constant "%s" not found',h)];e=o({},e,{value:m.constants[h]})}return p.function&&c(a(h))?n(e):p.function&&u(a.deep(h))?s(e):p.type&&f[p.type]?f[p.type](e):l(o({},e,{valueSpec:p.type?v[p.type]:p}))}},{"../error/validation_error":120,"../expression":136,"../function":146,"../util/extend":152,"../util/get_type":153,"../util/unbundle_jsonlint":157,"./validate_array":159,"./validate_boolean":160,"./validate_color":161,"./validate_constants":162,"./validate_enum":163,"./validate_expression":164,"./validate_filter":165,"./validate_function":166,"./validate_layer":168,"./validate_light":170,"./validate_number":171,"./validate_object":172,"./validate_source":175,"./validate_string":176}],159:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||i;if("array"!==r(e))return[new o(u,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new o(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new o(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],h=0;h<e.length;h++)f=f.concat(l({array:e,arrayIndex:h,value:e[h],valueSpec:c,style:a,styleSpec:s,key:u+"["+h+"]"}));return f}},{"../error/validation_error":120,"../util/get_type":153,"./validate":158}],160:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"boolean"!==o?[new i(n,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":120,"../util/get_type":153}],161:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=i(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===o(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":120,"../util/get_type":153,csscolorparser:11}],162:[function(t,e,n){"use strict";var r=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value;return n?[new r(e,n,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":120}],163:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(i(n))&&a.push(new r(e,n,"expected one of [%s], %s found",o.values.join(", "),JSON.stringify(n))):-1===Object.keys(o.values).indexOf(i(n))&&a.push(new r(e,n,"expected one of [%s], %s found",Object.keys(o.values).join(", "),JSON.stringify(n))),a}},{"../error/validation_error":120,"../util/unbundle_jsonlint":157}],164:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../expression"),o=i.createExpression,a=i.createPropertyExpression,s=t("../util/unbundle_jsonlint");e.exports=function(t){var e=("property"===t.expressionContext?a:o)(s.deep(t.value),t.valueSpec);return"error"!==e.result?[]:e.value.map(function(e){return new r(""+t.key+e.key,t.value,e.message)})}},{"../error/validation_error":120,"../expression":136,"../util/unbundle_jsonlint":157}],165:[function(t,e,n){"use strict";function r(t){var e=t.value,n=t.key;if("array"!==s(e))return[new i(n,e,"array expected, %s found",s(e))];var o,l=t.styleSpec,c=[];if(e.length<1)return[new i(n,e,"filter array must have at least 1 element")];switch(c=c.concat(a({key:n+"[0]",value:e[0],valueSpec:l.filter_operator,style:t.style,styleSpec:t.styleSpec})),u(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===u(e[1])&&c.push(new i(n,e,'"$type" cannot be use with operator "%s"',e[0]));case"==":case"!=":3!==e.length&&c.push(new i(n,e,'filter array for operator "%s" must have 3 elements',e[0]));case"in":case"!in":e.length>=2&&"string"!==(o=s(e[1]))&&c.push(new i(n+"[1]",e[1],"string expected, %s found",o));for(var f=2;f<e.length;f++)o=s(e[f]),"$type"===u(e[1])?c=c.concat(a({key:n+"["+f+"]",value:e[f],valueSpec:l.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&c.push(new i(n+"["+f+"]",e[f],"string, number, or boolean expected, %s found",o));break;case"any":case"all":case"none":for(var h=1;h<e.length;h++)c=c.concat(r({key:n+"["+h+"]",value:e[h],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=s(e[1]),2!==e.length?c.push(new i(n,e,'filter array for "%s" operator must have 2 elements',e[0])):"string"!==o&&c.push(new i(n+"[1]",e[1],"string expected, %s found",o))}return c}var i=t("../error/validation_error"),o=t("./validate_expression"),a=t("./validate_enum"),s=t("../util/get_type"),u=t("../util/unbundle_jsonlint"),l=t("../util/extend"),c=t("../feature_filter"),f=c.isExpressionFilter;e.exports=function(t){return f(u.deep(t.value))?o(l({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):r(t)}},{"../error/validation_error":120,"../feature_filter":145,"../util/extend":152,"../util/get_type":153,"../util/unbundle_jsonlint":157,"./validate_enum":163,"./validate_expression":164}],166:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),u=t("./validate_number"),l=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new r(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&e.push(new r(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==i(n))return[new r(s,n,"array expected, %s found",i(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];if(b){if("object"!==i(n[0]))return[new r(s,n,"object expected, %s found",i(n[0]))];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(d&&d>l(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];l(n[0].zoom)!==d&&(d=l(n[0].zoom),p=void 0,g={}),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else e=e.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return e.concat(o({key:s+"[1]",value:n[1],valueSpec:v,style:t.style,styleSpec:t.styleSpec}))}function c(t,e){var n=i(t.value),o=l(t.value),a=null!==t.value?t.value:e;if(h){if(n!==h)return[new r(t.key,a,"%s stop domain type must match previous stop domain type %s",n,h)]}else h=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new r(t.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==n&&"categorical"!==m){var s="number expected, %s found";return v["property-function"]&&void 0===m&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(t.key,a,s,n)]}return"categorical"!==m||"number"!==n||isFinite(o)&&Math.floor(o)===o?"categorical"!==m&&"number"===n&&void 0!==p&&o<p?[new r(t.key,a,"stop domain values must appear in ascending order")]:(p=o,"categorical"===m&&o in g?[new r(t.key,a,"stop domain values must be unique")]:(g[o]=!0,[])):[new r(t.key,a,"integer expected, found %s",o)]}function f(t){return o({key:t.key,value:t.value,valueSpec:v,style:t.style,styleSpec:t.styleSpec})}var h,p,d,v=t.valueSpec,m=l(t.value.type),g={},y="categorical"!==m&&void 0===t.value.property,_=!y,b="array"===i(t.value.stops)&&"array"===i(t.value.stops[0])&&"object"===i(t.value.stops[0][0]),x=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:f}});return"identity"===m&&y&&x.push(new r(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||x.push(new r(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&x.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(_&&!t.valueSpec["property-function"]?x.push(new r(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&x.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!b||void 0!==t.value.property||x.push(new r(t.key,t.value,'"property" property is required')),x}},{"../error/validation_error":120,"../util/get_type":153,"../util/unbundle_jsonlint":157,"./validate":158,"./validate_array":159,"./validate_number":171,"./validate_object":172}],167:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=i(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new r(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":120,"./validate_string":176}],168:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),u=t("./validate_layout_property"),l=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,f=t.style,h=t.styleSpec;n.type||n.ref||e.push(new r(c,n,'either "type" or "ref" is required'));var p=i(n.type),d=i(n.ref);if(n.id)for(var v=i(n.id),m=0;m<t.arrayIndex;m++){var g=f.layers[m];i(g.id)===v&&e.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(c,n[t],'"%s" is prohibited for ref layers',t))});var y;f.layers.forEach(function(t){i(t.id)===d&&(y=t)}),y?y.ref?e.push(new r(c,n.ref,"ref cannot reference another ref layer")):p=i(y.type):e.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==p)if(n.source){var _=f.sources&&f.sources[n.source],b=_&&i(_.type);_?"vector"===b&&"raster"===p?e.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"===b&&"raster"!==p?e.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!==b||n["source-layer"]||e.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(c,n.source,'source "%s" not found',n.source))}else e.push(new r(c,n,'missing required property "source"'));return e=e.concat(o({key:c,value:n,valueSpec:h.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:p},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(l({layerType:p},t))}}})}}}))}},{"../error/validation_error":120,"../util/extend":152,"../util/unbundle_jsonlint":157,"./validate_filter":165,"./validate_layout_property":169,"./validate_object":172,"./validate_paint_property":173}],169:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"layout")}},{"./validate_property":174}],170:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,u=[],l=i(e);if(void 0===e)return u;if("object"!==l)return u=u.concat([new r("light",e,"object expected, %s found",l)]);for(var c in e){var f=c.match(/^(.*)-transition$/);u=f&&a[f[1]]&&a[f[1]].transition?u.concat(o({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,e[c],'unknown property "%s"',c)])}return u}},{"../error/validation_error":120,"../util/get_type":153,"./validate":158}],171:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=r(n);return"number"!==a?[new i(e,n,"number expected, %s found",a)]:"minimum"in o&&n<o.minimum?[new i(e,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new i(e,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":120,"../util/get_type":153}],172:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],f=i(n);if("object"!==f)return[new r(e,n,"object expected, %s found",f)];for(var h in n){var p=h.split(".")[0],d=a[p]||a["*"],v=void 0;if(s[p])v=s[p];else if(a[p])v=o;else if(s["*"])v=s["*"];else{if(!a["*"]){c.push(new r(e,n[h],'unknown property "%s"',h));continue}v=o}c=c.concat(v({key:(e?e+".":e)+h,value:n[h],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:h},n))}for(var m in a)a[m].required&&void 0===a[m].default&&void 0===n[m]&&c.push(new r(e,n,'missing required property "%s"',m));return c}},{"../error/validation_error":120,"../util/get_type":153,"./validate":158}],173:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"paint")}},{"./validate_property":174}],174:[function(t,e,n){"use strict";var r=t("./validate"),i=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t,e){var n=t.key,a=t.style,s=t.styleSpec,u=t.value,l=t.objectKey,c=s[e+"_"+t.layerType];if(!c)return[];var f=l.match(/^(.*)-transition$/);if("paint"===e&&f&&c[f[1]]&&c[f[1]].transition)return r({key:n,value:u,valueSpec:s.transition,style:a,styleSpec:s});var h=t.valueSpec||c[l];if(!h)return[new i(n,u,'unknown property "%s"',l)];var p;if("string"===o(u)&&h["property-function"]&&!h.tokens&&(p=/^{([^}]+)}$/.exec(u)))return[new i(n,u,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',l,JSON.stringify(p[1]))];var d=[];return"symbol"===t.layerType&&"text-field"===l&&a&&!a.glyphs&&d.push(new i(n,u,'use of "text-field" requires a style "glyphs" property')),d.concat(r({key:t.key,value:u,valueSpec:h,style:a,styleSpec:s,expressionContext:"property"}))}},{"../error/validation_error":120,"../util/get_type":153,"./validate":158}],175:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var l=i(e.type),c=[];switch(l){case"vector":case"raster":if(c=c.concat(o({key:n,value:e,valueSpec:s["source_"+l],style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,e[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return o({key:n,value:e,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":120,"../util/unbundle_jsonlint":157,"./validate_enum":163,"./validate_object":172}],176:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"string"!==o?[new i(n,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":120,"../util/get_type":153}],177:[function(t,e,n){"use strict";function r(t,e){e=e||u;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),i(n)}function i(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return i(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),u=t("./reference/latest"),l=t("./validate/validate_glyphs_url");r.source=o(t("./validate/validate_source")),r.light=o(t("./validate/validate_light")),r.layer=o(t("./validate/validate_layer")),r.filter=o(t("./validate/validate_filter")),r.paintProperty=o(t("./validate/validate_paint_property")),r.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=r},{"./reference/latest":148,"./validate/validate":158,"./validate/validate_constants":162,"./validate/validate_filter":165,"./validate/validate_glyphs_url":167,"./validate/validate_layer":168,"./validate/validate_layout_property":169,"./validate/validate_light":170,"./validate/validate_paint_property":173,"./validate/validate_source":175}],178:[function(t,e,n){"use strict";var r=t("../style-spec/reference/latest"),i=t("../util/util"),o=t("../util/evented"),a=t("./validate_style"),s=t("../util/util"),u=s.sphericalToCartesian,l=t("../style-spec/util/color"),c=t("../style-spec/util/interpolate"),f=t("./properties"),h=f.Properties,p=f.Transitionable,d=f.Transitioning,v=f.PossiblyEvaluated,m=f.DataConstantProperty,g=function(){this.specification=r.light.position};g.prototype.possiblyEvaluate=function(t,e){return u(t.expression.evaluate(e))},g.prototype.interpolate=function(t,e,n){return{x:c.number(t.x,e.x,n),y:c.number(t.y,e.y,n),z:c.number(t.z,e.z,n)}};var y=new h({anchor:new m(r.light.anchor),position:new g,color:new m(r.light.color),intensity:new m(r.light.intensity)}),_="-transition",b=function(t){function e(e){t.call(this),this._transitionable=new p(y),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLight=function(){return this._transitionable.serialize()},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var r=t[n];i.endsWith(n,_)?e._transitionable.setTransition(n.slice(0,-_.length),r):e._transitionable.setValue(n,r)}},e.prototype.updateTransitions=function(t,e){!1===t.transition?this._transitioning=this._transitionable.untransitioned():this._transitioning=this._transitionable.transitioned({now:Date.now(),transition:e},this._transitioning)},e.prototype.hasTransition=function(){return this._transitioning.hasTransition()},e.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,i.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:r})))},e}(o);e.exports=b},{"../style-spec/reference/latest":148,"../style-spec/util/color":150,"../style-spec/util/interpolate":154,"../util/evented":253,"../util/util":266,"./properties":183,"./validate_style":204}],179:[function(t,e,n){"use strict";var r=t("../util/mapbox"),i=r.normalizeGlyphsURL,o=t("../util/ajax"),a=t("./parse_glyph_pbf");e.exports=function(t,e,n,r,s){var u=256*e,l=u+255,c=r(i(n).replace("{fontstack}",t).replace("{range}",u+"-"+l),o.ResourceType.Glyphs);o.getArrayBuffer(c,function(t,e){if(t)s(t);else if(e){for(var n={},r=0,i=a(e.data);r<i.length;r+=1){var o=i[r];n[o.id]=o}s(null,n)}})}},{"../util/ajax":244,"../util/mapbox":260,"./parse_glyph_pbf":181}],180:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/browser"),o=t("../util/mapbox"),a=o.normalizeSpriteURL,s=t("../util/image"),u=s.RGBAImage;e.exports=function(t,e,n){function o(){if(c)n(c);else if(s&&l){var t=i.getImageData(l),e={};for(var r in s){var o=s[r],a=o.width,f=o.height,h=o.x,p=o.y,d=o.sdf,v=o.pixelRatio,m=u.create({width:a,height:f});u.copy(t,m,{x:h,y:p},{x:0,y:0},{width:a,height:f}),e[r]={data:m,pixelRatio:v,sdf:d}}n(null,e)}}var s,l,c,f=i.devicePixelRatio>1?"@2x":"";r.getJSON(e(a(t,f,".json"),r.ResourceType.SpriteJSON),function(t,e){c||(c=t,s=e,o())}),r.getImage(e(a(t,f,".png"),r.ResourceType.SpriteImage),function(t,e){c||(c=t,l=e,o())})}},{"../util/ajax":244,"../util/browser":245,"../util/image":256,"../util/mapbox":260}],181:[function(t,e,n){"use strict";function r(t,e,n){1===t&&n.readMessage(i,e)}function i(t,e,n){if(3===t){var r=n.readMessage(o,{}),i=r.id,a=r.bitmap,u=r.width,c=r.height,f=r.left,h=r.top,p=r.advance;e.push({id:i,bitmap:s.create({width:u+2*l,height:c+2*l},a),metrics:{width:u,height:c,left:f,top:h,advance:p}})}}function o(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var a=t("../util/image"),s=a.AlphaImage,u=t("pbf"),l=3;e.exports=function(t){return new u(t).readFields(r,[])},e.exports.GLYPH_PBF_BORDER=l},{"../util/image":256,pbf:38}],182:[function(t,e,n){"use strict";function r(t,e){var n=a.fromID(t),r=a.fromID(e);return n.isLessThan(r)?-1:r.isLessThan(n)?1:0}var i=t("../util/browser"),o=t("../symbol/collision_index"),a=t("../source/tile_coord"),s=function(t){this._currentTileIndex=0,this._tileIDs=t};s.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this;this._currentTileIndex<this._tileIDs.length;){if(t.getTileByID(o._tileIDs[o._currentTileIndex]).placeLayer(n,e,r,t.id),o._currentTileIndex++,i())return!0}};var u=function(t,e,n,r,a,s){this.collisionIndex=new o(t.clone()),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._sourceCacheTileIDs={},this._done=!1,this._delayUntil=n||!s?i.now():s._delayUntil+300,this._collisionFadeTimes=s?s._collisionFadeTimes:{latestStart:0,duration:a}};u.prototype.isDone=function(){return this._done},u.prototype.continuePlacement=function(t,e,n){var o=this,a=i.now();if(a<this._delayUntil)return!0;for(var u=function(){var t=i.now()-a;return!o._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var l=t[o._currentPlacementIndex],c=e[l];if("symbol"===c.type){var f=n[c.source];o._inProgressLayer||(o._sourceCacheTileIDs[c.source]||(o._sourceCacheTileIDs[c.source]=f.getRenderableIds().sort(r)),o._inProgressLayer=new s(o._sourceCacheTileIDs[c.source]));if(o._inProgressLayer.continuePlacement(f,o.collisionIndex,o._showCollisionBoxes,c,u))return;delete o._inProgressLayer}o._currentPlacementIndex--}for(var h in n)n[h].commitPlacement(o.collisionIndex,o._collisionFadeTimes);this._done=!0},u.prototype.stillFading=function(){return Date.now()<this._collisionFadeTimes.latestStart+this._collisionFadeTimes.duration},e.exports=u},{"../source/tile_coord":112,"../symbol/collision_index":210,"../util/browser":245}],183:[function(t,e,n){"use strict";var r=t("../util/util"),i=r.extend,o=r.easeCubicInOut,a=t("../style-spec/util/interpolate"),s=t("../style-spec/expression"),u=s.normalizePropertyExpression,l=t("../style-spec/util/color"),c=function(t,e){this.property=t,this.value=e,this.expression=u(void 0===e?t.specification.default:e,t.specification)};c.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},c.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var f=function(t){this.property=t,this.value=new c(t,void 0)};f.prototype.transitioned=function(t,e){return new p(this.property,this.value,e,i({},this.transition,t.transition),t.now)},f.prototype.untransitioned=function(){return new p(this.property,this.value,null,{},0)};var h=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};h.prototype.getValue=function(t){return this._values[t].value.value},h.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new f(this._values[t].property)),this._values[t].value=new c(this._values[t].property,null===e?void 0:e)},h.prototype.getTransition=function(t){return this._values[t].transition},h.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new f(this._values[t].property)),this._values[t].transition=e||void 0},h.prototype.serialize=function(){for(var t=this,e={},n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n],o=t.getValue(i);void 0!==o&&(e[i]=o);var a=t.getTransition(i);void 0!==a&&(e[i+"-transition"]=a)}return e},h.prototype.transitioned=function(t,e){for(var n=this,r=new d(this._properties),i=0,o=Object.keys(n._values);i<o.length;i+=1){var a=o[i];r._values[a]=n._values[a].transitioned(t,e._values[a])}return r},h.prototype.untransitioned=function(){for(var t=this,e=new d(this._properties),n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n];e._values[i]=t._values[i].untransitioned()}return e};var p=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,(r.delay||r.duration)&&(this.prior=n)};p.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,o(i))}return n};var d=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};d.prototype.possiblyEvaluate=function(t){for(var e=this,n=new g(this._properties),r=0,i=Object.keys(e._values);r<i.length;r+=1){var o=i[r];n._values[o]=e._values[o].possiblyEvaluate(t)}return n},d.prototype.hasTransition=function(){for(var t=this,e=0,n=Object.keys(t._values);e<n.length;e+=1){var r=n[e];if(t._values[r].prior)return!0}return!1};var v=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};v.prototype.getValue=function(t){return this._values[t].value},v.prototype.setValue=function(t,e){this._values[t]=new c(this._values[t].property,null===e?void 0:e)},v.prototype.serialize=function(){for(var t=this,e={},n=0,r=Object.keys(t._values);n<r.length;n+=1){var i=r[n],o=t.getValue(i);void 0!==o&&(e[i]=o)}return e},v.prototype.possiblyEvaluate=function(t){for(var e=this,n=new g(this._properties),r=0,i=Object.keys(e._values);r<i.length;r+=1){var o=i[r];n._values[o]=e._values[o].possiblyEvaluate(t)}return n};var m=function(t,e,n){this.property=t,this.value=e,this.globals=n};m.prototype.isConstant=function(){return"constant"===this.value.kind},m.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},m.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var g=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};g.prototype.get=function(t){return this._values[t]};var y=function(t){this.specification=t};y.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},y.prototype.interpolate=function(t,e,n){var r=a[this.specification.type];return r?r(t,e,n):t};var _=function(t,e){void 0===e&&(e=!1),this.specification=t,this.useIntegerZoom=e};_.prototype.possiblyEvaluate=function(t,e){return this.useIntegerZoom&&(e=i({},e,{zoom:Math.floor(e.zoom)})),"constant"===t.expression.kind||"camera"===t.expression.kind?new m(this,{kind:"constant",value:t.expression.evaluate(e)},e):new m(this,t.expression,e)},_.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==t.value.value){var r=a[this.specification.type];return r?new m(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.globals):t}},_.prototype.evaluate=function(t,e,n){return this.useIntegerZoom&&(e=i({},e,{zoom:Math.floor(e.zoom)})),"constant"===t.kind?t.value:t.evaluate(e,n)};var b=function(t){this.specification=t};b.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}},b.prototype._calculate=function(t,e,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.defaultFadeDuration,s=0!==a?Math.min((r.now-r.zoomHistory.lastIntegerZoomTime)/a,1):1;return i>r.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*s}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-s)*o}},b.prototype.interpolate=function(t){return t};var x=function(t){this.specification=t};x.prototype.possiblyEvaluate=function(){},x.prototype.interpolate=function(){};var w=function(t){var e=this;this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={};for(var n in t){var r=t[n],i=e.defaultPropertyValues[n]=new c(r,void 0),o=e.defaultTransitionablePropertyValues[n]=new f(r);e.defaultTransitioningPropertyValues[n]=o.untransitioned(),e.defaultPossiblyEvaluatedValues[n]=i.possiblyEvaluate({})}};e.exports={PropertyValue:c,Transitionable:h,Transitioning:d,Layout:v,PossiblyEvaluatedPropertyValue:m,PossiblyEvaluated:g,DataConstantProperty:y,DataDrivenProperty:_,CrossFadedProperty:b,HeatmapColorProperty:x,Properties:w}},{"../style-spec/expression":136,"../style-spec/util/color":150,"../style-spec/util/interpolate":154,"../util/util":266}],184:[function(t,e,n){"use strict";function r(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).paintPropertyStatistics[t].max}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=a.convert(e);"viewport"===n&&o._rotate(-r);for(var s=[],u=0;u<t.length;u++){for(var l=t[u],c=[],f=0;f<l.length;f++)c.push(l[f].sub(o._mult(i)));s.push(c)}return s}var a=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:r,translateDistance:i,translate:o}},{"@mapbox/point-geometry":2}],185:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("./style_layer"),o=t("./load_sprite"),a=t("../render/image_manager"),s=t("../render/glyph_manager"),u=t("./light"),l=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),h=t("../util/mapbox"),p=t("../util/browser"),d=t("../util/dispatcher"),v=t("./validate_style"),m=t("../source/source").getType,g=t("../source/source").setType,y=t("../source/query_features"),_=t("../source/source_cache"),b=t("../source/geojson_source"),x=t("../style-spec/reference/latest"),w=t("../util/global_worker_pool"),E=t("../style-spec/deref"),T=t("../style-spec/diff"),I=t("../source/rtl_text_plugin"),C=t("./placement"),M=c.pick(T.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),A=c.pick(T.operations,["setCenter","setZoom","setBearing","setPitch"]),S=function(t){function e(e,n){var r=this;void 0===n&&(n={}),t.call(this),this.map=e,this.dispatcher=new d(w(),this),this.imageManager=new a,this.glyphManager=new s(e._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,this._resetUpdates();var i=this;this._rtlTextPluginCallback=I.registerForPluginAvailability(function(t){i.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in i.sourceCaches)i.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var i in r._layers){var o=r._layers[i];o.source===n.id&&r._validateLayer(o)}}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadURL=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"});var r="boolean"==typeof e.validate?e.validate:!h.isMapboxURL(t);t=h.normalizeStyleURL(t,e.accessToken);var i=this.map._transformRequest(t,f.ResourceType.Style);f.getJSON(i,function(t,e){t?n.fire("error",{error:t}):e&&n._load(e,r)})},e.prototype.loadJSON=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"}),p.frame(function(){n._load(t,!1!==e.validate)})},e.prototype._load=function(t,e){var n=this;if(!e||!v.emitErrors(this,v(t))){this._loaded=!0,this.stylesheet=t,this.updatePaintProperties();for(var r in t.sources)n.addSource(r,t.sources[r],{validate:!1});t.sprite?o(t.sprite,this.map._transformRequest,function(t,e){if(t)n.fire("error",t);else if(e)for(var r in e)n.imageManager.addImage(r,e[r]);n.imageManager.setLoaded(!0),n.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var a=E(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var c=l[s];c=i.create(c),c.setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new u(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var r=e.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire("error",{error:new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')})}}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyPaintPropertyUpdates=function(t){var e=this;if(this._loaded){t=t||{transition:!0};var n=c.extend({duration:300,delay:0},this.stylesheet.transition),r=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var i in r)e._layers[i].updatePaintTransitions(t,n);this.light.updateTransitions(t,n)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var n in e.sourceCaches)e.sourceCaches[n].used=!1;for(var r={zoom:t,now:Date.now(),defaultFadeDuration:300,zoomHistory:this._updateZoomHistory(t)},i=0,o=e._order;i<o.length;i+=1){var a=o[i],s=e._layers[a];s.recalculate(r),!s.isHidden(t)&&s.source&&(e.sourceCaches[s.source].used=!0)}this.light.recalculate(r),this.z=t}},e.prototype.hasTransitions=function(){var t=this;if(this.light&&this.light.hasTransition())return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].hasTransition())return!0;for(var n in t._layers)if(t._layers[n].hasTransition())return!0;return!1},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;return void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t,e},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t){var e=this;if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(n.length||r.length)&&this._updateWorkerLayers(n,r);for(var i in e._updatedSources){var o=e._updatedSources[i];"reload"===o?e._reloadSource(i):"clear"===o&&e._clearSource(i)}this._applyPaintPropertyUpdates(t),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),v.emitErrors(this,v(t)))return!1;t=c.clone(t),t.layers=E(t.layers);var n=T(this.serialize(),t).filter(function(t){return!(t.command in A)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in M)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addImage=function(t,e){if(this.imageManager.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},e.prototype.removeImage=function(t){if(!this.imageManager.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},e.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(v.source,"sources."+t,e,null,n))){var i=this.sourceCaches[t]=new _(t,e,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if("object"==typeof t.source&&(this.addSource(r,t.source),t=c.clone(t),t=c.extend(t,{source:r})),!this._validate(v.layer,"layers."+r,t,{arrayIndex:-1},n)){var o=i.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var a=e?this._order.indexOf(e):this._order.length;if(e&&-1===a)return void this.fire("error",{message:new Error('Layer with id "'+e+'" does not exist on this map.')});if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),this.updatePaintProperties(r)}},e.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var n=this._order.indexOf(t);this._order.splice(n,1);var r=e?this._order.indexOf(e):this._order.length;this._order.splice(r,0,t),this._layerOrderChanged=!0},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")});r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")});if(!c.deepEqual(n.filter,e))return null===e||void 0===e?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(v.filter,"layers."+n.id+".filter",e)||(n.filter=c.clone(e),this._updateLayer(n)))},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});c.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r))},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(r.getPaintProperty(e),n)){var i=r._transitionablePaint._values[e].value.isDataDriven();r.setPaintProperty(e,n);(r._transitionablePaint._values[e].value.isDataDriven()||i)&&this._updateLayer(r),this.updatePaintProperties(t,e)}},e.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updatePaintProperties=function(t,e){if(this._changed=!0,t){var n=this._updatedPaintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],r=this._order.length-1;r>=0;r--)for(var i=e._order[r],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s[i];if(u)for(var l=0,c=u;l<c.length;l+=1){var f=c[l];n.push(f)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,r){var i=this;e&&e.filter&&this._validate(v.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=e.layers;a<s.length;a+=1){var u=s[a],l=i._layers[u];if(!l)return i.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."}),[];o[l.source]=!0}}var c=[];for(var f in i.sourceCaches)if(!e.layers||o[f]){var h=y.rendered(i.sourceCaches[f],i._layers,t,e,n,r);c.push(h)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(v.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?y.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return m(t)?n(new Error('A source type called "'+t+'" already exists.')):(g(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var i in t)if(!c.deepEqual(t[i],n[i])){r=!0;break}if(r){e=e||{transition:!0};var o=c.extend({duration:300,delay:0},this.stylesheet.transition);this.light.setLight(t),this.light.updateTransitions(e,o)}},e.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&v.emitErrors(this,t.call(v,c.extend({key:e,style:this.serialize(),value:n,styleSpec:x},r)))},e.prototype._remove=function(){var t=this;I.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype.getNeedsFullPlacement=function(){var t=this;if(this._layerOrderChanged)return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].getNeedsFullPlacement())return!0;return!1},e.prototype._generateCollisionBoxes=function(){var t=this;for(var e in t.sourceCaches)t._reloadSource(e)},e.prototype._updatePlacement=function(t,e,n){var r=this.getNeedsFullPlacement();return(r||!this.placement||this.placement.isDone())&&(this.placement=new C(t,this._order,r,e,n,this.placement),this._layerOrderChanged=!1),this.placement.continuePlacement(this._order,this._layers,this.sourceCaches),this.placement.isDone()&&(this.collisionIndex=this.placement.collisionIndex),!this.placement.isDone()||this.placement.stillFading()},e.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},e.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},e}(r);e.exports=S},{"../render/glyph_manager":85,"../render/image_manager":87,"../render/line_atlas":88,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":107,"../source/source":108,"../source/source_cache":109,"../style-spec/deref":118,"../style-spec/diff":119,"../style-spec/reference/latest":148,"../util/ajax":244,"../util/browser":245,"../util/dispatcher":251,"../util/evented":253,"../util/global_worker_pool":255,"../util/mapbox":260,"../util/util":266,"./light":178,"./load_sprite":180,"./placement":182,"./style_layer":186,"./validate_style":204}],186:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../style-spec/reference/latest"),o=t("./validate_style"),a=t("../util/evented"),s=t("./properties"),u=s.Layout,l=s.Transitionable,c=s.Transitioning,f=s.Properties,h="-transition",p=function(t){function e(e,n){var r=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},n.layout&&(this._unevaluatedLayout=new u(n.layout)),this._transitionablePaint=new l(n.paint);for(var i in e.paint)r.setPaintProperty(i,e.paint[i],{validate:!1});for(var o in e.layout)r.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(null!==e&&void 0!==e){var r="layers."+this.id+".layout."+t;if(this._validate(o.layoutProperty,r,t,e,n))return}if("visibility"===t)return void(this.visibility="none"===e?e:"visible");this._unevaluatedLayout.setValue(t,e)},e.prototype.getPaintProperty=function(t){return r.endsWith(t,h)?this._transitionablePaint.getTransition(t.slice(0,-h.length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(null!==e&&void 0!==e){var i="layers."+this.id+".paint."+t;if(this._validate(o.paintProperty,i,t,e,n))return}r.endsWith(t,h)?this._transitionablePaint.setTransition(t.slice(0,-h.length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility)},e.prototype.updatePaintTransitions=function(t,e){!1===t.transition?this._transitioningPaint=this._transitionablePaint.untransitioned():this._transitioningPaint=this._transitionablePaint.transitioned({now:Date.now(),transition:e},this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),r.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,r,a){return(!a||!1!==a.validate)&&o.emitErrors(this,t.call(o,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:i,style:{glyphs:!0,sprite:!0}}))},e.prototype.has3DPass=function(){return!1},e.prototype.resize=function(t){},e}(a);e.exports=p;var d={circle:t("./style_layer/circle_style_layer"),heatmap:t("./style_layer/heatmap_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:t("./style_layer/background_style_layer"),raster:t("./style_layer/raster_style_layer")};p.create=function(t){return new d[t.type](t)}},{"../style-spec/reference/latest":148,"../util/evented":253,"../util/util":266,"./properties":183,"./style_layer/background_style_layer":187,"./style_layer/circle_style_layer":189,"./style_layer/fill_extrusion_style_layer":191,"./style_layer/fill_style_layer":193,"./style_layer/heatmap_style_layer":195,"./style_layer/line_style_layer":197,"./style_layer/raster_style_layer":199,"./style_layer/symbol_style_layer":201,"./validate_style":204}],187:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("./background_style_layer_properties"),o=t("../properties"),a=o.Transitionable,s=o.Transitioning,u=o.PossiblyEvaluated,l=function(t){function e(e){t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r);e.exports=l},{"../properties":183,"../style_layer":186,"./background_style_layer_properties":188}],188:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"background-color":new a(r.paint_background["background-color"]),"background-pattern":new u(r.paint_background["background-pattern"]),"background-opacity":new a(r.paint_background["background-opacity"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],189:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/circle_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsBufferedMultiPoint,s=t("../query_utils"),u=s.getMaximumPaintValue,l=s.translateDistance,c=s.translate,f=t("./circle_style_layer_properties"),h=t("../properties"),p=h.Transitionable,d=h.Transitioning,v=h.PossiblyEvaluated,m=function(t){function e(e){t.call(this,e,f)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(t){var e=t;return u("circle-radius",this,e)+u("circle-stroke-width",this,e)+l(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=c(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i,o),u=this.paint.get("circle-radius").evaluate(e)*o,l=this.paint.get("circle-stroke-width").evaluate(e)*o;return a(s,n,u+l)},e}(r);e.exports=m},{"../../data/bucket/circle_bucket":52,"../../util/intersection_tests":257,"../properties":183,"../query_utils":184,"../style_layer":186,"./circle_style_layer_properties":190}],190:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"circle-radius":new s(r.paint_circle["circle-radius"]),"circle-color":new s(r.paint_circle["circle-color"]),"circle-blur":new s(r.paint_circle["circle-blur"]),"circle-opacity":new s(r.paint_circle["circle-opacity"]),"circle-translate":new a(r.paint_circle["circle-translate"]),"circle-translate-anchor":new a(r.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(r.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(r.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(r.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(r.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(r.paint_circle["circle-stroke-opacity"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],191:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_extrusion_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),u=s.translateDistance,l=s.translate,c=t("./fill_extrusion_style_layer_properties"),f=t("../properties"),h=f.Transitionable,p=f.Transitioning,d=f.PossiblyEvaluated,v=function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return u(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=l(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i,o);return a(s,n)},e.prototype.has3DPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(t){if(this.viewportFrame){var e=this.viewportFrame,n=e.texture,r=e.fbo;t.deleteTexture(n),t.deleteFramebuffer(r),this.viewportFrame=null}},e}(r);e.exports=v},{"../../data/bucket/fill_extrusion_bucket":54,"../../util/intersection_tests":257,"../properties":183,"../query_utils":184,"../style_layer":186,"./fill_extrusion_style_layer_properties":192}],192:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"fill-extrusion-opacity":new a(r["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(r["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(r["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(r["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new u(r["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(r["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(r["paint_fill-extrusion"]["fill-extrusion-base"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],193:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),u=s.translateDistance,l=s.translate,c=t("./fill_style_layer_properties"),f=t("../properties"),h=f.Transitionable,p=f.Transitioning,d=f.PossiblyEvaluated,v=function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return u(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o){var s=l(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i,o);return a(s,n)},e}(r);e.exports=v},{"../../data/bucket/fill_bucket":53,"../../util/intersection_tests":257,"../properties":183,"../query_utils":184,"../style_layer":186,"./fill_style_layer_properties":194}],194:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"fill-antialias":new a(r.paint_fill["fill-antialias"]),"fill-opacity":new s(r.paint_fill["fill-opacity"]),"fill-color":new s(r.paint_fill["fill-color"]),"fill-outline-color":new s(r.paint_fill["fill-outline-color"]),"fill-translate":new a(r.paint_fill["fill-translate"]),"fill-translate-anchor":new a(r.paint_fill["fill-translate-anchor"]),"fill-pattern":new u(r.paint_fill["fill-pattern"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],195:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/heatmap_bucket"),o=t("../../util/image").RGBAImage,a=t("./heatmap_style_layer_properties"),s=t("../properties"),u=s.Transitionable,l=s.Transitioning,c=s.PossiblyEvaluated,f=function(t){function e(e){t.call(this,e,a),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e.prototype.setPaintProperty=function(e,n,r){t.prototype.setPaintProperty.call(this,e,n,r),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),n=e.length,r=4;r<n;r+=4){var i=t.evaluate({heatmapDensity:r/n});e[r+0]=Math.floor(255*i.r/i.a),e[r+1]=Math.floor(255*i.g/i.a),e[r+2]=Math.floor(255*i.b/i.a),e[r+3]=Math.floor(255*i.a)}this.colorRamp=o.create({width:256,height:1},e),this.colorRampTexture=null},e.prototype.resize=function(t){this.heatmapTexture&&(t.deleteTexture(this.heatmapTexture),this.heatmapTexture=null),this.heatmapFbo&&(t.deleteFramebuffer(this.heatmapFbo),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(r);e.exports=f},{"../../data/bucket/heatmap_bucket":55,"../../util/image":256,"../properties":183,"../style_layer":186,"./heatmap_style_layer_properties":196}],196:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"heatmap-radius":new a(r.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(r.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(r.paint_heatmap["heatmap-intensity"]),"heatmap-color":new l(r.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(r.paint_heatmap["heatmap-opacity"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],197:[function(t,e,n){"use strict";function r(t,e){return e>0?e+2*t:t}function i(t,e){for(var n=[],r=new o(0,0),i=0;i<t.length;i++){for(var a=t[i],s=[],u=0;u<a.length;u++){var l=a[u-1],c=a[u],f=a[u+1],h=0===u?r:c.sub(l)._unit()._perp(),p=u===a.length-1?r:f.sub(c)._unit()._perp(),d=h._add(p)._unit(),v=d.x*p.x+d.y*p.y;d._mult(1/v),s.push(d._mult(e)._add(c))}n.push(s)}return n}var o=t("@mapbox/point-geometry"),a=t("../style_layer"),s=t("../../data/bucket/line_bucket"),u=t("../../util/intersection_tests"),l=u.multiPolygonIntersectsBufferedMultiLine,c=t("../query_utils"),f=c.getMaximumPaintValue,h=c.translateDistance,p=c.translate,d=t("./line_style_layer_properties"),v=t("../properties"),m=v.Transitionable,g=v.Transitioning,y=v.Layout,_=v.PossiblyEvaluated,b=v.DataDrivenProperty,x=new b(d.paint.properties["line-width"].specification,!0),w=function(t){function e(e){t.call(this,e,d)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=x.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new s(t)},e.prototype.queryRadius=function(t){var e=t,n=r(f("line-width",this,e),f("line-gap-width",this,e)),i=f("line-offset",this,e);return n/2+Math.abs(i)+h(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,o,a,s){var u=p(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,s),c=s/2*r(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),f=this.paint.get("line-offset").evaluate(e);return f&&(n=i(n,f*s)),l(u,n,c)},e}(a);e.exports=w},{"../../data/bucket/line_bucket":56,"../../util/intersection_tests":257,"../properties":183,"../query_utils":184,"../style_layer":186,"./line_style_layer_properties":198,"@mapbox/point-geometry":2}],198:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"line-cap":new a(r.layout_line["line-cap"]),"line-join":new s(r.layout_line["line-join"]),"line-miter-limit":new a(r.layout_line["line-miter-limit"]),"line-round-limit":new a(r.layout_line["line-round-limit"])}),f=new o({"line-opacity":new s(r.paint_line["line-opacity"]),"line-color":new s(r.paint_line["line-color"]),"line-translate":new a(r.paint_line["line-translate"]),"line-translate-anchor":new a(r.paint_line["line-translate-anchor"]),"line-width":new s(r.paint_line["line-width"]),"line-gap-width":new s(r.paint_line["line-gap-width"]),"line-offset":new s(r.paint_line["line-offset"]),"line-blur":new s(r.paint_line["line-blur"]),"line-dasharray":new u(r.paint_line["line-dasharray"]),"line-pattern":new u(r.paint_line["line-pattern"])});e.exports={paint:f,layout:c}},{"../../style-spec/reference/latest":148,"../properties":183}],199:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("./raster_style_layer_properties"),o=t("../properties"),a=o.Transitionable,s=o.Transitioning,u=o.PossiblyEvaluated,l=function(t){function e(e){t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r);e.exports=l},{"../properties":183,"../style_layer":186,"./raster_style_layer_properties":200}],200:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"raster-opacity":new a(r.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(r.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(r.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(r.paint_raster["raster-brightness-max"]),"raster-saturation":new a(r.paint_raster["raster-saturation"]),"raster-contrast":new a(r.paint_raster["raster-contrast"]),"raster-fade-duration":new a(r.paint_raster["raster-fade-duration"])});e.exports={paint:c}},{"../../style-spec/reference/latest":148,"../properties":183}],201:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/symbol_bucket"),o=t("../../util/token"),a=t("../../style-spec/expression"),s=a.isExpression,u=t("./symbol_style_layer_properties"),l=t("../properties"),c=l.Transitionable,f=l.Transitioning,h=l.Layout,p=l.PossiblyEvaluated,d=function(t){function e(e){t.call(this,e,u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n=this.layout.get(t).evaluate(e),r=this._unevaluatedLayout._values[t];return r.isDataDriven()||s(r.value)?n:o(e.properties,n)},e.prototype.createBucket=function(t){return new i(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(r);e.exports=d},{"../../data/bucket/symbol_bucket":57,"../../style-spec/expression":136,"../../util/token":265,"../properties":183,"../style_layer":186,"./symbol_style_layer_properties":202}],202:[function(t,e,n){"use strict";var r=t("../../style-spec/reference/latest"),i=t("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=i.HeatmapColorProperty,c=new o({"symbol-placement":new a(r.layout_symbol["symbol-placement"]),"symbol-spacing":new a(r.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(r.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(r.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(r.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(r.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(r.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(r.layout_symbol["icon-size"]),"icon-text-fit":new a(r.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(r.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(r.layout_symbol["icon-image"]),"icon-rotate":new s(r.layout_symbol["icon-rotate"]),"icon-padding":new a(r.layout_symbol["icon-padding"]),"icon-keep-upright":new a(r.layout_symbol["icon-keep-upright"]),"icon-offset":new s(r.layout_symbol["icon-offset"]),"icon-anchor":new s(r.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(r.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(r.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(r.layout_symbol["text-rotation-alignment"]),"text-field":new s(r.layout_symbol["text-field"]),"text-font":new a(r.layout_symbol["text-font"]),"text-size":new s(r.layout_symbol["text-size"]),"text-max-width":new s(r.layout_symbol["text-max-width"]),"text-line-height":new a(r.layout_symbol["text-line-height"]),"text-letter-spacing":new s(r.layout_symbol["text-letter-spacing"]),"text-justify":new s(r.layout_symbol["text-justify"]),"text-anchor":new s(r.layout_symbol["text-anchor"]),"text-max-angle":new a(r.layout_symbol["text-max-angle"]),"text-rotate":new s(r.layout_symbol["text-rotate"]),"text-padding":new a(r.layout_symbol["text-padding"]),"text-keep-upright":new a(r.layout_symbol["text-keep-upright"]),"text-transform":new s(r.layout_symbol["text-transform"]),"text-offset":new s(r.layout_symbol["text-offset"]),"text-allow-overlap":new a(r.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(r.layout_symbol["text-ignore-placement"]),"text-optional":new a(r.layout_symbol["text-optional"])}),f=new o({"icon-opacity":new s(r.paint_symbol["icon-opacity"]),"icon-color":new s(r.paint_symbol["icon-color"]),"icon-halo-color":new s(r.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(r.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(r.paint_symbol["icon-halo-blur"]),"icon-translate":new a(r.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(r.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(r.paint_symbol["text-opacity"]),"text-color":new s(r.paint_symbol["text-color"]),"text-halo-color":new s(r.paint_symbol["text-halo-color"]),"text-halo-width":new s(r.paint_symbol["text-halo-width"]),"text-halo-blur":new s(r.paint_symbol["text-halo-blur"]),"text-translate":new a(r.paint_symbol["text-translate"]),"text-translate-anchor":new a(r.paint_symbol["text-translate-anchor"])});e.exports={paint:f,layout:c}},{"../../style-spec/reference/latest":148,"../properties":183}],203:[function(t,e,n){"use strict";var r=t("./style_layer"),i=t("../util/util"),o=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var n=this,s=0,u=t;s<u.length;s+=1){var l=u[s];n._layerConfigs[l.id]=l;var c=n._layers[l.id]=r.create(l);c._featureFilter=o(c.filter)}for(var f=0,h=e;f<h.length;f+=1){var p=h[f];delete n._layerConfigs[p],delete n._layers[p]}this.familiesBySource={};for(var d=a(i.values(this._layerConfigs)),v=0,m=d;v<m.length;v+=1){var g=m[v],y=g.map(function(t){return n._layers[t.id]}),_=y[0];if("none"!==_.visibility){var b=_.source||"",x=n.familiesBySource[b];x||(x=n.familiesBySource[b]={});var w=_.sourceLayer||"_geojsonTileLayer",E=x[w];E||(E=x[w]=[]),E.push(y)}}},e.exports=s},{"../style-spec/feature_filter":145,"../style-spec/group_by_layout":147,"../util/util":266,"./style_layer":186}],204:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i.message;t.fire("error",{error:new Error(o)})}return!0}return!1}},{"../style-spec/validate_style.min":177}],205:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry"),i=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);e.exports=i},{"@mapbox/point-geometry":2}],206:[function(t,e,n){"use strict";function r(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],h=t[a+1];if(!h)return!1;var p=c.angleTo(f)-f.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(h)}return!0}e.exports=r},{}],207:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],h=u[c+1];f.x<e&&h.x<e||(f.x<e?f=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round():h.x<e&&(h=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round()),f.y<n&&h.y<n||(f.y<n?f=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round():h.y<n&&(h=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round()),f.x>=r&&h.x>=r||(f.x>=r?f=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round():h.x>=r&&(h=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round():h.y>=o&&(h=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(h)))))}return a}var i=t("@mapbox/point-geometry");e.exports=r},{"@mapbox/point-geometry":2}],208:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=t("@mapbox/point-geometry"),o=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new i(this.anchorPointX,this.anchorPointY)}}),e.exports=o},{"../util/struct_array":263,"@mapbox/point-geometry":2}],209:[function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s,u,l,c){var f=a.top*s-u,h=a.bottom*s+u,p=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=t.length,l){var v=h-f,m=d-p;v>0&&(v=Math.max(10*s,v),this._addLineCollisionCircles(t,e,n,n.segment,m,v,r,i,o,c))}else t.emplaceBack(n.x,n.y,p,f,d,h,r,i,o,0,0);this.boxEndIndex=t.length};r.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,u,l){var c=o/2,f=Math.floor(i/c),h=1+.4*Math.log(l)/Math.LN2,p=Math.floor(f*h/2),d=-o/2,v=n,m=r+1,g=d,y=-i/2,_=y-i/4;do{if(--m<0){if(g>y)return;m=0;break}g-=e[m].dist(v),v=e[m]}while(g>_);for(var b=e[m].dist(e[m+1]),x=-p;x<f+p;x++){var w=x*c,E=y+w;if(w<0&&(E+=w),w>i&&(E+=w-i),!(E<g)){for(;g+b<E;){if(g+=b,++m+1>=e.length)return;b=e[m].dist(e[m+1])}var T=E-g,I=e[m],C=e[m+1],M=C.sub(I)._unit()._mult(T)._add(I)._round(),A=Math.abs(E-d)<c?0:.8*(E-d);t.emplaceBack(M.x,M.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,A)}}},e.exports=r},{}],210:[function(t,e,n){"use strict";function r(t,e,n){t[e+4]=n?1:0}var i=t("@mapbox/point-geometry"),o=t("../util/intersection_tests"),a=t("./grid_index"),s=t("@mapbox/gl-matrix"),u=s.mat4,l=t("../symbol/projection"),c=100,f=function(t,e,n){void 0===e&&(e=new a(t.width+2*c,t.height+2*c,25)),void 0===n&&(n=new a(t.width+2*c,t.height+2*c,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance};f.prototype.placeCollisionBox=function(t,e,n,r){var i=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),o=n*i.perspectiveRatio,a=t.x1/o+i.point.x,s=t.y1/o+i.point.y,u=t.x2/o+i.point.x,l=t.y2/o+i.point.y;return!e&&this.grid.hitTest(a,s,u,l)?[]:[a,s,u,l]},f.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},f.prototype.placeCollisionCircles=function(t,e,n,o,a,s,u,c,f,h,p,d,v){var m=this,g=[],y=this.projectAnchor(h,s.anchorX,s.anchorY),_={},b=f/24,x=s.lineOffsetX*f,w=s.lineOffsetY*f,E=new i(s.anchorX,s.anchorY),T=l.project(E,p).point,I=l.placeFirstAndLastGlyph(b,c,x,w,!1,T,E,s,u,p,_,!0),C=!1,M=y.perspectiveRatio*o,A=M/n,S=0,R=0;I&&(S=this.approximateTileDistance(I.first.tileDistance,I.first.angle,A,y.cameraDistance,v),R=this.approximateTileDistance(I.last.tileDistance,I.last.angle,A,y.cameraDistance,v));for(var L=0;L<t.length;L+=5){var k=t[L],N=t[L+1],F=t[L+2],O=t[L+3];if(!I||O<-S||O>R)r(t,L,!1);else{var B=m.projectPoint(h,k,N),P=F/M;if(g.length>0){var U=B.x-g[g.length-4],D=B.y-g[g.length-3];if(P*P*2>U*U+D*D){if(L+8<t.length){var z=t[L+8];if(z>-S&&z<R){r(t,L,!1);continue}}}}var j=L/5;if(g.push(B.x,B.y,P,j),r(t,L,!0),!e&&m.grid.hitTestCircle(B.x,B.y,P)){if(!d)return[];C=!0}}}return C?[]:g},f.prototype.queryRenderedSymbols=function(t,e,n,r,a,s){var u=this,l={},c=[];if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return c;for(var f=this.transform.calculatePosMatrix(e,n),h=[],p=1/0,d=1/0,v=-1/0,m=-1/0,g=0;g<t.length;g++)for(var y=t[g],_=0;_<y.length;_++){var b=u.projectPoint(f,y[_].x,y[_].y);p=Math.min(p,b.x),d=Math.min(d,b.y),v=Math.max(v,b.x),m=Math.max(m,b.y),h.push(b)}for(var x=e.id,w=[],E=this.grid.query(p,d,v,m),T=0;T<E.length;T++)E[T].sourceID===s&&E[T].tileID===x&&w.push(E[T].boxIndex);for(var I=this.ignoredGrid.query(p,d,v,m),C=0;C<I.length;C++)I[C].sourceID===s&&I[C].tileID===x&&w.push(I[C].boxIndex);for(var M=0;M<w.length;M++){var A=a.get(w[M]),S=A.sourceLayerIndex,R=A.featureIndex,L=A.bucketIndex;if(void 0===l[S]&&(l[S]={}),void 0===l[S][R]&&(l[S][R]={}),!l[S][R][L]){var k=u.projectAndGetPerspectiveRatio(f,A.anchorPointX,A.anchorPointY),N=r*k.perspectiveRatio,F=A.x1/N+k.point.x,O=A.y1/N+k.point.y,B=A.x2/N+k.point.x,P=A.y2/N+k.point.y,U=[new i(F,O),new i(B,O),new i(B,P),new i(F,P)];o.polygonIntersectsPolygon(h,U)&&(l[S][R][L]=!0,c.push(w[M]))}}return c},f.prototype.insertCollisionBox=function(t,e,n,r,i){var o=e?this.ignoredGrid:this.grid,a={tileID:n,sourceID:r,boxIndex:i};o.insert(a,t[0],t[1],t[2],t[3])},f.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a=0;a<t.length;a+=4){var s={tileID:n,sourceID:r,boxIndex:i+t[a+3]};o.insertCircle(s,t[a],t[a+1],t[a+2])}},f.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),{perspectiveRatio:.5+r[3]/this.transform.cameraToCenterDistance*.5,cameraDistance:r[3]}},f.prototype.projectPoint=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),new i((r[0]/r[3]+1)/2*this.transform.width+c,(-r[1]/r[3]+1)/2*this.transform.height+c)},f.prototype.projectAndGetPerspectiveRatio=function(t,e,n){var r=[e,n,0,1];return l.xyTransformMat4(r,r,t),{point:new i((r[0]/r[3]+1)/2*this.transform.width+c,(-r[1]/r[3]+1)/2*this.transform.height+c),perspectiveRatio:.5+r[3]/this.transform.cameraToCenterDistance*.5}},e.exports=f},{"../symbol/projection":216,"../util/intersection_tests":257,"./grid_index":213,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],211:[function(t,e,n){"use strict";var r=t("../data/extent"),i=t("./opacity_state"),o=512/r/2,a=function(t,e,n){var r=this;this.coord=t,this.sourceMaxZoom=e,this.symbolInstances={};for(var o=0,a=n;o<a.length;o+=1){var s=a[o],u=s.key;r.symbolInstances[u]||(r.symbolInstances[u]=[]),r.symbolInstances[u].push({instance:s,coordinates:r.getScaledCoordinates(s,t)}),s.isDuplicate=!1,s.textOpacityState=new i,s.iconOpacityState=new i}};a.prototype.getScaledCoordinates=function(t,e){var n=Math.min(this.sourceMaxZoom,e.z)-Math.min(this.sourceMaxZoom,this.coord.z),i=o/(1<<n),a=t.anchor;return{x:Math.floor((e.x*r+a.x)*i),y:Math.floor((e.y*r+a.y)*i)}},a.prototype.getMatchingSymbol=function(t,e){var n=this;if(this.symbolInstances[t.key])for(var r=this.getScaledCoordinates(t,e),i=0,o=n.symbolInstances[t.key];i<o.length;i+=1){var a=o[i];if(Math.abs(a.coordinates.x-r.x)<=1&&Math.abs(a.coordinates.y-r.y)<=1)return a.instance}},a.prototype.forEachSymbolInstance=function(t){var e=this;for(var n in e.symbolInstances)for(var r=e.symbolInstances[n],i=0,o=r;i<o.length;i+=1){var a=o[i];t(a.instance)}};var s=function(){this.indexes={}};s.prototype.addTile=function(t,e,n){var r=this,i=25,o=0;for(var s in r.indexes)i=Math.min(s,i),o=Math.max(s,o);for(var u=new a(t,e,n),l=o;l>t.z;l--){var c=r.indexes[l];for(var f in c){var h=c[f];h.coord.isChildOf(t,e)&&r.blockLabels(h,u,!1)}}var p=this.indexes[t.z]&&this.indexes[t.z][t.id];p&&(this.blockLabels(u,p,!0),this.removeTile(t,e));for(var d=t.z-1;d>=i;d--){var v=t.scaledTo(d,e),m=r.indexes[d]&&r.indexes[d][v.id];m&&r.blockLabels(u,m,!0)}void 0===this.indexes[t.z]&&(this.indexes[t.z]={}),this.indexes[t.z][t.id]=u},s.prototype.removeTile=function(t,e){var n=this,r=this.indexes[t.z][t.id];delete this.indexes[t.z][t.id],0===Object.keys(this.indexes[t.z]).length&&delete this.indexes[t.z];for(var i=Math.min.apply(Math,[25].concat(Object.keys(this.indexes))),o=t,a=t.z-1;a>=i&&(o=o.parent(e));a--){var s=n.indexes[a]&&n.indexes[a][o.id];s&&n.unblockLabels(r,s)}},s.prototype.blockLabels=function(t,e,n){t.forEachSymbolInstance(function(r){if(!r.isDuplicate){var i=e.getMatchingSymbol(r,t.coord);void 0!==i&&(i.isDuplicate||(i.isDuplicate=!0,n&&(r.textOpacityState=i.textOpacityState.clone(),r.iconOpacityState=i.iconOpacityState.clone())))}})},s.prototype.unblockLabels=function(t,e){t.forEachSymbolInstance(function(n){if(!n.isDuplicate){var r=e.getMatchingSymbol(n,t.coord);void 0!==r&&(r.isDuplicate=!1,r.textOpacityState=n.textOpacityState.clone(),r.iconOpacityState=n.iconOpacityState.clone(),n.isDuplicate=!0)}})};var u=function(){this.layerIndexes={}};u.prototype.addTileLayer=function(t,e,n,r){var i=this.layerIndexes[t];void 0===i&&(i=this.layerIndexes[t]=new s),i.addTile(e,n,r)},u.prototype.removeTileLayer=function(t,e,n){var r=this.layerIndexes[t];void 0!==r&&r.removeTile(e,n)},e.exports=u},{"../data/extent":58,"./opacity_state":215}],212:[function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,u,l){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e-f*s<e/4&&(e=f*s+e/4);var p=2*a;return i(t,h?e/2*u%e:(f/2+p)*s*u%e,e,c,n,f*s,h,!1,l)}function i(t,e,n,r,u,l,c,f,h){for(var p=l/2,d=0,v=0;v<t.length-1;v++)d+=t[v].dist(t[v+1]);for(var m=0,g=e-n,y=[],_=0;_<t.length-1;_++){for(var b=t[_],x=t[_+1],w=b.dist(x),E=x.angleTo(b);g+n<m+w;){g+=n;var T=(g-m)/w,I=o(b.x,x.x,T),C=o(b.y,x.y,T);if(I>=0&&I<h&&C>=0&&C<h&&g-p>=0&&g+p<=d){var M=new a(I,C,E,_);M._round(),r&&!s(t,M,l,r,u)||y.push(M)}}m+=w}return f||y.length||c||(y=i(t,m/2,n,r,u,l,c,!0,h)),y}var o=t("../style-spec/util/interpolate").number,a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../style-spec/util/interpolate":154,"../symbol/anchor":205,"./check_max_angle":206}],213:[function(t,e,n){"use strict";var r=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};r.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},r.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},r.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},r.prototype._query=function(t,e,n,r,i){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var o=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r)o=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:i,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,n,r,this._queryCell,o,a)}return i?o.length>0:o},r.prototype._queryCircle=function(t,e,n,r){var i=t-n,o=t+n,a=e-n,s=e+n;if(o<0||i>this.width||s<0||a>this.height)return!r&&[];var u=[],l={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(i,a,o,s,this._queryCellCircle,u,l),r?u.length>0:u},r.prototype.query=function(t,e,n,r){return this._query(t,e,n,r,!1)},r.prototype.hitTest=function(t,e,n,r){return this._query(t,e,n,r,!0)},r.prototype.hitTestCircle=function(t,e,n){return this._queryCircle(t,e,n,!0)},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this,u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,h=l;f<h.length;f+=1){var p=h[f];if(!u.box[p]){u.box[p]=!0;var d=4*p;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]){if(a.hitTest)return o.push(!0),!0;o.push(s.boxKeys[p])}}}var v=this.circleCells[i];if(null!==v)for(var m=this.circles,g=0,y=v;g<y.length;g+=1){var _=y[g];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(s._circleAndRectCollide(m[b],m[b+1],m[b+2],t,e,n,r)){if(a.hitTest)return o.push(!0),!0;o.push(s.circleKeys[_])}}}},r.prototype._queryCellCircle=function(t,e,n,r,i,o,a){var s=this,u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var v=4*d;if(s._circleAndRectCollide(u.x,u.y,u.radius,f[v+0],f[v+1],f[v+2],f[v+3]))return o.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,y=0,_=m;y<_.length;y+=1){var b=_[y];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(s._circlesCollide(g[x],g[x+1],g[x+2],u.x,u.y,u.radius))return o.push(!0),!0}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this,u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),h=u;h<=c;h++)for(var p=l;p<=f;p++){var d=s.xCellCount*p+h;if(i.call(s,t,e,n,r,d,o,a))return}},r.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},r.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},r.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return u*u>a*a+s*s},r.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(e-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,h=c-l;return f*f+h*h<=n*n},e.exports=r},{}],214:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),u++}function n(t,e,n){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(t,e,n){var r=o[e];return delete o[e],o[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function i(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var o={},a={},s=[],u=0,l=0;l<t.length;l++){var c=t[l],f=c.geometry,h=c.text;if(h){var p=i(h,f),d=i(h,f,!0);if(p in a&&d in o&&a[p]!==o[d]){var v=r(p,d,f),m=n(p,d,s[v].geometry);delete o[p],delete a[d],a[i(h,s[m].geometry,!0)]=m,s[v].geometry=null}else p in a?n(p,d,f):d in o?r(p,d,f):(e(l),o[p]=u-1,a[d]=u-1)}else e(l)}return s.filter(function(t){return t.geometry})}},{}],215:[function(t,e,n){"use strict";var r=function(){this.opacity=0,this.targetOpacity=0,this.time=0};r.prototype.clone=function(){var t=new r;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},e.exports=r},{}],216:[function(t,e,n){"use strict";function r(t,e,n,r,i){var o=g.identity(new Float32Array(16));return e?(g.identity(o),g.scale(o,o,[1/i,1/i,1]),n||g.rotateZ(o,o,r.angle)):(g.scale(o,o,[r.width/2,-r.height/2,1]),g.translate(o,o,[1,-1,0]),g.multiply(o,o,t)),o}function i(t,e,n,r,i){var o=g.identity(new Float32Array(16));return e?(g.multiply(o,o,t),g.scale(o,o,[i,i,1]),n||g.rotateZ(o,o,-r.angle)):(g.scale(o,o,[1,-1,1]),g.translate(o,o,[-1,-1,0]),g.scale(o,o,[2/r.width,2/r.height,1])),o}function o(t,e){var n=[t.x,t.y,0,1];d(n,n,e);var r=n[3];return{point:new v(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function a(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function s(t,e,n,r,i,s,u,l){var f=r?t.textSizeData:t.iconSizeData,h=_.evaluateSizeForZoom(f,n.transform.zoom,w.properties[r?"text-size":"icon-size"]),d=[256/n.width*2+1,256/n.height*2+1],m=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();for(var g=t.lineVertexArray,b=r?t.placedGlyphArray:t.placedIconArray,x=n.transform.width/n.transform.height,T=!1,I=0;I<b.length;I++){var C=b.get(I);if(C.hidden||C.writingMode===E.vertical&&!T)p(C.numGlyphs,m);else{T=!1;var M=[C.anchorX,C.anchorY,0,1];if(y.transformMat4(M,M,e),a(M,d)){var A=M[3],S=.5+A/n.transform.cameraToCenterDistance*.5,R=_.evaluateSizeForFeature(f,h,C),L=u?R*S:R/S,k=new v(C.anchorX,C.anchorY),N=o(k,i).point,F={},O=c(C,L,!1,l,e,i,s,t.glyphOffsetArray,g,m,N,k,F,x);T=O.useVertical,(O.notEnoughRoom||T||O.needsFlipping&&c(C,L,!0,l,e,i,s,t.glyphOffsetArray,g,m,N,k,F,x).notEnoughRoom)&&p(C.numGlyphs,m)}else p(C.numGlyphs,m)}}r?t.text.dynamicLayoutVertexBuffer.updateData(m.serialize()):t.icon.dynamicLayoutVertexBuffer.updateData(m.serialize())}function u(t,e,n,r,i,o,a,s,u,l,c,f){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,v=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(p-1),y=h(t*m,n,r,i,o,a,s.segment,d,v,u,l,c,f);if(!y)return null;var _=h(t*g,n,r,i,o,a,s.segment,d,v,u,l,c,f);return _?{first:y,last:_}:null}function l(t,e,n,r){if(t===E.horizontal){if(Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*r)return{useVertical:!0}}return(t===E.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function c(t,e,n,r,i,a,s,c,p,d,m,g,y,_){var b,w=e/24,E=t.lineOffsetX*e,T=t.lineOffsetY*e;if(t.numGlyphs>1){var I=t.glyphStartIndex+t.numGlyphs,C=t.lineStartIndex,M=t.lineStartIndex+t.lineLength,A=u(w,c,E,T,n,m,g,t,p,a,y,!1);if(!A)return{notEnoughRoom:!0};var S=o(A.first.point,s).point,R=o(A.last.point,s).point;if(r&&!n){var L=l(t.writingMode,S,R,_);if(L)return L}b=[A.first];for(var k=t.glyphStartIndex+1;k<I-1;k++)b.push(h(w*c.getoffsetX(k),E,T,n,m,g,t.segment,C,M,p,a,y,!1));b.push(A.last)}else{if(r&&!n){var N=o(g,i).point,F=t.lineStartIndex+t.segment+1,O=new v(p.getx(F),p.gety(F)),B=o(O,i),P=B.signedDistanceFromCamera>0?B.point:f(g,O,N,1,i),U=l(t.writingMode,N,P,_);if(U)return U}var D=h(w*c.getoffsetX(t.glyphStartIndex),E,T,n,m,g,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,p,a,y,!1);if(!D)return{notEnoughRoom:!0};b=[D]}for(var z=0,j=b;z<j.length;z+=1){var V=j[z];x(d,V.point,V.angle)}return{}}function f(t,e,n,r,i){var a=o(t.add(t.sub(e)._unit()),i).point,s=n.sub(a);return n.add(s._mult(r/s.mag()))}function h(t,e,n,r,i,a,s,u,l,c,h,p,d){var m=r?t-e:t+e,g=m>0?1:-1,y=0;r&&(g*=-1,y=Math.PI),g<0&&(y+=Math.PI);for(var _=g>0?u+s:u+s+1,b=_,x=i,w=i,E=0,T=0,I=Math.abs(m);E+T<=I;){if((_+=g)<u||_>=l)return null;if(w=x,void 0===(x=p[_])){var C=new v(c.getx(_),c.gety(_)),M=o(C,h);if(M.signedDistanceFromCamera>0)x=p[_]=M.point;else{var A=_-g;x=f(0===E?a:new v(c.getx(A),c.gety(A)),C,w,I-E+1,h)}}E+=T,T=w.dist(x)}var S=(I-E)/T,R=x.sub(w),L=R.mult(S)._add(w);return L._add(R._unit()._perp()._mult(n*g)),{point:L,angle:y+Math.atan2(x.y-w.y,x.x-w.x),tileDistance:d?{prevTileDistance:_-g===b?0:c.gettileUnitDistanceFromAnchor(_-g),lastSegmentViewportDistance:I-E}:null}}function p(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(T,3*r)}}function d(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var v=t("@mapbox/point-geometry"),m=t("@mapbox/gl-matrix"),g=m.mat4,y=m.vec4,_=t("./symbol_size"),b=t("../data/bucket/symbol_bucket"),x=b.addDynamicAttributes,w=t("../style/style_layer/symbol_style_layer_properties").layout,E=t("../symbol/shaping").WritingMode;e.exports={updateLineLabels:s,getLabelPlaneMatrix:r,getGlCoordMatrix:i,project:o,placeFirstAndLastGlyph:u,xyTransformMat4:d};var T=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":57,"../style/style_layer/symbol_style_layer_properties":202,"../symbol/shaping":218,"./symbol_size":221,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],217:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,s){var u,l,c,f,h=e.image,p=n.layout,d=e.top-1/h.pixelRatio,v=e.left-1/h.pixelRatio,m=e.bottom+1/h.pixelRatio,g=e.right+1/h.pixelRatio;if("none"!==p.get("icon-text-fit")&&i){var y=g-v,_=m-d,b=p.get("text-size").evaluate(s)/24,x=i.left*b,w=i.right*b,E=i.top*b,T=i.bottom*b,I=w-x,C=T-E,M=p.get("icon-text-fit-padding")[0],A=p.get("icon-text-fit-padding")[1],S=p.get("icon-text-fit-padding")[2],R=p.get("icon-text-fit-padding")[3],L="width"===p.get("icon-text-fit")?.5*(C-_):0,k="height"===p.get("icon-text-fit")?.5*(I-y):0,N="width"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?I:y,F="height"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?C:_;u=new o(x+k-R,E+L-M),l=new o(x+k+A+N,E+L-M),c=new o(x+k+A+N,E+L+S+F),f=new o(x+k-R,E+L+S+F)}else u=new o(v,d),l=new o(g,d),c=new o(g,m),f=new o(v,m);var O=n.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(O){var B=Math.sin(O),P=Math.cos(O),U=[P,-B,B,P];u._matMult(U),l._matMult(U),f._matMult(U),c._matMult(U)}return[{tl:u,tr:l,bl:f,br:c,tex:{x:h.textureRect.x-1,y:h.textureRect.y-1,w:h.textureRect.w+2,h:h.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function i(t,e,n,r,i,a,u){for(var l=n.layout.get("text-rotate").evaluate(a)*Math.PI/180,c=n.layout.get("text-offset").evaluate(a).map(function(t){return 24*t}),f=e.positionedGlyphs,h=[],p=0;p<f.length;p++){var d=f[p],v=u[d.glyph];if(v){var m=v.rect;if(m){var g=s+1,y=v.metrics.advance/2,_=r?[d.x+y,d.y]:[0,0],b=r?[0,0]:[d.x+y+c[0],d.y+c[1]],x=v.metrics.left-g-y+b[0],w=-v.metrics.top-g+b[1],E=x+m.w,T=w+m.h,I=new o(x,w),C=new o(E,w),M=new o(x,T),A=new o(E,T);if(r&&d.vertical){var S=new o(-y,y),R=-Math.PI/2,L=new o(5,0);I._rotateAround(R,S)._add(L),C._rotateAround(R,S)._add(L),M._rotateAround(R,S)._add(L),A._rotateAround(R,S)._add(L)}if(l){var k=Math.sin(l),N=Math.cos(l),F=[N,-k,k,N];I._matMult(F),C._matMult(F),M._matMult(F),A._matMult(F)}h.push({tl:I,tr:C,bl:M,br:A,tex:m,writingMode:e.writingMode,glyphOffset:_})}}}return h}var o=t("@mapbox/point-geometry"),a=t("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;e.exports={getIconQuads:r,getGlyphQuads:i}},{"../style/parse_glyph_pbf":181,"@mapbox/point-geometry":2}],218:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}function i(t,e,n,i,o,a,s,u,l,f){var p=t.trim();f===_.vertical&&(p=g(p));var d,v=[],m={positionedGlyphs:v,text:p,top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:f},b=y.processBidirectionalText;return d=b?b(p,c(p,s,n,e)):r(p,c(p,s,n,e)),h(m,e,d,i,o,a,f,s,l),!!v.length&&m}function o(t,e,n,r){for(var i=0,o=0;o<t.length;o++){var a=r[t.charCodeAt(o)];a&&(i+=a.metrics.advance+e)}return i/Math.max(1,Math.ceil(i/n))}function a(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function s(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function u(t,e,n,r,i,o){for(var s=null,u=a(e,n,i,o),l=0,c=r;l<c.length;l+=1){var f=c[l],h=e-f.x,p=a(h,n,i,o)+f.badness;p<=u&&(s=f,u=p)}return{index:t,x:e,priorBreak:s,badness:u}}function l(t){return t?l(t.priorBreak).concat(t.index):[]}function c(t,e,n,r){if(!n)return[];if(!t)return[];for(var i=[],a=o(t,e,n,r),c=0,f=0;f<t.length;f++){var h=t.charCodeAt(f),p=r[h];p&&!b[h]&&(c+=p.metrics.advance+e),f<t.length-1&&(x[h]||m.charAllowsIdeographicBreaking(h))&&i.push(u(f+1,c,a,i,s(h,t.charCodeAt(f+1)),!1))}return l(u(t.length,c,a,i,0,!0))}function f(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function h(t,e,n,r,i,o,a,s,u){for(var l=0,c=-17,h=0,v=t.positionedGlyphs,g="right"===o?1:"left"===o?0:.5,y=0,b=n;y<b.length;y+=1){var x=b[y];if(x=x.trim(),x.length){for(var w=v.length,E=0;E<x.length;E++){var T=x.charCodeAt(E),I=e[T];I&&(m.charHasUprightVerticalOrientation(T)&&a!==_.horizontal?(v.push({glyph:T,x:l,y:0,vertical:!0}),l+=u+s):(v.push({glyph:T,x:l,y:c,vertical:!1}),l+=I.metrics.advance+s))}if(v.length!==w){var C=l-s;h=Math.max(C,h),p(v,e,w,v.length-1,g)}l=0,c+=r}else c+=r}var M=f(i),A=M.horizontalAlign,S=M.verticalAlign;d(v,g,A,S,h,r,n.length);var R=n.length*r;t.top+=-S*R,t.bottom=t.top+R,t.left+=-A*h,t.right=t.left+h}function p(t,e,n,r,i){if(i){var o=e[t[r].glyph];if(o)for(var a=o.metrics.advance,s=(t[r].x+a)*i,u=n;u<=r;u++)t[u].x-=s}}function d(t,e,n,r,i,o,a){for(var s=(e-n)*i,u=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}function v(t,e,n){var r=f(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*i,l=u+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}}var m=t("../util/script_detection"),g=t("../util/verticalize_punctuation"),y=t("../source/rtl_text_plugin"),_={horizontal:1,vertical:2,horizontalOnly:3};e.exports={shapeText:i,shapeIcon:v,WritingMode:_};var b={};b[9]=!0,b[10]=!0,b[11]=!0,b[12]=!0,b[13]=!0,b[32]=!0;var x={};x[10]=!0,x[32]=!0,x[38]=!0,x[40]=!0,x[41]=!0,x[43]=!0,x[45]=!0,x[47]=!0,x[173]=!0,x[183]=!0,x[8203]=!0,x[8208]=!0,x[8211]=!0,x[8231]=!0},{"../source/rtl_text_plugin":107,"../util/script_detection":261,"../util/verticalize_punctuation":268}],219:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=T/s,t.compareText={},t.iconsNeedLinear=!1;for(var u=t.layers[0].layout,l=24*u.get("text-line-height"),c=u.get("text-font").join(","),f="map"===u.get("text-rotation-alignment")&&"line"===u.get("symbol-placement"),h=u.get("text-keep-upright"),m=e[c]||{},g=n[c]||{},y=0,_=t.features;y<_.length;y+=1){var w=_[y],E={},I=w.text;if(I){var C=x.allowsVerticalWritingMode(I),M=u.get("text-offset").evaluate(w).map(function(t){return 24*t}),A=24*u.get("text-letter-spacing").evaluate(w),S=x.allowsLetterSpacing(I)?A:0,R=u.get("text-anchor").evaluate(w),L=u.get("text-justify").evaluate(w),k="line"!==u.get("symbol-placement")?24*u.get("text-max-width").evaluate(w):0;E.horizontal=p(I,m,k,l,R,L,S,M,24,v.horizontal),C&&f&&h&&(E.vertical=p(I,m,k,l,R,L,S,M,24,v.vertical))}var N=void 0;if(w.icon){var F=r[w.icon];F&&(N=d(o[w.icon],u.get("icon-offset").evaluate(w),u.get("icon-anchor").evaluate(w)),void 0===t.sdfIcons?t.sdfIcons=F.sdf:t.sdfIcons!==F.sdf&&b.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),F.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==u.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(E.horizontal||N)&&i(t,w,E,N,g)}a&&t.generateCollisionDebugBuffers()}function i(t,e,n,r,i){var o=t.layoutTextSize.evaluate(e),f=t.layoutIconSize.evaluate(e),h=t.textMaxSize.evaluate(e);void 0===h&&(h=o);var p=t.layers[0].layout,d=p.get("text-offset").evaluate(e),v=p.get("icon-offset").evaluate(e),m=o/24,g=t.tilePixelRatio*m,y=t.tilePixelRatio*h/24,_=t.tilePixelRatio*f,b=t.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*t.tilePixelRatio,I=p.get("icon-padding")*t.tilePixelRatio,C=p.get("text-max-angle")/180*Math.PI,M="map"===p.get("text-rotation-alignment")&&"line"===p.get("symbol-placement"),A="map"===p.get("icon-rotation-alignment")&&"line"===p.get("symbol-placement"),S=p.get("symbol-placement"),R=b/2,L=function(o,s){s.x<0||s.x>=T||s.y<0||s.y>=T||t.symbolInstances.push(a(t,s,o,n,r,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,x,M,d,_,I,A,v,{zoom:t.zoom},e,i))};if("line"===S)for(var k=0,N=c(e.geometry,0,0,T,T);k<N.length;k+=1)for(var F=N[k],O=l(F,b,C,n.vertical||n.horizontal,r,24,y,t.overscaling,T),B=0,P=O;B<P.length;B+=1){var U=P[B],D=n.horizontal;D&&s(t,D.text,R,U)||L(F,U)}else if("Polygon"===e.type)for(var z=0,j=E(e.geometry,0);z<j.length;z+=1){var V=j[z],G=w(V,16);L(V[0],new u(G.x,G.y,0))}else if("LineString"===e.type)for(var X=0,W=e.geometry;X<W.length;X+=1){var Z=W[X];L(Z,new u(Z[0].x,Z[0].y,0))}else if("Point"===e.type)for(var Q=0,H=e.geometry;Q<H.length;Q+=1)for(var Y=H[Q],J=0,q=Y;J<q.length;J+=1){var K=q[J];L([K],new u(K.x,K.y,0))}}function o(t,e,n,r,i,o,a,s,u,l,c,f){var h=g(e,n,r,i,o,a,f),p=t.textSizeData,d=null;return"source"===p.functionType?d=[10*r.layout.get("text-size").evaluate(a)]:"composite"===p.functionType&&(d=[10*t.compositeTextSizes[0].evaluate(a),10*t.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,h,d,s,i,a,l,e,u.lineStartIndex,u.lineLength,t.placedGlyphArray),c.push(t.placedGlyphArray.length-1),4*h.length}function a(t,e,n,r,i,a,s,u,l,c,h,p,d,m,g,x,w,E,T,C,M){var A,S,R=t.addToLineVertexArray(e,n),L=0,k=0,N=0,F=r.horizontal?r.horizontal.text:"",O=[];r.horizontal&&(A=new _(s,n,e,u,l,c,r.horizontal,h,p,d,t.overscaling),k+=o(t,e,r.horizontal,a,d,T,C,m,R,r.vertical?v.horizontal:v.horizontalOnly,O,M),r.vertical&&(N+=o(t,e,r.vertical,a,d,T,C,m,R,v.vertical,O,M)));var B=A?A.boxStartIndex:t.collisionBoxArray.length,P=A?A.boxEndIndex:t.collisionBoxArray.length;if(i){var U=y(e,i,a,w,r.horizontal,T,C);S=new _(s,n,e,u,l,c,i,g,x,!1,t.overscaling),L=4*U.length;var D=t.iconSizeData,z=null;"source"===D.functionType?z=[10*a.layout.get("icon-size").evaluate(C)]:"composite"===D.functionType&&(z=[10*t.compositeIconSizes[0].evaluate(C),10*t.compositeIconSizes[1].evaluate(C)]),t.addSymbols(t.icon,U,z,E,w,C,!1,e,R.lineStartIndex,R.lineLength,t.placedIconArray)}var j=S?S.boxStartIndex:t.collisionBoxArray.length,V=S?S.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=I.MAX_GLYPHS&&b.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:F,textBoxStartIndex:B,textBoxEndIndex:P,iconBoxStartIndex:j,iconBoxEndIndex:V,textOffset:m,iconOffset:E,anchor:e,line:n,featureIndex:u,feature:C,numGlyphVertices:k,numVerticalGlyphVertices:N,numIconVertices:L,textOpacityState:new f,iconOpacityState:new f,isDuplicate:!1,placedTextSymbolIndices:O}}function s(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var u=t("./anchor"),l=t("./get_anchors"),c=t("./clip_line"),f=t("./opacity_state"),h=t("./shaping"),p=h.shapeText,d=h.shapeIcon,v=h.WritingMode,m=t("./quads"),g=m.getGlyphQuads,y=m.getIconQuads,_=t("./collision_feature"),b=t("../util/util"),x=t("../util/script_detection"),w=t("../util/find_pole_of_inaccessibility"),E=t("../util/classify_rings"),T=t("../data/extent"),I=t("../data/bucket/symbol_bucket"),C=t("@mapbox/point-geometry");e.exports={performSymbolLayout:r}},{"../data/bucket/symbol_bucket":57,"../data/extent":58,"../util/classify_rings":248,"../util/find_pole_of_inaccessibility":254,"../util/script_detection":261,"../util/util":266,"./anchor":205,"./clip_line":207,"./collision_feature":209,"./get_anchors":212,"./opacity_state":215,"./quads":217,"./shaping":218,"@mapbox/point-geometry":2}],220:[function(t,e,n){"use strict";function r(t,e,n,r,i){if(t.isDuplicate)e.opacity=0,e.targetOpacity=0;else{e.targetOpacity!==n&&(i.latestStart=r);var o=i.duration?(r-e.time)/i.duration:1;e.opacity=Math.max(0,Math.min(1,e.opacity+(1===e.targetOpacity?o:-o))),e.targetOpacity=n,e.time=r}}function i(t){if(0===t.opacity&&0===t.targetOpacity)return 0;if(1===t.opacity&&1===t.targetOpacity)return 4294967295;var e=1===t.targetOpacity?1:0,n=Math.floor(127*t.opacity);return n*h+e*p+n*d+e*v+n*m+e*g+n*y+e}function o(t,e){var n=t.text&&t.text.opacityVertexArray,o=t.icon&&t.icon.opacityVertexArray;n&&n.clear(),o&&o.clear(),t.fadeStartTime=Date.now();for(var a=0,s=t.symbolInstances;a<s.length;a+=1){var u=s[a],l=!(u.textBoxStartIndex===u.textBoxEndIndex),c=!(u.iconBoxStartIndex===u.iconBoxEndIndex);if(l||c){if(l){var f=u.placedText?1:0,h=u.textOpacityState,p=0===h.opacity&&0===h.targetOpacity;r(u,h,f,t.fadeStartTime,e);var d=0===h.opacity&&0===h.targetOpacity;if(p!==d)for(var v=0,m=u.placedTextSymbolIndices;v<m.length;v+=1){var g=m[v],y=t.placedGlyphArray.get(g);y.hidden=d}for(var _=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,b=i(h),x=0;x<_;x++)n.emplaceBack(b)}if(c){var w=u.placedIcon?1:0,E=u.iconOpacityState;r(u,E,w,t.fadeStartTime,e);for(var T=u.numIconVertices/4,I=i(E),C=0;C<T;C++)o.emplaceBack(I)}}}n&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(n.serialize()),o&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(o.serialize())}function a(t,e){t.emplaceBack(e?1:0,0),t.emplaceBack(e?1:0,0),t.emplaceBack(e?1:0,0),t.emplaceBack(e?1:0,0)}function s(t,e,n,r){for(var i=0;i<e.length;i+=5){var o=r||0===e[i+4];t.emplaceBack(n?1:0,o?1:0),t.emplaceBack(n?1:0,o?1:0),t.emplaceBack(n?1:0,o?1:0),t.emplaceBack(n?1:0,o?1:0)}}function u(t,e,n,r,i,o,u,f,h,p){var d,v,m=t.layers[0],g=m.layout,y=Math.pow(2,r-t.zoom);n&&(t.collisionBox&&t.collisionBox.collisionVertexArray&&t.collisionBox.collisionVertexArray.length&&(d=t.collisionBox.collisionVertexArray,d.clear()),t.collisionCircle&&t.collisionCircle.collisionVertexArray&&t.collisionCircle.collisionVertexArray.length&&(v=t.collisionCircle.collisionVertexArray,v.clear()));for(var _=l.evaluateSizeForZoom(t.textSizeData,e.transform.zoom,c.properties["text-size"]),b="map"===g.get("text-pitch-alignment"),x=0,w=t.symbolInstances;x<w.length;x+=1){var E=w[x],T=!(E.textBoxStartIndex===E.textBoxEndIndex),I=!(E.iconBoxStartIndex===E.iconBoxEndIndex),C=g.get("text-optional")||!T,M=g.get("icon-optional")||!I;E.collisionArrays||(E.collisionArrays=t.deserializeCollisionBoxes(p,E.textBoxStartIndex,E.textBoxEndIndex,E.iconBoxStartIndex,E.iconBoxEndIndex));var A=[],S=[],R=[],L=!1;if(!E.isDuplicate){E.collisionArrays.textBox&&(A=e.placeCollisionBox(E.collisionArrays.textBox,g.get("text-allow-overlap"),i,o)),E.collisionArrays.iconBox&&(S=e.placeCollisionBox(E.collisionArrays.iconBox,g.get("icon-allow-overlap"),i,o));var k=E.collisionArrays.textCircles;if(k){var N=t.placedGlyphArray.get(E.placedTextSymbolIndices[0]),F=l.evaluateSizeForFeature(t.textSizeData,_,N);R=e.placeCollisionCircles(k,g.get("text-allow-overlap"),y,i,E.key,N,t.lineVertexArray,t.glyphOffsetArray,F,o,u,n,b),L=g.get("text-allow-overlap")||R.length>0}}var O=A.length>0||L,B=S.length>0;C||M?M?C||(B=B&&O):O=B&&O:B=O=B&&O,E.placedText=O,E.placedIcon=B,E.collisionArrays.textBox&&(d&&a(d,O),O&&e.insertCollisionBox(A,g.get("text-ignore-placement"),f,h,E.textBoxStartIndex)),E.collisionArrays.iconBox&&(d&&a(d,B),B&&e.insertCollisionBox(S,g.get("icon-ignore-placement"),f,h,E.iconBoxStartIndex)),E.collisionArrays.textCircles&&(v&&s(v,E.collisionArrays.textCircles,O,E.isDuplicate),O&&e.insertCollisionCircles(R,g.get("text-ignore-placement"),f,h,E.textBoxStartIndex))}d&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(d.serialize()),v&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(v.serialize())}var l=t("./symbol_size"),c=t("../style/style_layer/symbol_style_layer_properties").layout,f=t("@mapbox/gl-matrix").mat4;e.exports={updateOpacities:o,performSymbolPlacement:u};var h=Math.pow(2,25),p=Math.pow(2,24),d=Math.pow(2,17),v=Math.pow(2,16),m=Math.pow(2,9),g=Math.pow(2,8),y=Math.pow(2,1)},{"../style/style_layer/symbol_style_layer_properties":202,"./symbol_size":221,"@mapbox/gl-matrix":1}],221:[function(t,e,n){"use strict";function r(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate({zoom:t+1})};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;i=Math.max(0,i-1);for(var o=i;o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate({zoom:t+1}),zoomRange:a,sizeRange:{min:n.evaluate({zoom:a.min}),max:n.evaluate({zoom:a.max})},propertyValue:e.value}}function i(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?u.number(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize}function o(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=s(r,n.specification),u=l.clamp(a.interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+u*(o.max-o.min)}}var c=t.propertyValue,f=t.zoomRange,h=s(c,n.specification);return{uSizeT:l.clamp(h.interpolationFactor(e,f.min,f.max),0,1),uSize:0}}var a=t("../style-spec/expression"),s=a.normalizePropertyExpression,u=t("../style-spec/util/interpolate"),l=t("../util/util");e.exports={getSizeData:r,evaluateSizeForFeature:i,evaluateSizeForZoom:o}},{"../style-spec/expression":136,"../style-spec/util/interpolate":154,"../util/util":266}],222:[function(t,e,n){"use strict";var r=t("../source/rtl_text_plugin");e.exports=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n);return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":107}],223:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("@mapbox/point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){g("mouseout",t)}function a(e){t.doubleClickZoom.isActive()||t.stop(),w=r.mousePos(_,e),g("mousedown",e),x=!0}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();b&&!n&&g("contextmenu",b),b=null,x=!1,g("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==_;)n=n.parentNode;n===_&&g("mousemove",e)}}function l(e){t.stop(),y("touchstart",e),!e.touches||e.touches.length>1||(E?(clearTimeout(E),E=null,g("dblclick",e)):E=setTimeout(p,300))}function c(t){y("touchmove",t)}function f(t){y("touchend",t)}function h(t){y("touchcancel",t)}function p(){E=null}function d(t){r.mousePos(_,t).equals(w)&&g("click",t)}function v(t){g("dblclick",t),t.preventDefault()}function m(e){var n=t.dragRotate&&t.dragRotate.isActive();x||n?x&&(b=e):g("contextmenu",e),e.preventDefault()}function g(e,n){var i=r.mousePos(_,n);return t.fire(e,{lngLat:t.unproject(i),point:i,originalEvent:n})}function y(e,n){var o=r.touchPos(_,n),a=o.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new i(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var _=t.getCanvasContainer(),b=null,x=!1,w=null,E=null;for(var T in o)t[T]=new o[T](t,e),e.interactive&&e[T]&&t[T].enable(e[T]);_.addEventListener("mouseout",n,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",u,!1),_.addEventListener("touchstart",l,!1),_.addEventListener("touchend",f,!1),_.addEventListener("touchmove",c,!1),_.addEventListener("touchcancel",h,!1),_.addEventListener("click",d,!1),_.addEventListener("dblclick",v,!1),_.addEventListener("contextmenu",m,!1)}},{"../util/dom":252,"./handler/box_zoom":232,"./handler/dblclick_zoom":233,"./handler/drag_pan":234,"./handler/drag_rotate":235,"./handler/keyboard":236,"./handler/scroll_zoom":237,"./handler/touch_zoom_rotate":238,"@mapbox/point-geometry":2}],224:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../style-spec/util/interpolate").number,o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("@mapbox/point-geometry"),l=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=u.convert(t).mult(-1),this.panTo(this.transform.center,r.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var i=e.padding;e.padding={top:i,bottom:i,right:i,left:i}}if(!r.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=s.convert(t);var o=[(e.padding.left-e.padding.right)/2,(e.padding.top-e.padding.bottom)/2],a=Math.min(e.padding.right,e.padding.left),l=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=u.convert(e.offset),f=this.transform,h=f.project(t.getNorthWest()),p=f.project(t.getSouthEast()),d=p.sub(h),v=(f.width-2*a-2*Math.abs(c.x))/d.x,m=(f.height-2*l-2*Math.abs(c.y))/d.y;return m<0||v<0?(r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=f.unproject(h.add(p).div(2)),e.zoom=Math.min(f.scaleZoom(f.scale*Math.min(v,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),i&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t),!1===t.animate&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var o=this.transform,s=this.getZoom(),l=this.getBearing(),c=this.getPitch(),f="zoom"in t?+t.zoom:s,h="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:c,d=o.centerPoint.add(u.convert(t.offset)),v=o.pointLocation(d),m=a.convert(t.center||v);this._normalizeCenter(m);var g,y,_=o.project(v),b=o.project(m).sub(_),x=o.zoomScale(f-s);return t.around&&(g=a.convert(t.around),y=o.locationPoint(g)),this.zooming=f!==s,this.rotating=l!==h,this.pitching=p!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(o.zoom=i(s,f,t)),this.rotating&&(o.bearing=i(l,h,t)),this.pitching&&(o.pitch=i(c,p,t)),g)o.setLocationAtPoint(g,y);else{var n=o.zoomScale(o.zoom-s),r=f>s?Math.min(2,x):Math.max(.5,x),a=Math.pow(r,1-t),u=o.unproject(_.add(b.mult(t*a)).mult(n));o.setLocationAtPoint(o.renderWorldCopies?u.wrap():u,d)}this._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._easeToEnd(e)},t.delayEndEvents):n._easeToEnd(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._easeToEnd=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(C*C-I*I+(t?-1:1)*R*R*M*M)/(2*(t?C:I)*R*M);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return o(t)/s(t)}var c=this;this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var f=this.transform,h=this.getZoom(),p=this.getBearing(),d=this.getPitch(),v="zoom"in t?r.clamp(+t.zoom,f.minZoom,f.maxZoom):h,m="bearing"in t?this._normalizeBearing(t.bearing,p):p,g="pitch"in t?+t.pitch:d,y=f.zoomScale(v-h),_=f.centerPoint.add(u.convert(t.offset)),b=f.pointLocation(_),x=a.convert(t.center||b);this._normalizeCenter(x);var w=f.project(b),E=f.project(x).sub(w),T=t.curve,I=Math.max(f.width,f.height),C=I/y,M=E.mag();if("minZoom"in t){var A=r.clamp(Math.min(t.minZoom,h,v),f.minZoom,f.maxZoom),S=I/f.zoomScale(A-h);T=Math.sqrt(S/M*2)}var R=T*T,L=n(0),k=function(t){return s(L)/s(L+T*t)},N=function(t){return I*((s(L)*l(L+T*t)-o(L))/R)/M},F=(n(1)-L)/T;if(Math.abs(M)<1e-6||!isFinite(F)){if(Math.abs(I-C)<1e-6)return this.easeTo(t,e);var O=C<I?-1:1;F=Math.abs(Math.log(C/I))/T,N=function(){return 0},k=function(t){return Math.exp(O*T*t)}}if("duration"in t)t.duration=+t.duration;else{var B="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*F/B}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=p!==m,this.pitching=g!==d,this._prepareEase(e,!1),this._ease(function(t){var n=t*F,r=1/k(n);f.zoom=h+f.scaleZoom(r),this.rotating&&(f.bearing=i(p,m,t)),this.pitching&&(f.pitch=i(d,g,t));var o=f.unproject(w.add(E.mult(N(n))).mult(r));f.setLocationAtPoint(f.renderWorldCopies?o.wrap():o,_),this._fireMoveEvents(e)},function(){return c._easeToEnd(e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},!1===n.animate?0:n.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var n=this._prevEase,i=(Date.now()-n.start)/n.duration,o=n.easing(i+.01)-n.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);e=r.bezier(a,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(l);e.exports=c},{"../geo/lng_lat":68,"../geo/lng_lat_bounds":69,"../style-spec/util/interpolate":154,"../util/browser":245,"../util/evented":253,"../util/util":266,"@mapbox/point-geometry":2}],225:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/config"),a=function(t){this.options=t,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(t){var n=e.reduce(function(t,n,r){return n.value&&(t+=n.key+"="+n.value+(r<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r].getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=a},{"../../util/config":249,"../../util/dom":252,"../../util/util":266}],226:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=function(){this._fullscreen=!1,i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullScreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":252,"../../util/util":266,"../../util/window":247}],227:[function(t,e,n){"use strict";function r(t){void 0!==h?t(h):void 0!==a.navigator.permissions?a.navigator.permissions.query({name:"geolocation"}).then(function(e){h="denied"!==e.state,t(h)}):(h=!!a.navigator.geolocation,t(h))}var i=t("../../util/evented"),o=t("../../util/dom"),a=t("../../util/window"),s=t("../../util/util"),u=t("../../geo/lng_lat"),l=t("../marker"),c={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},f="mapboxgl-ctrl",h,p=function(t){function e(e){t.call(this),this.options=s.extend({},c,e),s.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=o.create("div",f+" "+f+"-group"),r(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),o.remove(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new u(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=o.create("button",f+"-icon "+f+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new l(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=a.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},e}(i);e.exports=p},{"../../geo/lng_lat":68,"../../util/dom":252,"../../util/evented":253,"../../util/util":266,"../../util/window":247,"../marker":241}],228:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=function(){i.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){this._map=t,this._container=r.create("div","mapboxgl-ctrl");var e=r.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}},e.exports=o},{"../../util/dom":252,"../../util/util":266}],229:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../handler/drag_rotate"),a=function(){var t=this;i.bindAll(["_rotateCompassArrow"],this),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return t._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return t._map.zoomOut()}),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return t._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass)};a.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},a.prototype.onAdd=function(t){return this._map=t,this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new o(t,{button:"left",element:this._compass}),this._handler.enable(),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("rotate",this._rotateCompassArrow),delete this._map,this._handler.disable(),delete this._handler},a.prototype._createButton=function(t,e,n){var i=r.create("button",t,this._container);return i.type="button",i.setAttribute("aria-label",e),i.addEventListener("click",n),i},e.exports=a},{"../../util/dom":252,"../../util/util":266,"../handler/drag_rotate":235}],230:[function(t,e,n){"use strict";function r(t,e,n){var r=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=o(t.unproject([0,a]),t.unproject([r,a]));if(n&&"imperial"===n.unit){var u=3.2808*s;if(u>5280){i(e,r,u/5280,"mi")}else i(e,r,u,"ft")}else if(n&&"nautical"===n.unit){var l=s/1852;i(e,r,l,"nm")}else i(e,r,s,"m")}function i(t,e,n,r){var i=a(n),o=i/n;"m"===r&&i>=1e3&&(i/=1e3,r="km"),t.style.width=e*o+"px",t.innerHTML=i+r}function o(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos((e.lng-t.lng)*n);return 6371e3*Math.acos(Math.min(o,1))}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),u=t("../../util/util"),l=function(t){this.options=t,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){r(this._map,this._container,this.options)},l.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=l},{"../../util/dom":252,"../../util/util":266}],231:[function(t,e,n){"use strict"},{}],232:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),o=(new i).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":69,"../../util/dom":252,"../../util/util":266,"../../util/window":247}],233:[function(t,e,n){"use strict";var r=t("../../util/util"),i=function(t){this._map=t,r.bindAll(["_onDblClick","_onZoomEnd"],this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.isActive=function(){return!!this._active},i.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},i.prototype._onDblClick=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},i.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},e.exports=i},{"../../util/util":266}],234:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.3,s=i.bezier(0,0,a,1),u=1400,l=2500,c=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},c.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},r=this._inertia;if(r.length<2)return void n();var i=r[r.length-1],o=r[0],c=i[1].sub(o[1]),f=(i[0]-o[0])/1e3;if(0===f||i[1].equals(o[1]))return void n();var h=c.mult(a/f),p=h.mag();p>u&&(p=u,h._unit()._mult(p));var d=p/(l*a),v=h.mult(-d/2);this._map.panBy(v,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||(!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button))},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=c},{"../../util/dom":252,"../../util/util":266,"../../util/window":247}],235:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.25,s=i.bezier(0,0,a,1),u=180,l=720,c=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,i.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,n=t.button;if(void 0!==o.InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(n=0),n!==e)return}else if(t.ctrlKey||0!==t.button)return;r.disableDrag(),o.document.addEventListener("mousemove",this._onMove,{capture:!0}),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},c.prototype._onMove=function(t){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var n=this._pos,i=r.mousePos(this._el,t),o=.8*(n.x-i.x),a=-.5*(n.y-i.y),s=e.getBearing()-o,u=e.getPitch()-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,c[1])]),e.transform.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=i},c.prototype._onUp=function(t){var e=this;if(o.document.removeEventListener("mousemove",this._onMove,{capture:!0}),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),r.enableDrag(),this.isActive()){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),c=this._inertia,f=function(){Math.abs(i)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(c.length<2)return void f();var h=c[0],p=c[c.length-1],d=c[c.length-2],v=n._normalizeBearing(i,d[1]),m=p[1]-h[1],g=m<0?-1:1,y=(p[0]-h[0])/1e3;if(0===m||0===y)return void f();var _=Math.abs(m*(a/y));_>u&&(_=u);var b=_/(l*a);v+=g*_*(b/2),Math.abs(n._normalizeBearing(v,0))<this._bearingSnap&&(v=n._normalizeBearing(0,v)),n.rotateTo(v,{duration:1e3*b,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=c},{"../../util/dom":252,"../../util/util":266,"../../util/window":247}],236:[function(t,e,n){"use strict";function r(t){return t*(2-t)}var i=t("../../util/util"),o=100,a=15,s=10,u=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onKeyDown"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},u.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},u.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,i=0,u=0,l=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),u=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),u=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),l=-1);break;case 40:t.shiftKey?i=-1:(l=1,t.preventDefault());break;default:return}var c=this._map,f=c.getZoom(),h={duration:300,delayEndEvents:500,easing:r,zoom:e?Math.round(f)+e*(t.shiftKey?2:1):f,bearing:c.getBearing()+n*a,pitch:c.getPitch()+i*s,offset:[-u*o,-l*o],center:c.getCenter()};c.easeTo(h,{originalEvent:t})}},e.exports=u},{"../../util/util":266}],237:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/browser"),a=t("../../util/window"),s=a.navigator.userAgent.toLowerCase(),u=-1!==s.indexOf("firefox"),l=-1!==s.indexOf("safari")&&-1===s.indexOf("chrom"),c=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=o.now(),i=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var i=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(i*r);n.zoomTo(o,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=c},{"../../util/browser":245,"../../util/dom":252,"../../util/util":266,"../../util/window":247}],238:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.15,s=i.bezier(0,0,a,1),u=12,l=2.5,c=.15,f=10,h=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onStart","_onMove","_onEnd"],this)};h.prototype.isEnabled=function(){return!!this._enabled},h.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},h.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},h.prototype.disableRotation=function(){this._rotationDisabled=!0},h.prototype.enableRotation=function(){this._rotationDisabled=!1},h.prototype._onStart=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},h.prototype._onMove=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),i=e.add(n).div(2),o=e.sub(n),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(i)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,i]),u.easeTo(l,{originalEvent:t})}else{var h=Math.abs(1-a)>c;Math.abs(s)>f?this._gestureIntent="rotate":h&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},h.prototype._onEnd=function(t){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],i=e[0],c=n.transform.scaleZoom(this._startScale*r[1]),f=n.transform.scaleZoom(this._startScale*i[1]),h=c-f,p=(r[0]-i[0])/1e3,d=r[2];if(0===p||c===f)return void n.snapToNorth({},{originalEvent:t});var v=h*a/p;Math.abs(v)>l&&(v=v>0?l:-l);var m=1e3*Math.abs(v/(u*a)),g=c+v*m/2e3;g<0&&(g=0),n.easeTo({zoom:g,duration:m,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(d)},{originalEvent:t})},h.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=h},{"../../util/dom":252,"../../util/util":266,"../../util/window":247}],239:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/window"),o=t("../util/throttle"),a=function(){r.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=o(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(t){return this._map=t,i.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return i.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),i=Math.round(e.lng*Math.pow(10,r))/Math.pow(10,r),o=Math.round(e.lat*Math.pow(10,r))/Math.pow(10,r),a=this._map.getBearing(),s=this._map.getPitch(),u="";return u+=t?"#/"+i+"/"+o+"/"+n:"#"+n+"/"+o+"/"+i,(a||s)&&(u+="/"+Math.round(10*a)/10),s&&(u+="/"+Math.round(s)),u},a.prototype._onHashChange=function(){var t=i.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var t=this.getHashString();i.history.replaceState("","",t)},e.exports=a},{"../util/throttle":264,"../util/util":266,"../util/window":247}],240:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var i=t("../util/util"),o=t("../util/browser"),a=t("../util/window"),s=t("../util/window"),u=s.HTMLImageElement,l=s.HTMLElement,c=t("../util/dom"),f=t("../util/ajax"),h=t("../style/style"),p=t("../render/painter"),d=t("../geo/transform"),v=t("./hash"),m=t("./bind_handlers"),g=t("./camera"),y=t("../geo/lng_lat"),_=t("../geo/lng_lat_bounds"),b=t("@mapbox/point-geometry"),x=t("./control/attribution_control"),w=t("./control/logo_control"),E=t("mapbox-gl-supported");t("./events");var T=0,I=22,C={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:T,maxZoom:I,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,collisionFadeDuration:300},M=function(t){function e(e){var n=this;if(e=i.extend({},C,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new d(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._collisionFadeDuration=e.collisionFadeDuration;var o=e.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var s=a.document.getElementById(e.container);if(!s)throw new Error("Container '"+e.container+"' not found.");this._container=s}else{if(!(e.container instanceof l))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("move",function(){n._rerender()}),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),m(this,e),this._hash=e.hash&&(new v).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new x),this.addControl(new w,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update({transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new _(this.transform.pointLocation(new b(0,this.transform.height)),this.transform.pointLocation(new b(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new _([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=_.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?T:t)>=T&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+T+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?I:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(y.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(b.convert(t))},e.prototype.on=function(e,n,r){var o=this;if(void 0===r)return t.prototype.on.call(this,e,n);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:n,listener:r,delegates:{mousemove:function(a){var s=o.getLayer(n)?o.queryRenderedFeatures(a.point,{layers:[n]}):[];s.length?t||(t=!0,r.call(o,i.extend({features:s},a,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function(t){(o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(o,i.extend({},t,{type:e})))},mouseout:function(t){a&&(a=!1,r.call(o,i.extend({},t,{type:e})))}}}}var s=function(t){var e=o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&r.call(o,i.extend({features:e},t))};return{layer:n,listener:r,delegates:(u={},u[e]=s,u)};var u}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a);for(var s in a.delegates)o.on(s,a.delegates[s]);return this},e.prototype.off=function(e,n,r){var i=this;if(void 0===r)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===n&&s.listener===r){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}return this},e.prototype.queryRenderedFeatures=function(t,e){return 2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&function(t){return t instanceof b||Array.isArray(t)}(arguments[0])?(t=arguments[0],e={}):1===arguments.length?(t=void 0,e=arguments[0]):(t=void 0,e={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var n;if(t instanceof b||"number"==typeof t[0]){n=[b.convert(t)]}else{var r=[b.convert(t[0]),b.convert(t[1])];n=[r[0],new b(r[1].x,r[0].y),r[1],new b(r[0].x,r[1].y),r[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){i.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new h(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e],r=n._tiles;for(var i in r){var o=r[i];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var i=n.sdf;if(void 0===i&&(i=!1),e instanceof u)e=o.getImageData(e);else if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});this.style.addImage(t,{data:e,pixelRatio:r,sdf:i})},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){f.getImage(this._transformRequest(t,f.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0),this},e.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=c.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=c.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=c.create("div","mapboxgl-ctrl-"+t,r)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=i.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},E.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);if(!e)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new p(e,this.transform)},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!(this._styleDirty||this._sourcesDirty||this._placementDirty)&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(),this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._collisionFadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,collisionFadeDuration:this._collisionFadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),r(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(g);e.exports=M},{"../geo/lng_lat":68,"../geo/lng_lat_bounds":69,"../geo/transform":70,"../render/painter":89,"../style/style":185,"../util/ajax":244,"../util/browser":245,"../util/dom":252,"../util/util":266,"../util/window":247,"./bind_handlers":223,"./camera":224,"./control/attribution_control":225,"./control/logo_control":228,"./events":231,"./hash":239,"@mapbox/point-geometry":2,"mapbox-gl-supported":37}],241:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("../geo/lng_lat"),o=t("@mapbox/point-geometry"),a=t("../util/smart_wrap"),s=t("../util/util"),u=s.bindAll,l=function(t,e){if(this._offset=o.convert(e&&e.offset||[0,0]),u(["_update","_onMapClick"],this),!t){t=r.create("div");var n=r.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var i=r.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],c=0,f=l;c<f.length;c+=1){var h=f[c],p=r.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),s.appendChild(p)}var d=r.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill","#3FB1CE");var v=r.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(v);var m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=r.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var _=r.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var x=r.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),_.appendChild(b),_.appendChild(x),a.appendChild(s),a.appendChild(d),a.appendChild(m),a.appendChild(y),a.appendChild(_),n.appendChild(a),t.appendChild(n)}t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};l.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},l.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},l.prototype.getLngLat=function(){return this._lngLat},l.prototype.setLngLat=function(t){return this._lngLat=i.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},l.prototype.getElement=function(){return this._element},l.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._popup.setLngLat(this._lngLat)),this},l.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},l.prototype.getPopup=function(){return this._popup},l.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},l.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},e.exports=l},{"../geo/lng_lat":68,"../util/dom":252,"../util/smart_wrap":262,"../util/util":266,"@mapbox/point-geometry":2}],242:[function(t,e,n){"use strict";function r(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new u(0,t),"top-left":new u(e,e),"top-right":new u(-e,e),bottom:new u(0,-t),"bottom-left":new u(e,-e),"bottom-right":new u(-e,-e),left:new u(t,0),right:new u(-t,0)}}if(t instanceof u||Array.isArray(t)){var n=u.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:u.convert(t.top||[0,0]),"top-left":u.convert(t["top-left"]||[0,0]),"top-right":u.convert(t["top-right"]||[0,0]),bottom:u.convert(t.bottom||[0,0]),"bottom-left":u.convert(t["bottom-left"]||[0,0]),"bottom-right":u.convert(t["bottom-right"]||[0,0]),left:u.convert(t.left||[0,0]),right:u.convert(t.right||[0,0])}}return r(new u(0,0))}var i=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat"),u=t("@mapbox/point-geometry"),l=t("../util/window"),c=t("../util/smart_wrap"),f={closeButton:!0,closeOnClick:!0},h=function(t){function e(e){t.call(this),this.options=i.extend(Object.create(f),e),i.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=s.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(l.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=l.document.createDocumentFragment(),r=l.document.createElement("body");for(r.innerHTML=t;;){if(!(e=r.firstChild))break;n.appendChild(e)}return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=c(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,n=r(this.options.offset);if(!e){var i=this._container.offsetWidth,o=this._container.offsetHeight;e=t.y+n.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<i/2?e.push("left"):t.x>this._map.transform.width-i/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=t.add(n[e]).round(),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var f in u)l.remove("mapboxgl-popup-anchor-"+f);l.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,u[e]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(o);e.exports=h},{"../geo/lng_lat":68,"../util/dom":252,"../util/evented":253,"../util/smart_wrap":262,"../util/util":266,"../util/window":247,"@mapbox/point-geometry":2}],243:[function(t,e,n){"use strict";var r=t("./util"),i=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,r.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};i.prototype.send=function(t,e,n,r,i){var o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n),this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:t,id:String(o),data:e},r)},i.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?String(t):null,data:e},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(new Error(r.error)):e&&e(null,r.data);else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,o);else if(void 0!==r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,a[0]);s[a[1]](r.data,o)}else this.parent[r.type](r.data)}},i.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=i},{"./util":266}],244:[function(t,e,n){"use strict";function r(t){var e=new o.XMLHttpRequest;e.open("GET",t.url,!0);for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}function i(t){var e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}var o=t("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};n.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=r(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new s(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=r(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var t=n.response;if(0===t.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:t,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new s(n.statusText,n.status))},n.send(),n};var u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)e(t);else if(n){var r=new o.Image,i=o.URL||o.webkitURL;r.onload=function(){e(null,r),i.revokeObjectURL(r.src)};var a=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?i.createObjectURL(a):u}})},n.getVideo=function(t,e){var n=o.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var a=o.document.createElement("source");i(t[r])||(n.crossOrigin="Anonymous"),a.src=t[r],n.appendChild(a)}return n}},{"./window":247}],245:[function(t,e,n){"use strict";var r=t("./window"),i=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;e.exports={now:i,frame:function(t){return o(t)},cancelFrame:function(t){return a(t)},timed:function(t,e,n){function r(){if(!a){var u=i();u>=s+e?t.call(n,1):(t.call(n,(u-s)/e),o(r))}}if(!e)return t.call(n,1),null;var a=!1,s=i();return o(r),function(){a=!0}},getImageData:function(t){var e=r.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},hardwareConcurrency:r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},supportsWebp:!1};var s=r.document.createElement("img");s.onload=function(){e.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":247}],246:[function(t,e,n){"use strict";var r=t("webworkify"),i=t("../window"),o=i.URL.createObjectURL(new r(t("../../source/worker"),{bare:!0}));e.exports=function(){return new i.Worker(o)}},{"../../source/worker":116,"../window":247,webworkify:48}],247:[function(t,e,n){"use strict";e.exports=self},{}],248:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var i=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],l=0;l<n;l++){var c=o(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[t[l]]):a.push(t[l]))}if(a&&u.push(a),e>1)for(var f=0;f<u.length;f++)u[f].length<=e||(i(u[f],e,1,u[f].length-1,r),u[f]=u[f].slice(0,e));return u}},{"./util":266,quickselect:40}],249:[function(t,e,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=r},{}],250:[function(t,e,n){"use strict";var r=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];e._stringToNumber[r]=n,e._numberToString[n]=r}};r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]},e.exports=r},{}],251:[function(t,e,n){"use strict";var r=t("./util"),i=t("./actor"),o=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=o[a],u=new i(s,e,n.id);u.name="Worker "+a,n.actors.push(u)}};o.prototype.broadcast=function(t,e,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},o.prototype.send=function(t,e,n,r,i){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,i),r},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":243,"./util":266}],252:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in a)return t[e];return t[0]}var i=t("@mapbox/point-geometry"),o=t("./window");n.create=function(t,e,n){var r=o.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r},n.createNS=function(t,e){return o.document.createElementNS(t,e)};var a=o.document.documentElement.style,s=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),u;n.disableDrag=function(){s&&(u=a[s],a[s]="none")},n.enableDrag=function(){s&&(a[s]=u)};var l=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[l]=e};var c=function(t){t.preventDefault(),t.stopPropagation(),o.removeEventListener("click",c,!0)};n.suppressClick=function(){o.addEventListener("click",c,!0),o.setTimeout(function(){o.removeEventListener("click",c,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new i(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],o="touchend"===e.type?e.changedTouches:e.touches,a=0;a<o.length;a++)r.push(new i(o[a].clientX-n.left-t.clientLeft,o[a].clientY-n.top-t.clientTop));return r},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":247,"@mapbox/point-geometry":2}],253:[function(t,e,n){"use strict";function r(t,e,n){n[t]=n[t]||[],n[t].push(e)}function i(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var o=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},r(t,e,this._listeners),this},a.prototype.off=function(t,e){return i(t,e,this._listeners),i(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},r(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var r=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0;a<r.length;a++)r[a].call(n,e);for(var s=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0;u<s.length;u++)s[u].call(n,e),i(t,s[u],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":266}],254:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function i(t,e,n,r){this.p=new u(t,e),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],f=o[u];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(t,c,f))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,o=t[0],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,e+=3*f}return new i(n/e,r/e,0,t)}var s=t("tinyqueue"),u=t("@mapbox/point-geometry"),l=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var o=1/0,l=1/0,c=-1/0,f=-1/0,h=t[0],p=0;p<h.length;p++){var d=h[p];(!p||d.x<o)&&(o=d.x),(!p||d.y<l)&&(l=d.y),(!p||d.x>c)&&(c=d.x),(!p||d.y>f)&&(f=d.y)}var v=c-o,m=f-l,g=Math.min(v,m),y=g/2,_=new s(null,r);if(0===g)return new u(o,l);for(var b=o;b<c;b+=g)for(var x=l;x<f;x+=g)_.push(new i(b+y,x+y,y,t));for(var w=a(t),E=_.length;_.length;){var T=_.pop();(T.d>w.d||!w.d)&&(w=T,n&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,E)),T.max-w.d<=e||(y=T.h/2,_.push(new i(T.p.x-y,T.p.y-y,y,t)),_.push(new i(T.p.x+y,T.p.y-y,y,t)),_.push(new i(T.p.x-y,T.p.y+y,y,t)),_.push(new i(T.p.x+y,T.p.y+y,y,t)),E+=4)}return n&&(console.log("num probes: "+E),console.log("best distance: "+w.d)),w.p}},{"./intersection_tests":257,"@mapbox/point-geometry":2,tinyqueue:42}],255:[function(t,e,n){"use strict";var r=t("./worker_pool"),i;e.exports=function(){return i||(i=new r),i}},{"./worker_pool":269}],256:[function(t,e,n){"use strict";function r(t,e,n){var r=t.width,i=t.height;if(n){if(n.length!==r*i*e)throw new RangeError("mismatched image size")}else n=new Uint8Array(r*i*e);return{width:r,height:i,data:n}}function i(t,e,n){var i=e.width,a=e.height;if(i===t.width&&a===t.height)return t;var s=r({width:i,height:a},n);o(t,s,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,a)},n),t.width=i,t.height=a,t.data=s.data}function o(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return e}var a=function(){};a.create=function(t,e){return r(t,1,e)},a.resize=function(t,e){i(t,e,1)},a.copy=function(t,e,n,r,i){o(t,e,n,r,i,1)};var s=function(){};s.create=function(t,e){return r(t,4,e)},s.resize=function(t,e){i(t,e,4)},s.copy=function(t,e,n,r,i){o(t,e,n,r,i,4)},e.exports={AlphaImage:a,RGBAImage:s}},{}],257:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(p(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(p(t,e[r]))return!0;return!!u(t,e)}function i(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];if(p(i,u))return!0;if(c(u,i,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return h(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(h(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(h(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(u(a,e[l]))return!0}return!1}function a(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var u=0;u<i.length;u++)if(p(a,i[u]))return!0;if(s(a,i,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(u(t,e))return!0;for(var r=0;r<e.length;r++)if(c(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(c(t[i],e,n))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(l(r,i,a,s))return!0}return!1}function l(t,e,n,r){return v(t,n,r)!==v(e,n,r)&&v(t,e,n)!==v(t,e,r)}function c(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++){if(f(t,e[i-1],e[i])<r)return!0}return!1}function f(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function h(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function p(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var d=t("./util"),v=d.isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:i,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:f}},{"./util":266}],258:[function(t,e,n){"use strict";var r={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=r},{}],259:[function(t,e,n){"use strict";var r=function(t,e){this.max=t,this.onRemove=e,this.reset()};r.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.getAndRemove(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.get=function(t){return this.has(t)?this.data[t]:null},r.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},r.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.getAndRemove(e.order[0]);n&&e.onRemove(n)}return this},e.exports=r},{}],260:[function(t,e,n){"use strict";function r(t,e){var n=a(u.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!u.REQUIRE_ACCESS_TOKEN)return s(t);if(!(e=e||u.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function i(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}function a(t){var e=t.match(h);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),l=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=i,n.normalizeStyleURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,r(n,e)},n.normalizeGlyphsURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,r(n,e)},n.normalizeSourceURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,e)},n.normalizeSpriteURL=function(t,e,n,o){var u=a(t);return i(t)?(u.path="/styles/v1"+u.path+"/sprite"+e+n,r(u,o)):(u.path+=""+e+n,s(u))};var f=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!i(e))return t;var r=a(t),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return r.path=r.path.replace(f,""+u+c),o(r.params),s(r)};var h=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":245,"./config":249}],261:[function(t,e,n){"use strict";var r=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsIdeographicBreaking(i.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(n.charHasUprightVerticalOrientation(i.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsLetterSpacing(i.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!r.Arabic(t)&&(!r["Arabic Supplement"](t)&&(!r["Arabic Extended-A"](t)&&(!r["Arabic Presentation Forms-A"](t)&&!r["Arabic Presentation Forms-B"](t))))},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!!r["CJK Compatibility Forms"](t)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!!r["CJK Symbols and Punctuation"](t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!!r.Katakana(t)||(!!r["Vertical Forms"](t)||(!!r["Yi Radicals"](t)||!!r["Yi Syllables"](t))))))))))))))))))))},n.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!(!r["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Hangul Compatibility Jamo"](t)||(!!r["Hangul Jamo Extended-A"](t)||(!!r["Hangul Jamo Extended-B"](t)||(!!r["Hangul Jamo"](t)||(!!r["Hangul Syllables"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r.Kanbun(t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!(!r.Katakana(t)||12540===t)||(!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||(!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(!!r["Unified Canadian Aboriginal Syllabics"](t)||(!!r["Unified Canadian Aboriginal Syllabics Extended"](t)||(!!r["Vertical Forms"](t)||(!!r["Yijing Hexagram Symbols"](t)||(!!r["Yi Syllables"](t)||!!r["Yi Radicals"](t))))))))))))))))))))))))))))))},n.charHasNeutralVerticalOrientation=function(t){return!(!r["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||(!(!r["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||(!!r["Letterlike Symbols"](t)||(!!r["Number Forms"](t)||(!(!r["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||(!(!r["Control Pictures"](t)||9251===t)||(!!r["Optical Character Recognition"](t)||(!!r["Enclosed Alphanumerics"](t)||(!!r["Geometric Shapes"](t)||(!(!r["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||(!(!r["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||(!!r["CJK Symbols and Punctuation"](t)||(!!r.Katakana(t)||(!!r["Private Use Area"](t)||(!!r["CJK Compatibility Forms"](t)||(!!r["Small Form Variants"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)))))))))))))))))},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":258}],262:[function(t,e,n){"use strict";var r=t("../geo/lng_lat");e.exports=function(t,e,n){if(t=new r(t.lng,t.lat),e){var i=new r(t.lng-360,t.lat),o=new r(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(e);n.locationPoint(i).distSqr(e)<a?t=i:n.locationPoint(o).distSqr(e)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":68}],263:[function(t,e,n){"use strict";function r(t){var e=JSON.stringify(t);if(m[e])return m[e];var n=void 0===t.alignment?1:t.alignment,r=0,a=0,u=["Uint8"],f=t.members.map(function(t){u.indexOf(t.type)<0&&u.push(t.type);var e=o(t.type),s=r=i(r,Math.max(n,e)),l=t.components||1;return a=Math.max(a,e),r+=e*l,{name:t.name,type:t.type,components:l,offset:s}}),p=i(r,Math.max(a,n)),d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h);d.prototype.alignment=n,d.prototype.size=p;for(var g=0,y=f;g<y.length;g+=1)for(var _=y[g],b=0;b<_.components;b++){var x=_.name;if(_.components>1&&(x+=b),x in d.prototype)throw new Error(x+" is a reserved name and cannot be used as a member name.");Object.defineProperty(d.prototype,x,c(_,b))}var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(v);w.prototype.members=f,w.prototype.StructType=d,w.prototype.bytesPerElement=p,w.prototype.emplaceBack=s(f,p),w.prototype._usedTypes=u,m[e]=w;for(var E=0,T=f;E<T.length;E+=1)for(var I=T[E],C=0;C<I.components;C++){var M="get"+I.name;if(I.components>1&&(M+=C),M in w.prototype)throw new Error(M+" is a reserved name and cannot be used as a member name.");w.prototype[M]=l(I,C,p)}return w}function i(t,e){return Math.ceil(t/e)*e}function o(t){return f[t].BYTES_PER_ELEMENT}function a(t){return t.toLowerCase()}function s(t,e){for(var n=[],r=[],i="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=t;s<u.length;s+=1){var l=u[s],c=o(l.type);n.indexOf(c)<0&&(n.push(c),i+="var o"+c.toFixed(0)+" = i * "+(e/c).toFixed(0)+";\n");for(var f=0;f<l.components;f++){var h="v"+r.length,p="o"+c.toFixed(0)+" + "+(l.offset/c+f).toFixed(0);i+="this."+a(l.type)+"["+p+"] = "+h+";\n",r.push(h)}}return i+="return i;",new Function(r.toString(),i)}function u(t,e){var n="this._pos"+o(t.type).toFixed(0),r=(t.offset/o(t.type)+e).toFixed(0),i=n+" + "+r;return"this._structArray."+a(t.type)+"["+i+"]"}function l(t,e,n){var r=(t.offset/o(t.type)+e).toFixed(0),i=n/o(t.type);return new Function("index","return this."+a(t.type)+"[index * "+i+" + "+r+"];")}function c(t,e){var n=u(t,e);return{get:new Function("return "+n+";"),set:new Function("x",n+" = x;")}}e.exports=r;var f={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},h=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},p=128,d=5,v=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};v.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment}},v.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},v.prototype.get=function(t){return new this.StructType(this,t)},v.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},v.prototype.clear=function(){this.length=0},v.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*d),p),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},v.prototype._refreshViews=function(){for(var t=this,e=0,n=t._usedTypes;e<n.length;e+=1){var r=n[e];t[a(r)]=new f[r](t.arrayBuffer)}},v.prototype.toArray=function(t,e){for(var n=this,r=[],i=t;i<e;i++){var o=n.get(i);r.push(o)}return r};var m={}},{}],264:[function(t,e,n){"use strict";e.exports=function(t,e){var n=!1,r=0,i=function(){r=0,n&&(t(),r=setTimeout(i,e),n=!1)};return function(){return n=!0,r||i(),r}}},{}],265:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}e.exports=r},{}],266:[function(t,e,n){"use strict";var r=t("@mapbox/unitbezier"),i=t("../geo/coordinate"),o=t("@mapbox/point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,i){var o=new r(t,e,n,i);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n};var a=1;n.uniqueId=function(){return a++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,o=-1/0,a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),o=Math.max(o,t[a].row);var s=r-e,u=o-n,l=Math.max(s,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new i((e+r)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},n.mapObject=function(t,e,n){var r=this,i={};for(var o in t)i[o]=e.call(n||r,t[o],o,t);return i},n.filterObject=function(t,e,n){var r=this,i={};for(var o in t)e.call(n||r,t[o],o,t)&&(i[o]=t[o]);return i},n.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n.deepEqual(t[r],e[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!n.deepEqual(t[i],e[i]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var s={};n.warnOnce=function(t){s[t]||("undefined"!=typeof console&&console.warn(t),s[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],a=t[i],e+=(a.x-o.x)*(o.y+a.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,r,i){var o=r||i;return n[e]=!o||o.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":67,"@mapbox/point-geometry":2,"@mapbox/unitbezier":5}],267:[function(t,e,n){"use strict";var r=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},i={geometry:{}};i.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},i.geometry.set=function(t){this._geometry=t},r.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(r.prototype,i),e.exports=r},{}],268:[function(t,e,n){"use strict";var r=t("./script_detection");e.exports=function(t){for(var n="",i=0;i<t.length;i++){var o=t.charCodeAt(i+1)||null,a=t.charCodeAt(i-1)||null;(!o||!r.charHasRotatedVerticalOrientation(o)||e.exports.lookup[t[i+1]])&&(!a||!r.charHasRotatedVerticalOrientation(a)||e.exports.lookup[t[i-1]])&&e.exports.lookup[t[i]]?n+=e.exports.lookup[t[i]]:n+=t[i]}return n},e.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":261}],269:[function(t,e,n){"use strict";var r=t("./web_worker"),i=function(){this.active={}};i.prototype.acquire=function(e){var n=this;if(!this.workers){var i=t("../").workerCount;for(this.workers=[];this.workers.length<i;)n.workers.push(new r)}return this.active[e]=!0,this.workers.slice()},i.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=i},{"../":73,"./web_worker":246}]},{},[73])(73)})}).call(e,n("DuR2"))},"1x6x":function(t,e){t.exports=n;function n(t,e,n){var r=n[0],i=n[1],o=n[2];t[0]=e[0]*r;t[1]=e[1]*r;t[2]=e[2]*r;t[3]=e[3]*r;t[4]=e[4]*i;t[5]=e[5]*i;t[6]=e[6]*i;t[7]=e[7]*i;t[8]=e[8]*o;t[9]=e[9]*o;t[10]=e[10]*o;t[11]=e[11]*o;t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15];return t}},"2m2c":function(t,e,n){var r=n("DvwR");var i=n("B5V0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,i)}},"30vf":function(t,e,n){var r=n("Wdy1");var i=n("iANj");var o=n("zyKz");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t];var a={};a[t]=e(n);r(r.S+r.F*o(function(){n(1)}),"Object",a)}},"3EVR":function(t,e,n){"use strict";e["a"]=u;var r=n("tLlS");var i=n("u/dy");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function u(t,e){var n=e.x,o=e.y,a=e.width,s=a===undefined?1:a,u=e.height,l=u===undefined?1:u,c=e.data,f=e.dataOffset,h=f===undefined?0:f,p=e.type,d=p===undefined?r["e"].UNSIGNED_BYTE:p,v=e.sourceHeight,m=e.format,g=m===undefined?r["e"].RGBA:m;c=c||new Uint8Array(4*s*l);o=v?v-o:o;if(h){Object(i["c"])(t);t.readPixels(n,o,s,l,g,d,c,h)}else{t.readPixels(n,o,s,l,g,d,c)}return c}function l(t,e){var n=e.x,o=e.y,a=e.width,s=a===undefined?1:a,u=e.height,l=u===undefined?1:u,c=e.buffer,f=e.dataOffset,h=f===undefined?0:f,p=e.type,d=p===undefined?r["e"].UNSIGNED_BYTE:p,v=e.sourceHeight,m=e.format,g=m===undefined?r["e"].RGBA:m;Object(i["c"])(t);o=v?v-o:o;t.bindBuffer(r["e"].PIXEL_PACK_BUFFER,c.handle);t.readPixels(n,o,s,l,g,d,h);t.bindBuffer(r["e"].PIXEL_PACK_BUFFER,null);return c}function c(t,e){var n=s(e.source,4),i=n[0],o=n[1],a=n[2],u=n[3],l=s(e.dest,4),c=l[0],f=l[1],h=l[2],p=l[3],d=e.mask,v=d===undefined?r["e"].COLOR_BUFFER_BIT|r["e"].DEPTH_BUFFER_BIT|r["e"].STENCIL_BUFFER_BIT:d,m=e.filter,g=m===undefined?r["e"].LINEAR:m}},"3EgV":function(t,e,n){(function n(r,i){if(true)t.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof e==="object")e["Vuetify"]=i();else r["Vuetify"]=i()})(this,function(){return function(t){var e={};function n(r){if(e[r]){return e[r].exports}var i=e[r]={i:r,l:false,exports:{}};t[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=t;n.c=e;n.d=function(t,e,r){if(!n.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:r})}};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="/dist/";return n(n.s=46)}([function(t,e,n){"use strict";e["a"]={props:{color:String},data:function t(){return{defaultColor:null}},computed:{computedColor:function t(){return this.color||this.defaultColor}},methods:{addBackgroundColorClassChecks:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"computedColor";var r=Object.assign({},e);if(n&&this[n]){r[this[n]]=true}return r},addTextColorClassChecks:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"computedColor";var r=Object.assign({},e);if(n&&this[n]){var i=this[n].trim().split(" ");var o=i[0]+"--text";if(i.length>1)o+=" text--"+i[1];r[o]=!!this[n]}return r}}}},function(t,e,n){"use strict";e["a"]={props:{dark:Boolean,light:Boolean},computed:{themeClasses:function t(){return{"theme--light":this.light,"theme--dark":this.dark}}}}},function(t,e,n){"use strict";e["d"]=o;e["e"]=a;e["b"]=s;e["a"]=l;e["g"]=c;e["c"]=f;e["h"]=h;e["f"]=d;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"div";var n=arguments[2];n=n||t.replace(/__/g,"-");return{name:"v-"+n,functional:true,render:function n(r,i){var o=i.data,a=i.children;o.staticClass=(t+" "+(o.staticClass||"")).trim();return r(e,o,a)}}}function a(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top center 0";var n=arguments[2];return{name:t,functional:true,props:{origin:{type:String,default:e}},render:function e(i,o){o.data=o.data||{};o.data.props={name:t};o.data.on=o.data.on||{};if(!Object.isExtensible(o.data.on)){o.data.on=r({},o.data.on)}if(n)o.data.props.mode=n;o.data.on.beforeEnter=function(t){t.style.transformOrigin=o.props.origin;t.style.webkitTransformOrigin=o.props.origin};return i("transition",o.data,o.children)}}}function s(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"in-out";return{name:t,functional:true,props:{css:{type:Boolean,default:n},mode:{type:String,default:i}},render:function n(i,o){var a={props:r({},o.props,{name:t}),on:e};return i("transition",a,o.children)}}}function u(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Object.assign({},e,t.modifiers,{value:t.arg},t.value||{})}function l(t,e,n){var r=function r(){n();t.removeEventListener(e,r,false)};t.addEventListener(e,r,false)}function c(t,e){if(!e||e.constructor!==String)return;e=e.replace(/\[(\w+)\]/g,".$1");e=e.replace(/^\./,"");var n=e.split(".");for(var r=0,i=n.length;r<i;++r){var o=n[r];if(t instanceof Object&&o in t){t=t[o]}else{return}}return t}function f(t){return[].concat(i(Array.from({length:t},function(t,e){return e})))}function h(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=document.defaultView.getComputedStyle(t).getPropertyValue("z-index");if(isNaN(e))return h(t.parentNode);return e}var p={"&":"&amp;","<":"&lt;",">":"&gt;"};function d(t){return t.replace(/[&<>]/g,function(t){return p[t]||t})}},function(t,e,n){"use strict";var r=n(64);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";e["b"]=i;function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function i(){var t;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"value";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"input";return{model:{prop:e,event:n},props:r({},e,{required:false}),data:function t(){return{isActive:!!this[e]}},watch:(t={},r(t,e,function(t){this.isActive=!!t}),r(t,"isActive",function t(r){!!r!==this[e]&&this.$emit(n,r)}),t)}}var o=i();e["a"]=o},function(t,e,n){"use strict";n.d(e,"g",function(){return u});n.d(e,"f",function(){return l});n.d(e,"b",function(){return d});n.d(e,"c",function(){return m});n.d(e,"e",function(){return y});n.d(e,"d",function(){return _});n.d(e,"a",function(){return b});var r=n(2);var i=n(30);var o=Object(r["e"])("bottom-sheet-transition");var a=Object(r["e"])("carousel-transition");var s=Object(r["e"])("carousel-reverse-transition");var u=Object(r["e"])("tab-transition");var l=Object(r["e"])("tab-reverse-transition");var c=Object(r["e"])("menu-transition");var f=Object(r["e"])("fab-transition","center center","out-in");var h=Object(r["e"])("dialog-transition");var p=Object(r["e"])("dialog-bottom-transition");var d=Object(r["e"])("fade-transition");var v=Object(r["e"])("scale-transition");var m=Object(r["e"])("slide-x-transition");var g=Object(r["e"])("slide-x-reverse-transition");var y=Object(r["e"])("slide-y-transition");var _=Object(r["e"])("slide-y-reverse-transition");var b=Object(r["b"])("expand-transition",Object(i["a"])());var x=Object(r["b"])("row-expand-transition",Object(i["a"])("datatable__expand-col--expanded"));e["h"]=w;function w(t){t.component("v-bottom-sheet-transition",o);t.component("v-carousel-transition",a);t.component("v-carousel-reverse-transition",s);t.component("v-dialog-transition",h);t.component("v-dialog-bottom-transition",p);t.component("v-fab-transition",f);t.component("v-fade-transition",d);t.component("v-menu-transition",c);t.component("v-scale-transition",v);t.component("v-slide-x-transition",m);t.component("v-slide-x-reverse-transition",g);t.component("v-slide-y-transition",y);t.component("v-slide-y-reverse-transition",_);t.component("v-tab-reverse-transition",l);t.component("v-tab-transition",u);t.component("v-expand-transition",b);t.component("v-row-expand-transition",x)}},function(t,e,n){"use strict";function r(t,e,n,r){if(!t||r.context.isActive===false)return;if(!t.isTrusted||"pointerType"in t&&!t.pointerType)return;var o=n.value||function(){return true};var a=o.callback||o;var s=(o.include||function(){return[]})();s.push(e);if(!i(t,s)&&a(t)){setTimeout(function(){return r.context.isActive=false},0)}}function i(t,e){var n=t.clientX,r=t.clientY;var i=true;var a=false;var s=undefined;try{for(var u=e[Symbol.iterator](),l;!(i=(l=u.next()).done);i=true){var c=l.value;if(o(c,n,r))return true}}catch(t){a=true;s=t}finally{try{if(!i&&u.return){u.return()}}finally{if(a){throw s}}}return false}function o(t,e,n){var r=t.getBoundingClientRect();return e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom}e["a"]={name:"click-outside",bind:function t(e,n,i){var o=function t(o){return r(o,e,n,i)};var a=document.querySelector("[data-app]")||document.body;a.addEventListener("click",o,true);e._clickOutside=o},unbind:function t(e){var n=document.querySelector("[data-app]")||document.body;n&&n.removeEventListener("click",e._clickOutside,true)}}},function(t,e,n){"use strict";function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var i=function t(e,n){var r=e.changedTouches[0];n.touchstartX=r.clientX;n.touchstartY=r.clientY;n.start&&n.start(Object.assign(e,n))};var o=function t(e,n){var r=e.changedTouches[0];n.touchendX=r.clientX;n.touchendY=r.clientY;n.end&&n.end(Object.assign(e,n));s(n)};var a=function t(e,n){var r=e.changedTouches[0];n.touchmoveX=r.clientX;n.touchmoveY=r.clientY;n.move&&n.move(Object.assign(e,n))};var s=function t(e){var n=e.touchstartX,r=e.touchendX,i=e.touchstartY,o=e.touchendY;var a=.5;var s=16;e.offsetX=r-n;e.offsetY=o-i;if(Math.abs(e.offsetY)<a*Math.abs(e.offsetX)){e.left&&r<n-s&&e.left(e);e.right&&r>n+s&&e.right(e)}if(Math.abs(e.offsetX)<a*Math.abs(e.offsetY)){e.up&&o<i-s&&e.up(e);e.down&&o>i+s&&e.down(e)}};function u(t,e,n){var s=e.value;var u=n.context;var l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:s.left,right:s.right,up:s.up,down:s.down,start:s.start,move:s.move,end:s.end};var c=s.parent?t.parentNode:t;var f=s.options||{passive:true};if(!c)return;c._touchHandlers=Object.assign(Object(c._touchHandlers),r({},u._uid,{touchstart:function t(e){return i(e,l)},touchend:function t(e){return o(e,l)},touchmove:function t(e){return a(e,l)}}));Object.keys(c._touchHandlers[u._uid]).forEach(function(t){c.addEventListener(t,c._touchHandlers[u._uid][t],f)})}function l(t,e,n){var r=e.value;var i=n.context;var o=r.parent?t.parentNode:t;if(!o)return;var a=o._touchHandlers[i._uid];Object.keys(a).forEach(function(t){return o.removeEventListener(t,a[t])});delete o._touchHandlers[i._uid]}e["a"]={name:"touch",inserted:u,unbind:l}},function(t,e,n){"use strict";function r(t,e){var n=e.value;var r=200;var i=true;if(typeof e.value!=="function"){n=e.value.value;r=e.value.debounce||r;i=e.value.quiet!=null?false:i}var o=null;var a=function t(){clearTimeout(o);o=setTimeout(n,r)};window.addEventListener("resize",a,{passive:true});t._onResize=a;i&&a()}function i(t,e){window.removeEventListener("resize",t._onResize)}e["a"]={name:"resize",inserted:r,unbind:i}},function(t,e,n){"use strict";function r(t,e){["transform","webkitTransform"].forEach(function(n){t.style[n]=e})}var i="data-ripple";var o={show:function t(e,n,o){var a=o.value,s=a===undefined?{}:a;if(n.getAttribute(i)!=="true"){return}var u=document.createElement("span");var l=document.createElement("span");u.appendChild(l);u.className="ripple__container";if(s.class){u.className+=" "+s.class}var c=n.clientWidth>n.clientHeight?n.clientWidth:n.clientHeight;l.className="ripple__animation";l.style.width=c*(s.center?1:2)+"px";l.style.height=l.style.width;n.appendChild(u);var f=window.getComputedStyle(n);if(f.position!=="absolute"&&f.position!=="fixed")n.style.position="relative";var h=n.getBoundingClientRect();var p=s.center?"50%":e.clientX-h.left+"px";var d=s.center?"50%":e.clientY-h.top+"px";l.classList.add("ripple__animation--enter");l.classList.add("ripple__animation--visible");r(l,"translate(-50%, -50%) translate("+p+", "+d+") scale3d(0.01,0.01,0.01)");l.dataset.activated=Date.now();setTimeout(function(){l.classList.remove("ripple__animation--enter");r(l,"translate(-50%, -50%) translate("+p+", "+d+")  scale3d(0.99,0.99,0.99)")},0)},hide:function t(e){if(e.getAttribute(i)!=="true"){return}var n=e.getElementsByClassName("ripple__animation");if(n.length===0)return;var r=n[n.length-1];var o=Date.now()-Number(r.dataset.activated);var a=400-o;a=a<0?0:a;setTimeout(function(){r.classList.remove("ripple__animation--visible");setTimeout(function(){try{if(n.length<1)e.style.position=null;r.parentNode&&e.removeChild(r.parentNode)}catch(t){}},300)},a)}};function a(t){return typeof t.value==="undefined"||!!t.value}function s(t,e){t.setAttribute(i,a(e));if("ontouchstart"in window){t.addEventListener("touchend",function(){return o.hide(t)},false);t.addEventListener("touchcancel",function(){return o.hide(t)},false)}t.addEventListener("mousedown",function(n){return o.show(n,t,e)},false);t.addEventListener("mouseup",function(){return o.hide(t)},false);t.addEventListener("mouseleave",function(){return o.hide(t)},false);t.addEventListener("dragstart",function(){return o.hide(t)},false)}function u(t,e){t.removeEventListener("touchstart",function(n){return o.show(n,t,e)},false);t.removeEventListener("mousedown",function(n){return o.show(n,t,e)},false);t.removeEventListener("touchend",function(){return o.hide(t)},false);t.removeEventListener("touchcancel",function(){return o.hide(t)},false);t.removeEventListener("mouseup",function(){return o.hide(t)},false);t.removeEventListener("mouseleave",function(){return o.hide(t)},false);t.removeEventListener("dragstart",function(){return o.hide(t)},false)}function l(t,e){if(e.value===e.oldValue){return}t.setAttribute(i,a(e))}e["a"]={name:"ripple",bind:s,unbind:u,update:l}},function(t,e,n){"use strict";var r=n(85);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";e["a"]={props:{app:Boolean},watch:{app:function t(){this.updateApplication()}},mounted:function t(){this.updateApplication()}}},function(t,e,n){"use strict";e["a"]={data:function t(){return{isBooted:false}},props:{lazy:Boolean},watch:{isActive:function t(){this.isBooted=true}},methods:{showLazyContent:function t(e){return this.isBooted||!this.lazy?e:null}}}},function(t,e,n){"use strict";var r=n(9);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};e["a"]={directives:{Ripple:r["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:Boolean,exactActiveClass:String,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:Boolean,tag:String,target:String},methods:{click:function t(){},generateRouteLink:function t(){var e=this.exact;var n=void 0;var r={attrs:{disabled:this.disabled},class:this.classes,props:{},directives:[{name:"ripple",value:this.ripple||false}],on:i({},this.$listeners||{},{click:this.click})};if(typeof this.exact==="undefined"){e=this.to==="/"||this.to===Object(this.to)&&this.to.path==="/"}if(this.to){var o=this.activeClass;var a=this.exactActiveClass||o;if(this.proxyClass){o+=" "+this.proxyClass;a+=" "+this.proxyClass}n=this.nuxt?"nuxt-link":"router-link";Object.assign(r.props,{to:this.to,exact:e,activeClass:o,exactActiveClass:a,append:this.append,replace:this.replace})}else{n=this.href&&"a"||this.tag||"a";if(n==="a"){if(this.href)r.attrs.href=this.href;if(this.target)r.attrs.target=this.target}}return{tag:n,data:r}}}}},function(t,e){},function(t,e,n){"use strict";var r=n(32);var i=n(1);var o=n(100);var a=n(3);function s(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}e["a"]={components:{VIcon:a["a"]},mixins:[r["a"],i["a"],o["a"]],data:function t(){return{isFocused:false,tabFocused:false,internalTabIndex:null,lazyValue:this.value}},props:{appendIcon:String,appendIconCb:Function,disabled:Boolean,hint:String,hideDetails:Boolean,label:String,persistentHint:Boolean,placeholder:String,prependIcon:String,prependIconCb:Function,readonly:Boolean,required:Boolean,tabindex:{default:0},toggleKeys:{type:Array,default:function t(){return[13,32]}},value:{required:false}},computed:{inputGroupClasses:function t(){return Object.assign({"input-group":true,"input-group--async-loading":this.loading!==false,"input-group--focused":this.isFocused,"input-group--dirty":this.isDirty,"input-group--tab-focused":this.tabFocused,"input-group--disabled":this.disabled,"input-group--error":this.hasError,"input-group--append-icon":this.appendIcon,"input-group--prepend-icon":this.prependIcon,"input-group--required":this.required,"input-group--hide-details":this.hideDetails,"input-group--placeholder":!!this.placeholder,"theme--dark":this.dark,"theme--light":this.light},this.classes)},isDirty:function t(){return!!this.inputValue}},methods:{groupFocus:function t(e){},groupBlur:function t(e){this.tabFocused=false},genLabel:function t(){return this.$createElement("label",{attrs:{for:this.$attrs.id}},this.$slots.label||this.label)},genMessages:function t(){var e=[];if((this.hint&&this.isFocused||this.hint&&this.persistentHint)&&this.validations.length===0){e=[this.genHint()]}else if(this.validations.length){e=[this.genError(this.validations[0])]}return this.$createElement("transition-group",{class:"input-group__messages",props:{tag:"div",name:"slide-y-transition"}},e)},genHint:function t(){return this.$createElement("div",{class:"input-group__hint",key:this.hint,domProps:{innerHTML:this.hint}})},genError:function t(e){return this.$createElement("div",{class:"input-group__error",key:e},e)},genIcon:function t(e){var n;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e==="append"&&this.clearable&&this.isDirty;var o=i?"clear":this[e+"Icon"];var a=i?this.clearableCallback:this[e+"IconCb"]||r;return this.$createElement("v-icon",{class:(n={},s(n,"input-group__"+e+"-icon",true),s(n,"input-group__icon-cb",!!a),s(n,"input-group__icon-clearable",i),n),props:{disabled:this.disabled},on:{click:function t(e){if(!a)return;e.stopPropagation();a()}}},o)},genInputGroup:function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=[];var a=[];var s=[];r=Object.assign({},{class:this.inputGroupClasses,attrs:{tabindex:this.disabled?-1:this.internalTabIndex||this.tabindex},on:{focus:this.groupFocus,blur:this.groupBlur,click:function t(){return n.tabFocused=false},keyup:function t(e){if([9,16].includes(e.keyCode)){n.tabFocused=true}},keydown:function t(e){if(!n.toggle)return;if(n.toggleKeys.includes(e.keyCode)){e.preventDefault();n.toggle()}}}},r);if(this.$slots.label||this.label){o.push(this.genLabel())}a.push(e);if(this.prependIcon){a.unshift(this.genIcon("prepend"))}if(this.appendIcon||this.clearable){a.push(this.genIcon("append",i))}var u=this.genProgress();u&&s.push(u);o.push(this.$createElement("div",{class:"input-group__input"},a));!this.hideDetails&&s.push(this.genMessages());if(this.counter){s.push(this.genCounter())}o.push(this.$createElement("div",{class:"input-group__details"},s));return this.$createElement("div",r,o)}}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function i(t){var e=[];var n=true;var o=false;var a=undefined;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done);n=true){var l=u.value;if(l.isActive&&l.isDependent){e.push(l)}else{e.push.apply(e,r(i(l.$children)))}}}catch(t){o=true;a=t}finally{try{if(!n&&s.return){s.return()}}finally{if(o){throw a}}}return e}e["a"]={data:function t(){return{closeDependents:true,isDependent:true}},methods:{getOpenDependents:function t(){if(this.closeDependents)return i(this.$children);return[]},getOpenDependentElements:function t(){var e=[];var n=true;var i=false;var o=undefined;try{for(var a=this.getOpenDependents()[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;e.push.apply(e,r(u.getClickableDependentElements()))}}catch(t){i=true;o=t}finally{try{if(!n&&a.return){a.return()}}finally{if(i){throw o}}}return e},getClickableDependentElements:function t(){var e=[this.$el];if(this.$refs.content)e.push(this.$refs.content);e.push.apply(e,r(this.getOpenDependentElements()));return e}},watch:{isActive:function t(e){if(e)return;var n=true;var r=false;var i=undefined;try{for(var o=this.getOpenDependents()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;s.isActive=false}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}}}},function(t,e,n){"use strict";var r=n(2);var i=n(91);var o=n(93);var a=n(94);var s=Object(r["d"])("card__actions");var u=Object(r["d"])("card__text");i["a"].install=function t(e){e.component(i["a"].name,i["a"]);e.component(o["a"].name,o["a"]);e.component(a["a"].name,a["a"]);e.component(s.name,s);e.component(u.name,u)};e["a"]=i["a"]},function(t,e,n){"use strict";e["a"]=o;e["b"]=a;function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function i(t,e){return function(){return console.warn("[Vuetify] Warn: The "+t+" component must be used inside a "+e+".")}}function o(t,e,n){return{inject:r({},t,{default:{register:i(e,n),unregister:i(e,n)}})}}function a(t){return{methods:{register:null,unregister:null},provide:function e(){return r({},t,{register:this.register,unregister:this.unregister})}}}},function(t,e,n){"use strict";var r=n(12);e["a"]={mixins:[r["a"]],props:{contentClass:{default:""}},mounted:function t(){this.initDetach()},beforeDestroy:function t(){if(!this.$refs.content)return;try{this.$refs.content.parentNode.removeChild(this.$refs.content)}catch(t){}},methods:{initDetach:function t(){if(this._isDestroyed)return;var e=document.querySelector("[data-app]");if(!e){return console.warn("Application is missing <v-app> component.")}if(!this.$refs.content)return;e.insertBefore(this.$refs.content,e.firstChild)}}}},function(t,e,n){"use strict";e["a"]={props:{absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean}}},function(t,e){},function(t,e,n){"use strict";var r=n(9);e["a"]={directives:{Ripple:r["a"]},props:{ripple:{type:[Boolean,Object],default:true}},methods:{genRipple:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{directives:[]};e.class=this.rippleClasses||"input-group--selection-controls__ripple";e.directives.push({name:"ripple",value:this.ripple&&!this.disabled&&{center:true}});e.on=Object.assign({click:this.toggle},this.$listeners);return this.$createElement("div",e)}}}},function(t,e){},function(t,e,n){"use strict";e["a"]=r;function r(t){return{name:"v-"+t,functional:true,props:{id:String,tag:{type:String,default:"div"}},render:function e(n,r){var i=r.props,o=r.data,a=r.children;o.staticClass=(t+" "+(o.staticClass||"")).trim();if(o.attrs){var s=[];Object.keys(o.attrs).forEach(function(t){var e=o.attrs[t];if(typeof e==="string")s.push(t);else if(e)s.push(t)});if(s.length)o.staticClass+=" "+s.join(" ");delete o.attrs}if(i.id){o.domProps=o.domProps||{};o.domProps.id=i.id}return n(i.tag,o,a)}}}},function(t,e,n){"use strict";e["a"]={data:function t(){return{buttons:[],listeners:[]}},methods:{getValue:function t(e){if(this.buttons[e].value!=null){return this.buttons[e].value}if(this.buttons[e].$el.value!=null&&this.buttons[e].$el.value!==""){return this.buttons[e].$el.value}return e},update:function t(){var e=this;var n=[];this.buttons.forEach(function(t,r){var i=t.$el;if(!i.dataset)i.dataset={};i.removeAttribute("data-only-child");if(e.isSelected(r)){i.setAttribute("data-selected",true);if(!i.classList.contains("btn--router")){i.classList.add("btn--active")}n.push(r)}else{i.removeAttribute("data-selected");if(!i.classList.contains("btn--router")){i.classList.remove("btn--active")}}i.dataset.index=r});if(n.length===1){this.buttons[n[0]].$el.setAttribute("data-only-child",true)}}},mounted:function t(){var e=this;this.buttons=this.$children;this.buttons.forEach(function(t,n){e.listeners.push(e.updateValue.bind(e,n));t.$on("click",e.listeners[n])});this.update()},beforeDestroy:function t(){var e=this;this.buttons.forEach(function(t,n){t.$off("click",e.listeners[n])})}}},function(t,e,n){"use strict";var r=n(16);var i=n(19);var o=n(27);var a=n(28);var s=n(4);var u=n(6);var l=n(2);function c(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}n(79);e["a"]={name:"v-dialog",mixins:[r["a"],i["a"],o["a"],a["a"],s["a"]],directives:{ClickOutside:u["a"]},data:function t(){return{isDependent:false,stackClass:"dialog__content__active",stackMinZIndex:200}},props:{disabled:Boolean,persistent:Boolean,fullscreen:Boolean,fullWidth:Boolean,maxWidth:{type:[String,Number],default:"none"},origin:{type:String,default:"center center"},width:{type:[String,Number],default:"auto"},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"}},computed:{classes:function t(){var e;return e={},c(e,("dialog "+this.contentClass).trim(),true),c(e,"dialog--active",this.isActive),c(e,"dialog--persistent",this.persistent),c(e,"dialog--fullscreen",this.fullscreen),c(e,"dialog--stacked-actions",this.stackedActions&&!this.fullscreen),c(e,"dialog--scrollable",this.scrollable),e},contentClasses:function t(){return{dialog__content:true,dialog__content__active:this.isActive}}},watch:{isActive:function t(e){if(e){this.show()}else{this.removeOverlay();this.unbind()}}},mounted:function t(){this.isBooted=this.isActive;this.isActive&&this.show()},beforeDestroy:function t(){if(typeof window!=="undefined")this.unbind()},methods:{closeConditional:function t(e){return!this.persistent&&Object(l["h"])(this.$refs.content)>=this.getMaxZIndex()&&!this.$refs.content.contains(e.target)},show:function t(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay();this.fullscreen&&this.hideScroll();this.$refs.content.focus();this.$listeners.keydown&&this.bind()},bind:function t(){window.addEventListener("keydown",this.onKeydown)},unbind:function t(){window.removeEventListener("keydown",this.onKeydown)},onKeydown:function t(e){this.$emit("keydown",e)}},render:function t(e){var n=this;var r=[];var i={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{callback:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function t(e){return e.stopPropagation()}}};if(!this.fullscreen){i.style={maxWidth:this.maxWidth==="none"?undefined:isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px",width:this.width==="auto"?undefined:isNaN(this.width)?this.width:this.width+"px"}}if(this.$slots.activator){r.push(e("div",{class:"dialog__activator",on:{click:function t(e){if(!n.disabled)n.isActive=!n.isActive}}},[this.$slots.activator]))}var o=e("transition",{props:{name:this.transition||"",origin:this.origin}},[e("div",i,this.showLazyContent(this.$slots.default))]);r.push(e("div",{class:this.contentClasses,domProps:{tabIndex:-1},style:{zIndex:this.activeZIndex},ref:"content"},[o]));return e("div",{class:"dialog__container",style:{display:!this.$slots.activator&&"none"||this.fullWidth?"block":"inline-block"}},r)}}},function(t,e,n){"use strict";n(80);e["a"]={data:function t(){return{overlay:null,overlayOffset:0,overlayTimeout:null,overlayTransitionDuration:500+150}},props:{hideOverlay:Boolean},beforeDestroy:function t(){this.removeOverlay()},methods:{genOverlay:function t(){var e=this;if(!this.isActive||this.hideOverlay||this.isActive&&this.overlayTimeout||this.overlay){clearTimeout(this.overlayTimeout);return this.overlay&&this.overlay.classList.add("overlay--active")}this.overlay=document.createElement("div");this.overlay.className="overlay";if(this.absolute)this.overlay.className+=" overlay--absolute";this.hideScroll();var n=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");n&&n.insertBefore(this.overlay,n.firstChild);this.overlay.clientHeight;requestAnimationFrame(function(){e.overlay.className+=" overlay--active";if(e.activeZIndex!==undefined){e.overlay.style.zIndex=e.activeZIndex-1}});return true},removeOverlay:function t(){var e=this;if(!this.overlay){return this.showScroll()}this.overlay.classList.remove("overlay--active");this.overlayTimeout=setTimeout(function(){try{e.overlay.parentNode.removeChild(e.overlay);e.overlay=null;e.showScroll()}catch(t){}clearTimeout(e.overlayTimeout);e.overlayTimeout=null},this.overlayTransitionDuration)},scrollListener:function t(e){if(e.type==="keydown"){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName))return;var n=[38,33];var r=[40,34];if(n.includes(e.keyCode)){e.deltaY=-1}else if(r.includes(e.keyCode)){e.deltaY=1}else{return}}if(e.target===this.overlay||e.type!=="keydown"&&e.target===document.body||this.checkPath(e))e.preventDefault()},hasScrollbar:function t(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return false;var n=window.getComputedStyle(e);return["auto","scroll"].includes(n["overflow-y"])&&e.scrollHeight>e.clientHeight},shouldScroll:function t(e,n){if(e.scrollTop===0&&n<0)return true;return e.scrollTop+e.clientHeight===e.scrollHeight&&n>0},isInside:function t(e,n){if(e===n){return true}else if(e===null||e===document.body){return false}else{return this.isInside(e.parentNode,n)}},checkPath:function t(e){var n=e.path||this.composedPath(e);var r=e.deltaY||-e.wheelDelta;if(e.type==="keydown"&&n[0]===document.body){var i=this.$refs.dialog;var o=window.getSelection().anchorNode;if(this.hasScrollbar(i)&&this.isInside(o,i)){return this.shouldScroll(i,r)}return true}var a=true;var s=false;var u=undefined;try{for(var l=n[Symbol.iterator](),c;!(a=(c=l.next()).done);a=true){var f=c.value;if([document,document.documentElement,this.$refs.content].includes(f))return true;if(this.hasScrollbar(f))return this.shouldScroll(f,r)}}catch(t){s=true;u=t}finally{try{if(!a&&l.return){l.return()}}finally{if(s){throw u}}}return true},composedPath:function t(e){if(e.composedPath)return e.composedPath();var n=[];var r=e.target;while(r){n.push(r);if(r.tagName==="HTML"){n.push(document);n.push(window);return n}r=r.parentElement}},hideScroll:function t(){if(this.$vuetify.breakpoint.smAndDown){document.documentElement.classList.add("overflow-y-hidden")}else{window.addEventListener("wheel",this.scrollListener);window.addEventListener("keydown",this.scrollListener)}},showScroll:function t(){document.documentElement.classList.remove("overflow-y-hidden");window.removeEventListener("wheel",this.scrollListener);window.removeEventListener("keydown",this.scrollListener)}}}},function(t,e,n){"use strict";var r=n(2);function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}e["a"]={data:function t(){return{stackBase:null,stackClass:"unpecified",stackElement:null,stackExclude:null,stackMinZIndex:0}},computed:{activeZIndex:function t(){var e=this.stackElement||this.$refs.content;if(!this.isActive)return Object(r["h"])(e);return this.getMaxZIndex(this.stackExclude||[e])+2}},methods:{getMaxZIndex:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=this.stackBase||this.$el;var o=[this.stackMinZIndex,Object(r["h"])(n)];var a=[].concat(i(document.getElementsByClassName(this.stackClass)));var s=true;var u=false;var l=undefined;try{for(var c=a[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;if(!e.includes(h)){o.push(Object(r["h"])(h))}}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}return Math.max.apply(Math,o)}}}},function(t,e,n){"use strict";var r=n(99);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(2);e["a"]=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return{enter:function e(n,i){n._parent=n.parentNode;Object(r["a"])(n,"transitionend",i);n.style.overflow="hidden";n.style.height=0;n.style.display="block";t&&n._parent.classList.add(t);setTimeout(function(){return n.style.height=n.scrollHeight+"px"},100)},afterEnter:function t(e){e.style.overflow=null;e.style.height=null},leave:function t(e,n){Object(r["a"])(e,"transitionend",n);e.style.overflow="hidden";e.style.height=e.offsetHeight+"px";setTimeout(function(){return e.style.height=0},100)},afterLeave:function e(n){t&&n._parent.classList.remove(t)}}}},function(t,e,n){"use strict";var r=n(0);var i=n(15);e["a"]={mixins:[i["a"],r["a"]],model:{prop:"inputValue",event:"change"},data:function t(){return{defaultColor:"accent"}},props:{id:String,inputValue:null,falseValue:null,trueValue:null},computed:{isActive:function t(){if(Array.isArray(this.inputValue)){return this.inputValue.indexOf(this.value)!==-1}if(!this.trueValue||!this.falseValue){return this.value?this.value===this.inputValue:Boolean(this.inputValue)}return this.inputValue===this.trueValue},isDirty:function t(){return this.isActive}},watch:{indeterminate:function t(e){this.inputIndeterminate=e}},methods:{genLabel:function t(){return this.$createElement("label",{on:{click:this.toggle},attrs:{for:this.id}},this.$slots.label||this.label)},toggle:function t(){if(this.disabled){return}var e=this.inputValue;if(Array.isArray(e)){e=e.slice();var n=e.indexOf(this.value);if(n===-1){e.push(this.value)}else{e.splice(n,1)}}else if(this.trueValue||this.falseValue){e=e===this.trueValue?this.falseValue:this.trueValue}else if(this.value){e=this.value===this.inputValue?null:this.value}else{e=!e}this.validate(true,e);this.$emit("change",e)}}}},function(t,e,n){"use strict";e["a"]={props:{loading:{type:[Boolean,String],default:false}},methods:{genProgress:function t(){if(this.loading===false)return null;return this.$slots.progress||this.$createElement("v-progress-linear",{props:{color:this.loading===true||this.loading===""?this.color||"primary":this.loading,height:2,indeterminate:true}})}}}},function(t,e,n){"use strict";var r=n(101);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(107);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(109);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e){},function(t,e,n){"use strict";n.d(e,"d",function(){return c});n.d(e,"e",function(){return f});var r=n(2);var i=n(111);var o=n(113);var a=n(114);var s=n(115);n.d(e,"a",function(){return i["a"]});n.d(e,"b",function(){return a["a"]});n.d(e,"c",function(){return s["a"]});var u=Object(r["d"])("list__tile__action-text","span");var l=Object(r["d"])("list__tile__avatar","v-avatar");var c=Object(r["d"])("list__tile__content","div");var f=Object(r["d"])("list__tile__title","div");var h=Object(r["d"])("list__tile__sub-title","div");i["a"].install=function t(e){e.component(i["a"].name,i["a"]);e.component(o["a"].name,o["a"]);e.component(a["a"].name,a["a"]);e.component(s["a"].name,s["a"]);e.component(u.name,u);e.component(l.name,l);e.component(c.name,c);e.component(h.name,h);e.component(f.name,f)};e["f"]=i["a"]},function(t,e,n){"use strict";var r=n(116);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";e["a"]={data:function t(){return{openTimeout:null,closeTimeout:null}},props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:200}},methods:{clearDelay:function t(){clearTimeout(this.openTimeout);clearTimeout(this.closeTimeout)},runDelay:function t(e,n){this.clearDelay();var r=parseInt(this[e+"Delay"],10);this[e+"Timeout"]=setTimeout(n,r)}}}},function(t,e,n){"use strict";var r=n(20);var i=n(28);var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a={activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},hasWindow:false};e["a"]={mixins:[r["a"],i["a"]],data:function t(){return{absoluteX:0,absoluteY:0,dimensions:Object.assign({},a),isContentActive:false,pageYOffset:0,stackClass:"menuable__content__active",stackMinZIndex:6}},props:{activator:{default:null,validator:function t(e){return["string","object"].includes(typeof e==="undefined"?"undefined":o(e))}},allowOverflow:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:Number,default:0},nudgeLeft:{type:Number,default:0},nudgeRight:{type:Number,default:0},nudgeTop:{type:Number,default:0},nudgeWidth:{type:Number,default:0},offsetOverflow:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},computed:{hasActivator:function t(){return!!this.$slots.activator||this.activator}},watch:{disabled:function t(e){e&&this.callDeactivate()},isActive:function t(e){if(this.disabled)return;e&&this.callActivate()||this.callDeactivate()}},methods:{absolutePosition:function t(){return{offsetTop:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function t(){},calcLeft:function t(){var e=this.dimensions.activator;var n=this.dimensions.content;var r=e.width<n.width?n.width:e.width;var i=this.left?e.right-r:e.left;if(this.offsetX)i+=this.left?-e.width:e.width;if(this.nudgeLeft)i-=this.nudgeLeft;if(this.nudgeRight)i+=this.nudgeRight;return i},calcTop:function t(){this.checkForWindow();var e=this.dimensions.activator;var n=this.dimensions.content;var r=this.top?e.bottom-n.height:e.top;if(this.offsetY)r+=this.top?-e.height:e.height;if(this.nudgeTop)r-=this.nudgeTop;if(this.nudgeBottom)r+=this.nudgeBottom;return r+this.pageYOffset},calcXOverflow:function t(e){var n=isNaN(parseInt(this.maxWidth))?0:parseInt(this.maxWidth);var r=this.getInnerWidth();var i=Math.max(this.dimensions.content.width,n);var o=e+i;var a=o-r;if((!this.left||this.right)&&a>0){e=r-i-(r>600?30:12)}if(e<0)e=12;return e},calcYOverflow:function t(e){var n=this.getInnerHeight();var r=this.pageYOffset+n;var i=this.dimensions.activator;var o=this.dimensions.content.height;var a=e+o;var s=r<a;if(s&&this.offsetOverflow){e=this.pageYOffset+(i.top-o)}else if(s&&!this.allowOverflow){e=r-o-12}else if(e<this.pageYOffset&&!this.allowOverflow){e=this.pageYOffset+12}return e<12?12:e},callActivate:function t(){this.checkForWindow();if(!this.hasWindow)return;this.activate()},callDeactivate:function t(){this.isContentActive=false;this.deactivate()},checkForWindow:function t(){this.hasWindow=typeof window!=="undefined";if(this.hasWindow){this.pageYOffset=this.getOffsetTop()}},deactivate:function t(){},getActivator:function t(){if(this.activator){return typeof this.activator==="string"?document.querySelector(this.activator):this.activator}return this.$refs.activator.children?this.$refs.activator.children[0]:this.$refs.activator},getInnerHeight:function t(){if(!this.hasWindow)return 0;return window.innerHeight||document.documentElement.clientHeight},getInnerWidth:function t(){if(!this.hasWindow)return 0;return window.innerWidth},getOffsetTop:function t(){if(!this.hasWindow)return 0;return window.pageYOffset||document.documentElement.scrollTop},measure:function t(e,n){e=n?e.querySelector(n):e;if(!e)return null;var r=e.getBoundingClientRect(),i=r.top,o=r.bottom,a=r.left,s=r.right,u=r.height,l=r.width;return{offsetTop:e.offsetTop,scrollHeight:e.scrollHeight,top:i,bottom:o,left:a,right:s,height:u,width:l}},sneakPeek:function t(e){var n=this;requestAnimationFrame(function(){var t=n.$refs.content;if(!t||n.isShown(t))return e();t.style.display="inline-block";e();t.style.display="none"})},startTransition:function t(){var e=this;requestAnimationFrame(function(){return e.isContentActive=true})},isShown:function t(e){return e.style.display!=="none"},updateDimensions:function t(){var e=this;var n={};n.activator=!this.hasActivator||this.absolute?this.absolutePosition():this.measure(this.getActivator());this.sneakPeek(function(){n.content=e.measure(e.$refs.content);e.dimensions=n})}}}},function(t,e,n){"use strict";e["a"]={props:{noDataText:{type:String,default:"No data available"}}}},function(t,e,n){"use strict";var r=n(43);e["a"]={data:function t(){return{selection:0,preDefined:{"credit-card":"#### - #### - #### - ####",date:"##/##/####","date-with-time":"##/##/#### ##:##",phone:"(###) ### - ####",social:"###-##-####",time:"##:##","time-with-seconds":"##:##:##"}}},props:{dontFillMaskBlanks:Boolean,mask:{type:[Object,String],default:null},returnMaskedValue:Boolean},computed:{masked:function t(){var e=this.preDefined[this.mask];var n=e||this.mask||"";return n.split("")}},watch:{mask:function t(){var e=this;if(!this.$refs.input)return;var n=this.$refs.input.value;var i=this.maskText(this.lazyValue);var o=0;var a=this.selection;var s=true;var u=false;var l=undefined;try{for(var c=n.substr(0,a)[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;Object(r["a"])(h)||o++}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}a=0;if(i){var p=true;var d=false;var v=undefined;try{for(var m=i[Symbol.iterator](),g;!(p=(g=m.next()).done);p=true){var y=g.value;Object(r["a"])(y)||o--;a++;if(o<=0)break}}catch(t){d=true;v=t}finally{try{if(!p&&m.return){m.return()}}finally{if(d){throw v}}}}this.$nextTick(function(){e.$refs.input.value=i;e.setCaretPosition(a)})}},methods:{setCaretPosition:function t(e){var n=this;this.selection=e;window.setTimeout(function(){n.$refs.input&&n.$refs.input.setSelectionRange(n.selection,n.selection)},0)},updateRange:function t(){if(!this.$refs.input)return;var e=this.maskText(this.lazyValue);var n=0;this.$refs.input.value=e;if(e){var i=true;var o=false;var a=undefined;try{for(var s=e[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;if(this.lazySelection<=0)break;Object(r["a"])(l)||this.lazySelection--;n++}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}}this.setCaretPosition(n);this.$emit("input",this.returnMaskedValue?this.$refs.input.value:this.lazyValue)},maskText:function t(e){return this.mask?Object(r["b"])(e,this.masked,this.dontFillMaskBlanks):e},unmaskText:function t(e){return this.mask?Object(r["c"])(e):e},setSelectionRange:function t(){this.$nextTick(this.updateRange)}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});n.d(e,"b",function(){return l});n.d(e,"c",function(){return c});var r={"#":{test:function t(e){return e.match(/[0-9]/)}},A:{test:function t(e){return e.match(/[A-Z]/i)},convert:function t(e){return e.toUpperCase()}},a:{test:function t(e){return e.match(/[a-z]/i)},convert:function t(e){return e.toLowerCase()}},N:{test:function t(e){return e.match(/[0-9A-Z]/i)},convert:function t(e){return e.toUpperCase()}},n:{test:function t(e){return e.match(/[0-9a-z]/i)},convert:function t(e){return e.toLowerCase()}},X:{test:s}};var i=/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]/;var o=function t(e){return r.hasOwnProperty(e)};var a=function t(e,n){return r[e].convert?r[e].convert(n):n};var s=function t(e){return e&&e.match(i)};var u=function t(e,n){if(n==null||!o(e))return false;return r[e].test(n)};var l=function t(e,n,r){if(e==null)return"";e=String(e);if(!n.length||!e.length)return e;if(!Array.isArray(n))n=n.split("");var i=0;var s=0;var l="";while(s<n.length){var c=n[s];var f=e[i];if(!o(c)&&f===c){l+=c;i++}else if(!o(c)&&!r){l+=c}else if(u(c,f)){l+=a(c,f);i++}else{return l}s++}return l};var c=function t(e){return e?String(e).replace(new RegExp(i,"g"),""):e}},function(t,e){},function(t,e,n){"use strict";var r=n(0);var i=n(1);e["a"]={mixins:[r["a"],i["a"]],data:function t(){return{defaultColor:"accent",isSaving:false}},props:{actions:Boolean,autosave:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,scrollable:Boolean,value:{required:true}},computed:{titleColor:function t(){var e=this.dark||!this.light&&this.$vuetify.dark;var n=e?null:"primary";return this.headerColor||this.color||n}},methods:{save:function t(){},cancel:function t(){},genSlot:function t(){return this.$scopedSlots.default({save:this.save,cancel:this.cancel})},genPickerTitle:function t(e){return this.$createElement("div",{staticClass:"picker__title",class:this.addBackgroundColorClassChecks({},"titleColor")},e)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(48);var i=n.n(r);var o=n(50);var a=n.n(o);var s=n(51);var u=n(226);var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(47);function c(t,e){var n=s["Vuetify"];t.use(n,l({components:s,directives:u},e))}c.version=o["version"];function f(){var t=o["peerDependencies"].vue;if(!i.a.satisfies(window.Vue.version,t)){console.warn("Vuetify requires Vue version "+t)}}if(typeof window!=="undefined"&&window.Vue){window.Vue.version&&f();window.Vue.use(c)}e["default"]=c},function(t,e){},function(t,e,n){(function(n){e=t.exports=K;var r;if(typeof n==="object"&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG))r=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER");console.log.apply(console,t)};else r=function(){};e.SEMVER_SPEC_VERSION="2.0.0";var i=256;var o=Number.MAX_SAFE_INTEGER||9007199254740991;var a=e.re=[];var s=e.src=[];var u=0;var l=u++;s[l]="0|[1-9]\\d*";var c=u++;s[c]="[0-9]+";var f=u++;s[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=u++;s[h]="("+s[l]+")\\."+"("+s[l]+")\\."+"("+s[l]+")";var p=u++;s[p]="("+s[c]+")\\."+"("+s[c]+")\\."+"("+s[c]+")";var d=u++;s[d]="(?:"+s[l]+"|"+s[f]+")";var v=u++;s[v]="(?:"+s[c]+"|"+s[f]+")";var m=u++;s[m]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var g=u++;s[g]="(?:-?("+s[v]+"(?:\\."+s[v]+")*))";var y=u++;s[y]="[0-9A-Za-z-]+";var _=u++;s[_]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var b=u++;var x="v?"+s[h]+s[m]+"?"+s[_]+"?";s[b]="^"+x+"$";var w="[v=\\s]*"+s[p]+s[g]+"?"+s[_]+"?";var E=u++;s[E]="^"+w+"$";var T=u++;s[T]="((?:<|>)?=?)";var I=u++;s[I]=s[c]+"|x|X|\\*";var C=u++;s[C]=s[l]+"|x|X|\\*";var M=u++;s[M]="[v=\\s]*("+s[C]+")"+"(?:\\.("+s[C]+")"+"(?:\\.("+s[C]+")"+"(?:"+s[m]+")?"+s[_]+"?"+")?)?";var A=u++;s[A]="[v=\\s]*("+s[I]+")"+"(?:\\.("+s[I]+")"+"(?:\\.("+s[I]+")"+"(?:"+s[g]+")?"+s[_]+"?"+")?)?";var S=u++;s[S]="^"+s[T]+"\\s*"+s[M]+"$";var R=u++;s[R]="^"+s[T]+"\\s*"+s[A]+"$";var L=u++;s[L]="(?:~>?)";var k=u++;s[k]="(\\s*)"+s[L]+"\\s+";a[k]=new RegExp(s[k],"g");var N="$1~";var F=u++;s[F]="^"+s[L]+s[M]+"$";var O=u++;s[O]="^"+s[L]+s[A]+"$";var B=u++;s[B]="(?:\\^)";var P=u++;s[P]="(\\s*)"+s[B]+"\\s+";a[P]=new RegExp(s[P],"g");var U="$1^";var D=u++;s[D]="^"+s[B]+s[M]+"$";var z=u++;s[z]="^"+s[B]+s[A]+"$";var j=u++;s[j]="^"+s[T]+"\\s*("+w+")$|^$";var V=u++;s[V]="^"+s[T]+"\\s*("+x+")$|^$";var G=u++;s[G]="(\\s*)"+s[T]+"\\s*("+w+"|"+s[M]+")";a[G]=new RegExp(s[G],"g");var X="$1$2$3";var W=u++;s[W]="^\\s*("+s[M]+")"+"\\s+-\\s+"+"("+s[M]+")"+"\\s*$";var Z=u++;s[Z]="^\\s*("+s[A]+")"+"\\s+-\\s+"+"("+s[A]+")"+"\\s*$";var Q=u++;s[Q]="(<|>)?=?\\s*\\*";for(var H=0;H<u;H++){r(H,s[H]);if(!a[H])a[H]=new RegExp(s[H])}e.parse=Y;function Y(t,e){if(t instanceof K)return t;if(typeof t!=="string")return null;if(t.length>i)return null;var n=e?a[E]:a[b];if(!n.test(t))return null;try{return new K(t,e)}catch(t){return null}}e.valid=J;function J(t,e){var n=Y(t,e);return n?n.version:null}e.clean=q;function q(t,e){var n=Y(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}e.SemVer=K;function K(t,e){if(t instanceof K){if(t.loose===e)return t;else t=t.version}else if(typeof t!=="string"){throw new TypeError("Invalid Version: "+t)}if(t.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof K))return new K(t,e);r("SemVer",t,e);this.loose=e;var n=t.trim().match(e?a[E]:a[b]);if(!n)throw new TypeError("Invalid Version: "+t);this.raw=t;this.major=+n[1];this.minor=+n[2];this.patch=+n[3];if(this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");if(!n[4])this.prerelease=[];else this.prerelease=n[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<o)return e}return t});this.build=n[5]?n[5].split("."):[];this.format()}K.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;if(this.prerelease.length)this.version+="-"+this.prerelease.join(".");return this.version};K.prototype.toString=function(){return this.version};K.prototype.compare=function(t){r("SemVer.compare",this.version,this.loose,t);if(!(t instanceof K))t=new K(t,this.loose);return this.compareMain(t)||this.comparePre(t)};K.prototype.compareMain=function(t){if(!(t instanceof K))t=new K(t,this.loose);return nt(this.major,t.major)||nt(this.minor,t.minor)||nt(this.patch,t.patch)};K.prototype.comparePre=function(t){if(!(t instanceof K))t=new K(t,this.loose);if(this.prerelease.length&&!t.prerelease.length)return-1;else if(!this.prerelease.length&&t.prerelease.length)return 1;else if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e];var i=t.prerelease[e];r("prerelease compare",e,n,i);if(n===undefined&&i===undefined)return 0;else if(i===undefined)return 1;else if(n===undefined)return-1;else if(n===i)continue;else return nt(n,i)}while(++e)};K.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",e);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",e);break;case"prepatch":this.prerelease.length=0;this.inc("patch",e);this.inc("pre",e);break;case"prerelease":if(this.prerelease.length===0)this.inc("patch",e);this.inc("pre",e);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{var n=this.prerelease.length;while(--n>=0){if(typeof this.prerelease[n]==="number"){this.prerelease[n]++;n=-2}}if(n===-1)this.prerelease.push(0)}if(e){if(this.prerelease[0]===e){if(isNaN(this.prerelease[1]))this.prerelease=[e,0]}else this.prerelease=[e,0]}break;default:throw new Error("invalid increment argument: "+t)}this.format();this.raw=this.version;return this};e.inc=$;function $(t,e,n,r){if(typeof n==="string"){r=n;n=undefined}try{return new K(t,n).inc(e,r).version}catch(t){return null}}e.diff=tt;function tt(t,e){if(dt(t,e)){return null}else{var n=Y(t);var r=Y(e);if(n.prerelease.length||r.prerelease.length){for(var i in n){if(i==="major"||i==="minor"||i==="patch"){if(n[i]!==r[i]){return"pre"+i}}}return"prerelease"}for(var i in n){if(i==="major"||i==="minor"||i==="patch"){if(n[i]!==r[i]){return i}}}}}e.compareIdentifiers=nt;var et=/^[0-9]+$/;function nt(t,e){var n=et.test(t);var r=et.test(e);if(n&&r){t=+t;e=+e}return n&&!r?-1:r&&!n?1:t<e?-1:t>e?1:0}e.rcompareIdentifiers=rt;function rt(t,e){return nt(e,t)}e.major=it;function it(t,e){return new K(t,e).major}e.minor=ot;function ot(t,e){return new K(t,e).minor}e.patch=at;function at(t,e){return new K(t,e).patch}e.compare=st;function st(t,e,n){return new K(t,n).compare(new K(e,n))}e.compareLoose=ut;function ut(t,e){return st(t,e,true)}e.rcompare=lt;function lt(t,e,n){return st(e,t,n)}e.sort=ct;function ct(t,n){return t.sort(function(t,r){return e.compare(t,r,n)})}e.rsort=ft;function ft(t,n){return t.sort(function(t,r){return e.rcompare(t,r,n)})}e.gt=ht;function ht(t,e,n){return st(t,e,n)>0}e.lt=pt;function pt(t,e,n){return st(t,e,n)<0}e.eq=dt;function dt(t,e,n){return st(t,e,n)===0}e.neq=vt;function vt(t,e,n){return st(t,e,n)!==0}e.gte=mt;function mt(t,e,n){return st(t,e,n)>=0}e.lte=gt;function gt(t,e,n){return st(t,e,n)<=0}e.cmp=yt;function yt(t,e,n,r){var i;switch(e){case"===":if(typeof t==="object")t=t.version;if(typeof n==="object")n=n.version;i=t===n;break;case"!==":if(typeof t==="object")t=t.version;if(typeof n==="object")n=n.version;i=t!==n;break;case"":case"=":case"==":i=dt(t,n,r);break;case"!=":i=vt(t,n,r);break;case">":i=ht(t,n,r);break;case">=":i=mt(t,n,r);break;case"<":i=pt(t,n,r);break;case"<=":i=gt(t,n,r);break;default:throw new TypeError("Invalid operator: "+e)}return i}e.Comparator=_t;function _t(t,e){if(t instanceof _t){if(t.loose===e)return t;else t=t.value}if(!(this instanceof _t))return new _t(t,e);r("comparator",t,e);this.loose=e;this.parse(t);if(this.semver===bt)this.value="";else this.value=this.operator+this.semver.version;r("comp",this)}var bt={};_t.prototype.parse=function(t){var e=this.loose?a[j]:a[V];var n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1];if(this.operator==="=")this.operator="";if(!n[2])this.semver=bt;else this.semver=new K(n[2],this.loose)};_t.prototype.toString=function(){return this.value};_t.prototype.test=function(t){r("Comparator.test",t,this.loose);if(this.semver===bt)return true;if(typeof t==="string")t=new K(t,this.loose);return yt(t,this.operator,this.semver,this.loose)};_t.prototype.intersects=function(t,e){if(!(t instanceof _t)){throw new TypeError("a Comparator is required")}var n;if(this.operator===""){n=new xt(t.value,e);return Ft(this.value,n,e)}else if(t.operator===""){n=new xt(this.value,e);return Ft(t.semver,n,e)}var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">");var i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<");var o=this.semver.version===t.semver.version;var a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<=");var s=yt(this.semver,"<",t.semver,e)&&((this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"));var u=yt(this.semver,">",t.semver,e)&&((this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">"));return r||i||o&&a||s||u};e.Range=xt;function xt(t,e){if(t instanceof xt){if(t.loose===e){return t}else{return new xt(t.raw,e)}}if(t instanceof _t){return new xt(t.value,e)}if(!(this instanceof xt))return new xt(t,e);this.loose=e;this.raw=t;this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length});if(!this.set.length){throw new TypeError("Invalid SemVer Range: "+t)}this.format()}xt.prototype.format=function(){this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim();return this.range};xt.prototype.toString=function(){return this.range};xt.prototype.parseRange=function(t){var e=this.loose;t=t.trim();r("range",t,e);var n=e?a[Z]:a[W];t=t.replace(n,kt);r("hyphen replace",t);t=t.replace(a[G],X);r("comparator trim",t,a[G]);t=t.replace(a[k],N);t=t.replace(a[P],U);t=t.split(/\s+/).join(" ");var i=e?a[j]:a[V];var o=t.split(" ").map(function(t){return Et(t,e)}).join(" ").split(/\s+/);if(this.loose){o=o.filter(function(t){return!!t.match(i)})}o=o.map(function(t){return new _t(t,e)});return o};xt.prototype.intersects=function(t,e){if(!(t instanceof xt)){throw new TypeError("a Range is required")}return this.set.some(function(n){return n.every(function(n){return t.set.some(function(t){return t.every(function(t){return n.intersects(t,e)})})})})};e.toComparators=wt;function wt(t,e){return new xt(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})}function Et(t,e){r("comp",t);t=Mt(t,e);r("caret",t);t=It(t,e);r("tildes",t);t=St(t,e);r("xrange",t);t=Lt(t,e);r("stars",t);return t}function Tt(t){return!t||t.toLowerCase()==="x"||t==="*"}function It(t,e){return t.trim().split(/\s+/).map(function(t){return Ct(t,e)}).join(" ")}function Ct(t,e){var n=e?a[O]:a[F];return t.replace(n,function(e,n,i,o,a){r("tilde",t,e,n,i,o,a);var s;if(Tt(n))s="";else if(Tt(i))s=">="+n+".0.0 <"+(+n+1)+".0.0";else if(Tt(o))s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0";else if(a){r("replaceTilde pr",a);if(a.charAt(0)!=="-")a="-"+a;s=">="+n+"."+i+"."+o+a+" <"+n+"."+(+i+1)+".0"}else s=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0";r("tilde return",s);return s})}function Mt(t,e){return t.trim().split(/\s+/).map(function(t){return At(t,e)}).join(" ")}function At(t,e){r("caret",t,e);var n=e?a[z]:a[D];return t.replace(n,function(e,n,i,o,a){r("caret",t,e,n,i,o,a);var s;if(Tt(n))s="";else if(Tt(i))s=">="+n+".0.0 <"+(+n+1)+".0.0";else if(Tt(o)){if(n==="0")s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0";else s=">="+n+"."+i+".0 <"+(+n+1)+".0.0"}else if(a){r("replaceCaret pr",a);if(a.charAt(0)!=="-")a="-"+a;if(n==="0"){if(i==="0")s=">="+n+"."+i+"."+o+a+" <"+n+"."+i+"."+(+o+1);else s=">="+n+"."+i+"."+o+a+" <"+n+"."+(+i+1)+".0"}else s=">="+n+"."+i+"."+o+a+" <"+(+n+1)+".0.0"}else{r("no pr");if(n==="0"){if(i==="0")s=">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1);else s=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0"}else s=">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"}r("caret return",s);return s})}function St(t,e){r("replaceXRanges",t,e);return t.split(/\s+/).map(function(t){return Rt(t,e)}).join(" ")}function Rt(t,e){t=t.trim();var n=e?a[R]:a[S];return t.replace(n,function(e,n,i,o,a,s){r("xRange",t,e,n,i,o,a,s);var u=Tt(i);var l=u||Tt(o);var c=l||Tt(a);var f=c;if(n==="="&&f)n="";if(u){if(n===">"||n==="<"){e="<0.0.0"}else{e="*"}}else if(n&&f){if(l)o=0;if(c)a=0;if(n===">"){n=">=";if(l){i=+i+1;o=0;a=0}else if(c){o=+o+1;a=0}}else if(n==="<="){n="<";if(l)i=+i+1;else o=+o+1}e=n+i+"."+o+"."+a}else if(l){e=">="+i+".0.0 <"+(+i+1)+".0.0"}else if(c){e=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"}r("xRange return",e);return e})}function Lt(t,e){r("replaceStars",t,e);return t.trim().replace(a[Q],"")}function kt(t,e,n,r,i,o,a,s,u,l,c,f,h){if(Tt(n))e="";else if(Tt(r))e=">="+n+".0.0";else if(Tt(i))e=">="+n+"."+r+".0";else e=">="+e;if(Tt(u))s="";else if(Tt(l))s="<"+(+u+1)+".0.0";else if(Tt(c))s="<"+u+"."+(+l+1)+".0";else if(f)s="<="+u+"."+l+"."+c+"-"+f;else s="<="+s;return(e+" "+s).trim()}xt.prototype.test=function(t){if(!t)return false;if(typeof t==="string")t=new K(t,this.loose);for(var e=0;e<this.set.length;e++){if(Nt(this.set[e],t))return true}return false};function Nt(t,e){for(var n=0;n<t.length;n++){if(!t[n].test(e))return false}if(e.prerelease.length){for(var n=0;n<t.length;n++){r(t[n].semver);if(t[n].semver===bt)continue;if(t[n].semver.prerelease.length>0){var i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return true}}return false}return true}e.satisfies=Ft;function Ft(t,e,n){try{e=new xt(e,n)}catch(t){return false}return e.test(t)}e.maxSatisfying=Ot;function Ot(t,e,n){var r=null;var i=null;try{var o=new xt(e,n)}catch(t){return null}t.forEach(function(t){if(o.test(t)){if(!r||i.compare(t)===-1){r=t;i=new K(r,n)}}});return r}e.minSatisfying=Bt;function Bt(t,e,n){var r=null;var i=null;try{var o=new xt(e,n)}catch(t){return null}t.forEach(function(t){if(o.test(t)){if(!r||i.compare(t)===1){r=t;i=new K(r,n)}}});return r}e.validRange=Pt;function Pt(t,e){try{return new xt(t,e).range||"*"}catch(t){return null}}e.ltr=Ut;function Ut(t,e,n){return zt(t,e,"<",n)}e.gtr=Dt;function Dt(t,e,n){return zt(t,e,">",n)}e.outside=zt;function zt(t,e,n,r){t=new K(t,r);e=new xt(e,r);var i,o,a,s,u;switch(n){case">":i=ht;o=gt;a=pt;s=">";u=">=";break;case"<":i=pt;o=mt;a=ht;s="<";u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ft(t,e,r)){return false}for(var l=0;l<e.set.length;++l){var c=e.set[l];var f=null;var h=null;c.forEach(function(t){if(t.semver===bt){t=new _t(">=0.0.0")}f=f||t;h=h||t;if(i(t.semver,f.semver,r)){f=t}else if(a(t.semver,h.semver,r)){h=t}});if(f.operator===s||f.operator===u){return false}if((!h.operator||h.operator===s)&&o(t,h.semver)){return false}else if(h.operator===u&&a(t,h.semver)){return false}}return true}e.prerelease=jt;function jt(t,e){var n=Y(t,e);return n&&n.prerelease.length?n.prerelease:null}e.intersects=Vt;function Vt(t,e,n){t=new xt(t,n);e=new xt(e,n);return t.intersects(e)}}).call(e,n(49))},function(t,e){var n=t.exports={};var r;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(t){r=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(t){i=a}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var l=[];var c=false;var f;var h=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{h=-1}if(l.length){d()}}function d(){if(c){return}var t=s(p);c=true;var e=l.length;while(e){f=l;l=[];while(++h<e){if(f){f[h].run()}}h=-1;e=l.length}f=null;c=false;u(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}l.push(new v(t,e));if(l.length===1&&!c){s(d)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(t,e){t.exports={name:"vuetify",version:"0.17.5",author:{name:"John Leider",email:"john@vuetifyjs.com"},license:"MIT",homepage:"http://vuetifyjs.com",main:"dist/vuetify.js",unpkg:"dist/vuetify.js",types:"index.d.ts",scripts:{watch:"cross-env TARGET=development webpack --config build/config.js --progress --hide-modules --watch",dev:"cross-env NODE_ENV=development webpack-dev-server --config build/webpack.dev.config.js --open --hot",build:"npm run build:dist && npm run build:es5","build:dev":"cross-env NODE_ENV=production node build/webpack.dev.config.js","build:dist":"rimraf dist && cross-env NODE_ENV=production webpack --config build/config.js --progress --hide-modules","build:es5":"rimraf es5 && cross-env NODE_ENV=es5 babel src --out-dir es5","debug-build":"node --inspect --debug-brk build/config.js","debug:test":"./node_modules/.bin/cross-env NODE_ENV=test node --inspect --inspect-brk ./node_modules/jest/bin/jest.js --no-cache --runInBand --verbose",test:"cross-env NODE_ENV=test jest -i","test:coverage":"cross-env NODE_ENV=test jest -i --coverage",lint:"eslint --ext .js,.vue src",preparecommitmsg:"node dev/prepare-commit-message.js",precommit:"yarn run lint && yarn test",prepush:"yarn run lint && yarn test",prepare:"git update-index --skip-worktree .env"},description:"Vue.js 2 Semantic Component Framework",devDependencies:{autoprefixer:"^7.1.4",avoriaz:"^4.1.0","babel-cli":"^6.26.0","babel-core":"^6.26.0","babel-eslint":"^8.0.0","babel-jest":"^21.0.2","babel-loader":"^7.1.2","babel-plugin-add-filehash":"^6.9.4","babel-plugin-detective":"^2.0.0","babel-plugin-module-resolver":"^2.7.1","babel-plugin-transform-async-to-generator":"^6.24.1","babel-plugin-transform-runtime":"^6.23.0","babel-polyfill":"^6.26.0","babel-preset-env":"^1.5.1","babel-preset-es2015":"^6.24.1","babel-preset-stage-2":"^6.24.1","cross-env":"^5.0.5","cross-spawn":"^5.1.0","css-loader":"^0.28.7","css-mqpacker":"^6.0.1",cssnano:"^3.10.0",dotenv:"^4.0.0",eslint:"^4.6.1","eslint-config-standard":"^10.2.1","eslint-config-vue":"^2.0.2","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^1.6.1","eslint-plugin-html":"^3.2.1","eslint-plugin-import":"^2.7.0","eslint-plugin-node":"^5.1.1","eslint-plugin-promise":"^3.4.0","eslint-plugin-pug":"^1.0.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^2.1.0","eventsource-polyfill":"^0.9.6","extract-text-webpack-plugin":"^3.0.0","friendly-errors-webpack-plugin":"^1.6.1","function-bind":"^1.1.1",husky:"^0.14.3",inquirer:"^4.0.1",jest:"^21.1.0","jest-cli":"^21.1.0","jest-css-modules":"^1.1.0","jest-serializer-html":"^4.0.0","jest-vue-preprocessor":"^1.1.0","optimize-css-assets-webpack-plugin":"^3.2.0","optimize-js-plugin":"^0.0.4","postcss-loader":"^1.3.3","progress-bar-webpack-plugin":"^1.10.0",pug:"^2.0.0-rc.4","pug-loader":"^2.3.0",ress:"^1.1.1",rimraf:"^2.6.2",semver:"^5.4.1","serialize-javascript":"^1.3.0",shelljs:"^0.7.8","style-loader":"^0.18.2",stylus:"^0.54.5","stylus-loader":"^3.0.1","uglifyjs-webpack-plugin":"^0.4.6",vue:"^2.5.4","vue-loader":"^13.5.0","vue-router":"^3.0.1","vue-server-renderer":"^2.5.4","vue-template-compiler":"^2.5.4",webpack:"^3.6.0","webpack-bundle-analyzer":"^2.9.0","webpack-bundle-size-analyzer":"^2.7.0","webpack-dev-server":"^2.8.2","webpack-merge":"^4.1.0","write-file-webpack-plugin":"^4.1.0"},dependencies:{},peerDependencies:{vue:"^2.5.0"},engines:{node:">= 4.0.0",npm:">= 3.0.0"},jest:{verbose:false,roots:["<rootDir>/src"],moduleFileExtensions:["js","vue"],moduleDirectories:["node_modules"],moduleNameMapper:{"src/(.*)":"<rootDir>/src/$1"},transform:{".*\\.(vue)$":"<rootDir>/node_modules/jest-vue-preprocessor","\\.(styl)$":"<rootDir>/node_modules/jest-css-modules",".*\\.(vue|js)$":"<rootDir>/node_modules/babel-jest"},transformIgnorePatterns:["node_modules/(?!vue-router)"],snapshotSerializers:["jest-serializer-html"]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n(52);n.d(e,"Vuetify",function(){return r["a"]});var i=n(55);n.d(e,"VApp",function(){return i["a"]});var o=n(61);n.d(e,"VAlert",function(){return o["a"]});var a=n(67);n.d(e,"VAvatar",function(){return a["a"]});var s=n(70);n.d(e,"VBadge",function(){return s["a"]});var u=n(73);n.d(e,"VBottomNav",function(){return u["a"]});var l=n(76);n.d(e,"VBottomSheet",function(){return l["a"]});var c=n(81);n.d(e,"VBreadcrumbs",function(){return c["a"]});var f=n(10);n.d(e,"VBtn",function(){return f["a"]});var h=n(88);n.d(e,"VBtnToggle",function(){return h["a"]});var p=n(17);n.d(e,"VCard",function(){return p["a"]});var d=n(95);n.d(e,"VCarousel",function(){return d["a"]});var v=n(29);n.d(e,"VCheckbox",function(){return v["a"]});var m=n(33);n.d(e,"VChip",function(){return m["a"]});var g=n(103);n.d(e,"VDataTable",function(){return g["a"]});var y=n(136);n.d(e,"VDatePicker",function(){return y["a"]});var _=n(144);n.d(e,"VDialog",function(){return _["a"]});var b=n(145);n.d(e,"VDivider",function(){return b["a"]});var x=n(148);n.d(e,"VExpansionPanel",function(){return x["a"]});var w=n(152);n.d(e,"VFooter",function(){return w["a"]});var E=n(155);n.d(e,"VForm",function(){return E["a"]});var T=n(157);n.d(e,"VGrid",function(){return T["a"]});var I=n(3);n.d(e,"VIcon",function(){return I["a"]});var C=n(37);n.d(e,"VList",function(){return C["f"]});var M=n(38);n.d(e,"VMenu",function(){return M["a"]});var A=n(163);n.d(e,"VNavigationDrawer",function(){return A["a"]});var S=n(166);n.d(e,"VPagination",function(){return S["a"]});var R=n(169);n.d(e,"VParallax",function(){return R["a"]});var L=n(173);n.d(e,"VProgressCircular",function(){return L["a"]});var k=n(34);n.d(e,"VProgressLinear",function(){return k["a"]});var N=n(176);n.d(e,"VRadioGroup",function(){return N["a"]});var F=n(35);n.d(e,"VSelect",function(){return F["a"]});var O=n(181);n.d(e,"VSlider",function(){return O["a"]});var B=n(184);n.d(e,"VSnackbar",function(){return B["a"]});var P=n(187);n.d(e,"VSpeedDial",function(){return P["a"]});var U=n(190);n.d(e,"VStepper",function(){return U["a"]});var D=n(195);n.d(e,"VSubheader",function(){return D["a"]});var z=n(198);n.d(e,"VSwitch",function(){return z["a"]});var j=n(201);n.d(e,"VSystemBar",function(){return j["a"]});var V=n(204);n.d(e,"VTabs",function(){return V["a"]});var G=n(212);n.d(e,"VTextField",function(){return G["a"]});var X=n(214);n.d(e,"VTimePicker",function(){return X["a"]});var W=n(219);n.d(e,"VToolbar",function(){return W["a"]});var Z=n(223);n.d(e,"VTooltip",function(){return Z["a"]});var Q=n(5);n.d(e,"Transitions",function(){return Q["h"]})},function(t,e,n){"use strict";var r=n(53);var i=n(54);var o={install:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.installed)return;this.installed=true;var o={};e.util.defineReactive(o,"inspire",{breakpoint:{},application:r["a"],dark:false,theme:Object(i["a"])(n.theme),touchSupport:false});e.prototype.$vuetify=o.inspire;if(n.transitions){Object.keys(n.transitions).forEach(function(t){var r=n.transitions[t];if(r.name!==undefined&&r.name.startsWith("v-")){e.component(r.name,r)}})}if(n.directives){Object.keys(n.directives).forEach(function(t){var r=n.directives[t];e.directive(r.name,r)})}if(n.components){Object.keys(n.components).forEach(function(t){var r=n.components[t];e.use(r)})}}};e["a"]=o},function(t,e,n){"use strict";e["a"]={bar:0,top:0,bottom:0,left:0,right:0}},function(t,e,n){"use strict";e["a"]=i;var r={primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"};function i(t){t=t||{};return Object.assign({},r,t)}},function(t,e,n){"use strict";var r=n(56);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(58);var i=n(59);var o=n(8);var a=n(60);function s(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}n(57);e["a"]={name:"v-app",mixins:[i["a"],r["a"],a["a"]],directives:{Resize:o["a"]},props:{id:{type:String,default:"app"},dark:Boolean},computed:{classes:function t(){return s({},"theme--"+(this.dark?"dark":"light"),true)}},mounted:function t(){this.$vuetify.dark=this.dark},watch:{dark:function t(){this.$vuetify.dark=this.dark}},render:function t(e){var n={staticClass:"application",class:this.classes,attrs:{"data-app":true},domProps:{id:this.id},directives:[{name:"resize",value:this.onResize}]};var r=e("div",{staticClass:"application--wrap"},this.$slots.default);return e("div",n,[r])}}},function(t,e){},function(t,e,n){"use strict";e["a"]={data:function t(){return{style:null}},watch:{"$vuetify.theme":{deep:true,handler:function t(){this.applyTheme()}}},created:function t(){if(typeof document==="undefined"){this.$ssrContext&&!this.$ssrContext._styles&&(this.$ssrContext._styles={});return this.$ssrContext&&this.$ssrContext._styles&&(this.$ssrContext._styles["vuetify-theme-stylesheet"]={ids:["vuetify-theme-stylesheet"],css:this.genColors(this.$vuetify.theme),media:""})}this.genStyle();this.applyTheme()},methods:{applyTheme:function t(){this.style.innerHTML=this.genColors(this.$vuetify.theme)},genColors:function t(e){var n=this;var r=Object.keys(e).map(function(t){var r=e[t];return n.genBackgroundColor(t,r)+n.genTextColor(t,r)});r.push(this.genAnchorColor(this.$vuetify.theme.primary));return r.join("")},genAnchorColor:function t(e){return".application a{color: "+e+";}"},genBackgroundColor:function t(e,n){return"."+e+"{background-color:"+n+" !important;border-color:"+n+" !important;}"},genTextColor:function t(e,n){return"."+e+"--text{color:"+n+" !important;}"},genStyle:function t(){var e=document.querySelector("[data-vue-ssr-id=vuetify-theme-stylesheet]");if(!e){e=document.createElement("style");e.type="text/css";document.head.appendChild(e)}this.style=e}}}},function(t,e,n){"use strict";var r={data:function t(){return{clientWidth:i.getWidth(),clientHeight:i.getHeight()}},computed:{breakpoint:function t(){var e=this.clientWidth<600;var n=this.clientWidth<960&&!e;var r=this.clientWidth<1280-16&&!(n||e);var i=this.clientWidth<1920-16&&!(r||n||e);var o=this.clientWidth>=1920-16&&!(i||r||n||e);var a=e;var s=n;var u=(e||n)&&!(r||i||o);var l=!e&&(n||r||i||o);var c=r;var f=(e||n||r)&&!(i||o);var h=!(e||n)&&(r||i||o);var p=i;var d=(e||n||r||i)&&!o;var v=!(e||n||r)&&(i||o);var m=o;var g=void 0;switch(true){case e:g="xs";break;case n:g="sm";break;case r:g="md";break;case i:g="lg";break;default:g="xl";break}var y={xs:e,sm:n,md:r,lg:i,xl:o,name:g,xsOnly:a,smOnly:s,smAndDown:u,smAndUp:l,mdOnly:c,mdAndDown:f,mdAndUp:h,lgOnly:p,lgAndDown:d,lgAndUp:v,xlOnly:m,width:this.clientWidth,height:this.clientHeight};return y}},watch:{breakpoint:function t(e){this.$vuetify.breakpoint=e}},created:function t(){this.$vuetify.breakpoint=this.breakpoint},methods:{onResize:function t(){this.clientWidth=i.getWidth();this.clientHeight=i.getHeight()}}};var i={getWidth:function t(){if(typeof document==="undefined")return 0;return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},getHeight:function t(){if(typeof document==="undefined")return 0;return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}};e["a"]=r},function(t,e,n){"use strict";var r=n(2);e["a"]={mounted:function t(){var e=this;var n=function t(n,i){Object(r["a"])(window,i,function(){e.$vuetify[n]=true;var t="application--"+n.replace(/([A-Z])/g,"-$1").toLowerCase();document.querySelector("[data-app]").classList.add(t)})};n("touchSupport","touchstart")}}},function(t,e,n){"use strict";var r=n(62);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(3);var i=n(0);var o=n(4);var a=n(66);n(63);e["a"]={name:"v-alert",components:{VIcon:r["a"]},mixins:[i["a"],o["a"],a["a"]],props:{dismissible:Boolean,icon:String,outline:Boolean,type:{type:String,validator:function t(e){return["info","error","success","warning"].includes(e)}}},data:function t(){return{defaultColor:"error"}},computed:{classes:function t(){var e=this.type&&!this.color?"type":"computedColor";var t={"alert--dismissible":this.dismissible,"alert--outline":this.outline};return this.outline?this.addTextColorClassChecks(t,e):this.addBackgroundColorClassChecks(t,e)},computedIcon:function t(){if(this.icon||!this.type)return this.icon;switch(this.type){case"info":return"info";case"error":return"warning";case"success":return"check_circle";case"warning":return"priority_high"}}},render:function t(e){var n=this;var i=[e("div",this.$slots.default)];if(this.computedIcon){i.unshift(e("v-icon",{class:"alert__icon"},this.computedIcon))}if(this.dismissible){var o=e("a",{class:"alert__dismissible",on:{click:function t(){return n.$emit("input",false)}}},[e(r["a"],{props:{right:true}},"cancel")]);i.push(o)}var a=e("div",{staticClass:"alert",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},i);if(!this.transition)return a;return e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[a])}}},function(t,e){},function(t,e,n){"use strict";var r=n(1);var i=n(0);n(65);e["a"]={name:"v-icon",functional:true,mixins:[i["a"],r["a"]],props:{disabled:Boolean,large:Boolean,left:Boolean,medium:Boolean,right:Boolean,xLarge:Boolean},render:function t(e,n){var r=n.props,o=n.data,a=n.children,s=a===undefined?[]:a;var u="";if(s.length){u=s.pop().text}else if(o.domProps&&o.domProps.textContent){u=o.domProps.textContent;delete o.domProps.textContent}else if(o.domProps&&o.domProps.innerHTML){u=o.domProps.innerHTML;delete o.domProps.innerHTML}var l="material-icons";var c=u.indexOf("-")>-1;if(c)l=u.slice(0,u.indexOf("-"));o.staticClass=(l+" icon "+(o.staticClass||"")).trim();o.attrs=o.attrs||{};if(!("aria-hidden"in o.attrs)){o.attrs["aria-hidden"]=true}var f=Object.assign({"icon--disabled":r.disabled,"icon--large":r.large,"icon--left":r.left,"icon--medium":r.medium,"icon--right":r.right,"icon--x-large":r.xLarge,"theme--dark":r.dark,"theme--light":r.light},r.color?i["a"].methods.addTextColorClassChecks.call(r,{},"color"):{"primary--text":r.primary,"secondary--text":r.secondary,"success--text":r.success,"info--text":r.info,"warning--text":r.warning,"error--text":r.error});var h=Object.keys(f).filter(function(t){return f[t]}).join(" ");h&&(o.staticClass+=" "+h);if(c)o.staticClass+=" "+u;else s.push(u);return e("i",o,s)}}},function(t,e){},function(t,e,n){"use strict";e["a"]={props:{mode:String,origin:String,transition:String}}},function(t,e,n){"use strict";var r=n(68);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";n(69);e["a"]={name:"v-avatar",functional:true,props:{size:{type:String,default:"48px"},tile:Boolean},render:function t(e,n){var r=n.data,i=n.props,o=n.children;r.staticClass=("avatar "+(r.staticClass||"")).trim();r.style=r.style||{};if(i.tile)r.staticClass+=" avatar--tile";r.style.height=i.size;r.style.width=i.size;return e("div",r,o)}}},function(t,e){},function(t,e,n){"use strict";var r=n(71);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(0);var i=n(4);n(72);e["a"]={name:"v-badge",mixins:[r["a"],i["a"]],props:{bottom:Boolean,color:{type:String,default:"primary"},left:Boolean,overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:true}},computed:{classes:function t(){return{"badge--bottom":this.bottom,"badge--left":this.left,"badge--overlap":this.overlap}}},render:function t(e){var n=this.$slots.badge?[e("span",{staticClass:"badge__badge",class:this.addBackgroundColorClassChecks(),attrs:this.attrs,directives:[{name:"show",value:this.isActive}]},this.$slots.badge)]:null;return e("span",{staticClass:"badge",class:this.classes},[this.$slots.default,e("transition",{props:{name:this.transition}},n)])}}},function(t,e){},function(t,e,n){"use strict";var r=n(74);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(11);var i=n(25);var o=n(0);n(75);e["a"]={name:"v-bottom-nav",mixins:[r["a"],i["a"],o["a"]],data:function t(){return{defaultColor:"primary"}},props:{absolute:Boolean,active:[Number,String],shift:Boolean,value:{required:false}},watch:{active:function t(){this.update()}},computed:{classes:function t(){return{"bottom-nav":true,"bottom-nav--absolute":this.absolute,"bottom-nav--shift":this.shift,"bottom-nav--active":this.value}}},methods:{isSelected:function t(e){var n=this.getValue(e);return this.active===n},updateApplication:function t(){if(!this.app)return;this.$vuetify.application.bottom=this.$el.clientHeight},updateValue:function t(e){var n=this.getValue(e);this.$emit("update:active",n)}},render:function t(e){return e("div",{class:this.addBackgroundColorClassChecks(this.classes),ref:"content"},this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(77);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(26);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(78);e["a"]={name:"v-bottom-sheet",props:{disabled:Boolean,fullWidth:Boolean,inset:Boolean,lazy:Boolean,maxWidth:{type:[String,Number],default:"auto"},persistent:Boolean,value:null},render:function t(e){var n=e("template",{slot:"activator"},this.$slots.activator);var o=["bottom-sheet",this.inset?"bottom-sheet--inset":""].join(" ");return e(r["a"],{attrs:i({},this.$props),on:i({},this.$listeners),props:{contentClass:o,transition:"bottom-sheet-transition",value:this.value}},[n,this.$slots.default])}}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";var r=n(82);var i=n(84);r["a"].install=function t(e){e.component(r["a"].name,r["a"]);e.component(i["a"].name,i["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";n(83);e["a"]={name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},large:Boolean,justifyCenter:Boolean,justifyEnd:Boolean},computed:{classes:function t(){return{"breadcrumbs--large":this.large}},computedDivider:function t(){return this.$slots.divider?this.$slots.divider:this.divider},styles:function t(){var e=this.justifyCenter?"center":this.justifyEnd?"flex-end":"flex-start";return{"justify-content":e}}},methods:{genChildren:function t(){var e=this;if(!this.$slots.default)return null;var n=[];var r={staticClass:"breadcrumbs__divider"};var i=this.$slots.default.length;this.$slots.default.forEach(function(t,o){n.push(t);if(!t.componentOptions||t.componentOptions.tag!=="v-breadcrumbs-item"||o===i-1)return;n.push(e.$createElement("li",r,e.computedDivider))});return n}},render:function t(e){return e("ul",{staticClass:"breadcrumbs",class:this.classes,style:this.styles},this.genChildren())}}},function(t,e){},function(t,e,n){"use strict";var r=n(13);function i(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}e["a"]={name:"v-breadcrumbs-item",mixins:[r["a"]],props:{activeClass:{type:String,default:"breadcrumbs__item--disabled"}},computed:{classes:function t(){return i({breadcrumbs__item:true},this.activeClass,this.disabled)}},render:function t(e){var n=this.generateRouteLink(),r=n.tag,i=n.data;return e("li",[e(r,i,this.$slots.default)])}}},function(t,e,n){"use strict";var r=n(0);var i=n(87);var o=n(20);var a=n(13);var s=n(1);var u=n(4);var l=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(86);e["a"]={name:"v-btn",mixins:[r["a"],i["a"],a["a"],o["a"],s["a"],Object(u["b"])("inputValue")],props:{activeClass:{type:String,default:"btn--active"},block:Boolean,depressed:Boolean,fab:Boolean,flat:Boolean,icon:Boolean,large:Boolean,loading:Boolean,outline:Boolean,ripple:{type:[Boolean,Object],default:true},round:Boolean,small:Boolean,tag:{type:String,default:"button"},type:{type:String,default:"button"},value:null},computed:{classes:function t(){var e=!this.outline&&!this.flat;var n=!this.disabled&&!e;var t=c({btn:true,"btn--active":this.isActive,"btn--absolute":this.absolute,"btn--block":this.block,"btn--bottom":this.bottom,"btn--disabled":this.disabled,"btn--flat":this.flat,"btn--floating":this.fab,"btn--fixed":this.fixed,"btn--hover":this.hover,"btn--icon":this.icon,"btn--large":this.large,"btn--left":this.left,"btn--loader":this.loading,"btn--outline":this.outline,"btn--depressed":this.depressed&&!this.flat||this.outline,"btn--right":this.right,"btn--round":this.round,"btn--router":this.to,"btn--small":this.small,"btn--top":this.top},this.themeClasses);if(!this.color){return Object.assign(t,{primary:this.primary&&e,secondary:this.secondary&&e,success:this.success&&e,info:this.info&&e,warning:this.warning&&e,error:this.error&&e,"primary--text":this.primary&&n,"secondary--text":this.secondary&&n,"success--text":this.success&&n,"info--text":this.info&&n,"warning--text":this.warning&&n,"error--text":this.error&&n})}return e?this.addBackgroundColorClassChecks(t):this.addTextColorClassChecks(t)}},methods:{click:function t(e){!this.fab&&e.detail&&this.$el.blur();this.$emit("click",e)},genContent:function t(){return this.$createElement("div",{class:"btn__content"},[this.$slots.default])},genLoader:function t(){var e=[];if(!this.$slots.loader){e.push(this.$createElement("v-progress-circular",{props:{indeterminate:true,size:26}}))}else{e.push(this.$slots.loader)}return this.$createElement("span",{class:"btn__loading"},e)}},mounted:function t(){var e=this;Object.keys(i["a"].props).forEach(function(t){if(e[t]){console.warn("Context prop '"+t+"' for VBtn component has been deprecated. Use 'color' prop instead.")}})},render:function t(e){var n=this.generateRouteLink(),r=n.tag,i=n.data;var o=[this.genContent()];r==="button"&&(i.attrs.type=this.type);this.loading&&o.push(this.genLoader());i.attrs.value=["string","number"].includes(l(this.value))?this.value:JSON.stringify(this.value);return e(r,i,o)}}},function(t,e){},function(t,e,n){"use strict";e["a"]={props:{primary:Boolean,secondary:Boolean,success:Boolean,info:Boolean,warning:Boolean,error:Boolean}}},function(t,e,n){"use strict";var r=n(89);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(25);var i=n(1);n(90);e["a"]={name:"v-btn-toggle",model:{prop:"inputValue",event:"change"},mixins:[r["a"],i["a"]],props:{inputValue:{required:false},items:{type:Array,default:function t(){return[]}},mandatory:Boolean,multiple:Boolean},computed:{classes:function t(){return{"btn-toggle":true,"btn-toggle--selected":this.hasValue,"theme--light":this.light,"theme--dark":this.dark}},hasValue:function t(){return this.multiple&&this.inputValue.length||!this.multiple&&this.inputValue!==null&&typeof this.inputValue!=="undefined"}},watch:{inputValue:{handler:function t(){this.update()},deep:true}},methods:{isSelected:function t(e){var n=this.getValue(e);if(!this.multiple){return this.inputValue===n}return this.inputValue.includes(n)},updateValue:function t(e){var n=this.getValue(e);if(!this.multiple){if(this.mandatory&&this.inputValue===n)return;return this.$emit("change",this.inputValue===n?null:n)}var r=this.inputValue.slice();var i=r.indexOf(n);if(i>-1){if(this.mandatory&&r.length===1)return;r.length>=1&&r.splice(i,1)}else{r.push(n)}this.$emit("change",r)}},mounted:function t(){if(this.items.length>0){console.warn("The 'items' props has been deprecated. v-btn-toggle now has a default slot where you can place buttons.")}},render:function t(e){return e("div",{class:this.classes},this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(0);var i=n(13);var o=n(1);n(92);e["a"]={name:"v-card",mixins:[r["a"],i["a"],o["a"]],props:{flat:Boolean,height:{type:String,default:"auto"},hover:Boolean,img:String,raised:Boolean,tag:{type:String,default:"div"},tile:Boolean},computed:{classes:function t(){return this.addBackgroundColorClassChecks({card:true,"card--flat":this.flat,"card--horizontal":this.horizontal,"card--hover":this.hover,"card--raised":this.raised,"card--tile":this.tile,"theme--light":this.light,"theme--dark":this.dark})},styles:function t(){var e={height:isNaN(this.height)?this.height:this.height+"px"};if(this.img){e.background='url("'+this.img+'") center center / cover no-repeat'}return e}},render:function t(e){var n=this.generateRouteLink(),r=n.tag,i=n.data;i.style=this.styles;return e(r,i,this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";e["a"]={name:"v-card-media",props:{contain:Boolean,height:{type:[Number,String],default:"auto"},src:{type:String}},render:function t(e){var n={class:"card__media",style:{height:!isNaN(this.height)?this.height+"px":this.height},on:this.$listeners};var r=[];if(this.src){r.push(e("div",{class:"card__media__background",style:{background:"url("+this.src+") center center / "+(this.contain?"contain":"cover")+" no-repeat"}}))}r.push(e("div",{class:"card__media__content"},this.$slots.default));return e("div",n,r)}}},function(t,e,n){"use strict";e["a"]={name:"v-card-title",functional:true,props:{primaryTitle:Boolean},render:function t(e,n){var r=n.data,i=n.props,o=n.children;r.staticClass=("card__title "+(r.staticClass||"")).trim();if(i.primaryTitle)r.staticClass+=" card__title--primary";return e("div",r,o)}}},function(t,e,n){"use strict";var r=n(96);var i=n(98);r["a"].install=function t(e){e.component(r["a"].name,r["a"]);e.component(i["a"].name,i["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(10);var i=n(3);var o=n(12);var a=n(1);var s=n(18);var u=n(7);n(97);e["a"]={name:"v-carousel",mixins:[o["a"],a["a"],Object(s["b"])("carousel")],directives:{Touch:u["a"]},data:function t(){return{inputValue:null,items:[],slideTimeout:null,reverse:false}},props:{cycle:{type:Boolean,default:true},delimiterIcon:{type:String,default:"fiber_manual_record"},hideControls:Boolean,hideDelimiters:Boolean,interval:{type:[Number,String],default:6e3,validator:function t(e){return e>0}},leftControlIcon:{type:[Boolean,String],default:"chevron_left"},rightControlIcon:{type:[Boolean,String],default:"chevron_right"},value:Number},watch:{items:function t(){if(this.inputValue>=this.items.length){this.inputValue=this.items.length-1}},inputValue:function t(){var e=this;this.items.forEach(function(t){t.open(e.items[e.inputValue].uid,e.reverse)});this.$emit("input",this.inputValue);this.restartTimeout()},value:function t(e){this.inputValue=e},interval:function t(){this.restartTimeout()},cycle:function t(e){if(e){this.restartTimeout()}else{clearTimeout(this.slideTimeout);this.slideTimeout=null}}},mounted:function t(){this.init()},methods:{genDelimiters:function t(){return this.$createElement("div",{staticClass:"carousel__controls"},this.genItems())},genIcon:function t(e,n,o){if(!n)return null;return this.$createElement("div",{staticClass:"carousel__"+e},[this.$createElement(r["a"],{props:{icon:true,dark:this.dark||!this.light,light:this.light},on:{click:o}},[this.$createElement(i["a"],n)])])},genItems:function t(){var e=this;return this.items.map(function(t,n){return e.$createElement(r["a"],{class:{carousel__controls__item:true,"carousel__controls__item--active":n===e.inputValue},props:{icon:true,dark:e.dark||!e.light,light:e.light},key:n,on:{click:e.select.bind(e,n)}},[e.$createElement(i["a"],e.delimiterIcon)])})},restartTimeout:function t(){this.slideTimeout&&clearTimeout(this.slideTimeout);this.slideTimeout=null;var e=requestAnimationFrame||setTimeout;e(this.startTimeout)},init:function t(){this.inputValue=this.value||0},next:function t(){this.reverse=false;this.inputValue=(this.inputValue+1)%this.items.length},prev:function t(){this.reverse=true;this.inputValue=(this.inputValue+this.items.length-1)%this.items.length},select:function t(e){this.reverse=e<this.inputValue;this.inputValue=e},startTimeout:function t(){var e=this;if(!this.cycle)return;this.slideTimeout=setTimeout(function(){return e.next()},this.interval>0?this.interval:6e3)},register:function t(e,n){this.items.push({uid:e,open:n})},unregister:function t(e){this.items=this.items.filter(function(t){return t.uid!==e})}},render:function t(e){return e("div",{staticClass:"carousel",directives:[{name:"touch",value:{left:this.next,right:this.prev}}]},[this.hideControls?null:this.genIcon("left",this.leftControlIcon,this.prev),this.hideControls?null:this.genIcon("right",this.rightControlIcon,this.next),this.hideDelimiters?null:this.genDelimiters(),this.$slots.default])}}},function(t,e){},function(t,e,n){"use strict";var r=n(18);e["a"]={name:"v-carousel-item",mixins:[Object(r["a"])("carousel","v-carousel-item","v-carousel")],data:function t(){return{active:false,reverse:false}},props:{src:{type:String,required:true},transition:{type:String,default:"tab-transition"},reverseTransition:{type:String,default:"tab-reverse-transition"}},computed:{computedTransition:function t(){return this.reverse?this.reverseTransition:this.transition},styles:function t(){return{backgroundImage:"url("+this.src+")"}}},methods:{open:function t(e,n){this.active=this._uid===e;this.reverse=n}},mounted:function t(){this.carousel.register(this._uid,this.open)},beforeDestroy:function t(){this.carousel.unregister(this._uid,this.open)},render:function t(e){var n=e("div",{class:{carousel__item:true,reverse:this.reverse},style:this.styles,on:this.$listeners,directives:[{name:"show",value:this.active}]},[this.$slots.default]);return e("transition",{props:{name:this.computedTransition}},[n])}}},function(t,e,n){"use strict";var r=n(3);var i=n(5);var o=n(22);var a=n(31);n(14);n(21);e["a"]={name:"v-checkbox",components:{VFadeTransition:i["b"],VIcon:r["a"]},mixins:[o["a"],a["a"]],data:function t(){return{inputIndeterminate:this.indeterminate}},props:{indeterminate:Boolean},computed:{classes:function t(){var t={checkbox:true,"input-group--selection-controls":true,"input-group--active":this.isActive};if(this.hasError){t["error--text"]=true}else{return this.addTextColorClassChecks(t)}return t},icon:function t(){if(this.inputIndeterminate){return"indeterminate_check_box"}else if(this.isActive){return"check_box"}else{return"check_box_outline_blank"}}},methods:{groupFocus:function t(e){this.isFocused=true;this.$emit("focus",e)},groupBlur:function t(e){this.isFocused=false;this.tabFocused=false;this.$emit("blur",this.inputValue)}},render:function t(e){var n=e("v-fade-transition",[e("v-icon",{staticClass:"icon--selection-control",class:{"icon--checkbox":this.icon==="check_box"},key:this.icon,on:Object.assign({click:this.toggle},this.$listeners)},this.icon)]);var r={attrs:{tabindex:this.disabled?-1:this.internalTabIndex||this.tabindex,role:"checkbox","aria-checked":this.inputIndeterminate&&"mixed"||this.isActive&&"true"||"false","aria-label":this.label}};var i=this.ripple?this.genRipple():null;return this.genInputGroup([n,i],r)}}},function(t,e,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["a"]={data:function t(){return{errorBucket:[],hasFocused:false,hasInput:false,shouldValidate:false,valid:false}},props:{error:{type:Boolean},errorMessages:{type:[String,Array],default:function t(){return[]}},rules:{type:Array,default:function t(){return[]}},validateOnBlur:Boolean},computed:{validations:function t(){if(!Array.isArray(this.errorMessages)){return[this.errorMessages]}else if(this.errorMessages.length>0){return this.errorMessages}else if(this.shouldValidate){return this.errorBucket}else{return[]}},hasError:function t(){return this.validations.length>0||this.errorMessages.length>0||this.error}},watch:{rules:{handler:function t(e,n){if(e.length===n.length)return;this.validate()},deep:true},inputValue:function t(e){if(!!e&&!this.hasInput)this.hasInput=true;if(this.hasInput&&!this.validateOnBlur)this.shouldValidate=true},isFocused:function t(e){if(!e&&!this.hasFocused){this.hasFocused=true;this.shouldValidate=true;this.$emit("update:error",this.errorBucket.length>0)}},hasError:function t(e){if(this.shouldValidate){this.$emit("update:error",e)}},error:function t(e){this.shouldValidate=!!e}},mounted:function t(){this.shouldValidate=!!this.error;this.validate()},methods:{reset:function t(){var e=this;this.$emit("input",this.isMultiple?[]:null);this.$emit("change",null);this.$nextTick(function(){e.shouldValidate=false;e.hasFocused=false;e.validate()})},validate:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.inputValue;if(n)this.shouldValidate=true;this.errorBucket=[];this.rules.forEach(function(t){var n=typeof t==="function"?t(i):t;if(n!==true&&!["string","boolean"].includes(typeof n==="undefined"?"undefined":r(n))){throw new TypeError("Rules should return a string or boolean, received '"+(typeof n==="undefined"?"undefined":r(n))+"' instead")}if(n!==true){e.errorBucket.push(n)}});this.valid=this.errorBucket.length===0;return this.valid}}}},function(t,e,n){"use strict";var r=n(3);var i=n(0);var o=n(1);var a=n(4);n(102);e["a"]={name:"v-chip",components:{VIcon:r["a"]},mixins:[i["a"],o["a"],a["a"]],props:{close:Boolean,disabled:Boolean,label:Boolean,outline:Boolean,selected:Boolean,small:Boolean,textColor:String,value:{type:Boolean,default:true}},computed:{classes:function t(){var t=this.addBackgroundColorClassChecks({"chip--disabled":this.disabled,"chip--selected":this.selected,"chip--label":this.label,"chip--outline":this.outline,"chip--small":this.small,"chip--removable":this.close,"theme--light":this.light,"theme--dark":this.dark});return this.textColor||this.outline?this.addTextColorClassChecks(t,this.textColor?"textColor":"color"):t}},methods:{genClose:function t(e){var n=this;var i={staticClass:"chip__close",on:{click:function t(e){e.stopPropagation();n.$emit("input",false)}}};return e("div",i,[e(r["a"],"cancel")])},genContent:function t(e){var n=[this.$slots.default];this.close&&n.push(this.genClose(e));return e("span",{staticClass:"chip__content"},n)}},render:function t(e){var n={staticClass:"chip",class:this.classes,attrs:{tabindex:this.disabled?-1:0},directives:[{name:"show",value:this.isActive}],on:this.$listeners};return e("span",n,[this.genContent(e)])}}},function(t,e){},function(t,e,n){"use strict";var r=n(2);var i=n(104);var o=n(134);var a=Object(r["d"])("table__overflow");i["a"].install=function t(e){e.component(i["a"].name,i["a"]);e.component(o["a"].name,o["a"]);e.component(a.name,a)};e["a"]=i["a"]},function(t,e,n){"use strict";var r=n(10);var i=n(3);var o=n(34);var a=n(35);var s=n(41);var u=n(1);var l=n(32);var c=n(130);var f=n(131);var h=n(132);var p=n(133);var d=n(2);var v=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var m=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(105);n(106);e["a"]={name:"v-data-table",components:{VBtn:r["a"],VIcon:i["a"],VProgressLinear:o["a"],VSelect:a["a"],"v-table-overflow":Object(d["d"])("table__overflow")},data:function t(){return{all:false,searchLength:0,defaultPagination:{descending:false,page:1,rowsPerPage:5,sortBy:null,totalItems:0},expanded:{}}},mixins:[c["a"],f["a"],s["a"],h["a"],l["a"],p["a"],u["a"]],props:{expand:{type:Boolean},headers:{type:Array,default:function t(){return[]}},headerText:{type:String,default:"text"},hideActions:Boolean,hideHeaders:Boolean,disableInitialSort:Boolean,mustSort:Boolean,noResultsText:{type:String,default:"No matching records found"},rowsPerPageItems:{type:Array,default:function t(){return[5,10,25,{text:"All",value:-1}]}},rowsPerPageText:{type:String,default:"Rows per page:"},selectAll:[Boolean,String],search:{required:false},filter:{type:Function,default:function t(e,n){return e!==null&&["undefined","boolean"].indexOf(typeof e==="undefined"?"undefined":m(e))===-1&&e.toString().toLowerCase().indexOf(n)!==-1}},customFilter:{type:Function,default:function t(e,n,r,i){n=n.toString().toLowerCase();if(n.trim()==="")return e;var o=i.map(function(t){return t.value});return e.filter(function(t){return o.some(function(e){return r(Object(d["g"])(t,e),n)})})}},customSort:{type:Function,default:function t(e,n,r){if(n===null)return e;return e.sort(function(t,e){var i=Object(d["g"])(t,n);var o=Object(d["g"])(e,n);if(r){var a=[o,i];i=a[0];o=a[1]}if(!isNaN(i)&&!isNaN(o)){return i-o}if(i===null&&o===null){return 0}var s=[i,o].map(function(t){return(t||"").toString().toLocaleLowerCase()});var u=v(s,2);i=u[0];o=u[1];if(i>o)return 1;if(i<o)return-1;return 0})}},value:{type:Array,default:function t(){return[]}},items:{type:Array,required:true,default:function t(){return[]}},totalItems:{type:Number,default:null},itemKey:{type:String,default:"id"},pagination:{type:Object,default:function t(){}}},computed:{classes:function t(){return{"datatable table":true,"datatable--select-all":this.selectAll!==false,"theme--dark":this.dark,"theme--light":this.light}},computedPagination:function t(){return this.hasPagination?this.pagination:this.defaultPagination},hasPagination:function t(){var e=this.pagination||{};return Object.keys(e).length>0},hasSelectAll:function t(){return this.selectAll!==undefined&&this.selectAll!==false},itemsLength:function t(){if(this.search)return this.searchLength;return this.totalItems||this.items.length},indeterminate:function t(){return this.hasSelectAll&&this.someItems&&!this.everyItem},everyItem:function t(){var e=this;return this.filteredItems.length&&this.filteredItems.every(function(t){return e.isSelected(t)})},someItems:function t(){var e=this;return this.filteredItems.some(function(t){return e.isSelected(t)})},getPage:function t(){var e=this.computedPagination.rowsPerPage;return e===Object(e)?e.value:e},pageStart:function t(){return this.getPage===-1?0:(this.computedPagination.page-1)*this.getPage},pageStop:function t(){return this.getPage===-1?this.itemsLength:this.computedPagination.page*this.getPage},filteredItems:function t(){if(this.totalItems)return this.items;var e=this.items.slice();var n=typeof this.search!=="undefined"&&this.search!==null;if(n){e=this.customFilter(e,this.search,this.filter,this.headers);this.searchLength=e.length}e=this.customSort(e,this.computedPagination.sortBy,this.computedPagination.descending);return this.hideActions&&!this.hasPagination?e:e.slice(this.pageStart,this.pageStop)},selected:function t(){var e=this;var t={};this.value.forEach(function(n){return t[n[e.itemKey]]=true});return t}},watch:{indeterminate:function t(e){if(e)this.all=true},someItems:function t(e){if(!e)this.all=false},search:function t(){this.updatePagination({page:1,totalItems:this.itemsLength})},everyItem:function t(e){if(e)this.all=true}},methods:{updatePagination:function t(e){var n=this.hasPagination?this.pagination:this.defaultPagination;var r=Object.assign({},n,e);this.$emit("update:pagination",r);if(!this.hasPagination){this.defaultPagination=r}},isSelected:function t(e){return this.selected[e[this.itemKey]]},isExpanded:function t(e){return this.expanded[e[this.itemKey]]},sort:function t(e){var n=this.computedPagination,r=n.sortBy,i=n.descending;if(r===null){this.updatePagination({sortBy:e,descending:false})}else if(r===e&&!i){this.updatePagination({descending:true})}else if(r!==e){this.updatePagination({sortBy:e,descending:false})}else if(!this.mustSort){this.updatePagination({sortBy:null,descending:null})}else{this.updatePagination({sortBy:e,descending:false})}},needsTR:function t(e){return e.length&&e.find(function(t){return t.tag==="td"||t.tag==="th"})},genTR:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.$createElement("tr",n,e)},toggle:function t(e){var n=this;var r=Object.assign({},this.selected);this.filteredItems.forEach(function(t){return r[t[n.itemKey]]=e});this.$emit("input",this.items.filter(function(t){return r[t[n.itemKey]]}))}},created:function t(){var e=this.headers.find(function(t){return!("sortable"in t)||t.sortable});this.defaultPagination.sortBy=!this.disableInitialSort&&e?e.value:null;if(!this.rowsPerPageItems.length){console.warn("The prop 'rows-per-page-items' in v-data-table can not be empty.")}else{this.defaultPagination.rowsPerPage=this.rowsPerPageItems[0]}this.defaultPagination.totalItems=this.itemsLength;this.updatePagination(Object.assign({},this.defaultPagination,this.pagination))},render:function t(e){return e("v-table-overflow",{},[e("table",{class:this.classes},[this.genTHead(),this.genTBody(),this.genTFoot()])])}}},function(t,e){},function(t,e){},function(t,e,n){"use strict";var r=n(0);var i=n(5);function o(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}n(108);e["a"]={name:"v-progress-linear",components:{VFadeTransition:i["b"],VSlideXTransition:i["c"]},mixins:[r["a"]],props:{active:{type:Boolean,default:true},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:7},indeterminate:Boolean,query:Boolean,value:{type:[Number,String],default:0}},computed:{styles:function t(){var t={};if(!this.active){t.height=0}if(!this.indeterminate&&parseInt(this.bufferValue,10)!==100){t.width=this.bufferValue+"%"}return t},effectiveWidth:function t(){if(!this.bufferValue){return 0}return this.value*100/this.bufferValue},bufferStyles:function t(){var e={};if(!this.active){e.height=0}return e},backgroundStyle:function t(){var e=this.backgroundOpacity==null?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{height:this.active?"auto":0,opacity:e,width:this.bufferValue+"%"}}},methods:{genDeterminate:function t(e){return e("div",{ref:"front",staticClass:"progress-linear__bar__determinate",class:this.addBackgroundColorClassChecks(),style:{width:this.effectiveWidth+"%"}})},genBar:function t(e,n){return e("div",{staticClass:"progress-linear__bar__indeterminate",class:this.addBackgroundColorClassChecks(o({},n,true))})},genIndeterminate:function t(e){return e("div",{ref:"front",staticClass:"progress-linear__bar__indeterminate",class:{"progress-linear__bar__indeterminate--active":this.active}},[this.genBar(e,"long"),this.genBar(e,"short")])}},render:function t(e){var n=e("v-fade-transition",[this.indeterminate&&this.genIndeterminate(e)]);var r=e("v-slide-x-transition",[!this.indeterminate&&this.genDeterminate(e)]);var i=e("div",{staticClass:"progress-linear__bar",style:this.styles},[n,r]);var o=e("div",{staticClass:"progress-linear__background",class:[this.backgroundColor||this.color],style:this.backgroundStyle});return e("div",{staticClass:"progress-linear",class:{"progress-linear--query":this.query},style:{height:this.height+"px"},on:this.$listeners},[o,i])}}},function(t,e){},function(t,e,n){"use strict";var r=n(10);var i=n(17);var o=n(29);var a=n(33);var s=n(37);var u=n(38);var l=n(0);var c=n(16);var f=n(41);var h=n(15);var p=n(42);var d=n(122);var v=n(123);var m=n(124);var g=n(125);var y=n(126);var _=n(127);var b=n(128);var x=n(129);var w=n(6);var E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(36);n(14);n(110);e["a"]={name:"v-select",inheritAttrs:false,components:{VCard:i["a"],VCheckbox:o["a"],VChip:a["a"],VList:s["a"],VListTile:s["b"],VListTileAction:s["c"],VListTileContent:s["d"],VListTileTitle:s["e"],VMenu:u["a"],VBtn:r["a"]},directives:{ClickOutside:w["a"]},mixins:[d["a"],l["a"],c["a"],m["a"],f["a"],g["a"],y["a"],h["a"],p["a"],_["a"],b["a"],x["a"],v["a"]],data:function t(){return{cachedItems:this.cacheItems?this.items:[],content:{},defaultColor:"primary",inputValue:(this.multiple||this.tags)&&!this.value?[]:this.value,isBooted:false,lastItem:20,lazySearch:null,isActive:false,menuIsActive:false,searchTimeout:null,selectedIndex:-1,selectedItems:[],shouldBreak:false}},mounted:function t(){if(this._isDestroyed)return;this.genSelectedItems();this.content=this.$refs.menu.$refs.content},beforeDestroy:function t(){if(this.isBooted){if(this.content){this.content.removeEventListener("scroll",this.onScroll,false)}}},methods:{changeSelectedIndex:function t(e){if(![8,37,39,46].includes(e))return;var n=this.selectedItems.length-1;if(e===37){this.selectedIndex=this.selectedIndex===-1?n:this.selectedIndex-1}else if(e===39){this.selectedIndex=this.selectedIndex>=n?-1:this.selectedIndex+1}else if(this.selectedIndex===-1){this.selectedIndex=n;return}if([8,46].includes(e)){var r=this.selectedIndex===n?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;this.combobox?this.inputValue=null:this.selectItem(this.selectedItems[this.selectedIndex]);this.selectedIndex=r}},filterDuplicates:function t(e){var n=e.map(this.getValue);return e.filter(function(t,e){return e===n.indexOf(n[e])})},genDirectives:function t(){var e=this;return[{name:"click-outside",value:function t(n){return!!e.content&&!e.content.contains(n.target)&&!!e.$el&&!e.$el.contains(n.target)}}]},genSelectedItems:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.inputValue;if(this.tags)return this.selectedItems=n;if(this.combobox)return this.selectedItems=n?[n]:[];var r=this.computedItems.filter(function(t){if(!e.isMultiple){return e.getValue(t)===e.getValue(n)}else{return e.findExistingItem(t)>-1}});if(!r.length&&n!=null&&this.tags){r=Array.isArray(n)?n:[n]}this.selectedItems=r},clearableCallback:function t(){var e=this;var n=this.isMultiple?[]:null;this.inputValue=n;this.$emit("change",n);this.genSelectedItems();setTimeout(function(){e.searchValue=null;e.focusInput()},0);if(this.openOnClear){setTimeout(this.showMenu,50)}},onScroll:function t(){var e=this;if(!this.isActive){requestAnimationFrame(function(){return e.content.scrollTop=0})}else{if(this.lastItem>=this.computedItems.length)return;var n=this.content.scrollHeight-(this.content.scrollTop+this.content.clientHeight)<200;if(n){this.lastItem+=20}}},findExistingItem:function t(e){var n=this;return this.inputValue.findIndex(function(t){var r=n.getValue(t);var i=n.getValue(e);if(r!==Object(r))return r===i;return n.compareObjects(r,i)})},selectItem:function t(e){var n=this;if(!this.isMultiple){this.inputValue=this.returnObject?e:this.getValue(e);this.selectedItems=[e]}else{var r=[];var i=this.inputValue.slice();var o=this.findExistingItem(e);o!==-1&&i.splice(o,1)||i.push(e);this.inputValue=i.map(function(t){r.push(t);return n.returnObject?t:n.getValue(t)});this.selectedItems=r}this.searchValue=!this.isMultiple&&!this.chips&&!this.$scopedSlots.selection?this.getText(this.selectedItem):null;this.$emit("change",this.inputValue);var a=this.getMenuIndex();this.resetMenuIndex();this.$nextTick(function(){n.focusInput();n.setCaretPosition(n.currentRange);requestAnimationFrame(function(){if(a>-1){n.setMenuIndex(a)}})})}},render:function t(e){var n=this;var r={attrs:E({tabindex:this.isAutocomplete||this.disabled?-1:this.tabindex},this.isAutocomplete?null:this.$attrs,{role:this.isAutocomplete?null:"combobox"})};if(!this.isAutocomplete){r.on=this.genListeners();r.directives=this.genDirectives()}else{r.on={click:function t(){if(n.disabled||n.readonly||n.isFocused)return;if(n.isDirty){n.focus();n.$nextTick(n.focusInput)}}}}return this.genInputGroup([this.genSelectionsAndSearch(),this.genMenu()],r,this.toggleMenu)}}},function(t,e){},function(t,e,n){"use strict";var r=n(1);n(112);e["a"]={name:"v-list",provide:function t(){return{listClick:this.listClick,listClose:this.listClose}},mixins:[r["a"]],data:function t(){return{uid:null,groups:[]}},props:{dense:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},computed:{classes:function t(){return{list:true,"list--two-line":this.twoLine,"list--dense":this.dense,"list--three-line":this.threeLine,"list--subheader":this.subheader,"theme--dark dark--bg":this.dark,"theme--light light--bg":this.light}}},watch:{uid:function t(){var e=this;this.$children.filter(function(t){return t.$options._componentTag==="v-list-group"}).forEach(function(t){return t.toggle(e.uid)})}},methods:{listClick:function t(e,n){if(n){this.uid=e}else{this.uid=this.uid===e?null:e}},listClose:function t(e){if(this.uid===e){this.uid=null}}},render:function t(e){var n={class:this.classes,attrs:{"data-uid":this._uid}};return e("ul",n,[this.$slots.default])}}},function(t,e){},function(t,e,n){"use strict";var r=n(5);var i=n(12);var o=n(4);e["a"]={name:"v-list-group",inject:["listClick","listClose"],mixins:[i["a"],o["a"]],props:{group:String,noAction:Boolean},computed:{classes:function t(){return{"list--group__header":true,"list--group__header--active":this.isActive,"list--group__header--no-action":this.noAction}}},watch:{isActive:function t(){this.isBooted=true;if(!this.isActive){this.listClose(this._uid)}},$route:function t(e){var n=this.matchRoute(e.path);if(this.group){if(n&&this.isActive!==n){this.listClick(this._uid)}this.isActive=n}}},mounted:function t(){this.isBooted=this.isActive;if(this.group){this.isActive=this.matchRoute(this.$route.path)}if(this.isActive){this.listClick(this._uid)}},methods:{click:function t(){var e=this;if(!this.$refs.item.querySelector(".list__tile--disabled")){requestAnimationFrame(function(){return e.listClick(e._uid)})}},toggle:function t(e){this.isActive=this._uid===e},matchRoute:function t(e){if(!this.group)return false;return e.match(this.group)!==null}},render:function t(e){var n=e("ul",{class:"list list--group",directives:[{name:"show",value:this.isActive}],ref:"group"},this.showLazyContent(this.$slots.default));var i=e("ul",{class:this.classes,on:Object.assign({},{click:this.click},this.$listeners),ref:"item"},[this.$slots.item]);var o=e(r["a"],[n]);return e("li",{class:"list--group__container"},[i,o])}}},function(t,e,n){"use strict";var r=n(13);var i=n(4);var o=n(9);var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};function s(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}e["a"]={name:"v-list-tile",mixins:[r["a"],i["a"]],directives:{Ripple:o["a"]},inheritAttrs:false,data:function t(){return{proxyClass:"list__tile--active"}},props:{activeClass:{type:String,default:"primary--text"},avatar:Boolean,inactive:Boolean,tag:String},computed:{classes:function t(){return s({list__tile:true,"list__tile--link":this.isLink&&!this.inactive,"list__tile--avatar":this.avatar,"list__tile--disabled":this.disabled,"list__tile--active":!this.to&&this.isActive},this.activeClass,this.isActive)},isLink:function t(){return this.href||this.to||this.$listeners&&(this.$listeners.click||this.$listeners["!click"])}},render:function t(e){var n=!this.inactive&&this.isLink;var r=n?this.generateRouteLink():{tag:this.tag||"div",data:{class:this.classes}},i=r.tag,o=r.data;o.attrs=Object.assign({},o.attrs,this.$attrs);return e("li",{attrs:{disabled:this.disabled},on:a({},this.$listeners)},[e(i,o,this.$slots.default)])}}},function(t,e,n){"use strict";e["a"]={functional:true,name:"v-list-tile-action",render:function t(e,n){var r=n.data,i=n.children;r.staticClass=r.staticClass?"list__tile__action "+(r.staticClass||""):"list__tile__action";if((i||[]).length>1)r.staticClass+=" list__tile__action--stack";return e("div",r,i)}}},function(t,e,n){"use strict";var r=n(39);var i=n(16);var o=n(19);var a=n(40);var s=n(4);var u=n(118);var l=n(119);var c=n(120);var f=n(121);var h=n(6);var p=n(8);n(117);e["a"]={name:"v-menu",mixins:[u["a"],i["a"],r["a"],o["a"],l["a"],c["a"],a["a"],f["a"],s["a"]],directives:{ClickOutside:h["a"],Resize:p["a"]},data:function t(){return{defaultOffset:8,maxHeightAutoDefault:"200px",startIndex:3,stopIndex:0,hasJustFocused:false,resizeTimeout:null}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:true},closeOnContentClick:{type:Boolean,default:true},disabled:Boolean,fullWidth:Boolean,maxHeight:{default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:true},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"menu-transition"}},computed:{calculatedLeft:function t(){var e=this.calcLeft;if(this.auto)e=this.calcLeftAuto;return this.calcXOverflow(e())+"px"},calculatedMaxHeight:function t(){return this.auto?"200px":isNaN(this.maxHeight)?this.maxHeight:this.maxHeight+"px"},calculatedMaxWidth:function t(){return isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px"},calculatedMinWidth:function t(){if(this.minWidth){return isNaN(this.minWidth)?this.minWidth:this.minWidth+"px"}var e=this.dimensions.activator.width+this.nudgeWidth+(this.auto?16:0);var n=isNaN(parseInt(this.calculatedMaxWidth))?e:parseInt(this.calculatedMaxWidth);return Math.min(n,e)+"px"},calculatedTop:function t(){var e=this.auto?this.calcTopAuto:this.calcTop;return this.calcYOverflow(e())+"px"},styles:function t(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{activator:function t(e,n){this.removeActivatorEvents(n);this.addActivatorEvents(e)},isContentActive:function t(e){this.hasJustFocused=e}},methods:{activate:function t(){this.getTiles();this.updateDimensions();requestAnimationFrame(this.startTransition);setTimeout(this.calculateScroll,50)},onResize:function t(){if(!this.isActive)return;this.$refs.content.offsetWidth;this.updateDimensions();clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(this.updateDimensions,100)}},render:function t(e){var n={staticClass:"menu",class:{"menu--disabled":this.disabled},style:{display:this.fullWidth?"block":"inline-block"},directives:[{name:"resize",value:{debounce:500,value:this.onResize}}],on:{keydown:this.changeListIndex}};return e("div",n,[this.genActivator(),this.genTransition()])}}},function(t,e){},function(t,e,n){"use strict";e["a"]={methods:{activatorClickHandler:function t(e){if(this.disabled)return;if(this.openOnClick&&!this.isActive){this.getActivator().focus();this.isActive=true;this.absoluteX=e.clientX;this.absoluteY=e.clientY}else if(this.closeOnClick&&this.isActive){this.getActivator().blur();this.isActive=false}},mouseEnterHandler:function t(e){var n=this;this.runDelay("open",function(){if(n.hasJustFocused)return;n.hasJustFocused=true;n.isActive=true})},mouseLeaveHandler:function t(e){var n=this;this.runDelay("close",function(){if(n.$refs.content.contains(e.relatedTarget))return;requestAnimationFrame(function(){n.isActive=false;n.callDeactivate()})})},addActivatorEvents:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!e)return;e.addEventListener("click",this.activatorClickHandler)},removeActivatorEvents:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!e)return;e.removeEventListener("click",this.activatorClickHandler)}}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}e["a"]={methods:{genActivator:function t(){if(!this.$slots.activator)return null;var e={staticClass:"menu__activator",class:{"menu__activator--active":this.hasJustFocused||this.isActive},ref:"activator",on:{}};if(this.openOnHover){e.on["mouseenter"]=this.mouseEnterHandler;e.on["mouseleave"]=this.mouseLeaveHandler}else if(this.openOnClick){e.on["click"]=this.activatorClickHandler}return this.$createElement("div",e,this.$slots.activator)},genTransition:function t(){if(!this.transition)return this.genContent();return this.$createElement("transition",{props:{name:this.transition}},[this.genContent()])},genDirectives:function t(){var e=this;var n=!this.openOnHover?[{name:"click-outside",value:{callback:function t(){return e.closeOnClick},include:function t(){return[e.$el].concat(r(e.getOpenDependentElements()))}}}]:[];n.push({name:"show",value:this.isContentActive});return n},genContent:function t(){var e=this;var n={class:[("menu__content "+this.contentClass).trim(),{menuable__content__active:this.isActive}],style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function t(n){n.stopPropagation();if(n.target.getAttribute("disabled"))return;if(e.closeOnContentClick)e.isActive=false}}};!this.disabled&&this.openOnHover&&(n.on.mouseenter=this.mouseEnterHandler);this.openOnHover&&(n.on.mouseleave=this.mouseLeaveHandler);return this.$createElement("div",n,this.showLazyContent(this.$slots.default))}}}},function(t,e,n){"use strict";e["a"]={data:function t(){return{listIndex:-1,tiles:[]}},watch:{isActive:function t(e){if(!e)this.listIndex=-1},listIndex:function t(e,n){this.getTiles();if(e in this.tiles){this.tiles[e].classList.add("list__tile--highlighted");this.$refs.content.scrollTop=e*48}n in this.tiles&&this.tiles[n].classList.remove("list__tile--highlighted")}},methods:{changeListIndex:function t(e){if([40,38,13].includes(e.keyCode)||e.keyCode===32&&!this.isActive){e.preventDefault()}if([27,9].includes(e.keyCode))return this.isActive=false;else if(!this.isActive&&[13,32].includes(e.keyCode)&&this.openOnClick){return this.isActive=true}if(e.keyCode===40&&this.listIndex<this.tiles.length-1){this.listIndex++}else if(e.keyCode===38&&this.listIndex>0){this.listIndex--}else if(e.keyCode===13&&this.listIndex!==-1){this.tiles[this.listIndex].click()}},getTiles:function t(){this.tiles=this.$refs.content.querySelectorAll(".list__tile")}}}},function(t,e,n){"use strict";e["a"]={methods:{calculateScroll:function t(){if(this.selectedIndex===null)return;var e=0;if(this.selectedIndex>=this.stopIndex){e=this.$refs.content.scrollHeight}else if(this.selectedIndex>this.startIndex){e=this.selectedIndex*(this.defaultOffset*6)-this.defaultOffset*7}this.$refs.content.scrollTop=e},calcLeftAuto:function t(){var e=this.dimensions.activator;return parseInt(e.left-this.defaultOffset*2)},calcTopAuto:function t(){if(!this.hasActivator)return this.calcTop();var e=Array.from(this.tiles).findIndex(function(t){return t.classList.contains("list__tile--active")});if(e===-1){this.selectedIndex=null;return this.calcTop()}this.selectedIndex=e;var n=e;var r=-(this.defaultOffset*2);this.stopIndex=this.tiles.length>4?this.tiles.length-4:this.tiles.length;if(e>this.startIndex&&e<this.stopIndex){n=2;r=this.defaultOffset*3}else if(e>=this.stopIndex){r=-this.defaultOffset;n=e-this.stopIndex}r--;return this.calcTop()+r-n*(this.defaultOffset*6)}}}},function(t,e,n){"use strict";var r=n(2);e["a"]={props:{filter:{type:Function,default:function t(e,n,r){var i=function t(e){return e!=null?e:""};var o=i(r);var a=i(n);return o.toString().toLowerCase().indexOf(a.toString().toLowerCase())>-1}}},methods:{filterSearch:function t(){var e=this;if(!this.isAutocomplete)return this.computedItems;return this.computedItems.filter(function(t){return e.filter(t,e.searchValue,e.getText(t))})},genFiltered:function t(e){e=(e||"").toString();if(!this.isAutocomplete||!this.searchValue||this.filteredItems.length<1)return Object(r["f"])(e);var n=this.getMaskedCharacters(e),i=n.start,o=n.middle,a=n.end;return""+Object(r["f"])(i)+this.genHighlight(o)+Object(r["f"])(a)},genHighlight:function t(e){if(this.isNotFiltering)return Object(r["f"])(e);return'<span class="list__tile__mask">'+Object(r["f"])(e)+"</span>"},getMaskedCharacters:function t(e){var n=(this.searchValue||"").toString().toLowerCase();var r=e.toLowerCase().indexOf(n);if(r<0)return{start:"",middle:e,end:""};var i=e.slice(0,r);var o=e.slice(r,r+n.length);var a=e.slice(r+n.length);return{start:i,middle:o,end:a}},getCurrentTag:function t(){return this.isMenuItemSelected()?this.filteredItems[this.getMenuIndex()]:this.isAnyValueAllowed?this.searchValue:null},tabOut:function t(){this.blur();if(this.isAutocomplete&&!this.isMultiple&&!this.searchValue&&!this.combobox){this.inputValue=null}},onTabDown:function t(e){if(!this.isAutocomplete||!this.getCurrentTag()||this.combobox)return this.tabOut();if(this.tags&&this.searchValue&&!this.filteredItems.length){e.preventDefault();return this.updateTags(this.searchValue)}if(this.menuIsActive){e.preventDefault();this.selectListTile(this.getMenuIndex())}},onEnterDown:function t(){this.updateTags(this.getCurrentTag())},onEscDown:function t(e){e.preventDefault();this.menuIsActive=false},onKeyDown:function t(e){var n=this;if(!this.menuIsActive&&[13,32,38,40].includes(e.keyCode)){e.preventDefault();return this.showMenu()}if(e.keyCode===27)return this.onEscDown(e);if(e.keyCode===9)return this.onTabDown(e);if(!this.isAutocomplete||![32].includes(e.keyCode))this.$refs.menu.changeListIndex(e);if([38,40].includes(e.keyCode))this.selectedIndex=-1;if(this.isAutocomplete&&!this.hideSelections&&!this.searchValue)this.changeSelectedIndex(e.keyCode);if(!this.isAnyValueAllowed||!this.searchValue)return;if(e.keyCode===13)return this.onEnterDown();if(e.keyCode===37&&this.$refs.input.selectionStart===0&&this.selectedItems.length){this.updateTags(this.searchValue);this.$nextTick(function(){n.selectedIndex=Math.max(n.selectedItems.length-2,0)})}if(e.keyCode===39&&this.$refs.input.selectionEnd===this.searchValue.length){this.resetMenuIndex()}},selectListTile:function t(e){if(!this.$refs.menu.tiles[e])return;this.$refs.menu.tiles[e].click()},updateTags:function t(e){var n=this;var r=this.selectedItems.slice();if(r.includes(e)){this.$delete(r,r.indexOf(e))}var i=null;if(this.combobox){r=[e];i=this.chips?null:e}else{r.push(e)}this.selectedItems=r;this.$nextTick(function(){n.searchValue=i;n.$emit("input",n.combobox?e:n.selectedItems);n.menuIsActive=!n.combobox})}}}},function(t,e,n){"use strict";e["a"]={computed:{classes:function t(){var t={"input-group--text-field input-group--select":true,"input-group--auto":this.auto,"input-group--overflow":this.overflow,"input-group--segmented":this.segmented,"input-group--editable":this.editable,"input-group--autocomplete":this.isAutocomplete,"input-group--single-line":this.singleLine||this.isDropdown,"input-group--multi-line":this.multiLine,"input-group--chips":this.chips,"input-group--solo":this.solo,"input-group--multiple":this.multiple,"input-group--open":this.menuIsVisible};if(this.hasError){t["error--text"]=true}else{return this.addTextColorClassChecks(t)}return t},computedContentClass:function t(){var e=["menu__content--select",this.auto?"menu__content--auto":"",this.isDropdown?"menu__content--dropdown":"",this.isAutocomplete?"menu__content--autocomplete":"",this.contentClass||""];return e.join(" ")},computedItems:function t(){return this.filterDuplicates(this.cachedItems.concat(this.items))},currentRange:function t(){return this.getText(this.selectedItem||"").length},filteredItems:function t(){var e=this.isNotFiltering?this.computedItems:this.filterSearch();return!this.auto?e.slice(0,this.lastItem):e},hideSelections:function t(){return this.isAutocomplete&&!this.isMultiple&&this.isFocused&&!this.chips&&!this.$scopedSlots.selection},isNotFiltering:function t(){return this.isAutocomplete&&this.isDirty&&this.searchValue===this.getText(this.selectedItem)},isHidingSelected:function t(){return this.hideSelected&&this.isAutocomplete&&this.isMultiple},isAutocomplete:function t(){return this.autocomplete||this.editable||this.tags||this.combobox},isDirty:function t(){return this.selectedItems.length>0||this.isAutocomplete&&this.searchValue},isDropdown:function t(){return this.segmented||this.overflow||this.editable||this.solo},isMultiple:function t(){return this.multiple||this.tags},isAnyValueAllowed:function t(){return this.tags||this.combobox},menuIsVisible:function t(){return this.menuIsActive&&this.computedItems.length>0&&(!this.isAnyValueAllowed||this.filteredItems.length>0)},menuItems:function t(){var e=this;return this.isHidingSelected?this.filteredItems.filter(function(t){return(e.selectedItems||[]).indexOf(t)===-1}):this.filteredItems},nudgeTop:function t(){var t=-18;if(this.solo)t=0;else if(this.shouldOffset){t+=44;t+=this.hideDetails?-24:0;t+=this.isAutocomplete&&!this.isDropdown?-2:0}return t},searchValue:{get:function t(){return this.lazySearch},set:function t(e){var n=this;if(!this.isAutocomplete||this.selectedIndex>-1)return;this.lazySearch=e;clearTimeout(this.searchTimeout);this.searchTimeout=setTimeout(function(){n.$emit("update:searchInput",e)},this.debounceSearch)}},selectedItem:function t(){var e=this;if(this.isMultiple)return null;return this.selectedItems.find(function(t){return e.getValue(t)===e.getValue(e.inputValue)})||null},shouldOffset:function t(){return this.isAutocomplete||this.isDropdown}}}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};e["a"]={methods:{blur:function t(){this.deactivateInput();this.menuIsActive=false;this.$emit("blur")},focus:function t(){this.showMenu();this.$emit("focus")},focusInput:function t(){var e=this;if(this.$refs.input&&this.isAutocomplete){this.$refs.input.focus();this.$nextTick(function(){e.$refs.input.select();e.shouldBreak&&(e.$refs.input.scrollLeft=e.$refs.input.scrollWidth)})}else{!this.isFocused&&this.$el.focus()}},genListeners:function t(){var e=this;var n=Object.assign({},this.$listeners);delete n.input;return r({},n,{click:function t(){if(e.disabled||e.readonly)return;if(e.isFocused&&!e.menuIsVisible){return e.showMenuItems()}e.focus()},focus:function t(n){if(e.disabled||e.readonly||e.isFocused){return}e.activateInput();e.$nextTick(e.focusInput)},keydown:this.onKeyDown})}}}},function(t,e,n){"use strict";var r=n(2);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}e["a"]={methods:{genMenu:function t(){var e=this;var n={ref:"menu",props:{activator:this.$el,auto:this.auto,closeOnClick:false,closeOnContentClick:!this.isMultiple,contentClass:this.computedContentClass,disabled:this.disabled,maxHeight:this.maxHeight,nudgeTop:this.nudgeTop,offsetY:this.shouldOffset,offsetOverflow:this.isAutocomplete,openOnClick:false,value:this.menuIsVisible,zIndex:this.menuZIndex},on:{input:function t(n){if(!n){e.menuIsActive=false}}}};if(this.isAutocomplete)n.props.transition="";this.minWidth&&(n.props.minWidth=this.minWidth);return this.$createElement("v-menu",n,[this.genList()])},getMenuIndex:function t(){return this.$refs.menu?this.$refs.menu.listIndex:-1},setMenuIndex:function t(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},resetMenuIndex:function t(){this.setMenuIndex(-1)},isMenuItemSelected:function t(){return this.menuIsActive&&this.menuItems.length&&this.getMenuIndex()>-1},genSelectionsAndSearch:function t(){return this.$createElement("div",{class:"input-group__selections",style:{overflow:"hidden"},ref:"activator"},[].concat(o(this.genSelections()),[this.genSearch()]))},genSelections:function t(){var e=this;if(this.hideSelections)return[];var n=[];var r=this.chips;var i=this.$scopedSlots.selection;var o=this.selectedItems.length;this.selectedItems.forEach(function(t,a){if(i){n.push(e.genSlotSelection(t,a))}else if(r){n.push(e.genChipSelection(t,a))}else if(e.segmented){n.push(e.genSegmentedBtn(t,a))}else{n.push(e.genCommaSelection(t,a<o-1,a))}});return n},genSearch:function t(){var e=this;var n={staticClass:"input-group--select__autocomplete",class:{"input-group--select__autocomplete--index":this.selectedIndex>-1},style:{flex:this.shouldBreak?"1 0 100%":null},attrs:i({},this.$attrs,{disabled:this.disabled||!this.isAutocomplete,readonly:this.readonly,tabindex:this.disabled||!this.isAutocomplete?-1:this.tabindex}),domProps:{value:this.maskText(this.lazySearch||"")},directives:[{name:"show",value:this.isAutocomplete||this.placeholder&&!this.selectedItems.length}],ref:"input",key:"input"};if(this.isAutocomplete){n.attrs.role="combobox";n.domProps.autocomplete=this.browserAutocomplete;n.on=i({},this.genListeners(),{input:function t(n){e.searchValue=e.unmaskText(n.target.value)}});if(this.combobox){n.on.blur=function(t){if(e.lazySearch==null||e.content&&e.content.contains(t.relatedTarget)||e.$el&&e.$el.contains(t.relatedTarget))return;e.inputValue=e.lazySearch}}n.directives=n.directives.concat(this.genDirectives())}if(this.placeholder)n.domProps.placeholder=this.placeholder;return this.$createElement("input",n)},genSegmentedBtn:function t(e){if(!e.text||!e.callback){console.warn("[Vuetify] Warn: When using the v-select component with 'segmented' prop without a selection slot, items must contain both a text and callback property");return null}return this.$createElement("v-btn",{props:{flat:true},on:{click:function t(n){n.stopPropagation();e.callback(n)}}},[e.text])},genSlotSelection:function t(e,n){return this.$scopedSlots.selection({parent:this,item:e,index:n,selected:n===this.selectedIndex,disabled:this.disabled||this.readonly})},genChipSelection:function t(e,n){var r=this;var i=this.disabled||this.readonly;var o=function t(e){if(i)return;e.stopPropagation();r.focusInput();r.selectedIndex=n};return this.$createElement("v-chip",{staticClass:"chip--select-multi",attrs:{tabindex:"-1"},props:{close:this.deletableChips&&!i,dark:this.dark,disabled:i,selected:n===this.selectedIndex},on:{click:o,focus:o,input:function t(){if(r.isMultiple)r.selectItem(e);else r.inputValue=null}},key:this.getValue(e)},this.getText(e))},genCommaSelection:function t(e,n,r){return this.$createElement("div",{staticClass:"input-group__selections__comma",class:{"input-group__selections__comma--active":r===this.selectedIndex},key:JSON.stringify(this.getValue(e))},""+this.getText(e)+(n?", ":""))},genList:function t(){var e=this;var n=this.menuItems.map(function(t){if(t.header)return e.genHeader(t);if(t.divider)return e.genDivider(t);else return e.genTile(t)});if(!n.length){var r=this.$slots["no-data"];if(r){n.push(r)}else{n.push(this.genTile(this.noDataText,true))}}return this.$createElement("v-card",[this.$createElement("v-list",{props:{dense:this.dense},ref:"list"},n)])},genHeader:function t(e){return this.$createElement("v-subheader",{props:e},e.header)},genDivider:function t(e){return this.$createElement("v-divider",{props:e})},genLabel:function t(){var e=this.singleLine||this.isDropdown;if(e&&this.isDirty||e&&this.isFocused&&this.searchValue)return null;var n={};if(this.id)n.attrs={for:this.id};return this.$createElement("label",n,this.$slots.label||this.label)},genTile:function t(e,n){var i=this;var o=this.selectedItems.indexOf(e)!==-1;if(typeof n==="undefined"){n=Object(r["g"])(e,this.itemDisabled)}var a={on:{click:function t(r){if(n)return;i.selectItem(e)}},props:{avatar:e===Object(e)&&this.itemAvatar in e,ripple:true,value:o}};if(n){a.props.disabled=n}a.props.activeClass=Object.keys(this.addTextColorClassChecks()).join(" ");if(this.$scopedSlots.item){return this.$createElement("v-list-tile",a,[this.$scopedSlots.item({parent:this,item:e})])}return this.$createElement("v-list-tile",a,[this.genAction(e,o),this.genContent(e)])},genAction:function t(e,n){var r=this;if(!this.isMultiple||this.isHidingSelected)return null;var i={staticClass:"list__tile__action--select-multi",on:{click:function t(n){n.stopPropagation();r.selectItem(e)}}};return this.$createElement("v-list-tile-action",i,[this.$createElement("v-checkbox",{props:{color:this.computedColor,inputValue:n}})])},genContent:function t(e){var n=this.getText(e);return this.$createElement("v-list-tile-content",[this.$createElement("v-list-tile-title",{domProps:{innerHTML:this.genFiltered(n)}})])}}}},function(t,e,n){"use strict";var r=n(2);e["a"]={methods:{getText:function t(e){return this.getPropertyFromItem(e,this.itemText)},getValue:function t(e){return this.getPropertyFromItem(e,this.itemValue)},getPropertyFromItem:function t(e,n){if(e!==Object(e))return e;var i=Object(r["g"])(e,n);return typeof i==="undefined"?e:i},compareObjects:function t(e,n){var r=Object.keys(e);var i=Object.keys(n);if(r.length!==i.length)return false;for(var o=0,a=r.length;o<a;o++){var s=r[o];if(e[s]!==n[s])return false}return true}}}},function(t,e,n){"use strict";e["a"]={methods:{activateInput:function t(){this.isActive=true;this.isFocused=true},deactivateInput:function t(){this.isFocused=false;this.isActive=false;this.selectedIndex=-1},hideMenu:function t(){this.menuIsActive=false},showMenu:function t(){this.activateInput();this.showMenuItems();this.isMultiple&&this.resetMenuIndex()},showMenuItems:function t(){this.menuIsActive=true},toggleMenu:function t(){if(this.disabled||this.readonly||this.menuIsVisible)return this.hideMenu();this.showMenu();this.focusInput()}}}},function(t,e,n){"use strict";e["a"]={props:{appendIcon:{type:String,default:"arrow_drop_down"},appendIconCb:Function,auto:Boolean,autocomplete:Boolean,browserAutocomplete:{type:String,default:"on"},cacheItems:Boolean,chips:Boolean,clearable:Boolean,combobox:Boolean,contentClass:String,debounceSearch:{type:[Number,String],default:200},deletableChips:Boolean,dense:Boolean,editable:Boolean,hideSelected:Boolean,items:{type:Array,default:function t(){return[]}},itemAvatar:{type:String,default:"avatar"},itemDisabled:{type:String,default:"disabled"},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},maxHeight:{type:[Number,String],default:300},minWidth:{type:[Boolean,Number,String],default:false},multiple:Boolean,multiLine:Boolean,openOnClear:Boolean,overflow:Boolean,returnObject:Boolean,searchInput:{default:null},segmented:Boolean,singleLine:Boolean,solo:Boolean,tags:Boolean}}},function(t,e,n){"use strict";e["a"]={watch:{inputValue:function t(e){this.genSelectedItems(e);e!==this.value&&this.$emit("input",e);if(this.combobox)this.menuIsActive=false},isActive:function t(e){if(e){if(!this.chips&&!this.$scopedSlots.selection){this.searchValue=this.getText(this.selectedItem)}return}this.blur();if(this.tags&&this.searchValue){this.updateTags(this.searchValue)}this.searchValue&&(this.searchValue=null)},isBooted:function t(){var e=this;this.$nextTick(function(){if(e.content&&e.content.addEventListener){e.content.addEventListener("scroll",e.onScroll,false)}})},items:function t(e){var n=this;if(this.cacheItems){this.cachedItems=this.filterDuplicates(this.cachedItems.concat(e))}this.resetMenuIndex();if(this.searchValue&&!this.isAnyValueAllowed){this.$nextTick(function(){return n.setMenuIndex(0)})}this.genSelectedItems()},menuIsActive:function t(e){if(!e)return;this.isBooted=true},isMultiple:function t(e){this.inputValue=e?[]:null},searchInput:function t(e){this.searchValue=e},searchValue:function t(e,n){var r=this;if(this.$refs.input.scrollWidth>this.$refs.input.clientWidth){this.shouldBreak=true;this.$nextTick(this.$refs.menu.updateDimensions)}else if(e===null){this.shouldBreak=false}if(this.isActive&&!this.menuIsActive&&e!==this.getValue(this.selectedItem)){this.menuIsActive=true}e||n&&this.resetMenuIndex();this.$nextTick(function(){if(e&&!r.isAnyValueAllowed){r.setMenuIndex(0)}})},selectedItems:function t(){clearTimeout(this.searchTimeout);if(this.isAutocomplete){this.$nextTick(this.$refs.menu.updateDimensions)}},value:function t(e){this.inputValue=e;this.validate()}}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}e["a"]={methods:{genTHead:function t(){var e=this;if(this.hideHeaders)return;var n=[];if(this.$scopedSlots.headers){var r=this.$scopedSlots.headers({headers:this.headers,indeterminate:this.indeterminate,all:this.all});n=[this.needsTR(r)?this.genTR(r):r,this.genTProgress()]}else{var i=this.headers.map(function(t){return e.genHeader(t)});var o=this.$createElement("v-checkbox",{props:{dark:this.dark,light:this.light,color:this.selectAll===true?"":this.selectAll,hideDetails:true,inputValue:this.all,indeterminate:this.indeterminate},on:{change:this.toggle}});this.hasSelectAll&&i.unshift(this.$createElement("th",[o]));n=[this.genTR(i),this.genTProgress()]}return this.$createElement("thead",[n])},genHeader:function t(e){var n=[this.$scopedSlots.headerCell?this.$scopedSlots.headerCell({header:e}):e[this.headerText]];return this.$createElement.apply(this,["th"].concat(r(this.genHeaderData(e,n))))},genHeaderData:function t(e,n){var i=["column"];var o={attrs:{role:"columnheader",scope:"col",width:e.width||null,"aria-label":e[this.headerText]||"","aria-sort":"none"}};if("sortable"in e&&e.sortable||!("sortable"in e)){this.genHeaderSortingData(e,n,o,i)}else{o.attrs["aria-label"]+=": Not sorted."}i.push("text-xs-"+(e.align||"right"));if(Array.isArray(e.class)){i.push.apply(i,r(e.class))}else if(e.class){i.push(e.class)}o.class=i;return[o,n]},genHeaderSortingData:function t(e,n,r,i){var o=this;if(!("value"in e)){console.warn("Data table headers must have a value property that corresponds to a value in the v-model array")}r.attrs.tabIndex=0;r.on={click:function t(){o.expanded={};o.sort(e.value)},keydown:function t(n){if(n.keyCode===32){n.preventDefault();o.sort(e.value)}}};i.push("sortable");var a=this.$createElement("v-icon","arrow_upward");if(e.align&&e.align==="left"){n.push(a)}else{n.unshift(a)}var s=this.computedPagination;var u=s.sortBy===e.value;if(u){i.push("active");if(s.descending){i.push("desc");r.attrs["aria-sort"]="descending";r.attrs["aria-label"]+=": Sorted descending. Activate to remove sorting."}else{i.push("asc");r.attrs["aria-sort"]="ascending";r.attrs["aria-label"]+=": Sorted ascending. Activate to sort descending."}}else{r.attrs["aria-label"]+=": Not sorted. Activate to sort ascending."}}}}},function(t,e,n){"use strict";var r=n(30);e["a"]={methods:{genTBody:function t(){var e=[];if(!this.itemsLength&&!this.items.length){var n=this.$slots["no-data"]||this.noDataText;e.push(this.genEmptyBody(n))}else if(!this.filteredItems.length){var r=this.$slots["no-results"]||this.noResultsText;e.push(this.genEmptyBody(r))}else{e.push(this.genFilteredItems())}return this.$createElement("tbody",e)},genExpandedRow:function t(e){var n=[];if(this.isExpanded(e.item)){var i=this.$createElement("div",{class:"datatable__expand-content",key:e.item[this.itemKey]},this.$scopedSlots.expand(e));n.push(i)}var o=this.$createElement("transition-group",{class:"datatable__expand-col",attrs:{colspan:"100%"},props:{tag:"td"},on:Object(r["a"])("datatable__expand-col--expanded")},n);return this.genTR([o],{class:"datatable__expand-row"})},createProps:function t(e,n){var r=this;var i={item:e,index:n};var o=this.itemKey;Object.defineProperty(i,"selected",{get:function t(){return r.selected[e[r.itemKey]]},set:function t(n){var i=r.value.slice();if(n)i.push(e);else i=i.filter(function(t){return t[o]!==e[o]});r.$emit("input",i)}});Object.defineProperty(i,"expanded",{get:function t(){return r.expanded[e[r.itemKey]]},set:function t(n){if(!r.expand){Object.keys(r.expanded).forEach(function(t){r.$set(r.expanded,t,false)})}r.$set(r.expanded,e[r.itemKey],n)}});return i},genFilteredItems:function t(){var e=this;var n=[];this.filteredItems.forEach(function(t,r){var i=e.createProps(t,r);var o=e.$scopedSlots.items?e.$scopedSlots.items(i):[];n.push(e.needsTR(o)?e.genTR(o,{attrs:{active:e.isSelected(t)}}):o);if(e.$scopedSlots.expand){var a=e.genExpandedRow(i);n.push(a)}});return n},genEmptyBody:function t(e){return this.genTR([this.$createElement("td",{class:"text-xs-center",attrs:{colspan:"100%"}},e)])}}}},function(t,e,n){"use strict";e["a"]={methods:{genPrevIcon:function t(){var e=this;return this.$createElement("v-btn",{props:{disabled:this.computedPagination.page===1,icon:true,flat:true,dark:this.dark,light:this.light},on:{click:function t(){var n=e.computedPagination.page;e.updatePagination({page:n-1})}},attrs:{"aria-label":"Previous page"}},[this.$createElement("v-icon","chevron_left")])},genNextIcon:function t(){var e=this;var n=this.computedPagination;var r=n.rowsPerPage<0||n.page*n.rowsPerPage>=this.itemsLength||this.pageStop<0;return this.$createElement("v-btn",{props:{disabled:r,icon:true,flat:true,dark:this.dark,light:this.light},on:{click:function t(){var n=e.computedPagination.page;e.updatePagination({page:n+1})}},attrs:{"aria-label":"Next page"}},[this.$createElement("v-icon","chevron_right")])},genSelect:function t(){var e=this;return this.$createElement("div",{class:"datatable__actions__select"},[this.rowsPerPageText,this.$createElement("v-select",{attrs:{"aria-label":this.rowsPerPageText},props:{items:this.rowsPerPageItems,value:this.computedPagination.rowsPerPage,hideDetails:true,auto:true,minWidth:"75px"},on:{input:function t(n){e.updatePagination({page:1,rowsPerPage:n})}}})])},genPagination:function t(){var e="–";if(this.itemsLength){var n=this.itemsLength<this.pageStop||this.pageStop<0?this.itemsLength:this.pageStop;e=this.$scopedSlots.pageText?this.$scopedSlots.pageText({pageStart:this.pageStart+1,pageStop:n,itemsLength:this.itemsLength}):this.pageStart+1+"-"+n+" of "+this.itemsLength}return this.$createElement("div",{class:"datatable__actions__pagination"},[e])},genActions:function t(){return[this.$createElement("div",{class:"datatable__actions"},[this.rowsPerPageItems.length>1?this.genSelect():null,this.genPagination(),this.genPrevIcon(),this.genNextIcon()])]},genTFoot:function t(){var e=[];if(this.$slots.footer){var n=this.$slots.footer;var r=this.needsTR(n)?this.genTR(n):n;e.push(r)}if(!this.hideActions){e.push(this.genTR([this.$createElement("td",{attrs:{colspan:"100%"}},this.genActions())]))}if(!e.length)return null;return this.$createElement("tfoot",e)}}}},function(t,e,n){"use strict";e["a"]={methods:{genTProgress:function t(){var e=this.$createElement("th",{staticClass:"column",attrs:{colspan:"100%"}},[this.genProgress()]);return this.genTR([e],{staticClass:"datatable__progress"})}}}},function(t,e,n){"use strict";n(135);e["a"]={name:"v-edit-dialog",data:function t(){return{isActive:false,isSaving:false}},props:{cancelText:{default:"Cancel"},large:Boolean,lazy:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},watch:{isActive:function t(e){e&&this.$emit("open")&&setTimeout(this.focus,50);if(!e){!this.isSaving&&this.$emit("cancel");this.isSaving&&this.$emit("close");this.isSaving=false}}},methods:{cancel:function t(){this.isActive=false},focus:function t(){var e=this.$refs.content.querySelector("input");e&&e.focus()},save:function t(){this.isSaving=true;this.isActive=false;this.$emit("save")},genButton:function t(e,n){return this.$createElement("v-btn",{props:{flat:true,color:"primary",light:true},on:{click:e}},n)},genActions:function t(){return this.$createElement("div",{class:"small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(this.save,this.saveText)])},genContent:function t(){var e=this;return this.$createElement("div",{on:{keydown:function t(n){n.keyCode===27&&e.cancel();n.keyCode===13&&e.save()}},ref:"content"},[this.$slots.input])}},render:function t(e){var n=this;return e("v-menu",{class:"small-dialog",props:{contentClass:"small-dialog__content",transition:this.transition,origin:"top right",right:true,value:this.isActive,closeOnContentClick:false,lazy:this.lazy},on:{input:function t(e){return n.isActive=e}}},[e("a",{slot:"activator"},this.$slots.default),this.genContent(),this.large?this.genActions():null])}}},function(t,e){},function(t,e,n){"use strict";var r=n(137);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(2);var i=n(139);var o=n(140);var a=n(141);var s=n(142);var u=n(143);var l=n(45);var c=n(10);var f=n(17);var h=n(3);var p=n(7);var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};var v=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();n(44);n(138);var m=function t(e){return e*1<10?"0"+e*1:""+e};e["a"]={name:"v-date-picker",components:{VBtn:c["a"],VCard:f["a"],VIcon:h["a"]},mixins:[l["a"],i["a"],o["a"],a["a"],s["a"],u["a"]],directives:{Touch:p["a"]},data:function t(){var e=new Date;return{activePicker:this.type.toUpperCase(),currentDay:null,currentMonth:null,currentYear:null,isReversing:false,originalDate:this.value,tableDate:this.type==="month"?""+e.getFullYear():e.getFullYear()+"-"+(e.getMonth()+1)}},props:{allowedDates:{type:[Array,Object,Function],default:function t(){return null}},dayFormat:{type:Function,default:null},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:{type:Function,default:null},locale:{type:String,default:"en-us"},monthFormat:{type:Function,default:null},titleDateFormat:{type:Function,default:null},type:{type:String,default:"date",validator:function t(e){return["date","month"].includes(e)}},value:String,yearFormat:{type:Function,default:null},yearIcon:String},computed:{weekDays:function t(){var e=this;var n=parseInt(this.firstDayOfWeek,10);return this.formatters.weekDay?Object(r["c"])(7).map(function(t){return e.formatters.weekDay("2017-01-"+(n+t+15))}):Object(r["c"])(7).map(function(t){return["S","M","T","W","T","F","S"][(t+n)%7]})},firstAllowedDate:function t(){var e=new Date;var n=e.getFullYear();var r=e.getMonth();if(this.allowedDates){for(var i=e.getDate();i<=31;i++){var o=n+"-"+(r+1)+"-"+i;if(isNaN(new Date(o).getDate()))break;var a=this.sanitizeDateString(o,"date");if(this.isAllowed(a)){return a}}}return this.sanitizeDateString(n+"-"+(r+1)+"-"+e.getDate(),"date")},firstAllowedMonth:function t(){var e=new Date;var n=e.getFullYear();if(this.allowedDates){for(var r=e.getMonth();r<12;r++){var i=n+"-"+(r+1);var o=this.sanitizeDateString(i,"month");if(this.isAllowed(o)){return o}}}return this.sanitizeDateString(n+"-"+(e.getMonth()+1),"month")},inputDate:{get:function t(){if(this.value){return this.sanitizeDateString(this.value,this.type)}return this.type==="month"?this.firstAllowedMonth:this.firstAllowedDate},set:function t(e){var n=e==null?this.originalDate:this.sanitizeDateString(e,this.type);this.$emit("input",n)}},day:function t(){return this.inputDate.split("-")[2]*1},month:function t(){return this.inputDate.split("-")[1]-1},year:function t(){return this.inputDate.split("-")[0]*1},tableMonth:function t(){return this.tableDate.split("-")[1]-1},tableYear:function t(){return this.tableDate.split("-")[0]*1},computedTransition:function t(){return this.isReversing?"tab-reverse-transition":"tab-transition"},formatters:function t(){return{day:this.dayFormat||this.createNativeLocaleFormatter(this.locale,{day:"numeric",timeZone:"UTC"},{start:8,length:2}),headerDate:this.headerDateFormat||this.createNativeLocaleFormatter(this.locale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}),month:this.monthFormat||this.createNativeLocaleFormatter(this.locale,{month:"short",timeZone:"UTC"},{start:5,length:2}),year:this.yearFormat||this.createNativeLocaleFormatter(this.locale,{year:"numeric",timeZone:"UTC"},{length:4}),weekDay:this.createNativeLocaleFormatter(this.locale,{weekday:"narrow",timeZone:"UTC"}),titleDate:this.titleDateFormat||this.defaultTitleDateFormatter}},defaultTitleDateFormatter:function t(){var e={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}};var n=this.createNativeLocaleFormatter(this.locale,e[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]});var r=function t(e){return n(e).replace(/([^\d\s])([\d])/g,function(t,e,n){return e+" "+n}).replace(", ",",<br>")};return this.landscape?r:n}},watch:{activePicker:function t(e,n){var r=this;if(e!=="YEAR")return;var i=setInterval(function(){if(r.$refs.years){r.$refs.years.scrollTop=r.$refs.years.scrollHeight/2-125;clearInterval(i)}},100)},tableDate:function t(e,n){var r=this.type==="month"?"year":"month";this.isReversing=this.sanitizeDateString(e,r)<this.sanitizeDateString(n,r)},value:function t(e){if(e){this.tableDate=this.type==="month"?""+this.year:this.year+"-"+(this.month+1)}},type:function t(e){if(e==="month"&&this.activePicker==="DATE"){this.activePicker="MONTH"}else if(e==="year"){this.activePicker="YEAR"}}},methods:{save:function t(){if(this.originalDate){this.originalDate=this.value}else{this.originalDate=this.inputDate}if(this.$parent&&this.$parent.isActive)this.$parent.isActive=false},cancel:function t(){this.inputDate=this.originalDate;if(this.$parent&&this.$parent.isActive)this.$parent.isActive=false},isAllowed:function t(e){if(!this.allowedDates)return true;if(Array.isArray(this.allowedDates)){return this.allowedDates.indexOf(e)>-1}else if(this.allowedDates instanceof Function){return this.allowedDates(e)}else if(this.allowedDates instanceof Object){var n=this.allowedDates.min;var r=this.allowedDates.max;return(!n||n<=e)&&(!r||r>=e)}return true},genTableTouch:function t(e){return{name:"touch",value:{left:function t(n){return n.offsetX<-15&&e(1)},right:function t(n){return n.offsetX>15&&e(-1)}}}},genTable:function t(e,n){var r=this.activePicker==="MONTH"?this.monthWheelScroll:this.dateWheelScroll;var i={staticClass:"picker--date__table",class:{"picker--month__table":this.activePicker==="MONTH"},on:this.scrollable?{wheel:r}:undefined,directives:[this.genTableTouch(n)]};var o=this.$createElement("table",{key:this.activePicker==="MONTH"?this.tableYear:this.tableMonth},e);return this.$createElement("div",i,[this.$createElement("transition",{props:{name:this.computedTransition}},[o])])},genPickerBody:function t(e){var n=this;var r=[];if(this.activePicker==="DATE"){r.push(e("div",{staticClass:"picker--date__header"},[this.genSelector()]));r.push(this.genTable([this.dateGenTHead(),this.dateGenTBody()],function(t){return n.updateTableMonth(n.tableMonth+t)}))}else if(this.activePicker==="MONTH"){r.push(e("div",{staticClass:"picker--date__header"},[this.genSelector()]));r.push(this.genTable([this.monthGenTBody()],function(t){return n.tableDate=""+(n.tableYear+t)}))}else if(this.activePicker==="YEAR"){r.push(this.genYears())}return r},createNativeLocaleFormatter:function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{start:0,length:0},i=r.start,o=r.length;var a=function t(e){var n=e.trim().split(" ")[0].split("-"),r=v(n,3),i=r[0],o=r[1],a=r[2];return[i,m(o||1),m(a||1)].join("-")};try{var s=new Intl.DateTimeFormat(e||undefined,n);return function(t){return s.format(new Date(a(t)+"T00:00:00+00:00"))}}catch(t){return i||o?function(t){return a(t).substr(i,o)}:null}},sanitizeDateString:function t(e,n){var r=e.split("-"),i=v(r,3),o=i[0],a=i[1],s=i[2];return(o+"-"+m(a)+"-"+m(s)).substr(0,{date:10,month:7,year:4}[n])},updateTableMonth:function t(e){if(e===12){this.tableDate=this.tableYear+1+"-01"}else if(e===-1){this.tableDate=this.tableYear-1+"-12"}else{this.tableDate=this.tableYear+"-"+(e+1)}}},created:function t(){this.tableDate=this.type==="month"?""+this.year:this.year+"-"+(this.month+1)},mounted:function t(){var e=new Date;this.currentDay=e.getDate();this.currentMonth=e.getMonth();this.currentYear=e.getFullYear()},render:function t(e){var n=[];!this.noTitle&&n.push(this.genTitle(this.formatters.titleDate(this.inputDate)));n.push(e("transition",{props:{origin:"center center",mode:"out-in",name:"scale-transition"}},[e("div",{staticClass:"picker__body",key:this.activePicker},this.genPickerBody(e))]));this.$scopedSlots.default&&n.push(this.genSlot());return e("v-card",{staticClass:"picker picker--date",class:d({"picker--landscape":this.landscape},this.themeClasses)},n)}}},function(t,e){},function(t,e,n){"use strict";e["a"]={methods:{genYears:function t(){return this.$createElement("ul",{staticClass:"picker--date__years",key:"year",ref:"years"},this.genYearItems())},yearClick:function t(e){var n=this;if(this.type==="year"){this.inputDate=""+e;this.$nextTick(function(){return n.autosave&&n.save()})}else if(this.type==="month"){var r=this.sanitizeDateString(e+"-"+(this.month+1),"month");if(this.isAllowed(r))this.inputDate=r;this.tableDate=""+e;this.activePicker="MONTH"}else{var i=this.sanitizeDateString(e+"-"+(this.tableMonth+1)+"-"+this.day,"date");if(this.isAllowed(i))this.inputDate=i;this.tableDate=e+"-"+(this.tableMonth+1);this.activePicker="MONTH"}},genYearItems:function t(){var e=this;var n=[];var r=function t(r,i){var o=e.formatters.year(""+r);n.push(e.$createElement("li",{class:e.year===r?e.addTextColorClassChecks({active:true}):{},on:{click:function t(){return e.yearClick(r)}}},o))};for(var i=this.year+100,o=this.year-100;i>o;i--){r(i,o)}return n}}}},function(t,e,n){"use strict";e["a"]={methods:{genYearIcon:function t(){return this.yearIcon?this.$createElement("v-icon",{props:{dark:true}},this.yearIcon):null},getYearBtn:function t(){var e=this;return this.$createElement("div",{class:{"picker--date__title-year":true,active:this.activePicker==="YEAR"},on:{click:function t(n){n.stopPropagation();e.activePicker="YEAR"}}},[this.formatters.year(""+this.year),this.genYearIcon()])},genTitleText:function t(e){return this.$createElement("transition",{props:{name:"slide-y-reverse-transition",mode:"out-in"}},[this.$createElement("div",{domProps:{innerHTML:e},key:e})])},genTitleDate:function t(e){var n=this;return this.$createElement("div",{staticClass:"picker--date__title-date",class:{active:this.activePicker===this.type.toUpperCase()},on:{click:function t(e){e.stopPropagation();n.activePicker=n.type.toUpperCase()}}},[this.genTitleText(e)])},genTitle:function t(e){return this.genPickerTitle([this.getYearBtn(),this.genTitleDate(e)])}}}},function(t,e,n){"use strict";e["a"]={methods:{genBtn:function t(e,n){var r=this;return this.$createElement("v-btn",{props:{dark:this.dark,icon:true},nativeOn:{click:function t(n){n.stopPropagation();if(r.activePicker==="DATE"){r.updateTableMonth(e)}else if(r.activePicker==="MONTH"){r.tableDate=""+e}}}},n)},genHeader:function t(e,n){var r=this;var i=this.$createElement("strong",{class:this.addTextColorClassChecks(),key:e,on:{click:function t(){return r.activePicker=r.activePicker==="DATE"?"MONTH":"YEAR"}}},n);var o=this.$createElement("transition",{props:{name:this.computedTransition}},[i]);return this.$createElement("div",{class:"picker--date__header-selector-date"},[o])},genSelector:function t(){var e=this.activePicker==="DATE"?this.tableMonth:this.tableYear;var n=this.activePicker==="DATE"?this.formatters.headerDate(this.tableYear+"-"+(this.tableMonth+1)):this.formatters.year(""+this.tableYear);return this.$createElement("div",{class:"picker--date__header-selector"},[this.genBtn(e-1,[this.$createElement("v-icon","chevron_left")]),this.genHeader(e,n),this.genBtn(e+1,[this.$createElement("v-icon","chevron_right")])])}}}},function(t,e,n){"use strict";e["a"]={methods:{dateWheelScroll:function t(e){e.preventDefault();this.updateTableMonth(e.deltaY<0?this.tableMonth+1:this.tableMonth-1)},dateGenTHead:function t(){var e=this;var n=this.weekDays.map(function(t){return e.$createElement("th",t)});return this.$createElement("thead",this.dateGenTR(n))},dateClick:function t(e){var n=this;this.inputDate=this.sanitizeDateString(this.tableYear+"-"+(this.tableMonth+1)+"-"+e,"date");this.$nextTick(function(){return n.autosave&&n.save()})},dateGenTD:function t(e){var n=this;var r=this.sanitizeDateString(this.tableYear+"-"+(this.tableMonth+1)+"-"+e,"date");var i=this.formatters.day(r);var o=this.dateIsActive(e);var a=this.dateIsCurrent(e);var s=Object.assign({"btn--active":o,"btn--outline":a&&!o,"btn--disabled":!this.isAllowed(r)},this.themeClasses);var u=this.$createElement("button",{staticClass:"btn btn--raised btn--icon",class:o||a?this.addBackgroundColorClassChecks(s):s,attrs:{type:"button"},domProps:{innerHTML:'<span class="btn__content">'+i+"</span>"},on:{click:function t(){return n.dateClick(e)}}});return this.$createElement("td",[u])},weekDaysBeforeFirstDayOfTheMonth:function t(){var e=function t(e){return e*1<10?"0"+e*1:""+e};var n=new Date(this.tableYear+"-"+e(this.tableMonth+1)+"-01T00:00:00+00:00");var r=n.getUTCDay();return(r-parseInt(this.firstDayOfWeek)+7)%7},dateGenTBody:function t(){var e=[];var n=new Date(this.tableYear,this.tableMonth+1,0).getDate();var r=[];var i=this.weekDaysBeforeFirstDayOfTheMonth();for(var o=0;o<i;o++){r.push(this.$createElement("td"))}for(var a=1;a<=n;a++){r.push(this.dateGenTD(a));if(r.length%7===0){e.push(this.dateGenTR(r));r=[]}}if(r.length){e.push(this.dateGenTR(r))}e.length<6&&e.push(this.dateGenTR([this.$createElement("td",{domProps:{innerHTML:"&nbsp;"}})]));return this.$createElement("tbody",e)},dateGenTR:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return[this.$createElement("tr",n,e)]},dateIsActive:function t(e){return this.tableYear===this.year&&this.tableMonth===this.month&&this.day===e},dateIsCurrent:function t(e){return this.currentYear===this.tableYear&&this.currentMonth===this.tableMonth&&this.currentDay===e}}}},function(t,e,n){"use strict";e["a"]={methods:{monthWheelScroll:function t(e){e.preventDefault();var n=this.tableYear;if(e.deltaY<0)n++;else n--;this.tableDate=""+n},monthClick:function t(e){var n=this;if(this.type==="date"){var r=this.sanitizeDateString(this.tableYear+"-"+(e+1)+"-"+this.day,"date");if(this.isAllowed(r))this.inputDate=r;this.updateTableMonth(e);this.activePicker="DATE"}else{this.inputDate=this.sanitizeDateString(this.tableYear+"-"+(e+1),"month");this.$nextTick(function(){return n.autosave&&n.save()})}},monthGenTD:function t(e){var n=this;var r=function t(e){return e*1<10?"0"+e*1:""+e};var i=this.tableYear+"-"+r(e+1);var o=this.formatters.month(i);var a=this.monthIsActive(e);var s=this.monthIsCurrent(e);var u=Object.assign({"btn--flat":!a,"btn--active":a,"btn--outline":s&&!a,"btn--disabled":this.type==="month"&&!this.isAllowed(i)},this.themeClasses);return this.$createElement("td",[this.$createElement("button",{staticClass:"btn",class:a||s?this.addBackgroundColorClassChecks(u):u,attrs:{type:"button"},domProps:{innerHTML:'<span class="btn__content">'+o+"</span>"},on:{click:function t(){return n.monthClick(e)}}})])},monthGenTBody:function t(){var e=this;var n=[];var r=Array(3).fill(null);var i=12/r.length;var o=function t(i){n.push(e.$createElement("tr",r.map(function(t,n){return e.monthGenTD(i*r.length+n)})))};for(var a=0;a<i;a++){o(a)}return this.$createElement("tbody",n)},monthIsActive:function t(e){return this.tableYear===this.year&&(this.type==="month"?this.month:this.tableMonth)===e},monthIsCurrent:function t(e){return this.currentYear===this.tableYear&&this.currentMonth===e}}}},function(t,e,n){"use strict";var r=n(26);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(146);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(1);n(147);e["a"]={name:"v-divider",functional:true,mixins:[r["a"]],props:{inset:Boolean},render:function t(e,n){var r=n.props,i=n.data,o=n.children;i.staticClass=("divider "+(i.staticClass||"")).trim();if(r.inset)i.staticClass+=" divider--inset";if(r.light)i.staticClass+=" theme--light";if(r.dark)i.staticClass+=" theme--dark";return e("hr",i)}}},function(t,e){},function(t,e,n){"use strict";var r=n(149);var i=n(151);r["a"].install=function t(e){e.component(r["a"].name,r["a"]);e.component(i["a"].name,i["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(1);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(150);e["a"]={name:"v-expansion-panel",mixins:[r["a"]],provide:function t(){return{panelClick:this.panelClick,focusable:this.focusable}},props:{expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean},methods:{getChildren:function t(){return this.$children.filter(function(t){if(!t.$options)return;return t.$options.name==="v-expansion-panel-content"})},panelClick:function t(e){if(!this.expand){return this.getChildren().forEach(function(t){return t.toggle(e)})}var n=this.$children.find(function(t){return t._uid===e});n&&n.toggle(e)}},render:function t(e){return e("ul",{staticClass:"expansion-panel",class:i({"expansion-panel--focusable":this.focusable,"expansion-panel--popout":this.popout,"expansion-panel--inset":this.inset},this.themeClasses)},this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(5);var i=n(12);var o=n(4);var a=n(3);var s=n(9);var u=n(6);e["a"]={name:"v-expansion-panel-content",mixins:[i["a"],o["a"]],components:{VIcon:a["a"]},directives:{Ripple:s["a"],ClickOutside:u["a"]},inject:["focusable","panelClick"],data:function t(){return{height:"auto"}},props:{hideActions:Boolean,ripple:Boolean},methods:{genBody:function t(){return this.$createElement("div",{ref:"body",class:"expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function t(){var e=this;return this.$createElement("div",{staticClass:"expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:function t(){return e.panelClick(e._uid)}}},[this.$slots.header,this.genIcon()])},genIcon:function t(e){if(this.hideActions)return null;var n=this.$slots.actions||this.$createElement("v-icon","keyboard_arrow_down");return this.$createElement("div",{staticClass:"header__icon"},[n])},toggle:function t(e){var n=this;var r=this._uid===e&&!this.isActive;if(r)this.isBooted=true;this.$nextTick(function(){return n.isActive=r})}},render:function t(e){var n=this;var i=[];this.$slots.header&&i.push(this.genHeader());i.push(e(r["a"],[this.genBody()]));return e("li",{staticClass:"expansion-panel__container",class:{"expansion-panel__container--active":this.isActive},attrs:{tabindex:0},on:{keydown:function t(e){if(n.focusable&&n.$el===document.activeElement&&e.keyCode===13)n.panelClick(n._uid)}}},i)}}},function(t,e,n){"use strict";var r=n(153);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(11);var i=n(0);var o=n(1);n(154);e["a"]={name:"v-footer",mixins:[r["a"],i["a"],o["a"]],props:{absolute:Boolean,fixed:Boolean},computed:{paddingLeft:function t(){return this.fixed||!this.app?0:this.$vuetify.application.left},paddingRight:function t(){return this.fixed||!this.app?0:this.$vuetify.application.right}},destroyed:function t(){if(this.app)this.$vuetify.application.bottom=0},methods:{updateApplication:function t(){if(!this.app)return;this.$vuetify.application.bottom=this.fixed?this.$el&&this.$el.clientHeight:0}},mounted:function t(){this.updateApplication()},render:function t(e){this.updateApplication();var n={staticClass:"footer",class:this.addBackgroundColorClassChecks({"footer--absolute":this.absolute,"footer--fixed":this.fixed,"theme--dark":this.dark,"theme--light":this.light}),style:{paddingLeft:this.paddingLeft+"px",paddingRight:this.paddingRight+"px"},ref:"content"};return e("footer",n,this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(156);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";e["a"]={name:"v-form",inheritAttrs:false,data:function t(){return{inputs:[],errorBag:{}}},props:{value:Boolean,lazyValidation:Boolean},watch:{errorBag:{handler:function t(){var e=Object.values(this.errorBag).includes(true);this.$emit("input",!e);return!e},deep:true}},methods:{getInputs:function t(){var e=[];var n=function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;if(l.errorBucket!==undefined){e.push(l)}else{t(l.$children,r+1)}}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}if(r===0)return e};return n(this.$children)},watchInputs:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getInputs();var n=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;if(this.inputs.includes(s)){continue}this.inputs.push(s);this.watchChild(s)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}},watchChild:function t(e){var n=this;var r=function t(e){e.$watch("valid",function(t){n.$set(n.errorBag,e._uid,!t)},{immediate:true})};if(!this.lazyValidation)return r(e);e.$watch("shouldValidate",function(t){if(!t)return;if(n.errorBag.hasOwnProperty(e._uid))return;r(e)})},validate:function t(){var e=this.inputs.filter(function(t){return!t.validate(true)}).length;return!e},reset:function t(){var e=this;this.inputs.forEach(function(t){return t.reset()});if(this.lazyValidation){Object.keys(this.errorBag).forEach(function(t){return e.$delete(e.errorBag,t)})}}},mounted:function t(){this.watchInputs()},updated:function t(){var e=this.getInputs();if(e.length<this.inputs.length){var n=this.inputs.filter(function(t){return!e.includes(t)});var r=true;var i=false;var o=undefined;try{for(var a=n[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var u=s.value;this.$delete(this.errorBag,u._uid);this.$delete(this.inputs,this.inputs.indexOf(u))}}catch(t){i=true;o=t}finally{try{if(!r&&a.return){a.return()}}finally{if(i){throw o}}}}this.watchInputs(e)},render:function t(e){var n=this;return e("form",{attrs:Object.assign({novalidate:true},this.$attrs),on:{submit:function t(e){return n.$emit("submit",e)}}},this.$slots.default)}}},function(t,e,n){"use strict";var r=n(2);var i=n(158);var o=n(160);var a=n(161);var s=n(162);var u=Object(r["d"])("spacer");var l={};l.install=function t(e){e.component(i["a"].name,i["a"]);e.component(o["a"].name,o["a"]);e.component(a["a"].name,a["a"]);e.component(s["a"].name,s["a"]);e.component(u.name,u)};e["a"]=l},function(t,e,n){"use strict";n(159);e["a"]={name:"v-content",props:{tag:{type:String,default:"main"}},computed:{styles:function t(){var e=this.$vuetify.application,n=e.bar,r=e.top,i=e.right,o=e.bottom,a=e.left;return{paddingTop:r+n+"px",paddingRight:i+"px",paddingBottom:o+"px",paddingLeft:a+"px"}}},mounted:function t(){if(this.$el.parentElement.tagName==="MAIN"){console.warn("v-content no longer needs to be wrapped in a <main> tag",this.$el.parentElement)}},render:function t(e){var n={staticClass:"content",style:this.styles,ref:"content"};return e("div",{staticClass:"content--wrap"},[e(this.tag,n,this.$slots.default)])}}},function(t,e){},function(t,e,n){"use strict";var r=n(24);n(23);e["a"]=Object(r["a"])("container")},function(t,e,n){"use strict";var r=n(24);n(23);e["a"]=Object(r["a"])("flex")},function(t,e,n){"use strict";var r=n(24);n(23);e["a"]=Object(r["a"])("layout")},function(t,e,n){"use strict";var r=n(164);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(11);var i=n(27);var o=n(1);var a=n(6);var s=n(8);var u=n(7);n(165);e["a"]={name:"v-navigation-drawer",mixins:[r["a"],i["a"],o["a"]],directives:{ClickOutside:a["a"],Resize:s["a"],Touch:u["a"]},data:function t(){return{isActive:false,touchArea:{left:0,right:0}}},props:{absolute:Boolean,clipped:Boolean,disableRouteWatcher:Boolean,disableResizeWatcher:Boolean,height:String,fixed:Boolean,floating:Boolean,miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:80},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,stateless:Boolean,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:300},value:{required:false}},computed:{calculatedHeight:function t(){return this.height||"100%"},calculatedWidth:function t(){return this.miniVariant?this.miniVariantWidth:this.width},classes:function t(){return{"navigation-drawer":true,"navigation-drawer--absolute":this.absolute,"navigation-drawer--clipped":this.clipped,"navigation-drawer--close":!this.isActive,"navigation-drawer--fixed":this.fixed,"navigation-drawer--floating":this.floating,"navigation-drawer--is-mobile":this.isMobile,"navigation-drawer--mini-variant":this.miniVariant,"navigation-drawer--open":this.isActive,"navigation-drawer--right":this.right,"navigation-drawer--temporary":this.temporary,"theme--dark":this.dark,"theme--light":this.light}},isMobile:function t(){return!this.permanent&&!this.temporary&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},marginTop:function t(){if(!this.app)return 0;var t=this.$vuetify.application.bar;t+=this.clipped?this.$vuetify.application.top:0;return t},maxHeight:function t(){if(!this.app)return"100%";return this.clipped?this.$vuetify.application.top+this.$vuetify.application.bottom:this.$vuetify.application.bottom},reactsToClick:function t(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function t(){return!this.disableResizeWatcher&&!this.stateless&&!this.permanent&&!this.temporary},reactsToRoute:function t(){return!this.disableRouteWatcher&&!this.stateless&&!this.permanent},resizeIsDisabled:function t(){return this.disableResizeWatcher||this.stateless},showOverlay:function t(){return this.isActive&&(this.temporary||this.isMobile)},styles:function t(){return{height:this.calculatedHeight,marginTop:this.marginTop+"px",maxHeight:"calc(100% - "+this.maxHeight+"px)",width:this.calculatedWidth+"px"}}},watch:{$route:function t(){if(this.reactsToRoute){this.isActive=!this.closeConditional()}},isActive:function t(e){this.$emit("input",e);if(this.temporary||this.isMobile){this.tryOverlay();this.$el&&(this.$el.scrollTop=0)}this.updateApplication()},isMobile:function t(e,n){!e&&this.isActive&&!this.temporary&&this.removeOverlay();if(n==null||this.resizeIsDisabled||!this.reactsToMobile)return;this.isActive=!e;this.updateApplication()},miniVariant:function t(){this.updateApplication()},permanent:function t(e){if(e){this.isActive=true}this.updateApplication()},right:function t(e,n){if(n!=null){var r=e?"left":"right";this.$vuetify.application[r]=0}this.updateApplication()},temporary:function t(e){this.tryOverlay();this.updateApplication()},value:function t(e){if(this.permanent)return;if(e!==this.isActive)this.isActive=e}},created:function t(){if(this.permanent){this.isActive=true}else if(this.stateless||this.value!=null){this.isActive=this.value}else if(!this.temporary){this.isActive=!this.isMobile}},destroyed:function t(){if(this.app){this.$vuetify.application[this.right?"right":"left"]=0}},methods:{calculateTouchArea:function t(){if(!this.$el.parentNode)return;var e=this.$el.parentNode.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}},closeConditional:function t(){return this.reactsToClick},genDirectives:function t(){var e=[{name:"click-outside",value:this.closeConditional}];!this.touchless&&e.push({name:"touch",value:{parent:true,left:this.swipeLeft,right:this.swipeRight}});return e},swipeRight:function t(e){if(this.isActive&&!this.right)return;this.calculateTouchArea();if(Math.abs(e.touchendX-e.touchstartX)<100)return;else if(!this.right&&e.touchstartX<=this.touchArea.left)this.isActive=true;else if(this.right&&this.isActive)this.isActive=false},swipeLeft:function t(e){if(this.isActive&&this.right)return;this.calculateTouchArea();if(Math.abs(e.touchendX-e.touchstartX)<100)return;else if(this.right&&e.touchstartX>=this.touchArea.right)this.isActive=true;else if(!this.right&&this.isActive)this.isActive=false},tryOverlay:function t(){if(!this.permanent&&this.showOverlay&&this.isActive){return this.genOverlay()}this.removeOverlay()},updateApplication:function t(){if(!this.app)return;var e=!this.isActive||this.temporary||this.isMobile?0:this.calculatedWidth;if(this.right){this.$vuetify.application.right=e}else{this.$vuetify.application.left=e}}},render:function t(e){var n=this;var r={class:this.classes,style:this.styles,directives:this.genDirectives(),on:{click:function t(){return n.$emit("update:miniVariant",false)}}};return e("aside",r,[this.$slots.default,e("div",{class:"navigation-drawer__border"})])}}},function(t,e){},function(t,e,n){"use strict";var r=n(167);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(3);var i=n(8);var o=n(0);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}n(168);e["a"]={name:"v-pagination",mixins:[o["a"]],directives:{Resize:i["a"]},data:function t(){return{maxButtons:0,defaultColor:"primary"}},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function t(e){return e%1===0}},totalVisible:[Number,String],nextIcon:{type:String,default:"chevron_right"},prevIcon:{type:String,default:"chevron_left"},value:{type:Number,default:0}},computed:{classes:function t(){return{pagination:true,"pagination--circle":this.circle,"pagination--disabled":this.disabled}},items:function t(){var e=this.totalVisible||this.maxButtons;if(this.length<=e){return this.range(1,this.length)}var n=e%2===0?1:0;var r=Math.floor(e/2);var i=this.length-r+1+n;if(this.value>=r&&this.value<=i){var o=this.value-r+2;var s=this.value+r-2-n;return[1,"..."].concat(a(this.range(o,s)),["...",this.length])}else{return[].concat(a(this.range(1,r)),["..."],a(this.range(this.length-r+1+n,this.length)))}}},watch:{value:function t(){this.init()}},mounted:function t(){this.init()},methods:{init:function t(){var e=this;this.selected=null;setTimeout(function(){return e.selected=e.value},100)},onResize:function t(){var e=this.$el&&this.$el.parentNode?this.$el.parentNode.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next:function t(e){e.preventDefault();this.$emit("input",this.value+1);this.$emit("next")},previous:function t(e){e.preventDefault();this.$emit("input",this.value-1);this.$emit("previous")},range:function t(e,n){var t=[];e=e>0?e:1;for(var r=e;r<=n;r++){t.push(r)}return t},genIcon:function t(e,n,i,o){return e("li",[e("button",{staticClass:"pagination__navigation",class:{"pagination__navigation--disabled":i},on:i?{}:{click:o}},[e(r["a"],[n])])])},genItem:function t(e,n){var r=this;return e("button",{staticClass:"pagination__item",class:n===this.value?this.addBackgroundColorClassChecks({"pagination__item--active":true}):{},on:{click:function t(){return r.$emit("input",n)}}},[n])},genItems:function t(e){var n=this;return this.items.map(function(t){return e("li",[isNaN(t)&&e("span",{class:"pagination__more"},[t])||n.genItem(e,t)])})}},render:function t(e){var n=[this.genIcon(e,this.prevIcon,this.value<=1,this.previous),this.genItems(e),this.genIcon(e,this.nextIcon,this.value>=this.length,this.next)];return e("ul",{directives:[{name:"resize",value:this.onResize}],class:this.classes},n)}}},function(t,e){},function(t,e,n){"use strict";var r=n(170);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(172);n(171);e["a"]={name:"v-parallax",mixins:[r["a"]],data:function t(){return{isBooted:false}},props:{alt:String,height:{type:[String,Number],default:500},jumbotron:Boolean,src:String},computed:{styles:function t(){return{display:"block",opacity:this.isBooted?1:0,transform:"translate(-50%, "+(this.jumbotron?0:this.parallax+"px")+")"}}},watch:{parallax:function t(){this.isBooted=true}},mounted:function t(){this.init()},methods:{init:function t(){var e=this;if(!this.$refs.img)return;if(this.$refs.img.complete){this.translate();this.listeners()}else{this.$refs.img.addEventListener("load",function(){e.translate();e.listeners()},false)}},objHeight:function t(){return this.$refs.img.naturalHeight},elOffsetTop:function t(){return this.$el.offsetTop}},render:function t(e){var n={staticClass:"parallax__image",class:{"parallax__image--jumbotron":this.jumbotron},style:this.styles,attrs:{src:this.src},ref:"img"};if(this.alt)n.attrs.alt=this.alt;var r=e("div",{staticClass:"parallax__image-container"},[e("img",n)]);var i=e("div",{staticClass:"parallax__content"},this.$slots.default);return e("div",{staticClass:"parallax",style:{height:this.jumbotron?this.normalizedHeight:this.normalizedHeight+"px"},on:this.$listeners},[r,i])}}},function(t,e){},function(t,e,n){"use strict";e["a"]={data:function t(){return{parallax:null,parallaxDist:null,percentScrolled:null,scrollTop:null,windowHeight:null,windowBottom:null}},computed:{normalizedHeight:function t(){if(this.jumbotron){return isNaN(this.height)?this.height:this.height+"px"}return Number(this.height.toString().replace(/(^[0-9]*$)/,"$1"))},imgHeight:function t(){return this.objHeight()}},beforeDestroy:function t(){window.removeEventListener("scroll",this.translate,false);window.removeEventListener("resize",this.translate,false)},methods:{listeners:function t(){window.addEventListener("scroll",this.translate,false);window.addEventListener("resize",this.translate,false)},translate:function t(){this.calcDimensions();this.percentScrolled=(this.windowBottom-this.elOffsetTop)/(this.normalizedHeight+this.windowHeight);this.parallax=Math.round(this.parallaxDist*this.percentScrolled);if(this.translated){this.translated()}},calcDimensions:function t(){var e=this.$el.getBoundingClientRect();this.scrollTop=window.pageYOffset;this.parallaxDist=this.imgHeight-this.normalizedHeight;this.elOffsetTop=e.top+this.scrollTop;this.windowHeight=window.innerHeight;this.windowBottom=this.scrollTop+this.windowHeight}}}},function(t,e,n){"use strict";var r=n(174);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(0);n(175);e["a"]={name:"v-progress-circular",mixins:[r["a"]],props:{button:Boolean,fill:{type:String,default:function t(){return this.indeterminate?"none":"transparent"}},indeterminate:Boolean,rotate:{type:Number,default:0},size:{type:[Number,String],default:32},width:{type:Number,default:4},value:{type:Number,default:0}},computed:{calculatedSize:function t(){var e=Number(this.size);if(this.button){e+=8}return e},circumference:function t(){return 2*Math.PI*this.radius},classes:function t(){return this.addTextColorClassChecks({"progress-circular":true,"progress-circular--indeterminate":this.indeterminate,"progress-circular--button":this.button})},cxy:function t(){return this.indeterminate&&!this.button?50:this.calculatedSize/2},normalizedValue:function t(){if(this.value<0){return 0}if(this.value>100){return 100}return this.value},radius:function t(){return this.indeterminate&&!this.button?20:(this.calculatedSize-this.width)/2},strokeDashArray:function t(){return Math.round(this.circumference*1e3)/1e3},strokeDashOffset:function t(){return(100-this.normalizedValue)/100*this.circumference+"px"},styles:function t(){return{height:this.calculatedSize+"px",width:this.calculatedSize+"px"}},svgSize:function t(){return this.indeterminate?false:this.calculatedSize},svgStyles:function t(){return{transform:"rotate("+this.rotate+"deg)"}},viewBox:function t(){return this.indeterminate?"25 25 50 50":false}},methods:{genCircle:function t(e,n,r){return e("circle",{class:"progress-circular__"+n,attrs:{fill:"transparent",cx:this.cxy,cy:this.cxy,r:this.radius,"stroke-width":this.width,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":r}})},genSvg:function t(e){var n=[!this.indeterminate&&this.genCircle(e,"underlay",0),this.genCircle(e,"overlay",this.strokeDashOffset)];return e("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",height:this.svgSize,width:this.svgSize,viewBox:this.viewBox}},n)}},render:function t(e){var n=e("div",{class:"progress-circular__info"},[this.$slots.default]);var r=this.genSvg(e);return e("div",{class:this.classes,style:this.styles,on:this.$listeners},[r,n])}}},function(t,e){},function(t,e,n){"use strict";var r=n(177);var i=n(179);r["a"].install=function t(e){e.component(r["a"].name,r["a"]);e.component(i["a"].name,i["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(15);var i=n(18);n(14);n(21);n(178);e["a"]={name:"v-radio-group",mixins:[r["a"],Object(i["b"])("radio")],model:{prop:"inputValue",event:"change"},provide:function t(){var e=this;return{isMandatory:function t(){return e.mandatory},name:function t(){return e.name}}},data:function t(){return{internalTabIndex:-1,radios:[]}},props:{column:{type:Boolean,default:true},inputValue:null,mandatory:{type:Boolean,default:true},name:String,row:Boolean},watch:{hasError:function t(e){this.radios.forEach(function(t){t.parentError=e})},inputValue:function t(e){this.radios.forEach(function(t){t.isActive=e===t.value})}},computed:{classes:function t(){return{"radio-group":true,"radio-group--column":this.column&&!this.row,"radio-group--row":this.row,"error--text":this.hasError}}},methods:{toggleRadio:function t(e){var n=this;if(this.disabled){return}this.shouldValidate=true;this.$emit("change",e);this.$nextTick(function(){return n.validate()});this.radios.filter(function(t){return t.value!==e}).forEach(function(t){return t.isActive=false})},radioBlur:function t(e){if(!e.relatedTarget||!e.relatedTarget.classList.contains("radio")){this.shouldValidate=true;this.$emit("blur",this.inputValue)}},register:function t(e){e.isActive=this.inputValue===e.value;e.$el.tabIndex=e.$el.tabIndex>0?e.$el.tabIndex:0;e.$on("change",this.toggleRadio);e.$on("blur",this.radioBlur);e.$on("focus",this.radioFocus);this.radios.push(e)},unregister:function t(e){e.$off("change",this.toggleRadio);e.$off("blur",this.radioBlur);e.$off("focus",this.radioFocus);var n=this.radios.findIndex(function(t){return t===e});if(n>-1)this.radios.splice(n,1)}},render:function t(e){var n={attrs:{role:"radiogroup"}};return this.genInputGroup(this.$slots.default,n)}}},function(t,e){},function(t,e,n){"use strict";var r=n(5);var i=n(3);var o=n(0);var a=n(22);var s=n(180);var u=n(1);var l=n(18);var c=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["a"]={name:"v-radio",inheritAttrs:false,inject:["isMandatory","name"],components:{VFadeTransition:r["b"],VIcon:i["a"]},mixins:[o["a"],a["a"],Object(l["a"])("radio","v-radio","v-radio-group"),s["a"],u["a"]],data:function t(){return{defaultColor:"accent",isActive:false,parentError:false}},props:{disabled:Boolean,value:null,label:String},computed:{classes:function t(){var t={"input-group":true,"input-group--active":this.isActive,"input-group--disabled":this.disabled,"input-group--selection-controls":true,"input-group--tab-focused":this.tabFocused,radio:true,"theme--dark":this.dark,"theme--light":this.light};if(!this.parentError){return this.addTextColorClassChecks(t)}return t},icon:function t(){return this.isActive?"radio_button_checked":"radio_button_unchecked"}},methods:{genInput:function t(e){var n=["string","number"].includes(c(this.value))?this.value:JSON.stringify(this.value);var r=this.$createElement("input",{ref:"input",style:{display:"none"},attrs:Object.assign({name:this.name&&this.name(),id:this.id,type:"radio",value:n},this.$attrs)},[n]);e.push(r);return this.$createElement("div",{class:"input-group__input"},e)},genWrapper:function t(e){var n=this;var r=[];r.push(this.genLabel());r.push(this.genInput(e));return this.$createElement("div",{class:this.classes,attrs:{role:"radio","aria-checked":this.isActive&&"true"||"false","aria-label":this.label},on:{keydown:function t(e){if([13,32].includes(e.keyCode)){e.preventDefault();n.toggle()}},blur:function t(e){n.$emit("blur",e);n.tabFocused=false}}},r)},genLabel:function t(){return this.$createElement("label",{on:{click:this.toggle}},this.$slots.label||this.label)},toggle:function t(){var e=this.isMandatory&&this.isMandatory()||false;if(!this.disabled&&(!this.isActive||!e)){this.$refs.input.checked=true;this.isActive=true;this.$emit("change",this.value)}}},mounted:function t(){this.radio.register(this)},beforeDestroy:function t(){this.radio.unregister(this)},render:function t(e){var n=e("v-fade-transition",{},[e("v-icon",{staticClass:"icon--selection-control",class:{"icon--radio":this.isActive},key:this.icon,on:Object.assign({click:this.toggle},this.$listeners)},this.icon)]);var r=this.ripple?this.genRipple():null;return this.genWrapper([n,r])}}},function(t,e,n){"use strict";e["a"]={data:function t(){return{tabFocused:false}}}},function(t,e,n){"use strict";var r=n(182);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(2);var i=n(0);var o=n(15);var a=n(6);n(183);e["a"]={name:"v-slider",mixins:[i["a"],o["a"]],directives:{ClickOutside:a["a"]},data:function t(){return{app:{},defaultColor:"primary",isActive:false,keyPressed:0}},props:{min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},ticks:Boolean,thumbColor:{type:String,default:null},thumbLabel:Boolean,trackColor:{type:String,default:null},value:[Number,String]},computed:{classes:function t(){return{"input-group--slider":true,"input-group--active":this.isActive,"input-group--dirty":this.inputWidth>0,"input-group--disabled":this.disabled,"input-group--ticks":!this.disabled&&this.stepNumeric&&this.ticks}},computedColor:function t(){return this.disabled?null:this.color||this.defaultColor},computedTrackColor:function t(){return this.disabled?null:this.trackColor||null},computedThumbColor:function t(){return this.disabled||!this.inputWidth?null:this.thumbColor||this.color||this.defaultColor},stepNumeric:function t(){return this.step>0?parseFloat(this.step):0},inputValue:{get:function t(){return this.value},set:function t(e){var n=this.min,r=this.max;e=Math.min(Math.max(e,n),r);var i=this.roundValue(e);this.lazyValue=i;if(i!==this.value){this.$emit("input",i)}}},interval:function t(){return 100/(this.max-this.min)*this.stepNumeric},thumbStyles:function t(){return{transition:this.keyPressed>=2?"none":"",left:this.inputWidth+"%"}},tickContainerStyles:function t(){return{transform:"translate(0, -50%)"}},trackPadding:function t(){if(this.thumbLabel&&this.isActive)return 0;return 6+(this.isActive&&!this.disabled?3:0)},trackStyles:function t(){return{transition:this.keyPressed>=2?"none":"",left:"calc("+this.inputWidth+"% + "+this.trackPadding+"px)",width:"calc("+(100-this.inputWidth)+"% - "+this.trackPadding+"px)"}},trackFillStyles:function t(){return{transition:this.keyPressed>=2?"none":"",width:"calc("+this.inputWidth+"% - "+this.trackPadding+"px)"}},numTicks:function t(){return Math.ceil((this.max-this.min)/this.stepNumeric)},inputWidth:function t(){return(this.roundValue(this.inputValue)-this.min)/(this.max-this.min)*100}},watch:{isActive:function t(e){this.isFocused=e},min:function t(e){e>this.inputValue&&this.$emit("input",parseFloat(e))},max:function t(e){e<this.inputValue&&this.$emit("input",parseFloat(e))},value:function t(e){this.inputValue=parseFloat(e)}},mounted:function t(){this.inputValue=this.value;this.app=document.querySelector("[data-app]")||console.warn("The v-slider component requires the presence of v-app or a non-body wrapping element with the [data-app] attribute.")},methods:{onMouseDown:function t(e){this.keyPressed=2;var n={passive:true};this.isActive=true;if("touches"in e){this.app.addEventListener("touchmove",this.onMouseMove,n);Object(r["a"])(this.app,"touchend",this.onMouseUp)}else{this.app.addEventListener("mousemove",this.onMouseMove,n);Object(r["a"])(this.app,"mouseup",this.onMouseUp)}},onMouseUp:function t(){this.keyPressed=0;var e={passive:true};this.isActive=false;this.app.removeEventListener("touchmove",this.onMouseMove,e);this.app.removeEventListener("mousemove",this.onMouseMove,e)},onMouseMove:function t(e){var n=this.$refs.track.getBoundingClientRect(),r=n.left,i=n.width;var o="touches"in e?e.touches[0].clientX:e.clientX;var a=Math.min(Math.max((o-r)/i,0),1);if(o>=r-8&&o<=r+i+8){this.inputValue=parseFloat(this.min)+a*(this.max-this.min)}},onKeyDown:function t(e){if(this.disabled||![33,34,35,36,37,39].includes(e.keyCode))return;e.preventDefault();var n=this.stepNumeric||1;var r=(this.max-this.min)/n;if(e.keyCode===37||e.keyCode===39){this.keyPressed+=1;var i=e.keyCode===37?-1:1;var o=e.shiftKey?3:e.ctrlKey?2:1;this.inputValue=this.inputValue+i*n*o}else if(e.keyCode===36){this.inputValue=parseFloat(this.min)}else if(e.keyCode===35){this.inputValue=parseFloat(this.max)}else if(e.keyCode===33||e.keyCode===34){var a=e.keyCode===34?-1:1;this.inputValue=this.inputValue-a*n*(r>100?r/10:10)}},onKeyUp:function t(e){this.keyPressed=0},sliderMove:function t(e){if(!this.isActive){this.onMouseMove(e)}},genThumbLabel:function t(e){return e("v-scale-transition",{props:{origin:"bottom center"}},[e("div",{staticClass:"slider__thumb--label__container",directives:[{name:"show",value:this.isActive}]},[e("div",{staticClass:"slider__thumb--label",class:this.addBackgroundColorClassChecks({},"computedThumbColor")},[e("span",{},this.inputValue)])])])},roundValue:function t(e){if(!this.stepNumeric){return e}var n=this.step.toString().trim();var r=n.indexOf(".")>-1?n.length-n.indexOf(".")-1:0;return 1*(Math.round(e/this.stepNumeric)*this.stepNumeric).toFixed(r)},genThumbContainer:function t(e){var n=[];n.push(e("div",{staticClass:"slider__thumb",class:this.addBackgroundColorClassChecks({},"computedThumbColor")}));this.thumbLabel&&n.push(this.genThumbLabel(e));return e("div",{staticClass:"slider__thumb-container",class:{"slider__thumb-container--label":this.thumbLabel},style:this.thumbStyles,on:{touchstart:this.onMouseDown,mousedown:this.onMouseDown},ref:"thumb"},n)},genSteps:function t(e){var n=this;var i=Object(r["c"])(this.numTicks+1).map(function(t){var r=e("span",{staticClass:"slider__tick",style:{left:t*(100/n.numTicks)+"%"}});return r});return e("div",{staticClass:"slider__ticks-container",style:this.tickContainerStyles},i)},genTrackContainer:function t(e){var n=[e("div",{staticClass:"slider__track",class:this.addBackgroundColorClassChecks({},"computedTrackColor"),style:this.trackStyles}),e("div",{staticClass:"slider__track-fill",class:this.addBackgroundColorClassChecks(),style:this.trackFillStyles})];return e("div",{staticClass:"slider__track__container",ref:"track"},n)}},render:function t(e){var n=[];n.push(this.genTrackContainer(e));this.step&&this.ticks&&n.push(this.genSteps(e));n.push(this.genThumbContainer(e));var r=e("div",{staticClass:"slider"},n);return this.genInputGroup([r],{attrs:{role:"slider",tabindex:this.disabled?-1:this.tabindex},on:Object.assign({},{mouseup:this.sliderMove,keydown:this.onKeyDown,keyup:this.onKeyUp},this.$listeners),directives:[{name:"click-outside"}]})}}},function(t,e){},function(t,e,n){"use strict";var r=n(185);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(5);var i=n(0);var o=n(4);n(186);e["a"]={name:"v-snackbar",components:{VSlideYTransition:r["e"],VSlideYReverseTransition:r["d"]},mixins:[i["a"],o["a"]],data:function t(){return{activeTimeout:{}}},props:{absolute:Boolean,bottom:Boolean,left:Boolean,multiLine:Boolean,right:Boolean,top:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},computed:{classes:function t(){return this.addBackgroundColorClassChecks({"snack--active":this.isActive,"snack--absolute":this.absolute,"snack--bottom":this.bottom||!this.top,"snack--left":this.left,"snack--multi-line":this.multiLine&&!this.vertical,"snack--right":this.right,"snack--top":this.top,"snack--vertical":this.vertical})},computedTransition:function t(){return this.top?"v-slide-y-transition":"v-slide-y-reverse-transition"}},watch:{isActive:function t(){this.setTimeout()}},methods:{setTimeout:function(t){function e(){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(){var t=this;clearTimeout(this.activeTimeout);if(this.isActive&&this.timeout){this.activeTimeout=setTimeout(function(){t.isActive=false},this.timeout)}})},mounted:function t(){this.setTimeout()},render:function t(e){var n=[];if(this.isActive){n.push(e("div",{staticClass:"snack__content"},this.$slots.default))}return e("div",{staticClass:"snack",class:this.classes,on:this.$listeners},[e(this.computedTransition,n)])}}},function(t,e){},function(t,e,n){"use strict";var r=n(188);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(4);var i=n(20);var o=n(6);function a(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}n(189);e["a"]={name:"v-speed-dial",mixins:[i["a"],r["a"]],directives:{ClickOutside:o["a"]},props:{direction:{type:String,default:"top",validator:function t(e){return["top","right","bottom","left"].includes(e)}},hover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function t(){return a({"speed-dial":true,"speed-dial--top":this.top,"speed-dial--right":this.right,"speed-dial--bottom":this.bottom,"speed-dial--left":this.left,"speed-dial--absolute":this.absolute,"speed-dial--fixed":this.fixed},"speed-dial--direction-"+this.direction,true)}},render:function t(e){var n=this;var r=[];var i={class:this.classes,directives:[{name:"click-outside"}],on:{click:function t(){return n.isActive=!n.isActive}}};if(this.hover){i.on.mouseenter=function(){return n.isActive=true};i.on.mouseleave=function(){return n.isActive=false}}if(this.isActive){r=(this.$slots.default||[]).map(function(t,e){t.key=e;return t})}var o=e("transition-group",{class:"speed-dial__list",props:{name:this.transition,tag:"div"}},r);return e("div",i,[this.$slots.activator,o])}}},function(t,e){},function(t,e,n){"use strict";var r=n(2);var i=n(191);var o=n(193);var a=n(194);var s=Object(r["d"])("stepper__header");var u=Object(r["d"])("stepper__items");i["a"].install=function t(e){e.component(i["a"].name,i["a"]);e.component(a["a"].name,a["a"]);e.component(o["a"].name,o["a"]);e.component(s.name,s);e.component(u.name,u)};e["a"]=i["a"]},function(t,e,n){"use strict";var r=n(1);n(192);e["a"]={name:"v-stepper",mixins:[r["a"]],provide:function t(){return{stepClick:this.stepClick}},data:function t(){return{inputValue:null,isBooted:false,steps:[],content:[],isReverse:false}},props:{nonLinear:Boolean,altLabels:Boolean,vertical:Boolean,value:[Number,String]},computed:{classes:function t(){return{stepper:true,"stepper--is-booted":this.isBooted,"stepper--vertical":this.vertical,"stepper--alt-labels":this.altLabels,"stepper--non-linear":this.nonLinear,"theme--dark":this.dark,"theme--light":this.light}}},watch:{inputValue:function t(e,n){var r=this;this.isReverse=Number(e)<Number(n);this.steps.forEach(function(t){return t.toggle(r.inputValue)});this.content.forEach(function(t){return t.toggle(r.inputValue,r.isReverse)});this.$emit("input",this.inputValue);n&&(this.isBooted=true)},value:function t(){var e=this;this.getSteps();this.$nextTick(function(){return e.inputValue=e.value})}},mounted:function t(){this.getSteps();this.inputValue=this.value||this.steps[0].step||1},methods:{getSteps:function t(){var e=this;this.steps=[];this.content=[];this.$children.forEach(function(t){if(t.$options._componentTag==="v-stepper-step"){e.steps.push(t)}else if(t.$options._componentTag==="v-stepper-content"){t.isVertical=e.vertical;e.content.push(t)}})},stepClick:function t(e){var n=this;this.getSteps();this.$nextTick(function(){return n.inputValue=e})}},render:function t(e){return e("div",{class:this.classes},this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(3);var i=n(9);e["a"]={name:"v-stepper-step",components:{VIcon:r["a"]},directives:{Ripple:i["a"]},inject:["stepClick"],data:function t(){return{isActive:false,isInactive:true}},props:{complete:Boolean,completeIcon:{type:String,default:"check"},editIcon:{type:String,default:"edit"},errorIcon:{type:String,default:"warning"},editable:Boolean,rules:{type:Array,default:function t(){return[]}},step:[Number,String]},computed:{classes:function t(){return{stepper__step:true,"stepper__step--active":this.isActive,"stepper__step--editable":this.editable,"stepper__step--inactive":this.isInactive,"stepper__step--error":this.hasError,"stepper__step--complete":this.complete,"error--text":this.hasError}},hasError:function t(){return this.rules.some(function(t){return t()!==true})}},methods:{click:function t(e){e.stopPropagation();if(this.editable){this.stepClick(this.step)}},toggle:function t(e){this.isActive=e.toString()===this.step.toString();this.isInactive=Number(e)<Number(this.step)}},render:function t(e){var n={class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}};var r=void 0;if(this.hasError){r=[e("v-icon",{},this.errorIcon)]}else if(this.complete){if(this.editable){r=[e("v-icon",{},this.editIcon)]}else{r=[e("v-icon",{},this.completeIcon)]}}else{r=this.step}var i=e("span",{staticClass:"stepper__step__step",class:{primary:!this.hasError&&(this.complete||this.isActive)}},r);var o=e("div",{staticClass:"stepper__label"},this.$slots.default);return e("div",n,[i,o])}}},function(t,e,n){"use strict";var r=n(5);e["a"]={name:"v-stepper-content",components:{VTabTransition:r["g"],VTabReverseTransition:r["f"]},data:function t(){return{height:0,isActive:false,isReverse:false,isVertical:false}},props:{step:{type:[Number,String],required:true}},computed:{classes:function t(){return{stepper__content:true}},computedTransition:function t(){return this.isReverse?"v-tab-reverse-transition":"v-tab-transition"},styles:function t(){if(!this.isVertical)return{};return{height:!isNaN(this.height)?this.height+"px":this.height}},wrapperClasses:function t(){return{stepper__wrapper:true}}},watch:{isActive:function t(){if(!this.isVertical){return}if(this.isActive){this.enter()}else{this.leave()}}},mounted:function t(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,false)},beforeDestroy:function t(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,false)},methods:{onTransition:function t(){if(!this.isActive)return;this.height="auto"},enter:function t(){var e=this;var n=0;setTimeout(function(){n=e.$refs.wrapper.scrollHeight},0);this.height=0;setTimeout(function(){return e.height=n||"auto"},450)},leave:function t(){var e=this;this.height=this.$refs.wrapper.clientHeight;setTimeout(function(){return e.height=0},0)},toggle:function t(e,n){this.isActive=e.toString()===this.step.toString();this.isReverse=n}},render:function t(e){var n={class:this.classes};var r={class:this.wrapperClasses,style:this.styles,ref:"wrapper"};if(!this.isVertical){n.directives=[{name:"show",value:this.isActive}]}var i=e("div",r,[this.$slots.default]);var o=e("div",n,[i]);return e(this.computedTransition,{on:this.$listeners},[o])}}},function(t,e,n){"use strict";var r=n(196);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(1);n(197);e["a"]={name:"v-subheader",functional:true,mixins:[r["a"]],props:{inset:Boolean},render:function t(e,n){var r=n.data,i=n.children,o=n.props;r.staticClass=("subheader "+(r.staticClass||"")).trim();if(o.inset)r.staticClass+=" subheader--inset";if(o.light)r.staticClass+=" theme--light";if(o.dark)r.staticClass+=" theme--dark";return e("li",r,i)}}},function(t,e){},function(t,e,n){"use strict";var r=n(199);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(22);var i=n(31);var o=n(7);n(14);n(21);n(200);e["a"]={name:"v-switch",mixins:[r["a"],i["a"]],directives:{Touch:o["a"]},computed:{classes:function t(){var t={"input-group--selection-controls switch":true};if(this.hasError){t["error--text"]=true}else{return this.addTextColorClassChecks(t)}return t},rippleClasses:function t(){return{"input-group--selection-controls__ripple":true,"input-group--selection-controls__ripple--active":this.isActive}},containerClasses:function t(){return{"input-group--selection-controls__container":true,"input-group--selection-controls__container--light":this.light,"input-group--selection-controls__container--disabled":this.disabled}},toggleClasses:function t(){return{"input-group--selection-controls__toggle":true,"input-group--selection-controls__toggle--active":this.isActive}}},methods:{onSwipeLeft:function t(){if(this.isActive)this.toggle()},onSwipeRight:function t(){if(!this.isActive)this.toggle()}},render:function t(e){var n=e("div",{class:this.containerClasses},[e("div",{class:this.toggleClasses}),this.genRipple({directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})]);return this.genInputGroup([n])}}},function(t,e){},function(t,e,n){"use strict";var r=n(202);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(11);var i=n(0);var o=n(1);n(203);e["a"]={name:"v-system-bar",mixins:[r["a"],i["a"],o["a"]],props:{absolute:Boolean,fixed:Boolean,lightsOut:Boolean,status:Boolean,window:Boolean},computed:{classes:function t(){return this.addBackgroundColorClassChecks(Object.assign({"system-bar--lights-out":this.lightsOut,"system-bar--absolute":this.absolute,"system-bar--fixed":this.fixed,"system-bar--status":this.status,"system-bar--window":this.window},this.themeClasses))},computedHeight:function t(){return this.window?32:24}},watch:{window:function t(){this.updateApplication()},fixed:function t(){this.updateApplication()},absolute:function t(){this.updateApplication()}},methods:{updateApplication:function t(){if(this.app&&this.$vuetify){this.$vuetify.application.bar=this.fixed||this.absolute?this.computedHeight:0}}},destroyed:function t(){if(this.app&&this.$vuetify)this.$vuetify.application.bar=0},render:function t(e){var n={staticClass:"system-bar",class:this.classes,style:{height:this.computedHeight+"px"}};return e("div",n,this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(205);var i=n(207);var o=n(208);var a=n(209);var s=n(210);var u=n(211);r["a"].install=function t(e){e.component(r["a"].name,r["a"]);e.component(i["a"].name,i["a"]);e.component(o["a"].name,o["a"]);e.component(a["a"].name,a["a"]);e.component(s["a"].name,s["a"]);e.component(u["a"].name,u["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(8);n(206);e["a"]={name:"v-tabs",directives:{Resize:r["a"]},provide:function t(){var e=this;return{registerContent:this.registerContent,unregisterContent:this.unregisterContent,registerTabItem:this.registerTabItem,unregisterTabItem:this.unregisterTabItem,next:this.next,prev:this.prev,slider:this.slider,tabClick:this.tabClick,isScrollable:function t(){return e.scrollable},isMobile:function t(){return e.isMobile}}},data:function t(){return{activeIndex:null,content:[],isBooted:false,resizeTimeout:null,reverse:false,tabItems:[],tabsContainer:null,tabsSlider:null,target:null,targetEl:null,transitionTime:300}},props:{centered:Boolean,fixed:Boolean,grow:Boolean,icons:Boolean,mobileBreakPoint:{type:[Number,String],default:1280},value:String,scrollable:{type:Boolean,default:true}},computed:{classes:function t(){return{tabs:true,"tabs--centered":this.centered,"tabs--fixed":this.fixed,"tabs--grow":this.grow,"tabs--icons":this.icons,"tabs--mobile":this.isMobile,"tabs--scroll-bars":this.scrollable}},isMobile:function t(){return this.$vuetify.breakpoint.width<this.mobileBreakPoint}},watch:{value:function t(){this.tabClick(this.value)},activeIndex:function t(){var e=this;this.updateTabs();this.$nextTick(function(){return e.isBooted=true})},tabItems:function t(e,n){var r=this;if(n.length>e.length&&e.length>0){if(!e.find(function(t){return t.id===r.target})){var i=n.findIndex(function(t){return t.id===r.target});this.$nextTick(function(){r.activeIndex=r.tabItems[i>0?i-1:0].id;r.target=r.activeIndex})}}this.slider()},"$vuetify.application.left":function t(){this.onContainerResize()},"$vuetify.application.right":function t(){this.onContainerResize()}},mounted:function t(){var e=this.tabItems.findIndex(function(t){var e=t.el;return e.firstChild.classList.contains("tabs__item--active")});var n=this.value||(this.tabItems[e!==-1?e:0]||{}).id;n&&this.tabClick(n)},methods:{registerContent:function t(e,n){this.content.push({id:e,toggle:n})},registerTabItem:function t(e,n,r){this.tabItems.push({id:e,toggle:n,el:r})},unregisterContent:function t(e){this.content=this.content.filter(function(t){return t.id!==e})},unregisterTabItem:function t(e){this.tabItems=this.tabItems.filter(function(t){return t.id!==e})},next:function t(e){var n=this.activeIndex+1;if(!this.content[n]){if(!e)return;n=0}this.tabClick(this.tabItems[n].id)},prev:function t(e){var n=this.activeIndex-1;if(!this.content[n]){if(!e)return;n=this.content.length-1}this.tabClick(this.tabItems[n].id)},onResize:function t(){this.slider()},onContainerResize:function t(){clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(this.onResize,this.transitionTime)},slider:function t(e){var n=this;this.tabsSlider=this.tabsSlider||!!this.$el&&this.$el.querySelector(".tabs__slider");this.tabsContainer=this.tabsContainer||!!this.$el&&this.$el.querySelector(".tabs__container");if(!this.tabsSlider||!this.tabsContainer)return;this.targetEl=e||this.targetEl;if(!this.targetEl)return;this.$nextTick(function(){var t=n.targetEl.scrollWidth/n.tabsContainer.clientWidth*100;n.tabsSlider.style.width=t+"%";n.tabsSlider.style.left=n.targetEl.offsetLeft+"px"})},tabClick:function t(e){var n=this;var r=function t(e){if(n.activeIndex===e){n.updateTabs()}else{n.activeIndex=e}};this.target=e;this.$nextTick(function(){var t=n.content.findIndex(function(t){return t.id===e});n.reverse=t<n.activeIndex;r(t);n.$emit("input",n.target)})},updateTabs:function t(){var e=this;this.content.forEach(function(t){var n=t.toggle;n(e.target,e.reverse,e.isBooted)});this.tabItems.forEach(function(t){var n=t.toggle;n(e.target)})}},render:function t(e){return e("div",{class:this.classes,directives:[{name:"resize",value:this.onResize}]},this.$slots.default)}}},function(t,e){},function(t,e,n){"use strict";var r=n(3);var i=n(0);var o=n(1);var a=n(8);var s=n(7);function u(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}e["a"]={name:"v-tabs-bar",mixins:[i["a"],o["a"]],directives:{Resize:a["a"],Touch:s["a"]},provide:function t(){var e=this;return{addTabItem:function t(n,r,i){e.registerTabItem(n,r,i);e.onResize()},removeTabItem:function t(n){e.unregisterTabItem(n);e.onResize()}}},inject:["isScrollable","isMobile","registerTabItem","unregisterTabItem"],data:function t(){return{isOverflowing:false,itemOffset:0,scrollOffset:0,startX:0}},computed:{classes:function t(){return{tabs__bar:true,"theme--dark":this.dark,"theme--light":this.light}},containerClasses:function t(){return{tabs__container:true}},wrapperClasses:function t(){return{tabs__wrapper:true,"tabs__wrapper--scrollable":this.isScrollable(),"tabs__wrapper--overflow":this.isOverflowing}},containerStyles:function t(){return{transform:"translateX("+-this.scrollOffset+"px)"}},leftIconVisible:function t(){return!this.isMobile()&&this.isScrollable()&&this.isOverflowing&&this.scrollOffset>0},rightIconVisible:function t(){if(this.isMobile()||!this.isScrollable()||!this.isOverflowing)return;var e=this.$refs.container;var n=this.newOffsetRight(this.scrollOffset,this.itemOffset);var r=n&&e.children[n.index].clientWidth||0;var i=this.scrollOffset+e.clientWidth;return e.scrollWidth-i>r*.3}},methods:{genContainer:function t(){return this.$createElement("ul",{class:this.containerClasses,style:this.containerStyles,ref:"container"},this.$slots.default)},genIcon:function t(e){var n=e.charAt(0).toUpperCase()+e.slice(1);return this.$createElement(r["a"],{props:u({},""+e,true),style:{display:"inline-flex"},on:{click:this["scroll"+n]}},"chevron_"+e)},genWrapper:function t(){return this.$createElement("div",{class:this.wrapperClasses,directives:[{name:"touch",value:{start:this.start,move:this.move,end:this.end}}]},[this.genContainer()])},start:function t(e){this.startX=this.scrollOffset+e.touchstartX;this.$refs.container.style.transition="none"},move:function t(e){var n=this.startX-e.touchmoveX;this.scrollOffset=n},end:function t(e){this.onResize();var n=this.$refs.container;var r=n.scrollWidth-this.$el.clientWidth/2;n.style.transition=null;if(this.scrollOffset<0||!this.isOverflowing){this.scrollOffset=0}else if(this.scrollOffset>=r){var i=n.children[n.children.length-1];this.scrollOffset=r-i.clientWidth}},scrollLeft:function t(){var e=this.newOffset("Left"),n=e.offset,r=e.index;this.scrollOffset=n;this.itemOffset=r},scrollRight:function t(){var e=this.newOffset("Right"),n=e.offset,r=e.index;this.scrollOffset=n;this.itemOffset=r},onResize:function t(){if(this._isDestroyed)return;var e=this.$refs.container;this.isOverflowing=e.clientWidth<e.scrollWidth},newOffset:function t(e){return this["newOffset"+e](this.scrollOffset,this.itemOffset)},newOffsetLeft:function t(e,n){var r=this.$refs.container;var i=r.children;var o=0;for(var a=n-1;a>=0;a--){if(!i[a].classList.contains("tabs__slider")){var s=o+i[a].clientWidth;if(s>=r.clientWidth){return{offset:e-o,index:a+1}}o=s}}return{offset:0,index:0}},newOffsetRight:function t(e,n){var r=this.$refs.container;var i=r.children;var o=e;for(var a=n;a<i.length;a++){if(!i[a].classList.contains("tabs__slider")){var s=o+i[a].clientWidth;if(s>e+r.clientWidth){return{offset:o,index:a}}o=s}}return null}},render:function t(e){return e("div",{class:this.addBackgroundColorClassChecks(this.classes),directives:[{name:"resize",value:this.onResize}]},[this.genWrapper(),this.leftIconVisible?this.genIcon("left"):null,this.rightIconVisible?this.genIcon("right"):null])}}},function(t,e,n){"use strict";var r=n(12);var i=n(5);var o=n(7);e["a"]={name:"v-tabs-content",mixins:[r["a"]],inject:["registerContent","unregisterContent"],components:{VTabTransition:i["g"],VTabReverseTransition:i["f"]},directives:{Touch:o["a"]},data:function t(){return{isActive:false,reverse:false}},props:{id:{type:String,required:true},transition:{type:[Boolean,String],default:"tab-transition"},reverseTransition:{type:[Boolean,String],default:"tab-reverse-transition"}},computed:{computedTransition:function t(){return this.reverse?this.reverseTransition:this.transition}},methods:{toggle:function t(e,n,r){this.$el.style.transition=!r?"none":null;this.reverse=n;this.isActive=this.id===e}},mounted:function t(){this.registerContent(this.id,this.toggle)},beforeDestroy:function t(){this.unregisterContent(this.id)},render:function t(e){var n={staticClass:"tabs__content",directives:[{name:"show",value:this.isActive}],on:this.$listeners};if(this.id)n.domProps={id:this.id};var r=e("div",n,this.showLazyContent(this.$slots.default));if(!this.computedTransition)return r;return e("transition",{props:{name:this.computedTransition}},[r])}}},function(t,e,n){"use strict";var r=n(13);e["a"]={name:"v-tabs-item",inject:["slider","tabClick","addTabItem","removeTabItem"],mixins:[r["a"]],data:function t(){return{isActive:false}},props:{activeClass:{type:String,default:"tabs__item--active"}},computed:{classes:function t(){var t={tabs__item:true,"tabs__item--disabled":this.disabled};t[this.activeClass]=!this.to&&this.isActive;return t},action:function t(){var e=this.to||this.href;if(!e||e===Object(e))return this._uid;return e.replace("#","")}},watch:{$route:function t(){this.to&&this.callSlider()}},mounted:function t(){this.addTabItem(this.action,this.toggle,this.$el);this.callSlider()},beforeDestroy:function t(){this.removeTabItem(this.action)},methods:{callSlider:function t(){var e=this;setTimeout(function(){e.$el.firstChild.classList.contains("tabs__item--active")&&e.slider(e.$el)},0)},click:function t(e){e.preventDefault();this.$emit("click",e);if(!this.to&&!this.href)return;if(!this.to){this.tabClick(this.action)}this.callSlider()},toggle:function t(e){var n=this;this.isActive=this.action===e;this.$nextTick(function(){n.isActive&&n.slider(n.$el)})}},render:function t(e){var n=this.generateRouteLink();var r=n.data;var i=this.disabled?"div":n.tag;return e("li",{class:"tabs__li"},[e(i,r,this.$slots.default)])}}},function(t,e,n){"use strict";var r=n(7);e["a"]={name:"v-tabs-items",directives:{Touch:r["a"]},inject:["next","prev"],props:{cycle:Boolean,touchless:Boolean},methods:{swipeLeft:function t(){this.next(this.cycle)},swipeRight:function t(){this.prev(this.cycle)}},render:function t(e){var n={staticClass:"tabs__items",directives:[]};!this.touchless&&n.directives.push({name:"touch",value:{left:this.swipeLeft,right:this.swipeRight}});return e("div",n,this.$slots.default)}}},function(t,e,n){"use strict";var r=n(0);e["a"]={name:"v-tabs-slider",mixins:[r["a"]],data:function t(){return{defaultColor:"accent"}},render:function t(e){return e("li",{staticClass:"tabs__slider",class:this.addBackgroundColorClassChecks()})}}},function(t,e,n){"use strict";var r=n(213);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(0);var i=n(15);var o=n(42);var a=n(43);var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(14);n(36);e["a"]={name:"v-text-field",mixins:[r["a"],i["a"],o["a"]],inheritAttrs:false,data:function t(){return{initialValue:null,inputHeight:null,internalChange:false,badInput:false,lazySelection:0}},props:{autofocus:Boolean,autoGrow:Boolean,box:Boolean,clearable:Boolean,color:{type:String,default:"primary"},counter:[Boolean,Number,String],fullWidth:Boolean,multiLine:Boolean,placeholder:String,prefix:String,rows:{default:5},singleLine:Boolean,solo:Boolean,suffix:String,textarea:Boolean,type:{type:String,default:"text"}},computed:{classes:function t(){var t={"input-group--text-field":true,"input-group--text-field-box":this.box,"input-group--single-line":this.singleLine||this.solo,"input-group--solo":this.solo,"input-group--multi-line":this.multiLine,"input-group--full-width":this.fullWidth,"input-group--prefix":this.prefix,"input-group--suffix":this.suffix,"input-group--textarea":this.textarea};if(this.hasError){t["error--text"]=true}else{return this.addTextColorClassChecks(t)}return t},count:function t(){var e=void 0;if(this.inputValue)e=this.inputValue.toString().length;else e=0;return e+" / "+this.counterLength},counterLength:function t(){var e=parseInt(this.counter,10);return isNaN(e)?25:e},inputValue:{get:function t(){return this.lazyValue},set:function t(e){if(this.mask){this.lazyValue=this.unmaskText(this.maskText(this.unmaskText(e)));this.setSelectionRange()}else{this.lazyValue=e;this.$emit("input",this.lazyValue)}}},isDirty:function t(){return this.lazyValue!=null&&this.lazyValue.toString().length>0||this.badInput||["time","date","datetime-local","week","month"].includes(this.type)},shouldAutoGrow:function t(){return(this.multiLine||this.textarea)&&this.autoGrow}},watch:{isFocused:function t(e){if(e){this.initialValue=this.lazyValue}else if(this.initialValue!==this.lazyValue){this.$emit("change",this.lazyValue)}},value:function t(e){var n=this;if(this.mask&&!this.internalChange){var r=this.maskText(this.unmaskText(e));this.lazyValue=this.unmaskText(r);String(e)!==this.lazyValue&&this.$nextTick(function(){n.$refs.input.value=r;n.$emit("input",n.lazyValue)})}else this.lazyValue=e;if(this.internalChange)this.internalChange=false;!this.validateOnBlur&&this.validate();this.shouldAutoGrow&&this.calculateInputHeight()}},mounted:function t(){this.shouldAutoGrow&&this.calculateInputHeight();this.autofocus&&this.focus()},methods:{calculateInputHeight:function t(){var e=this;this.inputHeight=null;this.$nextTick(function(){var t=e.$refs.input?e.$refs.input.scrollHeight:0;var n=e.rows*24;var r=t<n?n:t;e.inputHeight=r+(e.textarea?4:0)})},onInput:function t(e){this.mask&&this.resetSelections(e.target);this.inputValue=e.target.value;this.badInput=e.target.validity&&e.target.validity.badInput;this.shouldAutoGrow&&this.calculateInputHeight()},blur:function t(e){var n=this;this.isFocused=false;this.internalChange=false;this.$nextTick(function(){n.validate()});this.$emit("blur",e)},focus:function t(e){if(!this.$refs.input)return;this.isFocused=true;if(document.activeElement!==this.$refs.input){this.$refs.input.focus()}this.$emit("focus",e)},keyDown:function t(e){if(this.multiLine&&this.isFocused&&e.keyCode===13){e.stopPropagation()}this.internalChange=true},genCounter:function t(){return this.$createElement("div",{class:{"input-group__counter":true,"input-group__counter--error":this.hasError}},this.count)},genInput:function t(){var e=this.multiLine||this.textarea?"textarea":"input";var n=Object.assign({},this.$listeners);delete n["change"];var r={style:{},domProps:{autofocus:this.autofocus,disabled:this.disabled,required:this.required,value:this.maskText(this.lazyValue)},attrs:s({},this.$attrs,{readonly:this.readonly,tabindex:this.tabindex,"aria-label":(!this.$attrs||!this.$attrs.id)&&this.label}),on:Object.assign(n,{blur:this.blur,input:this.onInput,focus:this.focus,keydown:this.keyDown}),ref:"input"};if(this.shouldAutoGrow){r.style.height=this.inputHeight&&this.inputHeight+"px"}if(this.placeholder)r.domProps.placeholder=this.placeholder;if(!this.textarea&&!this.multiLine){r.domProps.type=this.type}else{r.domProps.rows=this.rows}if(this.mask){r.attrs.maxlength=this.masked.length}var i=[this.$createElement(e,r)];this.prefix&&i.unshift(this.genFix("prefix"));this.suffix&&i.push(this.genFix("suffix"));return i},genFix:function t(e){return this.$createElement("span",{class:"input-group--text-field__"+e},this[e])},clearableCallback:function t(){var e=this;this.inputValue=null;this.$nextTick(function(){return e.$refs.input.focus()})},resetSelections:function t(e){if(!e.selectionEnd)return;this.selection=e.selectionEnd;this.lazySelection=0;var n=true;var r=false;var i=undefined;try{for(var o=e.value.substr(0,this.selection)[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;Object(a["a"])(u)||this.lazySelection++}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}},render:function t(){return this.genInputGroup(this.genInput(),{attrs:{tabindex:false}})}}},function(t,e,n){"use strict";var r=n(215);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(2);var i=n(17);var o=n(45);var a=n(217);var s=n(218);var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};n(44);n(216);e["a"]={name:"v-time-picker",components:{VCard:i["a"]},mixins:[o["a"],s["a"],a["a"]],data:function t(){return{isDragging:false,rotate:0,originalTime:this.value,period:"am",selectingHour:true,ranges:{hours:Object(r["c"])(24),minutes:Object(r["c"])(60)}}},props:{format:{type:String,default:"ampm",validator:function t(e){return["ampm","24hr"].includes(e)}},allowedHours:{type:[Array,Object,Function],default:function t(){return null}},allowedMinutes:{type:[Array,Object,Function],default:function t(){return null}}},computed:{is24hr:function t(){return this.format!=="ampm"},is24hrAfter12:function t(){return this.selectingHour&&this.is24hr&&this.hour>=12},divider:function t(){return this.selectingHour?12:60},degrees:function t(){return this.degreesPerUnit*Math.PI/180},degreesPerUnit:function t(){return 360/this.divider},inputTime:{get:function t(){if(this.value&&!(this.value instanceof Date)){if(!this.is24hr){this.period=this.value.match(/pm/i)?"pm":"am"}return this.value}var e=new Date;if(this.value instanceof Date){e=this.value}var n=e.getHours();var r=e.getMinutes();var i="";if(!this.is24hr){i=n>=12?"pm":"am";n=n>12?n-12:n;n=n===0?12:n}i&&(this.period=i);n=this.firstAllowed("hour",n);r=this.firstAllowed("minute",r);r=r<10?"0"+r:r>59?"00":r;return n+":"+r+i},set:function t(e){return this.$emit("input",e)}},timeArray:function t(){return this.inputTime.replace(/(am|pm)/,"").split(":")},hour:{get:function t(){return parseInt(this.timeArray[0])},set:function t(e){if(!this.is24hr){e=e>12?e-12:e<1?12:e}else{e=e<10?"0"+e:e>23?"00":e}this.inputTime=e+":"+this.minute+(!this.is24hr?this.period:"")}},minute:{get:function t(){var e=parseInt(this.timeArray[1]);return e<10?"0"+e:e>59?"00":e},set:function t(e){e=e<10?"0"+parseInt(e):e>59?"00":e;var n=this.hour;if(this.is24hr&&n<10){n="0"+n}this.inputTime=n+":"+e+(!this.is24hr?this.period:"")}},clockHand:function t(){if(this.selectingHour)return this.degreesPerUnit*this.hour;return this.degreesPerUnit*this.minute},radius:function t(){return this.clockSize/2},clockSize:{get:function t(){return this.size},set:function t(e){this.size=e}},size:function t(){return this.landscape?250:280}},watch:{period:function t(e){var n=!!this.allowedHours&&this.selectingHour?this.firstAllowed("hour",this.hour-1):this.hour;this.inputTime=n+":"+this.minute+e},value:function t(e){if(this.isSaving){this.originalTime=this.inputTime;this.isSaving=false}}},methods:{save:function t(){var e=this;if(this.originalTime){this.originalTime=this.value}else{this.inputTime=this.inputTime;this.originalTime=this.inputTime}if(this.$parent&&this.$parent.isActive)this.$parent.isActive=false;this.$nextTick(function(){return e.selectingHour=true})},cancel:function t(){var e=this;this.inputTime=this.originalTime;if(this.$parent&&this.$parent.isActive)this.$parent.isActive=false;this.$nextTick(function(){return e.selectingHour=true})},isAllowed:function t(e,n){var r=this["allowed"+(e.charAt(0).toUpperCase()+e.slice(1))+"s"];var i=e==="hour"&&!this.is24hr&&this.period==="pm"?n+12:n;if(!r)return true;if(Array.isArray(r)){return!!r.some(function(t){return t===n})}else if(r instanceof Function){return r(i)}else if(r===Object(r)){var o=e==="minute"?this.ranges.minutes:this.ranges.hours;var a=e==="minute"?60:24;if(r.min===String(r.min)){r.min=this.convert12to24hr(r.min)}if(r.max===String(r.max)){r.max=this.convert12to24hr(r.max)}var s=r.max-r.min;n=e==="hour"&&!this.is24hr&&this.period==="pm"?n+12:n;for(var u=0;u<=s;u++){var l=(r.min+u)%a;if(o[l]===n)return true}return false}return true},convert12to24hr:function t(e){e=e.toLowerCase();var n=e.indexOf("pm")!==-1;var r=parseInt(e.slice(0,e.indexOf(n?"pm":"am")));return n?r+12:r},generateRange:function t(e,n){var r=e==="hour"?this.ranges.hours:this.ranges.minutes;var i=1;if(e==="hour"&&!this.is24hr){r=r.slice(1,13);i=0}return r.slice(n+i,r.length).concat(r.slice(0,n+i))},firstAllowed:function t(e,n){var r=this;var i=this["allowed"+(e.charAt(0).toUpperCase()+e.slice(1))+"s"];if(!i)return n;var o=this.generateRange(e,n);var a=o.find(function(t){return r.isAllowed(e,t)});return a||n}},render:function t(e){var n=[this.genBody()];!this.noTitle&&n.unshift(this.genTitle());this.$scopedSlots.default&&n.push(this.genSlot());return e("v-card",{class:u({"picker picker--time":true,"picker--landscape":this.landscape,"picker--time--hours":this.selectingHour},this.themeClasses)},n)}}},function(t,e){},function(t,e,n){"use strict";e["a"]={methods:{genTitle:function t(){var e=[this.genTime()];if(this.format==="ampm"){e.push(this.genAMPM())}return this.genPickerTitle(e)},genTime:function t(){var e=this;var n=this.hour;if(this.is24hr&&n<10){n="0"+n}return this.$createElement("div",{class:"picker--time__title"},[this.$createElement("span",{class:{active:this.selectingHour},on:{click:function t(){return e.selectingHour=true}}},n),this.$createElement("span",{class:{active:!this.selectingHour},on:{click:function t(){return e.selectingHour=false}}},":"+this.minute)])},genAMPM:function t(){return this.$createElement("div",[this.genPeriod("am"),this.genPeriod("pm")])},genPeriod:function t(e){var n=this;return this.$createElement("span",{class:{active:this.period===e},on:{click:function t(){return n.period=e}}},e.toUpperCase())}}}},function(t,e,n){"use strict";function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}e["a"]={data:function t(){return{hasChanged:false}},methods:{genBody:function t(){var e=this;var n=[this.genHand(this.selectingHour?"hour":"minute")];var r={class:"picker--time__clock",on:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function t(){e.isDragging&&e.onMouseUp()},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},key:this.selectingHour?"hour":"minute",ref:"clock"};this.selectingHour&&n.push(this.genHours())||n.push(this.genMinutes());if(this.scrollable){r.on.wheel=function(t){t.preventDefault();var n=t.wheelDelta>0?1:-1;var r=e.selectingHour?"changeHour":"changeMinute";e[r](n)}}return this.$createElement("div",{class:"picker__body"},[this.$createElement("transition",{props:{name:"fade-transition",mode:"out-in"}},[this.$createElement("div",r,n)])])},genHand:function t(e){var n=this.is24hrAfter12?"scaleY(0.6)":"";return[this.$createElement("div",{staticClass:"picker--time__clock-hand",class:this.addBackgroundColorClassChecks(r({},e,true)),style:{transform:"rotate("+this.clockHand+"deg) "+n}})]},genHours:function t(){var e=this.is24hr?24:12;var n=[];var r=0;if(e===12){e++;r=1}for(var i=r;i<e;i++){var o={active:i===this.hour,disabled:!this.isAllowed("hour",i)};n.push(this.$createElement("span",{class:this.addBackgroundColorClassChecks(o,i===this.hour?"computedColor":null),style:this.getTransform(i),domProps:{innerHTML:"<span>"+i+"</span>"}}))}return n},genMinutes:function t(){var e=[];for(var n=0;n<60;n=n+5){var r=n;if(r<10)r="0"+r;if(r===60)r="00";var i={active:r.toString()===this.minute.toString(),disabled:!this.isAllowed("minute",n)};e.push(this.$createElement("span",{class:this.addBackgroundColorClassChecks(i,r.toString()===this.minute.toString()?"computedColor":null),style:this.getTransform(n),domProps:{innerHTML:"<span>"+r+"</span>"}}))}return e},getTransform:function t(e){var n=this.getPosition(e),r=n.x,i=n.y;return{transform:"translate("+r+"px, "+i+"px)"}},getPosition:function t(e){var n=this.selectingHour&&this.is24hr&&e>=12?.5:.8;var r=this.radius*n;e=this.selectingHour&&this.is24hr?e%12:e;return{x:Math.round(Math.sin(e*this.degrees)*r),y:Math.round(-Math.cos(e*this.degrees)*r)}},changeHour:function t(e){var n=this;var r=this.generateRange("hour",this.hour);e<0&&(r=r.reverse().slice(1));this.hour=r.find(function(t){return n.allowedHours?n.isAllowed("hour",t):true});return true},changeMinute:function t(e){var n=this;var r=Number(this.minute);var i=this.generateRange("minute",r);e<0&&(i=i.reverse().slice(1));var o=i.find(function(t){return n.allowedMinutes?n.isAllowed("minute",t):true});this.minute=o<10?"0"+o:o;return true},onMouseDown:function t(e){e.preventDefault();this.isDragging=true;this.onDragMove(e)},onMouseUp:function t(){this.isDragging=false;!this.selectingHour&&this.autosave&&this.save();if(this.hasChanged){this.selectingHour=false;this.hasChanged=false}},onDragMove:function t(e){e.preventDefault();if(!this.isDragging&&e.type!=="click")return;var n=this.$refs.clock.getBoundingClientRect();var r={x:n.width/2,y:0-n.width/2};var i="touches"in e?e.touches[0].clientY:e.clientY;var o="touches"in e?e.touches[0].clientX:e.clientX;var a={y:n.top-i,x:o-n.left};var s=this.selectingHour?"hour":"minute";var u=Math.round(this.angle(r,a)/this.degreesPerUnit);if(this.selectingHour&&this.is24hr){var l=this.euclidean(r,a)/this.radius<.65;u=l?u+12:u;u=this.angle(r,a)>=345?(u+12)%24:u}if(this.isAllowed(s,u)){this[s]=u;this.hasChanged=true}},euclidean:function t(e,n){var r=Math.abs(n.x-e.x);var i=Math.abs(n.y-e.y);return Math.sqrt(r*r+i*i)},angle:function t(e,n){var r={x:e.x,y:e.y+Math.sqrt(Math.abs(n.x-e.x)*Math.abs(n.x-e.x)+Math.abs(n.y-e.y)*Math.abs(n.y-e.y))};var i=2*Math.atan2(n.y-r.y,n.x-r.x);return Math.abs(i*180/Math.PI)}}}},function(t,e,n){"use strict";var r=n(2);var i=n(220);var o=n(222);var a=Object(r["d"])("toolbar__title");var s=Object(r["d"])("toolbar__items");i["a"].install=function t(e){e.component(i["a"].name,i["a"]);e.component(s.name,s);e.component(a.name,a);e.component(o["a"].name,o["a"])};e["a"]=i["a"]},function(t,e,n){"use strict";var r=n(11);var i=n(0);var o=n(1);n(221);e["a"]={name:"v-toolbar",mixins:[r["a"],i["a"],o["a"]],data:function t(){return{heights:{mobileLandscape:48,mobile:56,desktop:64,dense:48},isExtended:false,isScrollingProxy:false,marginTop:0,previousScroll:null,target:null}},props:{absolute:Boolean,card:Boolean,clippedLeft:Boolean,clippedRight:Boolean,dense:Boolean,extended:Boolean,fixed:Boolean,flat:Boolean,floating:Boolean,height:[Number,String],manualScroll:{type:Boolean,default:null},prominent:Boolean,scrollOffScreen:Boolean,scrollTarget:String,scrollThreshold:{type:Number,default:100}},computed:{computedHeight:function t(){if(this.height)return parseInt(this.height);if(this.dense)return this.heights.dense;if(this.prominent||this.$vuetify.breakpoint.mdAndUp)return this.heights.desktop;if(this.$vuetify.breakpoint.width>this.$vuetify.breakpoint.height)return this.heights.mobileLandscape;return this.heights.mobile},computedMarginTop:function t(){if(!this.app)return this.marginTop;return this.marginTop+this.$vuetify.application.bar},classes:function t(){return this.addBackgroundColorClassChecks({toolbar:true,"elevation-0":this.flat,"toolbar--absolute":this.absolute,"toolbar--card":this.card,"toolbar--clipped":this.clippedLeft||this.clippedRight,"toolbar--dense":this.dense,"toolbar--fixed":this.fixed,"toolbar--floating":this.floating,"toolbar--prominent":this.prominent,"toolbar--extended":this.isExtended,"theme--dark":this.dark,"theme--light":this.light})},isScrolling:{get:function t(){return this.manualScroll!=null?this.manualScroll:this.isScrollingProxy},set:function t(e){this.isScrollingProxy=e}},paddingLeft:function t(){if(!this.app||this.clippedLeft)return 0;return this.$vuetify.application.left},paddingRight:function t(){if(!this.app||this.clippedRight)return 0;return this.$vuetify.application.right},styles:function t(){var e={marginTop:this.computedMarginTop+"px"};if(this.app){e.paddingRight=this.paddingRight+"px";e.paddingLeft=this.paddingLeft+"px"}return e}},watch:{clippedLeft:function t(e){this.updateApplication()},clippedRight:function t(e){this.updateApplication()},isScrolling:function t(e){this.whenScrolled(e)}},mounted:function t(){this.whenScrolled(this.isScrolling)},destroyed:function t(){if(this.app)this.$vuetify.application.top=0},methods:{onScroll:function t(){if(typeof window==="undefined")return;if(!this.target){this.target=this.scrollTarget?document.querySelector(this.scrollTarget):window}var e=this.scrollTarget?this.target.scrollTop:this.target.pageYOffset||document.documentElement.scrollTop;if(e<this.scrollThreshold)return;if(this.previousScroll===null){this.previousScroll=e}this.isScrollingProxy=this.previousScroll<e;this.previousScroll=e},updateApplication:function t(){if(!this.app)return;this.$vuetify.application.top=!this.fixed&&!this.absolute?0:this.isExtended&&!this.isScrolling?this.computedHeight*2:this.computedHeight},whenScrolled:function t(e){this.marginTop=e?-this.$refs.content.clientHeight-6:0;this.updateApplication()}},render:function t(e){this.isExtended=this.extended||!!this.$slots.extension;this.updateApplication();var n=[];var r={class:this.classes,style:this.styles,on:this.$listeners};if(this.scrollOffScreen){r.directives=[{name:"scroll",value:{callback:this.onScroll,target:this.scrollTarget}}]}n.push(e("div",{staticClass:"toolbar__content",style:{height:this.computedHeight+"px"},ref:"content"},this.$slots.default));if(this.isExtended){n.push(e("div",{staticClass:"toolbar__extension",style:{height:this.computedHeight+"px"}},this.$slots.extension))}return e("nav",r,n)}}},function(t,e){},function(t,e,n){"use strict";var r=n(10);var i=n(3);e["a"]={name:"v-toolbar-side-icon",functional:true,render:function t(e,n){var o=n.slots,a=n.listeners,s=n.props,u=n.data;var l=u.staticClass?u.staticClass+" toolbar__side-icon":"toolbar__side-icon";var c=Object.assign(u,{staticClass:l,props:Object.assign(s,{icon:true}),on:a});var f=o().default;return e(r["a"],c,f||[e(i["a"],"menu")])}}},function(t,e,n){"use strict";var r=n(224);r["a"].install=function t(e){e.component(r["a"].name,r["a"])};e["a"]=r["a"]},function(t,e,n){"use strict";var r=n(0);var i=n(39);var o=n(16);var a=n(19);var s=n(40);var u=n(4);function l(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}n(225);e["a"]={name:"v-tooltip",mixins:[r["a"],i["a"],o["a"],a["a"],s["a"],u["a"]],data:function t(){return{calculatedMinWidth:0,closeDependents:false}},props:{debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:true},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},computed:{calculatedLeft:function t(){var e=this.dimensions,n=e.activator,r=e.content;var i=!this.bottom&&!this.left&&!this.top&&!this.right;var o=0;if(this.top||this.bottom||i){o=n.left+n.width/2-r.width/2}else if(this.left||this.right){o=n.left+(this.right?n.width:-r.width)+(this.right?10:-10)}return this.calcXOverflow(o)+"px"},calculatedTop:function t(){var e=this.dimensions,n=e.activator,r=e.content;var i=0;if(this.top||this.bottom){i=n.top-(this.top?n.height:-n.height)-(this.top?0:-10)}else if(this.left||this.right){i=n.top+n.height/2-r.height/2}return this.calcYOverflow(i+this.pageYOffset)+"px"},classes:function t(){return{"tooltip--top":this.top,"tooltip--right":this.right,"tooltip--bottom":this.bottom,"tooltip--left":this.left}},computedTransition:function t(){if(this.transition)return this.transition;if(this.top)return"slide-y-reverse-transition";if(this.right)return"slide-x-transition";if(this.bottom)return"slide-y-transition";if(this.left)return"slide-x-reverse-transition"},offsetY:function t(){return this.top||this.bottom},offsetX:function t(){return this.left||this.right},styles:function t(){return{left:this.calculatedLeft,maxWidth:isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px",opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},methods:{activate:function t(){this.updateDimensions();requestAnimationFrame(this.startTransition)}},mounted:function t(){this.value&&this.callActivate()},render:function t(e){var n,r=this;var i=e("div",{staticClass:"tooltip__content",class:this.addBackgroundColorClassChecks((n={},l(n,this.contentClass,true),l(n,"menuable__content__active",this.isActive),n)),style:this.styles,attrs:this.attrs,directives:[{name:"show",value:this.isContentActive}],ref:"content"},this.$slots.default);return e(this.tag,{staticClass:"tooltip",class:this.classes},[e("transition",{props:{name:this.computedTransition}},[i]),e("span",{on:this.disabled?{}:{mouseenter:function t(){r.runDelay("open",function(){return r.isActive=true})},mouseleave:function t(){r.runDelay("close",function(){return r.isActive=false})}},ref:"activator"},this.$slots.activator)])}}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=u;var r=n(6);var i=n(8);var o=n(9);var a=n(227);var s=n(7);n.d(e,"ClickOutside",function(){return r["a"]});n.d(e,"Ripple",function(){return o["a"]});n.d(e,"Resize",function(){return i["a"]});n.d(e,"Scroll",function(){return a["a"]});n.d(e,"Touch",function(){return s["a"]});function u(t){t.directive("click-outside",r["a"]);t.directive("ripple",o["a"]);t.directive("resize",i["a"]);t.directive("scroll",a["a"]);t.directive("touch",s["a"])}},function(t,e,n){"use strict";function r(t,e){var n=typeof e.value==="function"?e.value:e.value.callback;var r=e.value.options||{passive:true};var i=e.value.target||window;if(i==="undefined")return;if(i!==window){i=document.querySelector(i)}i.addEventListener("scroll",n,r);t._onScroll={callback:n,options:r,target:i}}function i(t,e){var n=t._onScroll,r=n.callback,i=n.options,o=n.target;o.removeEventListener("scroll",r,i)}e["a"]={name:"scroll",inserted:r,unbind:i}}])})},"3IRH":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});t.webpackPolyfill=1}return t}},"3eDX":function(t,e,n){"use strict";e["b"]=s;console.debug=console.debug||console.log;var r={};var i={priority:0,table:function t(e,n){if(e<=i.priority&&n){console.table(n)}},log:function t(e,n){if(e<=i.priority){var r;for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++){a[s-2]=arguments[s]}(r=console).debug.apply(r,["luma.gl: "+n].concat(a))}},info:function t(e,n){if(e<=i.priority){var r;for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++){a[s-2]=arguments[s]}(r=console).log.apply(r,["luma.gl: "+n].concat(a))}},once:function t(e,n){if(!r[n]){for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++){a[s-2]=arguments[s]}i.log.apply(i,[e,n].concat(a));r[n]=true}},warn:function t(e){if(!r[e]){var n;for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++){o[a-1]=arguments[a]}(n=console).warn.apply(n,["luma.gl: "+e].concat(o));r[e]=true}},error:function t(e){var n;for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++){i[o-1]=arguments[o]}(n=console).error.apply(n,["luma.gl: "+e].concat(i))},image:function t(e){var n=e.priority,r=e.image,a=e.message,s=a===undefined?"":a,u=e.scale,l=u===undefined?1:u;if(n>i.priority){return}if(typeof window==="undefined"){return}if(typeof r==="string"){var c=new Image;c.onload=o.bind(null,c,s,l);c.src=r}var f=r.nodeName||"";if(f.toLowerCase()==="img"){o(r,s,l)}if(f.toLowerCase()==="canvas"){var h=new Image;h.onload=o.bind(null,h,s,l);h.src=r.toDataURL()}},deprecated:function t(e,n){i.warn("luma.gl: `"+e+"` is deprecated and will be removed in a later version. Use `"+n+"` instead")},group:function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},o=r.collapsed,a=o===undefined?false:o;if(e<=i.priority){if(a){console.groupCollapsed("luma.gl: "+n)}else{console.group("luma.gl: "+n)}}},groupEnd:function t(e,n){if(e<=i.priority){console.groupEnd("luma.gl: "+n)}},time:function t(e,n){if(e<=i.priority){if(console.time){console.time(n)}else{console.info(n)}}},timeEnd:function t(e,n){if(e<=i.priority){if(console.timeEnd){console.timeEnd(n)}else{console.info(n)}}}};function o(t,e,n){var r=t.width*n;var i=t.height*n;var o=t.src.replace(/\(/g,"%28").replace(/\)/g,"%29");console.log(e+" %c+",["font-size:1px;","padding:"+Math.floor(i/2)+"px "+Math.floor(r/2)+"px;","line-height:"+i+"px;","background:url("+o+");","background-size:"+r+"px "+i+"px;","color:transparent;"].join(""))}function a(t,e){var n=e.maxElts,r=n===undefined?16:n,i=e.size,o=i===undefined?1:i;var a="[";for(var u=0;u<t.length&&u<r;++u){if(u>0){a+=","+(u%o===0?" ":"")}a+=s(t[u],e)}var l=t.length>r?"...":"]";return""+a+l}function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=1e-16;var r=e.isInteger,i=r===undefined?false:r;if(Array.isArray(t)||ArrayBuffer.isView(t)){return a(t,e)}if(!Number.isFinite(t)){return String(t)}if(Math.abs(t)<n){return i?"0":"0."}if(i){return t.toFixed(0)}if(Math.abs(t)>100&&Math.abs(t)<1e4){return t.toFixed(0)}var o=t.toPrecision(2);var s=o.indexOf(".0");return s===o.length-2?o.slice(0,-1):o}e["a"]=i},"3fMt":function(t,e,n){var r=n("SWGL");t.exports=function(t,e,n){r(t);if(e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"3ggi":function(t,e,n){n("Ntt2")("asyncIterator")},"3u7p":function(t,e,n){"use strict";var r=n("diIw");var i=typeof window!=="undefined";var o=false;var a=i?new Promise(function(t,e){window.onload=function(){o=true;t(document)}}):Promise.resolve({});function s(){return a}function u(t){var e=t.width,n=e===undefined?800:e,r=t.height,i=r===undefined?600:r,o=t.id,a=o===undefined?"gl-canvas":o,u=t.insert,l=u===undefined?true:u;var c=document.createElement("canvas");c.id=a;c.style.width=Number.isFinite(n)?n+"px":"100%";c.style.height=Number.isFinite(i)?i+"px":"100%";if(l){s().then(function(t){var e=t.body;e.insertBefore(c,e.firstChild)})}return c}function l(t){var e=t.id;if(!o){throw new Error("createGLContext called on canvas '"+e+"' before page was loaded")}return document.getElementById(e)}function c(t){return{width:t.clientWidth,height:t.clientHeight}}function f(t){return{width:t.width,height:t.height}}function h(t,e){var n=e.useDevicePixelRatio,i=n===undefined?null:n,o=e.useDevicePixels,a=o===undefined?true:o;if(i!==null){r["log"].deprecated("useDevicePixelRatio","useDevicePixels");a=i}var s=a?window.devicePixelRatio||1:1;var u=c(t);return{width:Math.floor(u.width*s),height:Math.floor(u.height*s),devicePixelRatio:s}}function p(t,e){var n=e.width,r=e.height;t.style.width=n+"px";t.style.height=r+"px"}function d(t,e){var n=e.useDevicePixelRatio,i=n===undefined?null:n,o=e.useDevicePixels,a=o===undefined?true:o;if(i!==null){r["log"].deprecated("useDevicePixelRatio","useDevicePixels");a=i}var s=h(t,{useDevicePixels:a});if(s.width!==t.width||s.height!==t.height){t.width=s.width;t.height=s.height}}var v=n("N+Om");var m=n.n(v);function g(t){var e=t.canvas,n=t.opts,r=n===undefined?{}:n,i=t.onError,o=i===undefined?function(t){return null}:i;function a(t){o("WebGL context: "+(t.statusMessage||"Unknown error"))}e.addEventListener("webglcontextcreationerror",a,false);var s=r.webgl1,u=s===undefined?true:s,l=r.webgl2,c=l===undefined?true:l;var f=null;if(c){f=f||e.getContext("webgl2",r);f=f||e.getContext("experimental-webgl2",r)}if(u){f=f||e.getContext("webgl",r);f=f||e.getContext("experimental-webgl",r)}e.removeEventListener("webglcontextcreationerror",a,false);if(!f){return o("Failed to create "+(c&&!u?"WebGL2":"WebGL")+" context")}return f}function y(t){var e=t.onContextCreate,n=e===undefined?function(){return null}:e,r=t.onContextCreated,i=r===undefined?function(){}:r;m()(n||i);if(typeof HTMLCanvasElement!=="undefined"){var o=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function t(e,r){var a=void 0;if(e==="webgl"){a=n({canvas:this,type:e,opts:r,getContext:o.bind(this)})}a=a||o.call(this,e,r);if(a instanceof WebGLRenderingContext){i({canvas:this,context:a,type:e,opts:r})}return a}}}var _=n("U/Fy");var b=n("AmSC");var x=35632;var w=35633;function E(t){var e=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/;var n=t.match(e);return n?n[1]:"unnamed"}function T(t){switch(t){case x:return"fragment";case w:return"vertex";default:return"unknown type"}}function I(t,e,n){var r=t.split(/\r?\n/);var i={};var o={};var a=E(e)||"(unnamed)";var s=T(n)+" shader "+a;for(var u=0;u<r.length;u++){var l=r[u];if(l.length<=1){continue}var c=l.split(":");var f=c[0];var h=parseInt(c[2],10);if(isNaN(h)){throw new Error("GLSL compilation error in "+s+": "+t)}if(f!=="WARNING"){i[h]=l}else{o[h]=l}}var p=A(e);return{shaderName:s,errors:M(i,p),warnings:M(o,p)}}function C(t,e,n){var r=I(t,e,n),i=r.shaderName,o=r.errors,a=r.warnings;return"GLSL compilation error in "+i+"\n\n"+o+"\n"+a}function M(t,e){var n="";for(var r=0;r<e.length;r++){var i=e[r];if(!t[r+3]&&!t[r+2]&&!t[r+1]){continue}n+=i+"\n";if(t[r+1]){var o=t[r+1];var a=o.split(":",3);var s=a[0];var u=parseInt(a[1],10)||0;var l=o.substring(a.join(":").length+1).trim();n+=S("^^^ "+s+": "+l+"\n\n",u)}}return n}function A(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:": ";var r=t.split(/\r?\n/);var i=String(r.length+e-1).length;return r.map(function(t,r){var o=r+e;var a=String(o).length;var s=S(o,i-a);return s+n+t})}function S(t,e){var n="";for(var r=0;r<e;++r){n+=" "}return""+n+t}var R=n("jpCA");n.d(e,"d",function(){return s});n.d(e,"a",function(){return u});n.d(e,"c",function(){return l});n.d(e,false,function(){return p});n.d(e,"h",function(){return d});n.d(e,false,function(){return y});n.d(e,"b",function(){return g});n.d(e,false,function(){return undefined});n.d(e,"g",function(){return _["a"]});n.d(e,false,function(){return b["a"]});n.d(e,false,function(){return C});n.d(e,"f",function(){return I});n.d(e,"e",function(){return E});n.d(e,false,function(){return R["a"]})},"40KB":function(t,e,n){"use strict";var r=n("N+Om");var i=n.n(r);var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var s={};function u(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++){r[o-2]=arguments[o]}i()(Number.isFinite(t),"log priority must be a number");if(t<=u.priority){r=g.apply(undefined,[e].concat(a(r)));if(console.debug){var s;(s=console).debug.apply(s,a(r))}else{var l;(l=console).info.apply(l,a(r))}}}function l(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++){r[i-2]=arguments[i]}if(!s[e]&&t<=u.priority){var o;r=y(r);(o=console).error.apply(o,a(g.apply(undefined,[e].concat(a(r)))));s[e]=true}}function c(t){if(!s[t]){var e;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(e=console).warn.apply(e,["deck.gl: "+t].concat(r));s[t]=true}}function f(t){var e;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}(e=console).error.apply(e,["deck.gl: "+t].concat(r))}function h(t,e){u.warn("deck.gl: `"+t+"` is deprecated and will be removed in a later version. Use `"+e+"` instead")}function p(t,e){i()(Number.isFinite(t),"log priority must be a number");if(t<=u.priority){if(console.time){console.time(e)}else{console.info(e)}}}function d(t,e){i()(Number.isFinite(t),"log priority must be a number");if(t<=u.priority){if(console.timeEnd){console.timeEnd(e)}else{console.info(e)}}}function v(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.collapsed,i=r===undefined?false:r;if(t<=u.priority){if(i){console.groupCollapsed("luma.gl: "+e)}else{console.group("luma.gl: "+e)}}}function m(t,e){if(t<=u.priority){console.groupEnd("luma.gl: "+e)}}function g(t){if(typeof t==="function"){t=t()}for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}if(typeof t==="string"){n.unshift("deck.gl "+t)}else{n.unshift(t);n.unshift("deck.gl")}return n}function y(t){var e=t&&t.length>0&&o(t[0])==="object"&&t[0]!==null&&t[0].name==="AssertionError";if(e){t=Array.prototype.slice.call(t);t.unshift("assert("+t[0].message+")")}return t}u.priority=0;u.log=u;u.once=l;u.time=p;u.timeEnd=d;u.warn=c;u.error=f;u.deprecated=h;u.group=v;u.groupEnd=m;e["a"]=u},"4DQ7":function(t,e,n){e.f=n("hgbu")},"4MLn":function(t,e,n){"use strict";var r=n("9xiO");var i=n("u/dy");var o=n("7k+L");var a=n("diIw");var s=n("N+Om");var u=n.n(s);var l=n("3u7p");var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function f(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h="Resource subclass must define virtual methods";var p=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};f(this,t);Object(i["d"])(e);var r=n.id,o=n.userData,s=o===undefined?{}:o;this.gl=e;this.ext=Object(l["g"])(e);this.id=r||Object(a["uid"])(this.constructor.name);this.userData=s;this.opts=n;this._handle=n.handle;if(this._handle===undefined){this._handle=this._createHandle()}this._addStats()}c(t,[{key:"toString",value:function t(){return this.constructor.name+"("+this.id+")"}},{key:"delete",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.deleteChildren,r=n===undefined?false:n;var i=this._handle&&this._deleteHandle(this._handle);this._handle=null;if(i&&r){i.filter(Boolean).forEach(function(t){t.delete()})}return this}},{key:"unbind",value:function t(){this.bind(null)}},{key:"getParameter",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=Object(o["c"])(e);u()(e);var r=this.constructor.PARAMETERS||{};var a=r[e];if(a){var s=Object(i["h"])(this.gl);var l=(!("webgl2"in a)||s)&&(!("extension"in a)||this.gl.getExtension(a.extension));if(!l){var c=a.webgl1;var f="webgl2"in a?a.webgl2:a.webgl1;var h=s?f:c;return h}}return this._getParameter(e,n)}},{key:"getParameters",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n={},r=n.parameters,a=n.keys;var s=this.constructor.PARAMETERS||{};var u=Object(i["h"])(this.gl);var l={};var c=r||Object.keys(s);var f=true;var h=false;var p=undefined;try{for(var d=c[Symbol.iterator](),v;!(f=(v=d.next()).done);f=true){var m=v.value;var g=s[m];var y=g&&(!("webgl2"in g)||u)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(y){var _=a?Object(o["d"])(m):m;l[_]=this.getParameter(m,e);if(a&&g.type==="GLenum"){l[_]=Object(o["d"])(l[_])}}}}catch(t){h=true;p=t}finally{try{if(!f&&d.return){d.return()}}finally{if(h){throw p}}}return l}},{key:"setParameter",value:function t(e,n){e=Object(o["c"])(e);u()(e);var r=this.constructor.PARAMETERS||{};var a=r[e];if(a){var s=Object(i["h"])(this.gl);var l=(!("webgl2"in a)||s)&&(!("extension"in a)||this.gl.getExtension(a.extension));if(!l){throw new Error("Parameter not available on this platform")}if(a.type==="GLenum"){n=Object(o["c"])(n)}}this._setParameter(e,n);return this}},{key:"setParameters",value:function t(e){for(var n in e){this.setParameter(n,e[n])}return this}},{key:"initialize",value:function t(e){}},{key:"_createHandle",value:function t(){throw new Error(h)}},{key:"_deleteHandle",value:function t(){throw new Error(h)}},{key:"_getOptsFromHandle",value:function t(){throw new Error(h)}},{key:"_getParameter",value:function t(e,n){throw new Error(h)}},{key:"_setParameter",value:function t(e,n){throw new Error(h)}},{key:"_context",value:function t(){this.gl.luma=this.gl.luma||{};return this.gl.luma}},{key:"_addStats",value:function t(){var e=this.constructor.name;var n=r["default"].stats;n.resourceCount=n.resourceCount||0;n.resourceMap=n.resourceMap||{};n.resourceCount++;n.resourceMap[e]=n.resourceMap[e]||{count:0};n.resourceMap[e].count++}},{key:"handle",get:function t(){return this._handle}}]);return t}();e["a"]=p},"4ZXS":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];return t}},"4ajQ":function(t,e,n){var r=n("Wdy1");r(r.S+r.F*!n("qs+f"),"Object",{defineProperty:n("GCs6").f})},"4dmN":function(t,e,n){"use strict";var r=n("c8Kh");var i=n("Wdy1");var o=n("1RnF");var a=n("aLzV");var s=n("x//u");var u=n("yYxz");var l=n("I7B8");var c=n("LhDF");var f=n("VD8v");var h=n("hgbu")("iterator");var p=!([].keys&&"next"in[].keys());var d="@@iterator";var v="keys";var m="values";var g=function(){return this};t.exports=function(t,e,n,y,_,b,x){l(n,e,y);var w=function(t){if(!p&&t in C)return C[t];switch(t){case v:return function e(){return new n(this,t)};case m:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}};var E=e+" Iterator";var T=_==m;var I=false;var C=t.prototype;var M=C[h]||C[d]||_&&C[_];var A=M||w(_);var S=_?!T?A:w("entries"):undefined;var R=e=="Array"?C.entries||M:M;var L,k,N;if(R){N=f(R.call(new t));if(N!==Object.prototype&&N.next){c(N,E,true);if(!r&&!s(N,h))a(N,h,g)}}if(T&&M&&M.name!==m){I=true;A=function t(){return M.call(this)}}if((!r||x)&&(p||I||!C[h])){a(C,h,A)}u[e]=A;u[E]=g;if(_){L={values:T?A:w(m),keys:b?A:w(v),entries:S};if(x)for(k in L){if(!(k in C))o(C,k,L[k])}else i(i.P+i.F*(p||I),e,L)}return L}},"4mIu":function(t,e,n){t.exports=a;var r=n("wGI4");var i=n("gQ4S");var o=n("8w1/");function a(t,e){var n=r(t[0],t[1],t[2]);var a=r(e[0],e[1],e[2]);i(n,n);i(a,a);var s=o(n,a);if(s>1){return 0}else{return Math.acos(s)}}},"5BM0":function(module,exports,__webpack_require__){(function t(e,n){if(true)module.exports=n(__webpack_require__("M4fF"),__webpack_require__("Ytsj"));else if(typeof define==="function"&&define.amd)define(["lodash","mapbox-gl"],n);else if(typeof exports==="object")exports["Vue2MapboxGL"]=n(require("lodash"),require("mapbox-gl"));else e["Vue2MapboxGL"]=n(e["_"],e["mapbox-gl"])})(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_2__){return function(t){var e={};function n(r){if(e[r]){return e[r].exports}var i=e[r]={i:r,l:false,exports:{}};t[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=t;n.c=e;n.i=function(t){return t};n.d=function(t,e,r){if(!n.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:r})}};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=11)}([function(module,exports){eval("/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Z1ZS1sb2FkZXIvbGliL2NvbXBvbmVudC1ub3JtYWxpemVyLmpzP2Q0ZjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIF9fVlVFX1NTUl9DT05URVhUX18gKi9cblxuLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUuXG4vLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbFxuLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50IChcbiAgcmF3U2NyaXB0RXhwb3J0cyxcbiAgY29tcGlsZWRUZW1wbGF0ZSxcbiAgZnVuY3Rpb25hbFRlbXBsYXRlLFxuICBpbmplY3RTdHlsZXMsXG4gIHNjb3BlSWQsXG4gIG1vZHVsZUlkZW50aWZpZXIgLyogc2VydmVyIG9ubHkgKi9cbikge1xuICB2YXIgZXNNb2R1bGVcbiAgdmFyIHNjcmlwdEV4cG9ydHMgPSByYXdTY3JpcHRFeHBvcnRzID0gcmF3U2NyaXB0RXhwb3J0cyB8fCB7fVxuXG4gIC8vIEVTNiBtb2R1bGVzIGludGVyb3BcbiAgdmFyIHR5cGUgPSB0eXBlb2YgcmF3U2NyaXB0RXhwb3J0cy5kZWZhdWx0XG4gIGlmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXNNb2R1bGUgPSByYXdTY3JpcHRFeHBvcnRzXG4gICAgc2NyaXB0RXhwb3J0cyA9IHJhd1NjcmlwdEV4cG9ydHMuZGVmYXVsdFxuICB9XG5cbiAgLy8gVnVlLmV4dGVuZCBjb25zdHJ1Y3RvciBleHBvcnQgaW50ZXJvcFxuICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzY3JpcHRFeHBvcnRzID09PSAnZnVuY3Rpb24nXG4gICAgPyBzY3JpcHRFeHBvcnRzLm9wdGlvbnNcbiAgICA6IHNjcmlwdEV4cG9ydHNcblxuICAvLyByZW5kZXIgZnVuY3Rpb25zXG4gIGlmIChjb21waWxlZFRlbXBsYXRlKSB7XG4gICAgb3B0aW9ucy5yZW5kZXIgPSBjb21waWxlZFRlbXBsYXRlLnJlbmRlclxuICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gY29tcGlsZWRUZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnNcbiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWVcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWVcbiAgfVxuXG4gIC8vIHNjb3BlZElkXG4gIGlmIChzY29wZUlkKSB7XG4gICAgb3B0aW9ucy5fc2NvcGVJZCA9IHNjb3BlSWRcbiAgfVxuXG4gIHZhciBob29rXG4gIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7IC8vIHNlcnZlciBidWlsZFxuICAgIGhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgLy8gMi4zIGluamVjdGlvblxuICAgICAgY29udGV4dCA9XG4gICAgICAgIGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGxcbiAgICAgICAgKHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQpIHx8IC8vIHN0YXRlZnVsXG4gICAgICAgICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQpIC8vIGZ1bmN0aW9uYWxcbiAgICAgIC8vIDIuMiB3aXRoIHJ1bkluTmV3Q29udGV4dDogdHJ1ZVxuICAgICAgaWYgKCFjb250ZXh0ICYmIHR5cGVvZiBfX1ZVRV9TU1JfQ09OVEVYVF9fICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250ZXh0ID0gX19WVUVfU1NSX0NPTlRFWFRfX1xuICAgICAgfVxuICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXNcbiAgICAgIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICAgICAgaW5qZWN0U3R5bGVzLmNhbGwodGhpcywgY29udGV4dClcbiAgICAgIH1cbiAgICAgIC8vIHJlZ2lzdGVyIGNvbXBvbmVudCBtb2R1bGUgaWRlbnRpZmllciBmb3IgYXN5bmMgY2h1bmsgaW5mZXJyZW5jZVxuICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMpIHtcbiAgICAgICAgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKG1vZHVsZUlkZW50aWZpZXIpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVzZWQgYnkgc3NyIGluIGNhc2UgY29tcG9uZW50IGlzIGNhY2hlZCBhbmQgYmVmb3JlQ3JlYXRlXG4gICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWRcbiAgICBvcHRpb25zLl9zc3JSZWdpc3RlciA9IGhvb2tcbiAgfSBlbHNlIGlmIChpbmplY3RTdHlsZXMpIHtcbiAgICBob29rID0gaW5qZWN0U3R5bGVzXG4gIH1cblxuICBpZiAoaG9vaykge1xuICAgIHZhciBmdW5jdGlvbmFsID0gb3B0aW9ucy5mdW5jdGlvbmFsXG4gICAgdmFyIGV4aXN0aW5nID0gZnVuY3Rpb25hbFxuICAgICAgPyBvcHRpb25zLnJlbmRlclxuICAgICAgOiBvcHRpb25zLmJlZm9yZUNyZWF0ZVxuXG4gICAgaWYgKCFmdW5jdGlvbmFsKSB7XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHJlZ2lzdHJhdGlvbiBhcyBiZWZvcmVDcmVhdGUgaG9va1xuICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZ1xuICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaylcbiAgICAgICAgOiBbaG9va11cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIHRlbXBsYXRlLW9ubHkgaG90LXJlbG9hZCBiZWNhdXNlIGluIHRoYXQgY2FzZSB0aGUgcmVuZGVyIGZuIGRvZXNuJ3RcbiAgICAgIC8vIGdvIHRocm91Z2ggdGhlIG5vcm1hbGl6ZXJcbiAgICAgIG9wdGlvbnMuX2luamVjdFN0eWxlcyA9IGhvb2tcbiAgICAgIC8vIHJlZ2lzdGVyIGZvciBmdW5jdGlvYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXG4gICAgICBvcHRpb25zLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcldpdGhTdHlsZUluamVjdGlvbiAoaCwgY29udGV4dCkge1xuICAgICAgICBob29rLmNhbGwoY29udGV4dClcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nKGgsIGNvbnRleHQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlc01vZHVsZTogZXNNb2R1bGUsXG4gICAgZXhwb3J0czogc2NyaXB0RXhwb3J0cyxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi9jb21wb25lbnQtbm9ybWFsaXplci5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1widW1kXCI6XCJsb2Rhc2hcIixcImdsb2JhbFwiOlwiX1wiLFwicm9vdFwiOlwiX1wiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImNvbW1vbmpzXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9PzY2NzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1widW1kXCI6XCJsb2Rhc2hcIixcImdsb2JhbFwiOlwiX1wiLFwicm9vdFwiOlwiX1wiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImNvbW1vbmpzXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1widW1kXCI6XCJtYXBib3gtZ2xcIixcInJvb3RcIjpcIm1hcGJveC1nbFwiLFwiZ2xvYmFsXCI6XCJtYXBib3gtZ2xcIixcImNvbW1vbmpzMlwiOlwibWFwYm94LWdsXCIsXCJjb21tb25qc1wiOlwibWFwYm94LWdsXCIsXCJhbWRcIjpcIm1hcGJveC1nbFwifT9iMDk2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInVtZFwiOlwibWFwYm94LWdsXCIsXCJyb290XCI6XCJtYXBib3gtZ2xcIixcImdsb2JhbFwiOlwibWFwYm94LWdsXCIsXCJjb21tb25qczJcIjpcIm1hcGJveC1nbFwiLFwiY29tbW9uanNcIjpcIm1hcGJveC1nbFwiLFwiYW1kXCI6XCJtYXBib3gtZ2xcIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_561fee85_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapbox_vue__ = __webpack_require__(20);\nvar disposed = false\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_js___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_561fee85_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapbox_vue__["a" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = "src/components/VMapbox.vue"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== "default" && key.substr(0, 2) !== "__"})) {  console.error("named exports are not supported in *.vue files.")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require("vue-hot-reload-api")\n  hotAPI.install(require("vue"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord("data-v-561fee85", Component.options)\n  } else {\n    hotAPI.reload("data-v-561fee85", Component.options)\n\' + \'  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__["default"] = (Component.exports);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94LnZ1ZT9mZjJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0s7QUFDeEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSx3REFBd0QsSUFBSTs7QUFFM0k7QUFDQSxZQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRpc3Bvc2VkID0gZmFsc2VcbnZhciBub3JtYWxpemVDb21wb25lbnQgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9jb21wb25lbnQtbm9ybWFsaXplclwiKVxuLyogc2NyaXB0ICovXG5pbXBvcnQgX192dWVfc2NyaXB0X18gZnJvbSBcIiEhYmFiZWwtbG9hZGVyIS4vdi1tYXBib3guanNcIi8qIHRlbXBsYXRlICovXG5pbXBvcnQgX192dWVfdGVtcGxhdGVfXyBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIvaW5kZXg/e1xcXCJpZFxcXCI6XFxcImRhdGEtdi01NjFmZWU4NVxcXCIsXFxcImhhc1Njb3BlZFxcXCI6ZmFsc2UsXFxcImJ1YmxlXFxcIjp7XFxcInRyYW5zZm9ybXNcXFwiOnt9fX0hLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCZidXN0Q2FjaGUhLi9WTWFwYm94LnZ1ZVwiXG4vKiB0ZW1wbGF0ZSBmdW5jdGlvbmFsICovXG52YXIgX192dWVfdGVtcGxhdGVfZnVuY3Rpb25hbF9fID0gZmFsc2Vcbi8qIHN0eWxlcyAqL1xudmFyIF9fdnVlX3N0eWxlc19fID0gbnVsbFxuLyogc2NvcGVJZCAqL1xudmFyIF9fdnVlX3Njb3BlSWRfXyA9IG51bGxcbi8qIG1vZHVsZUlkZW50aWZpZXIgKHNlcnZlciBvbmx5KSAqL1xudmFyIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18gPSBudWxsXG52YXIgQ29tcG9uZW50ID0gbm9ybWFsaXplQ29tcG9uZW50KFxuICBfX3Z1ZV9zY3JpcHRfXyxcbiAgX192dWVfdGVtcGxhdGVfXyxcbiAgX192dWVfdGVtcGxhdGVfZnVuY3Rpb25hbF9fLFxuICBfX3Z1ZV9zdHlsZXNfXyxcbiAgX192dWVfc2NvcGVJZF9fLFxuICBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fXG4pXG5Db21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9jb21wb25lbnRzL1ZNYXBib3gudnVlXCJcbmlmIChDb21wb25lbnQuZXNNb2R1bGUgJiYgT2JqZWN0LmtleXMoQ29tcG9uZW50LmVzTW9kdWxlKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgIHJldHVybiBrZXkgIT09IFwiZGVmYXVsdFwiICYmIGtleS5zdWJzdHIoMCwgMikgIT09IFwiX19cIn0pKSB7ICBjb25zb2xlLmVycm9yKFwibmFtZWQgZXhwb3J0cyBhcmUgbm90IHN1cHBvcnRlZCBpbiAqLnZ1ZSBmaWxlcy5cIil9XG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7KGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhvdEFQSSA9IHJlcXVpcmUoXCJ2dWUtaG90LXJlbG9hZC1hcGlcIilcbiAgaG90QVBJLmluc3RhbGwocmVxdWlyZShcInZ1ZVwiKSwgZmFsc2UpXG4gIGlmICghaG90QVBJLmNvbXBhdGlibGUpIHJldHVyblxuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgaG90QVBJLmNyZWF0ZVJlY29yZChcImRhdGEtdi01NjFmZWU4NVwiLCBDb21wb25lbnQub3B0aW9ucylcbiAgfSBlbHNlIHtcbiAgICBob3RBUEkucmVsb2FkKFwiZGF0YS12LTU2MWZlZTg1XCIsIENvbXBvbmVudC5vcHRpb25zKVxuJyArICcgIH1cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgZGlzcG9zZWQgPSB0cnVlXG4gIH0pXG59KSgpfVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQuZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9WTWFwYm94LnZ1ZVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_layer_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_layer_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_layer_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5e1bc77c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxLayer_vue__ = __webpack_require__(21);\nvar disposed = false\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_layer_js___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5e1bc77c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxLayer_vue__["a" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = "src/components/VMapboxLayer.vue"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== "default" && key.substr(0, 2) !== "__"})) {  console.error("named exports are not supported in *.vue files.")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require("vue-hot-reload-api")\n  hotAPI.install(require("vue"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord("data-v-5e1bc77c", Component.options)\n  } else {\n    hotAPI.reload("data-v-5e1bc77c", Component.options)\n\' + \'  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__["default"] = (Component.exports);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TGF5ZXIudnVlPzc0M2IiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3SztBQUN4SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLHdEQUF3RCxJQUFJOztBQUUzSTtBQUNBLFlBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGlzcG9zZWQgPSBmYWxzZVxudmFyIG5vcm1hbGl6ZUNvbXBvbmVudCA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2NvbXBvbmVudC1ub3JtYWxpemVyXCIpXG4vKiBzY3JpcHQgKi9cbmltcG9ydCBfX3Z1ZV9zY3JpcHRfXyBmcm9tIFwiISFiYWJlbC1sb2FkZXIhLi92LW1hcGJveC1sYXllci5qc1wiLyogdGVtcGxhdGUgKi9cbmltcG9ydCBfX3Z1ZV90ZW1wbGF0ZV9fIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci9pbmRleD97XFxcImlkXFxcIjpcXFwiZGF0YS12LTVlMWJjNzdjXFxcIixcXFwiaGFzU2NvcGVkXFxcIjpmYWxzZSxcXFwiYnVibGVcXFwiOntcXFwidHJhbnNmb3Jtc1xcXCI6e319fSEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3I/dHlwZT10ZW1wbGF0ZSZpbmRleD0wJmJ1c3RDYWNoZSEuL1ZNYXBib3hMYXllci52dWVcIlxuLyogdGVtcGxhdGUgZnVuY3Rpb25hbCAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX2Z1bmN0aW9uYWxfXyA9IGZhbHNlXG4vKiBzdHlsZXMgKi9cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IG51bGxcbi8qIHNjb3BlSWQgKi9cbnZhciBfX3Z1ZV9zY29wZUlkX18gPSBudWxsXG4vKiBtb2R1bGVJZGVudGlmaWVyIChzZXJ2ZXIgb25seSkgKi9cbnZhciBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fID0gbnVsbFxudmFyIENvbXBvbmVudCA9IG5vcm1hbGl6ZUNvbXBvbmVudChcbiAgX192dWVfc2NyaXB0X18sXG4gIF9fdnVlX3RlbXBsYXRlX18sXG4gIF9fdnVlX3RlbXBsYXRlX2Z1bmN0aW9uYWxfXyxcbiAgX192dWVfc3R5bGVzX18sXG4gIF9fdnVlX3Njb3BlSWRfXyxcbiAgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfX1xuKVxuQ29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9WTWFwYm94TGF5ZXIudnVlXCJcbmlmIChDb21wb25lbnQuZXNNb2R1bGUgJiYgT2JqZWN0LmtleXMoQ29tcG9uZW50LmVzTW9kdWxlKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgIHJldHVybiBrZXkgIT09IFwiZGVmYXVsdFwiICYmIGtleS5zdWJzdHIoMCwgMikgIT09IFwiX19cIn0pKSB7ICBjb25zb2xlLmVycm9yKFwibmFtZWQgZXhwb3J0cyBhcmUgbm90IHN1cHBvcnRlZCBpbiAqLnZ1ZSBmaWxlcy5cIil9XG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7KGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhvdEFQSSA9IHJlcXVpcmUoXCJ2dWUtaG90LXJlbG9hZC1hcGlcIilcbiAgaG90QVBJLmluc3RhbGwocmVxdWlyZShcInZ1ZVwiKSwgZmFsc2UpXG4gIGlmICghaG90QVBJLmNvbXBhdGlibGUpIHJldHVyblxuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgaG90QVBJLmNyZWF0ZVJlY29yZChcImRhdGEtdi01ZTFiYzc3Y1wiLCBDb21wb25lbnQub3B0aW9ucylcbiAgfSBlbHNlIHtcbiAgICBob3RBUEkucmVsb2FkKFwiZGF0YS12LTVlMWJjNzdjXCIsIENvbXBvbmVudC5vcHRpb25zKVxuJyArICcgIH1cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgZGlzcG9zZWQgPSB0cnVlXG4gIH0pXG59KSgpfVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQuZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_navigation_control_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_navigation_control_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_navigation_control_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_065f9358_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxNavigationControl_vue__ = __webpack_require__(18);\nvar disposed = false\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_navigation_control_js___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_065f9358_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxNavigationControl_vue__["a" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = "src/components/VMapboxNavigationControl.vue"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== "default" && key.substr(0, 2) !== "__"})) {  console.error("named exports are not supported in *.vue files.")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require("vue-hot-reload-api")\n  hotAPI.install(require("vue"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord("data-v-065f9358", Component.options)\n  } else {\n    hotAPI.reload("data-v-065f9358", Component.options)\n\' + \'  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__["default"] = (Component.exports);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TmF2aWdhdGlvbkNvbnRyb2wudnVlP2U3ZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUN3SztBQUN4SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLHdEQUF3RCxJQUFJOztBQUUzSTtBQUNBLFlBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGlzcG9zZWQgPSBmYWxzZVxudmFyIG5vcm1hbGl6ZUNvbXBvbmVudCA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2NvbXBvbmVudC1ub3JtYWxpemVyXCIpXG4vKiBzY3JpcHQgKi9cbmltcG9ydCBfX3Z1ZV9zY3JpcHRfXyBmcm9tIFwiISFiYWJlbC1sb2FkZXIhLi92LW1hcGJveC1uYXZpZ2F0aW9uLWNvbnRyb2wuanNcIi8qIHRlbXBsYXRlICovXG5pbXBvcnQgX192dWVfdGVtcGxhdGVfXyBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIvaW5kZXg/e1xcXCJpZFxcXCI6XFxcImRhdGEtdi0wNjVmOTM1OFxcXCIsXFxcImhhc1Njb3BlZFxcXCI6ZmFsc2UsXFxcImJ1YmxlXFxcIjp7XFxcInRyYW5zZm9ybXNcXFwiOnt9fX0hLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCZidXN0Q2FjaGUhLi9WTWFwYm94TmF2aWdhdGlvbkNvbnRyb2wudnVlXCJcbi8qIHRlbXBsYXRlIGZ1bmN0aW9uYWwgKi9cbnZhciBfX3Z1ZV90ZW1wbGF0ZV9mdW5jdGlvbmFsX18gPSBmYWxzZVxuLyogc3R5bGVzICovXG52YXIgX192dWVfc3R5bGVzX18gPSBudWxsXG4vKiBzY29wZUlkICovXG52YXIgX192dWVfc2NvcGVJZF9fID0gbnVsbFxuLyogbW9kdWxlSWRlbnRpZmllciAoc2VydmVyIG9ubHkpICovXG52YXIgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyA9IG51bGxcbnZhciBDb21wb25lbnQgPSBub3JtYWxpemVDb21wb25lbnQoXG4gIF9fdnVlX3NjcmlwdF9fLFxuICBfX3Z1ZV90ZW1wbGF0ZV9fLFxuICBfX3Z1ZV90ZW1wbGF0ZV9mdW5jdGlvbmFsX18sXG4gIF9fdnVlX3N0eWxlc19fLFxuICBfX3Z1ZV9zY29wZUlkX18sXG4gIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX19cbilcbkNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic3JjL2NvbXBvbmVudHMvVk1hcGJveE5hdmlnYXRpb25Db250cm9sLnZ1ZVwiXG5pZiAoQ29tcG9uZW50LmVzTW9kdWxlICYmIE9iamVjdC5rZXlzKENvbXBvbmVudC5lc01vZHVsZSkuc29tZShmdW5jdGlvbiAoa2V5KSB7ICByZXR1cm4ga2V5ICE9PSBcImRlZmF1bHRcIiAmJiBrZXkuc3Vic3RyKDAsIDIpICE9PSBcIl9fXCJ9KSkgeyAgY29uc29sZS5lcnJvcihcIm5hbWVkIGV4cG9ydHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gKi52dWUgZmlsZXMuXCIpfVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkgeyhmdW5jdGlvbiAoKSB7XG4gIHZhciBob3RBUEkgPSByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpXG4gIGhvdEFQSS5pbnN0YWxsKHJlcXVpcmUoXCJ2dWVcIiksIGZhbHNlKVxuICBpZiAoIWhvdEFQSS5jb21wYXRpYmxlKSByZXR1cm5cbiAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICBpZiAoIW1vZHVsZS5ob3QuZGF0YSkge1xuICAgIGhvdEFQSS5jcmVhdGVSZWNvcmQoXCJkYXRhLXYtMDY1ZjkzNThcIiwgQ29tcG9uZW50Lm9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgaG90QVBJLnJlbG9hZChcImRhdGEtdi0wNjVmOTM1OFwiLCBDb21wb25lbnQub3B0aW9ucylcbicgKyAnICB9XG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoZGF0YSkge1xuICAgIGRpc3Bvc2VkID0gdHJ1ZVxuICB9KVxufSkoKX1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50LmV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvVk1hcGJveE5hdmlnYXRpb25Db250cm9sLnZ1ZVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_source_js__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_source_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_source_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_28974780_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxSource_vue__ = __webpack_require__(19);\nvar disposed = false\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_v_mapbox_source_js___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_28974780_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_VMapboxSource_vue__["a" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = "src/components/VMapboxSource.vue"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== "default" && key.substr(0, 2) !== "__"})) {  console.error("named exports are not supported in *.vue files.")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require("vue-hot-reload-api")\n  hotAPI.install(require("vue"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord("data-v-28974780", Component.options)\n  } else {\n    hotAPI.reload("data-v-28974780", Component.options)\n\' + \'  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__["default"] = (Component.exports);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94U291cmNlLnZ1ZT80YjM0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDd0s7QUFDeEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSx3REFBd0QsSUFBSTs7QUFFM0k7QUFDQSxZQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRpc3Bvc2VkID0gZmFsc2VcbnZhciBub3JtYWxpemVDb21wb25lbnQgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9jb21wb25lbnQtbm9ybWFsaXplclwiKVxuLyogc2NyaXB0ICovXG5pbXBvcnQgX192dWVfc2NyaXB0X18gZnJvbSBcIiEhYmFiZWwtbG9hZGVyIS4vdi1tYXBib3gtc291cmNlLmpzXCIvKiB0ZW1wbGF0ZSAqL1xuaW1wb3J0IF9fdnVlX3RlbXBsYXRlX18gZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyL2luZGV4P3tcXFwiaWRcXFwiOlxcXCJkYXRhLXYtMjg5NzQ3ODBcXFwiLFxcXCJoYXNTY29wZWRcXFwiOmZhbHNlLFxcXCJidWJsZVxcXCI6e1xcXCJ0cmFuc2Zvcm1zXFxcIjp7fX19IS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAmYnVzdENhY2hlIS4vVk1hcGJveFNvdXJjZS52dWVcIlxuLyogdGVtcGxhdGUgZnVuY3Rpb25hbCAqL1xudmFyIF9fdnVlX3RlbXBsYXRlX2Z1bmN0aW9uYWxfXyA9IGZhbHNlXG4vKiBzdHlsZXMgKi9cbnZhciBfX3Z1ZV9zdHlsZXNfXyA9IG51bGxcbi8qIHNjb3BlSWQgKi9cbnZhciBfX3Z1ZV9zY29wZUlkX18gPSBudWxsXG4vKiBtb2R1bGVJZGVudGlmaWVyIChzZXJ2ZXIgb25seSkgKi9cbnZhciBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fID0gbnVsbFxudmFyIENvbXBvbmVudCA9IG5vcm1hbGl6ZUNvbXBvbmVudChcbiAgX192dWVfc2NyaXB0X18sXG4gIF9fdnVlX3RlbXBsYXRlX18sXG4gIF9fdnVlX3RlbXBsYXRlX2Z1bmN0aW9uYWxfXyxcbiAgX192dWVfc3R5bGVzX18sXG4gIF9fdnVlX3Njb3BlSWRfXyxcbiAgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfX1xuKVxuQ29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzcmMvY29tcG9uZW50cy9WTWFwYm94U291cmNlLnZ1ZVwiXG5pZiAoQ29tcG9uZW50LmVzTW9kdWxlICYmIE9iamVjdC5rZXlzKENvbXBvbmVudC5lc01vZHVsZSkuc29tZShmdW5jdGlvbiAoa2V5KSB7ICByZXR1cm4ga2V5ICE9PSBcImRlZmF1bHRcIiAmJiBrZXkuc3Vic3RyKDAsIDIpICE9PSBcIl9fXCJ9KSkgeyAgY29uc29sZS5lcnJvcihcIm5hbWVkIGV4cG9ydHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gKi52dWUgZmlsZXMuXCIpfVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkgeyhmdW5jdGlvbiAoKSB7XG4gIHZhciBob3RBUEkgPSByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpXG4gIGhvdEFQSS5pbnN0YWxsKHJlcXVpcmUoXCJ2dWVcIiksIGZhbHNlKVxuICBpZiAoIWhvdEFQSS5jb21wYXRpYmxlKSByZXR1cm5cbiAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICBpZiAoIW1vZHVsZS5ob3QuZGF0YSkge1xuICAgIGhvdEFQSS5jcmVhdGVSZWNvcmQoXCJkYXRhLXYtMjg5NzQ3ODBcIiwgQ29tcG9uZW50Lm9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgaG90QVBJLnJlbG9hZChcImRhdGEtdi0yODk3NDc4MFwiLCBDb21wb25lbnQub3B0aW9ucylcbicgKyAnICB9XG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoZGF0YSkge1xuICAgIGRpc3Bvc2VkID0gdHJ1ZVxuICB9KVxufSkoKX1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50LmV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvVk1hcGJveFNvdXJjZS52dWVcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'v-mapbox-layer',\n  data: function data() {\n    return {};\n  },\n\n  props: {\n    options: {\n      default: function _default() {\n        return {};\n      },\n      type: Object\n    }\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    deferredMountedTo: function deferredMountedTo(map) {\n      map.addLayer(this.options);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC1sYXllci5qcz8zYWFjIl0sIm5hbWVzIjpbIm5hbWUiLCJkYXRhIiwicHJvcHMiLCJvcHRpb25zIiwiZGVmYXVsdCIsInR5cGUiLCJPYmplY3QiLCJtb3VudGVkIiwibWV0aG9kcyIsImRlZmVycmVkTW91bnRlZFRvIiwibWFwIiwiYWRkTGF5ZXIiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUFlO0FBQ2JBLFFBQU0sZ0JBRE87QUFFYkMsTUFGYSxrQkFFTDtBQUNOLFdBQU8sRUFBUDtBQUVELEdBTFk7O0FBTWJDLFNBQU87QUFDTEMsYUFBUztBQUNQQyxlQUFTLG9CQUFNO0FBQ2IsZUFBTyxFQUFQO0FBQ0QsT0FITTtBQUlQQyxZQUFNQztBQUpDO0FBREosR0FOTTtBQWNiQyxTQWRhLHFCQWNGLENBQ1YsQ0FmWTs7QUFnQmJDLFdBQVM7QUFDUEMscUJBRE8sNkJBQ1dDLEdBRFgsRUFDZ0I7QUFDckJBLFVBQUlDLFFBQUosQ0FBYSxLQUFLUixPQUFsQjtBQUNEO0FBSE07QUFoQkksQyIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAndi1tYXBib3gtbGF5ZXInLFxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9LFxuICAgICAgdHlwZTogT2JqZWN0XG4gICAgfVxuICB9LFxuICBtb3VudGVkICgpIHtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGRlZmVycmVkTW91bnRlZFRvKG1hcCkge1xuICAgICAgbWFwLmFkZExheWVyKHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICB9XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdi1tYXBib3gtbGF5ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mapboxGl = __webpack_require__(2);\n\nvar _mapboxGl2 = _interopRequireDefault(_mapboxGl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'v-mapbox-navigation-control',\n  data: function data() {\n    return {};\n  },\n\n  props: {\n    options: {\n      default: function _default() {\n        return {};\n      },\n      type: Object\n    }\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    deferredMountedTo: function deferredMountedTo(map) {\n      var control = new _mapboxGl2.default.NavigationControl();\n      map.addControl(control);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC1uYXZpZ2F0aW9uLWNvbnRyb2wuanM/OWU3YiJdLCJuYW1lcyI6WyJuYW1lIiwiZGF0YSIsInByb3BzIiwib3B0aW9ucyIsImRlZmF1bHQiLCJ0eXBlIiwiT2JqZWN0IiwibW91bnRlZCIsIm1ldGhvZHMiLCJkZWZlcnJlZE1vdW50ZWRUbyIsIm1hcCIsImNvbnRyb2wiLCJOYXZpZ2F0aW9uQ29udHJvbCIsImFkZENvbnRyb2wiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7a0JBRWU7QUFDYkEsUUFBTSw2QkFETztBQUViQyxNQUZhLGtCQUVMO0FBQ04sV0FBTyxFQUFQO0FBRUQsR0FMWTs7QUFNYkMsU0FBTztBQUNMQyxhQUFTO0FBQ1BDLGVBQVMsb0JBQU07QUFDYixlQUFPLEVBQVA7QUFDRCxPQUhNO0FBSVBDLFlBQU1DO0FBSkM7QUFESixHQU5NO0FBY2JDLFNBZGEscUJBY0YsQ0FDVixDQWZZOztBQWdCYkMsV0FBUztBQUNQQyxxQkFETyw2QkFDV0MsR0FEWCxFQUNnQjtBQUNyQixVQUFJQyxVQUFVLElBQUksbUJBQVNDLGlCQUFiLEVBQWQ7QUFDQUYsVUFBSUcsVUFBSixDQUFlRixPQUFmO0FBQ0Q7QUFKTTtBQWhCSSxDIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAndi1tYXBib3gtbmF2aWdhdGlvbi1jb250cm9sJyxcbiAgZGF0YSAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICB9O1xuICB9LFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIGRlZmF1bHQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfSxcbiAgICAgIHR5cGU6IE9iamVjdFxuICAgIH1cbiAgfSxcbiAgbW91bnRlZCAoKSB7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBkZWZlcnJlZE1vdW50ZWRUbyhtYXApIHtcbiAgICAgIGxldCBjb250cm9sID0gbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCk7XG4gICAgICBtYXAuYWRkQ29udHJvbChjb250cm9sKTtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC1uYXZpZ2F0aW9uLWNvbnRyb2wuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = __webpack_require__(1);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'v-mapbox-source',\n  data: function data() {\n    return {};\n  },\n\n  props: {\n    options: {\n      default: function _default() {\n        return {};\n      },\n      type: Object\n    }\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    deferredMountedTo: function deferredMountedTo(map) {\n      map.addSource(this.options.id, _lodash2.default.omit(this.options, ['id']));\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC1zb3VyY2UuanM/ODdkZSJdLCJuYW1lcyI6WyJuYW1lIiwiZGF0YSIsInByb3BzIiwib3B0aW9ucyIsImRlZmF1bHQiLCJ0eXBlIiwiT2JqZWN0IiwibW91bnRlZCIsIm1ldGhvZHMiLCJkZWZlcnJlZE1vdW50ZWRUbyIsIm1hcCIsImFkZFNvdXJjZSIsImlkIiwib21pdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztrQkFFZTtBQUNiQSxRQUFNLGlCQURPO0FBRWJDLE1BRmEsa0JBRUw7QUFDTixXQUFPLEVBQVA7QUFFRCxHQUxZOztBQU1iQyxTQUFPO0FBQ0xDLGFBQVM7QUFDUEMsZUFBUyxvQkFBTTtBQUNiLGVBQU8sRUFBUDtBQUNELE9BSE07QUFJUEMsWUFBTUM7QUFKQztBQURKLEdBTk07QUFjYkMsU0FkYSxxQkFjRixDQUNWLENBZlk7O0FBZ0JiQyxXQUFTO0FBQ1BDLHFCQURPLDZCQUNXQyxHQURYLEVBQ2dCO0FBQ3JCQSxVQUFJQyxTQUFKLENBQWMsS0FBS1IsT0FBTCxDQUFhUyxFQUEzQixFQUErQixpQkFBRUMsSUFBRixDQUFPLEtBQUtWLE9BQVosRUFBcUIsQ0FBQyxJQUFELENBQXJCLENBQS9CO0FBQ0Q7QUFITTtBQWhCSSxDIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICd2LW1hcGJveC1zb3VyY2UnLFxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgZGVmYXVsdDogKCkgPT4ge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9LFxuICAgICAgdHlwZTogT2JqZWN0XG4gICAgfVxuICB9LFxuICBtb3VudGVkICgpIHtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGRlZmVycmVkTW91bnRlZFRvKG1hcCkge1xuICAgICAgbWFwLmFkZFNvdXJjZSh0aGlzLm9wdGlvbnMuaWQsIF8ub21pdCh0aGlzLm9wdGlvbnMsIFsnaWQnXSkpO1xuICAgIH1cbiAgfVxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3YtbWFwYm94LXNvdXJjZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = __webpack_require__(1);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _mapboxGl = __webpack_require__(2);\n\nvar _mapboxGl2 = _interopRequireDefault(_mapboxGl);\n\nvar _propsBinder = __webpack_require__(12);\n\n__webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// props that we want to proxy\n// some are disabled pending testing\n// note that boolean props are always defined (unspecified = false).\n// The default true's are copied from https://www.mapbox.com/mapbox-gl-js/api/#map\n// these can be disabled after object construction\n// we can watch all these properties but that's disabled\nvar props = {\n  accessToken: {\n    type: String,\n    required: true\n  },\n  // always this component\n  container: {\n    type: [HTMLElement, String]\n  },\n  minZoom: {\n    type: Number\n  },\n  maxZoom: {\n    type: Number\n  },\n  // can't use style (reserved), use same approach as uber/react-map-gl\n  mapStyle: {\n    type: [Object, String]\n  },\n  // hash: {\n  //   type: Boolean,\n  //   default: false\n  // },\n  // interactive: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // bearingSnap: {\n  //   type: Number\n  // },\n  // classes: {\n  //   // array of strings\n  //   type: Array\n  // },\n  // attributionControl: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // logoPosition: {\n  //   type: String\n  // },\n  // failIfMajorPerformanceCaveat: {\n  //   type: Boolean,\n  //   default: false\n  // },\n  // preserveDrawingBuffer: {\n  //   type: Boolean,\n  //   default: false\n  // },\n  // refreshExpiredTiles: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // maxBounds: {\n  //   // latLngLike\n  //   type: [Object, Array]\n  // },\n  // scrollZoom: {\n  //   type: [Boolean, Object],\n  //   default: true\n  // },\n  // boxZoom: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // dragRotate: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // dragPan: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // keyboard: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // doubleClickZoom: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  // touchZoomRotate: {\n  //   type: [Boolean, Object],\n  //   default: true\n  // },\n  // trackResize: {\n  //   type: Boolean,\n  //   default: true\n  // },\n  center: {\n    type: [Object, Array]\n  },\n  zoom: {\n    type: Number\n  },\n  bearing: {\n    type: Number\n  },\n  pitch: {\n    type: Number\n  }\n  // renderWorldCopies: {\n  //   type: Boolean,\n  //   default: true\n  // }\n};\n\nexports.default = {\n  name: 'v-mapbox',\n  data: function data() {\n    return {\n      map: null,\n      layers: []\n    };\n  },\n\n  props: props,\n  mounted: function mounted() {\n    var _this = this;\n\n    //Initialze Map\n    var options = {};\n    _mapboxGl2.default.accessToken = this.accessToken;\n    // renamed properties\n    if (this.mapStyle) {\n      options.style = this.mapStyle;\n    }\n    var defaults = (0, _propsBinder.propsDefaults)(this.$props);\n    _lodash2.default.assign(options, defaults);\n    options.container = this.$el;\n\n    this.map = new _mapboxGl2.default.Map(options);\n\n    // propsBinder(this, this.map, props);\n\n\n    this.map.on('load', function () {\n      _lodash2.default.each(_this.$children, function (child) {\n        child.deferredMountedTo(_this.map);\n        if (child.$options.name === 'v-mapbox-layer') {\n          _this.layers.push(child.options);\n        }\n      });\n    });\n  },\n\n  watch: {\n    layers: function layers(old) {\n      console.log('layers changed', old);\n    }\n  },\n  methods: {}\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC5qcz9iZjZmIl0sIm5hbWVzIjpbInByb3BzIiwiYWNjZXNzVG9rZW4iLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjb250YWluZXIiLCJIVE1MRWxlbWVudCIsIm1pblpvb20iLCJOdW1iZXIiLCJtYXhab29tIiwibWFwU3R5bGUiLCJPYmplY3QiLCJjZW50ZXIiLCJBcnJheSIsInpvb20iLCJiZWFyaW5nIiwicGl0Y2giLCJuYW1lIiwiZGF0YSIsIm1hcCIsImxheWVycyIsIm1vdW50ZWQiLCJvcHRpb25zIiwic3R5bGUiLCJkZWZhdWx0cyIsIiRwcm9wcyIsImFzc2lnbiIsIiRlbCIsIk1hcCIsIm9uIiwiZWFjaCIsIiRjaGlsZHJlbiIsImNoaWxkIiwiZGVmZXJyZWRNb3VudGVkVG8iLCIkb3B0aW9ucyIsInB1c2giLCJ3YXRjaCIsIm9sZCIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2RzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNQSxRQUFRO0FBQ1pDLGVBQWE7QUFDWEMsVUFBTUMsTUFESztBQUVYQyxjQUFVO0FBRkMsR0FERDtBQUtaO0FBQ0FDLGFBQVc7QUFDVEgsVUFBTSxDQUFDSSxXQUFELEVBQWNILE1BQWQ7QUFERyxHQU5DO0FBU1pJLFdBQVM7QUFDUEwsVUFBTU07QUFEQyxHQVRHO0FBWVpDLFdBQVM7QUFDUFAsVUFBTU07QUFEQyxHQVpHO0FBZVo7QUFDQUUsWUFBVTtBQUNSUixVQUFNLENBQUNTLE1BQUQsRUFBU1IsTUFBVDtBQURFLEdBaEJFO0FBbUJaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FTLFVBQVE7QUFDTlYsVUFBTSxDQUFDUyxNQUFELEVBQVNFLEtBQVQ7QUFEQSxHQXpGSTtBQTRGWkMsUUFBTTtBQUNKWixVQUFNTTtBQURGLEdBNUZNO0FBK0ZaTyxXQUFTO0FBQ1BiLFVBQU1NO0FBREMsR0EvRkc7QUFrR1pRLFNBQU87QUFDTGQsVUFBTU07QUFERDtBQUdQO0FBQ0E7QUFDQTtBQUNBO0FBeEdZLENBQWQ7O2tCQTJHZTtBQUNiUyxRQUFNLFVBRE87QUFFYkMsTUFGYSxrQkFFTDtBQUNOLFdBQU87QUFDTEMsV0FBSyxJQURBO0FBRUxDLGNBQVE7QUFGSCxLQUFQO0FBSUQsR0FQWTs7QUFRYnBCLFNBQU9BLEtBUk07QUFTYnFCLFNBVGEscUJBU0Y7QUFBQTs7QUFDVDtBQUNBLFFBQUlDLFVBQVUsRUFBZDtBQUNBLHVCQUFTckIsV0FBVCxHQUF1QixLQUFLQSxXQUE1QjtBQUNBO0FBQ0EsUUFBSSxLQUFLUyxRQUFULEVBQW1CO0FBQ2pCWSxjQUFRQyxLQUFSLEdBQWdCLEtBQUtiLFFBQXJCO0FBQ0Q7QUFDRCxRQUFJYyxXQUFXLGdDQUFjLEtBQUtDLE1BQW5CLENBQWY7QUFDQSxxQkFBRUMsTUFBRixDQUFTSixPQUFULEVBQWtCRSxRQUFsQjtBQUNBRixZQUFRakIsU0FBUixHQUFvQixLQUFLc0IsR0FBekI7O0FBR0EsU0FBS1IsR0FBTCxHQUFXLElBQUksbUJBQVNTLEdBQWIsQ0FBaUJOLE9BQWpCLENBQVg7O0FBRUE7OztBQUlBLFNBQUtILEdBQUwsQ0FBU1UsRUFBVCxDQUFZLE1BQVosRUFBb0IsWUFBTTtBQUN4Qix1QkFBRUMsSUFBRixDQUNFLE1BQUtDLFNBRFAsRUFFRSxVQUFDQyxLQUFELEVBQVc7QUFDVEEsY0FBTUMsaUJBQU4sQ0FBd0IsTUFBS2QsR0FBN0I7QUFDQSxZQUFJYSxNQUFNRSxRQUFOLENBQWVqQixJQUFmLEtBQXdCLGdCQUE1QixFQUE4QztBQUM1QyxnQkFBS0csTUFBTCxDQUFZZSxJQUFaLENBQWlCSCxNQUFNVixPQUF2QjtBQUNEO0FBQ0YsT0FQSDtBQVNELEtBVkQ7QUFZRCxHQXhDWTs7QUF5Q2JjLFNBQU87QUFDTGhCLFVBREssa0JBQ0VpQixHQURGLEVBQ087QUFDVkMsY0FBUUMsR0FBUixDQUFZLGdCQUFaLEVBQThCRixHQUE5QjtBQUNEO0FBSEksR0F6Q007QUE4Q2JHLFdBQVM7QUE5Q0ksQyIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsJztcbmltcG9ydCB7cHJvcHNCaW5kZXIsIHByb3BzRGVmYXVsdHN9IGZyb20gJy4uL3V0aWxzL3Byb3BzQmluZGVyLmpzJztcbmltcG9ydCAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcyc7XG5cbi8vIHByb3BzIHRoYXQgd2Ugd2FudCB0byBwcm94eVxuLy8gc29tZSBhcmUgZGlzYWJsZWQgcGVuZGluZyB0ZXN0aW5nXG4vLyBub3RlIHRoYXQgYm9vbGVhbiBwcm9wcyBhcmUgYWx3YXlzIGRlZmluZWQgKHVuc3BlY2lmaWVkID0gZmFsc2UpLlxuLy8gVGhlIGRlZmF1bHQgdHJ1ZSdzIGFyZSBjb3BpZWQgZnJvbSBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvI21hcFxuLy8gdGhlc2UgY2FuIGJlIGRpc2FibGVkIGFmdGVyIG9iamVjdCBjb25zdHJ1Y3Rpb25cbi8vIHdlIGNhbiB3YXRjaCBhbGwgdGhlc2UgcHJvcGVydGllcyBidXQgdGhhdCdzIGRpc2FibGVkXG5jb25zdCBwcm9wcyA9IHtcbiAgYWNjZXNzVG9rZW46IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgLy8gYWx3YXlzIHRoaXMgY29tcG9uZW50XG4gIGNvbnRhaW5lcjoge1xuICAgIHR5cGU6IFtIVE1MRWxlbWVudCwgU3RyaW5nXVxuICB9LFxuICBtaW5ab29tOiB7XG4gICAgdHlwZTogTnVtYmVyXG4gIH0sXG4gIG1heFpvb206IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgLy8gY2FuJ3QgdXNlIHN0eWxlIChyZXNlcnZlZCksIHVzZSBzYW1lIGFwcHJvYWNoIGFzIHViZXIvcmVhY3QtbWFwLWdsXG4gIG1hcFN0eWxlOiB7XG4gICAgdHlwZTogW09iamVjdCwgU3RyaW5nXVxuICB9LFxuICAvLyBoYXNoOiB7XG4gIC8vICAgdHlwZTogQm9vbGVhbixcbiAgLy8gICBkZWZhdWx0OiBmYWxzZVxuICAvLyB9LFxuICAvLyBpbnRlcmFjdGl2ZToge1xuICAvLyAgIHR5cGU6IEJvb2xlYW4sXG4gIC8vICAgZGVmYXVsdDogdHJ1ZVxuICAvLyB9LFxuICAvLyBiZWFyaW5nU25hcDoge1xuICAvLyAgIHR5cGU6IE51bWJlclxuICAvLyB9LFxuICAvLyBjbGFzc2VzOiB7XG4gIC8vICAgLy8gYXJyYXkgb2Ygc3RyaW5nc1xuICAvLyAgIHR5cGU6IEFycmF5XG4gIC8vIH0sXG4gIC8vIGF0dHJpYnV0aW9uQ29udHJvbDoge1xuICAvLyAgIHR5cGU6IEJvb2xlYW4sXG4gIC8vICAgZGVmYXVsdDogdHJ1ZVxuICAvLyB9LFxuICAvLyBsb2dvUG9zaXRpb246IHtcbiAgLy8gICB0eXBlOiBTdHJpbmdcbiAgLy8gfSxcbiAgLy8gZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDoge1xuICAvLyAgIHR5cGU6IEJvb2xlYW4sXG4gIC8vICAgZGVmYXVsdDogZmFsc2VcbiAgLy8gfSxcbiAgLy8gcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB7XG4gIC8vICAgdHlwZTogQm9vbGVhbixcbiAgLy8gICBkZWZhdWx0OiBmYWxzZVxuICAvLyB9LFxuICAvLyByZWZyZXNoRXhwaXJlZFRpbGVzOiB7XG4gIC8vICAgdHlwZTogQm9vbGVhbixcbiAgLy8gICBkZWZhdWx0OiB0cnVlXG4gIC8vIH0sXG4gIC8vIG1heEJvdW5kczoge1xuICAvLyAgIC8vIGxhdExuZ0xpa2VcbiAgLy8gICB0eXBlOiBbT2JqZWN0LCBBcnJheV1cbiAgLy8gfSxcbiAgLy8gc2Nyb2xsWm9vbToge1xuICAvLyAgIHR5cGU6IFtCb29sZWFuLCBPYmplY3RdLFxuICAvLyAgIGRlZmF1bHQ6IHRydWVcbiAgLy8gfSxcbiAgLy8gYm94Wm9vbToge1xuICAvLyAgIHR5cGU6IEJvb2xlYW4sXG4gIC8vICAgZGVmYXVsdDogdHJ1ZVxuICAvLyB9LFxuICAvLyBkcmFnUm90YXRlOiB7XG4gIC8vICAgdHlwZTogQm9vbGVhbixcbiAgLy8gICBkZWZhdWx0OiB0cnVlXG4gIC8vIH0sXG4gIC8vIGRyYWdQYW46IHtcbiAgLy8gICB0eXBlOiBCb29sZWFuLFxuICAvLyAgIGRlZmF1bHQ6IHRydWVcbiAgLy8gfSxcbiAgLy8ga2V5Ym9hcmQ6IHtcbiAgLy8gICB0eXBlOiBCb29sZWFuLFxuICAvLyAgIGRlZmF1bHQ6IHRydWVcbiAgLy8gfSxcbiAgLy8gZG91YmxlQ2xpY2tab29tOiB7XG4gIC8vICAgdHlwZTogQm9vbGVhbixcbiAgLy8gICBkZWZhdWx0OiB0cnVlXG4gIC8vIH0sXG4gIC8vIHRvdWNoWm9vbVJvdGF0ZToge1xuICAvLyAgIHR5cGU6IFtCb29sZWFuLCBPYmplY3RdLFxuICAvLyAgIGRlZmF1bHQ6IHRydWVcbiAgLy8gfSxcbiAgLy8gdHJhY2tSZXNpemU6IHtcbiAgLy8gICB0eXBlOiBCb29sZWFuLFxuICAvLyAgIGRlZmF1bHQ6IHRydWVcbiAgLy8gfSxcbiAgY2VudGVyOiB7XG4gICAgdHlwZTogW09iamVjdCwgQXJyYXldXG4gIH0sXG4gIHpvb206IHtcbiAgICB0eXBlOiBOdW1iZXJcbiAgfSxcbiAgYmVhcmluZzoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICBwaXRjaDoge1xuICAgIHR5cGU6IE51bWJlclxuICB9LFxuICAvLyByZW5kZXJXb3JsZENvcGllczoge1xuICAvLyAgIHR5cGU6IEJvb2xlYW4sXG4gIC8vICAgZGVmYXVsdDogdHJ1ZVxuICAvLyB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICd2LW1hcGJveCcsXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXA6IG51bGwsXG4gICAgICBsYXllcnM6IFtdXG4gICAgfTtcbiAgfSxcbiAgcHJvcHM6IHByb3BzLFxuICBtb3VudGVkICgpIHtcbiAgICAvL0luaXRpYWx6ZSBNYXBcbiAgICBsZXQgb3B0aW9ucyA9IHt9O1xuICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICAvLyByZW5hbWVkIHByb3BlcnRpZXNcbiAgICBpZiAodGhpcy5tYXBTdHlsZSkge1xuICAgICAgb3B0aW9ucy5zdHlsZSA9IHRoaXMubWFwU3R5bGU7XG4gICAgfVxuICAgIGxldCBkZWZhdWx0cyA9IHByb3BzRGVmYXVsdHModGhpcy4kcHJvcHMpO1xuICAgIF8uYXNzaWduKG9wdGlvbnMsIGRlZmF1bHRzKTtcbiAgICBvcHRpb25zLmNvbnRhaW5lciA9IHRoaXMuJGVsO1xuXG5cbiAgICB0aGlzLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAob3B0aW9ucyk7XG5cbiAgICAvLyBwcm9wc0JpbmRlcih0aGlzLCB0aGlzLm1hcCwgcHJvcHMpO1xuXG5cblxuICAgIHRoaXMubWFwLm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgXy5lYWNoKFxuICAgICAgICB0aGlzLiRjaGlsZHJlbixcbiAgICAgICAgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgY2hpbGQuZGVmZXJyZWRNb3VudGVkVG8odGhpcy5tYXApO1xuICAgICAgICAgIGlmIChjaGlsZC4kb3B0aW9ucy5uYW1lID09PSAndi1tYXBib3gtbGF5ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVycy5wdXNoKGNoaWxkLm9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICB9LFxuICB3YXRjaDoge1xuICAgIGxheWVycyhvbGQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdsYXllcnMgY2hhbmdlZCcsIG9sZCk7XG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gIH1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy92LW1hcGJveC5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _VMapbox = __webpack_require__(3);\n\nvar _VMapbox2 = _interopRequireDefault(_VMapbox);\n\nvar _VMapboxLayer = __webpack_require__(4);\n\nvar _VMapboxLayer2 = _interopRequireDefault(_VMapboxLayer);\n\nvar _VMapboxSource = __webpack_require__(6);\n\nvar _VMapboxSource2 = _interopRequireDefault(_VMapboxSource);\n\nvar _VMapboxNavigationControl = __webpack_require__(5);\n\nvar _VMapboxNavigationControl2 = _interopRequireDefault(_VMapboxNavigationControl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction install(Vue, options) {\n  console.log('Installing', Vue, options);\n  Vue.component('v-mapbox', _VMapbox2.default);\n  Vue.component('v-mapbox-layer', _VMapboxLayer2.default);\n  Vue.component('v-mapbox-source', _VMapboxSource2.default);\n  Vue.component('v-mapbox-navigation-control', _VMapboxNavigationControl2.default);\n};\nexports.default = install;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbImluc3RhbGwiLCJWdWUiLCJvcHRpb25zIiwiY29uc29sZSIsImxvZyIsImNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLFNBQVNBLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXNCQyxPQUF0QixFQUErQjtBQUM3QkMsVUFBUUMsR0FBUixDQUFZLFlBQVosRUFBMEJILEdBQTFCLEVBQStCQyxPQUEvQjtBQUNBRCxNQUFJSSxTQUFKLENBQWMsVUFBZDtBQUNBSixNQUFJSSxTQUFKLENBQWMsZ0JBQWQ7QUFDQUosTUFBSUksU0FBSixDQUFjLGlCQUFkO0FBQ0FKLE1BQUlJLFNBQUosQ0FBYyw2QkFBZDtBQUNEO2tCQUNjTCxPIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZNYXBib3ggZnJvbSAnLi9jb21wb25lbnRzL1ZNYXBib3gudnVlJztcbmltcG9ydCBWTWFwYm94TGF5ZXIgZnJvbSAnLi9jb21wb25lbnRzL1ZNYXBib3hMYXllci52dWUnO1xuaW1wb3J0IFZNYXBib3hTb3VyY2UgZnJvbSAnLi9jb21wb25lbnRzL1ZNYXBib3hTb3VyY2UudnVlJztcbmltcG9ydCBWTWFwYm94TmF2aWdhdGlvbkNvbnRyb2wgZnJvbSAnLi9jb21wb25lbnRzL1ZNYXBib3hOYXZpZ2F0aW9uQ29udHJvbC52dWUnO1xuXG5mdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykge1xuICBjb25zb2xlLmxvZygnSW5zdGFsbGluZycsIFZ1ZSwgb3B0aW9ucyk7XG4gIFZ1ZS5jb21wb25lbnQoJ3YtbWFwYm94JywgVk1hcGJveCk7XG4gIFZ1ZS5jb21wb25lbnQoJ3YtbWFwYm94LWxheWVyJywgVk1hcGJveExheWVyKTtcbiAgVnVlLmNvbXBvbmVudCgndi1tYXBib3gtc291cmNlJywgVk1hcGJveFNvdXJjZSk7XG4gIFZ1ZS5jb21wb25lbnQoJ3YtbWFwYm94LW5hdmlnYXRpb24tY29udHJvbCcsIFZNYXBib3hOYXZpZ2F0aW9uQ29udHJvbCk7XG59O1xuZXhwb3J0IGRlZmF1bHQgaW5zdGFsbDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYWluLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction propsBinder(vueElement, mapboxElement, props) {\n    var keys = _.keys(props);\n    _.each(keys, function (key, i) {\n        var setMethodName = 'set' + capitalizeFirstLetter(key);\n        var deepValue = props[key].type === Object;\n        vueElement.$watch(key, function (newVal, oldVal) {\n            mapboxElement[setMethodName](newVal);\n        });\n    });\n}\n\nfunction propsDefaults(props, options) {\n    return _.omitBy(props, function (val) {\n        // keep values that are not nil\n        return _.isNil(val);\n    });\n}\n\nexports.propsBinder = propsBinder;\nexports.propsDefaults = propsDefaults;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcHJvcHNCaW5kZXIuanM/M2ZiNyJdLCJuYW1lcyI6WyJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJzdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwicHJvcHNCaW5kZXIiLCJ2dWVFbGVtZW50IiwibWFwYm94RWxlbWVudCIsInByb3BzIiwia2V5cyIsIl8iLCJlYWNoIiwia2V5IiwiaSIsInNldE1ldGhvZE5hbWUiLCJkZWVwVmFsdWUiLCJ0eXBlIiwiT2JqZWN0IiwiJHdhdGNoIiwibmV3VmFsIiwib2xkVmFsIiwicHJvcHNEZWZhdWx0cyIsIm9wdGlvbnMiLCJvbWl0QnkiLCJ2YWwiLCJpc05pbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxxQkFBVCxDQUErQkMsTUFBL0IsRUFBdUM7QUFDbkMsV0FBT0EsT0FBT0MsTUFBUCxDQUFjLENBQWQsRUFBaUJDLFdBQWpCLEtBQWlDRixPQUFPRyxLQUFQLENBQWEsQ0FBYixDQUF4QztBQUNIOztBQUVELFNBQVNDLFdBQVQsQ0FBcUJDLFVBQXJCLEVBQWlDQyxhQUFqQyxFQUFnREMsS0FBaEQsRUFBdUQ7QUFDbkQsUUFBTUMsT0FBT0MsRUFBRUQsSUFBRixDQUFPRCxLQUFQLENBQWI7QUFDQUUsTUFBRUMsSUFBRixDQUFPRixJQUFQLEVBQWEsVUFBQ0csR0FBRCxFQUFNQyxDQUFOLEVBQVk7QUFDckIsWUFBTUMsZ0JBQWdCLFFBQVFkLHNCQUFzQlksR0FBdEIsQ0FBOUI7QUFDQSxZQUFNRyxZQUFhUCxNQUFNSSxHQUFOLEVBQVdJLElBQVgsS0FBb0JDLE1BQXZDO0FBQ0FYLG1CQUFXWSxNQUFYLENBQWtCTixHQUFsQixFQUF1QixVQUFDTyxNQUFELEVBQVNDLE1BQVQsRUFBb0I7QUFDdkNiLDBCQUFjTyxhQUFkLEVBQTZCSyxNQUE3QjtBQUNILFNBRkQ7QUFHSCxLQU5EO0FBT0g7O0FBRUQsU0FBU0UsYUFBVCxDQUF3QmIsS0FBeEIsRUFBK0JjLE9BQS9CLEVBQXdDO0FBQ3BDLFdBQU9aLEVBQUVhLE1BQUYsQ0FDSGYsS0FERyxFQUVILFVBQUNnQixHQUFELEVBQVM7QUFDTDtBQUNBLGVBQU9kLEVBQUVlLEtBQUYsQ0FBUUQsR0FBUixDQUFQO0FBQ0gsS0FMRSxDQUFQO0FBT0g7O1FBR0duQixXLEdBQUFBLFc7UUFDQWdCLGEsR0FBQUEsYSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5mdW5jdGlvbiBwcm9wc0JpbmRlcih2dWVFbGVtZW50LCBtYXBib3hFbGVtZW50LCBwcm9wcykge1xuICAgIGNvbnN0IGtleXMgPSBfLmtleXMocHJvcHMpO1xuICAgIF8uZWFjaChrZXlzLCAoa2V5LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHNldE1ldGhvZE5hbWUgPSAnc2V0JyArIGNhcGl0YWxpemVGaXJzdExldHRlcihrZXkpO1xuICAgICAgICBjb25zdCBkZWVwVmFsdWUgPSAocHJvcHNba2V5XS50eXBlID09PSBPYmplY3QpO1xuICAgICAgICB2dWVFbGVtZW50LiR3YXRjaChrZXksIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xuICAgICAgICAgICAgbWFwYm94RWxlbWVudFtzZXRNZXRob2ROYW1lXShuZXdWYWwpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcHJvcHNEZWZhdWx0cyAocHJvcHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXy5vbWl0QnkoXG4gICAgICAgIHByb3BzLFxuICAgICAgICAodmFsKSA9PiB7XG4gICAgICAgICAgICAvLyBrZWVwIHZhbHVlcyB0aGF0IGFyZSBub3QgbmlsXG4gICAgICAgICAgICByZXR1cm4gXy5pc05pbCh2YWwpO1xuICAgICAgICB9XG4gICAgKTtcbn1cblxuZXhwb3J0IHtcbiAgICBwcm9wc0JpbmRlcixcbiAgICBwcm9wc0RlZmF1bHRzXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL3Byb3BzQmluZGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(14)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, ".mapboxgl-map {\\n    font: 12px/20px \'Helvetica Neue\', Arial, Helvetica, sans-serif;\\n    overflow: hidden;\\n    position: relative;\\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n\\n.mapboxgl-canvas-container.mapboxgl-interactive,\\n.mapboxgl-ctrl-nav-compass {\\n    cursor: -webkit-grab;\\n    cursor: -moz-grab;\\n    cursor: grab;\\n}\\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\\n.mapboxgl-ctrl-nav-compass:active {\\n    cursor: -webkit-grabbing;\\n    cursor: -moz-grabbing;\\n    cursor: grabbing;\\n}\\n\\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate {\\n    -ms-touch-action: pan-x pan-y;\\n    touch-action: pan-x pan-y;\\n}\\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan {\\n    -ms-touch-action: pinch-zoom;\\n}\\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan {\\n    -ms-touch-action: none;\\n    touch-action: none;\\n}\\n.mapboxgl-ctrl-top-left,\\n.mapboxgl-ctrl-top-right,\\n.mapboxgl-ctrl-bottom-left,\\n.mapboxgl-ctrl-bottom-right  { position:absolute; pointer-events:none; z-index:2; }\\n.mapboxgl-ctrl-top-left      { top:0; left:0; }\\n.mapboxgl-ctrl-top-right     { top:0; right:0; }\\n.mapboxgl-ctrl-bottom-left   { bottom:0; left:0; }\\n.mapboxgl-ctrl-bottom-right  { right:0; bottom:0; }\\n\\n.mapboxgl-ctrl { clear:both; pointer-events:auto }\\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl { margin:10px 0 0 10px; float:left; }\\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl{ margin:10px 10px 0 0; float:right; }\\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl { margin:0 0 10px 10px; float:left; }\\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin:0 10px 10px 0; float:right; }\\n\\n.mapboxgl-ctrl-group {\\n    border-radius: 4px;\\n    -moz-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\\n    -webkit-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\\n    box-shadow: 0px 0px 0px 2px rgba(0,0,0,0.1);\\n    overflow: hidden;\\n    background: #fff;\\n}\\n.mapboxgl-ctrl-group > button {\\n    width: 30px;\\n    height: 30px;\\n    display: block;\\n    padding: 0;\\n    outline: none;\\n    border: none;\\n    border-bottom: 1px solid #ddd;\\n    box-sizing: border-box;\\n    background-color: rgba(0,0,0,0);\\n    cursor: pointer;\\n}\\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\\n.mapboxgl-ctrl > button::-moz-focus-inner {\\n    border: 0;\\n    padding: 0;\\n}\\n.mapboxgl-ctrl > button:last-child {\\n    border-bottom: 0;\\n}\\n.mapboxgl-ctrl > button:hover {\\n    background-color: rgba(0,0,0,0.05);\\n}\\n.mapboxgl-ctrl-icon,\\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\\n    speak: none;\\n    -webkit-font-smoothing: antialiased;\\n    -moz-osx-font-smoothing: grayscale;\\n}\\n.mapboxgl-ctrl-icon {\\n    padding: 5px;\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\\n    background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\\n    background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate  {\\n    background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23333%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-watching  {\\n    background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%2300f%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen  {\\n    background-image: url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZnVsbHNjcmVlbi5zdmciPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxODUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MTgzIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTQ3MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI2OTUiCiAgICAgaWQ9Im5hbWVkdmlldzQxODEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjExLjMxMzcwOCIKICAgICBpbmtzY2FwZTpjeD0iMTQuNjk4MjgiCiAgICAgaW5rc2NhcGU6Y3k9IjEwLjUyNjY4OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNjk3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyOTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNjA3NiIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIGQ9Ik0gNSA0IEMgNC41IDQgNCA0LjUgNCA1IEwgNCA2IEwgNCA5IEwgNC41IDkgTCA1Ljc3NzM0MzggNy4yOTY4NzUgQyA2Ljc3NzEzMTkgOC4wNjAyMTMxIDcuODM1NzY1IDguOTU2NTcyOCA4Ljg5MDYyNSAxMCBDIDcuODI1NzEyMSAxMS4wNjMzIDYuNzc2MTc5MSAxMS45NTE2NzUgNS43ODEyNSAxMi43MDcwMzEgTCA0LjUgMTEgTCA0IDExIEwgNCAxNSBDIDQgMTUuNSA0LjUgMTYgNSAxNiBMIDkgMTYgTCA5IDE1LjUgTCA3LjI3MzQzNzUgMTQuMjA1MDc4IEMgOC4wNDI4OTMxIDEzLjE4Nzg4NiA4LjkzOTU0NDEgMTIuMTMzNDgxIDkuOTYwOTM3NSAxMS4wNjgzNTkgQyAxMS4wNDIzNzEgMTIuMTQ2OTkgMTEuOTQyMDkzIDEzLjIxMTIgMTIuNzA3MDMxIDE0LjIxODc1IEwgMTEgMTUuNSBMIDExIDE2IEwgMTQgMTYgTCAxNSAxNiBDIDE1LjUgMTYgMTYgMTUuNSAxNiAxNSBMIDE2IDE0IEwgMTYgMTEgTCAxNS41IDExIEwgMTQuMjA1MDc4IDEyLjcyNjU2MiBDIDEzLjE3Nzk4NSAxMS45NDk2MTcgMTIuMTEyNzE4IDExLjA0MzU3NyAxMS4wMzcxMDkgMTAuMDA5NzY2IEMgMTIuMTUxODU2IDguOTgxMDYxIDEzLjIyNDM0NSA4LjA3OTg2MjQgMTQuMjI4NTE2IDcuMzA0Njg3NSBMIDE1LjUgOSBMIDE2IDkgTCAxNiA1IEMgMTYgNC41IDE1LjUgNCAxNSA0IEwgMTEgNCBMIDExIDQuNSBMIDEyLjcwMzEyNSA1Ljc3NzM0MzggQyAxMS45MzI2NDcgNi43ODY0ODM0IDExLjAyNjY5MyA3Ljg1NTQ3MTIgOS45NzA3MDMxIDguOTE5OTIxOSBDIDguOTU4NDczOSA3LjgyMDQ5NDMgOC4wNjk4NzY3IDYuNzYyNzE4OCA3LjMwNDY4NzUgNS43NzE0ODQ0IEwgOSA0LjUgTCA5IDQgTCA2IDQgTCA1IDQgeiAiCiAgICAgaWQ9InBhdGg0MTY5IiAvPjwvc3ZnPg==\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink  {\\n    background-image: url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hyaW5rLnN2ZyI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTkiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnMxNyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIwMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTA4IgogICAgIGlkPSJuYW1lZHZpZXcxNSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMSIKICAgICBpbmtzY2FwZTpjeD0iNC45NTAxMDgyIgogICAgIGlua3NjYXBlOmN5PSIxMC44NTQ3NDciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNDE0NyIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDAiCiAgICAgZD0iTSA0LjI0MjE4NzUgMy40OTIxODc1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMy43MTg3NSA0Ljc4MTI1IEwgNS45NjQ4NDM4IDcuMDI3MzQzOCBMIDQgOC41IEwgNCA5IEwgOCA5IEMgOC41MDAwMDEgOC45OTk5OTg4IDkgOC40OTk5OTkyIDkgOCBMIDkgNCBMIDguNSA0IEwgNy4wMTc1NzgxIDUuOTU1MDc4MSBMIDQuNzgxMjUgMy43MTg3NSBBIDAuNzUwMDc1IDAuNzUwMDc1IDAgMCAwIDQuMjQyMTg3NSAzLjQ5MjE4NzUgeiBNIDE1LjczNDM3NSAzLjQ5MjE4NzUgQSAwLjc1MDA3NSAwLjc1MDA3NSAwIDAgMCAxNS4yMTg3NSAzLjcxODc1IEwgMTIuOTg0Mzc1IDUuOTUzMTI1IEwgMTEuNSA0IEwgMTEgNCBMIDExIDggQyAxMSA4LjQ5OTk5OTIgMTEuNDk5OTk5IDguOTk5OTk4OCAxMiA5IEwgMTYgOSBMIDE2IDguNSBMIDE0LjAzNTE1NiA3LjAyNzM0MzggTCAxNi4yODEyNSA0Ljc4MTI1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMTUuNzM0Mzc1IDMuNDkyMTg3NSB6IE0gNCAxMSBMIDQgMTEuNSBMIDUuOTY0ODQzOCAxMi45NzI2NTYgTCAzLjcxODc1IDE1LjIxODc1IEEgMC43NTEzMDA5NiAwLjc1MTMwMDk2IDAgMSAwIDQuNzgxMjUgMTYuMjgxMjUgTCA3LjAyNzM0MzggMTQuMDM1MTU2IEwgOC41IDE2IEwgOSAxNiBMIDkgMTIgQyA5IDExLjUwMDAwMSA4LjUwMDAwMSAxMS4wMDAwMDEgOCAxMSBMIDQgMTEgeiBNIDEyIDExIEMgMTEuNDk5OTk5IDExLjAwMDAwMSAxMSAxMS41MDAwMDEgMTEgMTIgTCAxMSAxNiBMIDExLjUgMTYgTCAxMi45NzI2NTYgMTQuMDM1MTU2IEwgMTUuMjE4NzUgMTYuMjgxMjUgQSAwLjc1MTMwMDk2IDAuNzUxMzAwOTYgMCAxIDAgMTYuMjgxMjUgMTUuMjE4NzUgTCAxNC4wMzUxNTYgMTIuOTcyNjU2IEwgMTYgMTEuNSBMIDE2IDExIEwgMTIgMTEgeiAiCiAgICAgaWQ9InBhdGg3IiAvPjwvc3ZnPg==\\");\\n}\\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\\n    width: 20px;\\n    height: 20px;\\n    margin: 5px;\\n    background-image: url(\\"data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23333333%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23CCCCCC%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E\\");\\n    background-repeat: no-repeat;\\n    display: inline-block;\\n}\\n\\na.mapboxgl-ctrl-logo {\\n    width: 85px;\\n    height: 21px;\\n    margin: 0 0 -3px -3px;\\n    display: block;\\n    background-repeat: no-repeat;\\n    cursor: pointer;\\n    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiAgIHZpZXdCb3g9IjAgMCA4NC40OSAyMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODQuNDkgMjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik04My4yNSwxNC4yNmMwLDAuMTItMC4wOSwwLjIxLTAuMjEsMC4yMWgtMS42MWMtMC4xMywwLTAuMjQtMC4wNi0wLjMtMC4xN2wtMS40NC0yLjM5bC0xLjQ0LDIuMzkgICAgYy0wLjA2LDAuMTEtMC4xOCwwLjE3LTAuMywwLjE3aC0xLjYxYy0wLjA0LDAtMC4wOC0wLjAxLTAuMTItMC4wM2MtMC4wOS0wLjA2LTAuMTMtMC4xOS0wLjA2LTAuMjhsMCwwbDIuNDMtMy42OEw3Ni4yLDYuODQgICAgYy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMmMwLTAuMTIsMC4wOS0wLjIxLDAuMjEtMC4yMWgxLjYxYzAuMTMsMCwwLjI0LDAuMDYsMC4zLDAuMTdsMS40MSwyLjM2bDEuNC0yLjM1ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3SDgzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMiwwLjAzYzAuMDksMC4wNiwwLjEzLDAuMTksMC4wNiwwLjI4bDAsMGwtMi4zNywzLjYzbDIuNDMsMy42NyAgICBDODMuMjQsMTQuMTgsODMuMjUsMTQuMjIsODMuMjUsMTQuMjZ6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNjYuMjQsOS41OWMtMC4zOS0xLjg4LTEuOTYtMy4yOC0zLjg0LTMuMjhjLTEuMDMsMC0yLjAzLDAuNDItMi43MywxLjE4VjMuNTFjMC0wLjEzLTAuMS0wLjIzLTAuMjMtMC4yM2gtMS40ICAgIGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MTAuNzJjMCwwLjEzLDAuMSwwLjIzLDAuMjMsMC4yM2gxLjRjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWMTMuNWMwLjcxLDAuNzUsMS43LDEuMTgsMi43MywxLjE4ICAgIGMxLjg4LDAsMy40NS0xLjQxLDMuODQtMy4yOUM2Ni4zNywxMC43OSw2Ni4zNywxMC4xOCw2Ni4yNCw5LjU5TDY2LjI0LDkuNTl6IE02Mi4wOCwxM2MtMS4zMiwwLTIuMzktMS4xMS0yLjQxLTIuNDh2LTAuMDYgICAgYzAuMDItMS4zOCwxLjA5LTIuNDgsMi40MS0yLjQ4czIuNDIsMS4xMiwyLjQyLDIuNTFTNjMuNDEsMTMsNjIuMDgsMTN6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNzEuNjcsNi4zMmMtMS45OC0wLjAxLTMuNzIsMS4zNS00LjE2LDMuMjljLTAuMTMsMC41OS0wLjEzLDEuMTksMCwxLjc3YzAuNDQsMS45NCwyLjE3LDMuMzIsNC4xNywzLjMgICAgYzIuMzUsMCw0LjI2LTEuODcsNC4yNi00LjE5Uzc0LjA0LDYuMzIsNzEuNjcsNi4zMnogTTcxLjY1LDEzLjAxYy0xLjMzLDAtMi40Mi0xLjEyLTIuNDItMi41MXMxLjA4LTIuNTIsMi40Mi0yLjUyICAgIGMxLjMzLDAsMi40MiwxLjEyLDIuNDIsMi41MVM3Mi45OSwxMyw3MS42NSwxMy4wMUw3MS42NSwxMy4wMXoiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik02Mi4wOCw3Ljk4Yy0xLjMyLDAtMi4zOSwxLjExLTIuNDEsMi40OHYwLjA2QzU5LjY4LDExLjksNjAuNzUsMTMsNjIuMDgsMTNzMi40Mi0xLjEyLDIuNDItMi41MSAgICBTNjMuNDEsNy45OCw2Mi4wOCw3Ljk4eiBNNjIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1ICAgIGMwLjYzLDAsMS4xNywwLjU3LDEuMTcsMS4yN0M2My4yNCwxMS4yLDYyLjczLDExLjc2LDYyLjA4LDExLjc2eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTcxLjY1LDcuOThjLTEuMzMsMC0yLjQyLDEuMTItMi40MiwyLjUxUzcwLjMyLDEzLDcxLjY1LDEzczIuNDItMS4xMiwyLjQyLTIuNTFTNzIuOTksNy45OCw3MS42NSw3Ljk4eiAgICAgTTcxLjY1LDExLjc2Yy0wLjY0LDAtMS4xNy0wLjU3LTEuMTctMS4yN2MwLTAuNywwLjUzLTEuMjYsMS4xNy0xLjI2czEuMTcsMC41NywxLjE3LDEuMjdDNzIuODIsMTEuMjEsNzIuMjksMTEuNzYsNzEuNjUsMTEuNzZ6IiAgICAvPiAgPHBhdGggY2xhc3M9InN0MCIgc3R5bGU9Im9wYWNpdHk6MC45OyBmaWxsOiAjRkZGRkZGOyBlbmFibGUtYmFja2dyb3VuZDogbmV3OyIgZD0iTTQ1Ljc0LDYuNTNoLTEuNGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MC43M2MtMC43MS0wLjc1LTEuNy0xLjE4LTIuNzMtMS4xOCAgICBjLTIuMTcsMC0zLjk0LDEuODctMy45NCw0LjE5czEuNzcsNC4xOSwzLjk0LDQuMTljMS4wNCwwLDIuMDMtMC40MywyLjczLTEuMTl2MC43M2MwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNCAgICBjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWNi43NGMwLTAuMTItMC4wOS0wLjIyLTAuMjItMC4yMkM0NS43NSw2LjUzLDQ1Ljc1LDYuNTMsNDUuNzQsNi41M3ogTTQ0LjEyLDEwLjUzICAgIEM0NC4xMSwxMS45LDQzLjAzLDEzLDQxLjcxLDEzcy0yLjQyLTEuMTItMi40Mi0yLjUxczEuMDgtMi41MiwyLjQtMi41MmMxLjMzLDAsMi4zOSwxLjExLDIuNDEsMi40OEw0NC4xMiwxMC41M3oiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik00MS43MSw3Ljk4Yy0xLjMzLDAtMi40MiwxLjEyLTIuNDIsMi41MVM0MC4zNywxMyw0MS43MSwxM3MyLjM5LTEuMTEsMi40MS0yLjQ4di0wLjA2ICAgIEM0NC4xLDkuMDksNDMuMDMsNy45OCw0MS43MSw3Ljk4eiBNNDAuNTUsMTAuNDljMC0wLjcsMC41Mi0xLjI3LDEuMTctMS4yN2MwLjY0LDAsMS4xNCwwLjU2LDEuMTcsMS4yNXYwLjA0ICAgIGMtMC4wMSwwLjY4LTAuNTMsMS4yNC0xLjE3LDEuMjRDNDEuMDgsMTEuNzUsNDAuNTUsMTEuMTksNDAuNTUsMTAuNDl6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNTIuNDEsNi4zMmMtMS4wMywwLTIuMDMsMC40Mi0yLjczLDEuMThWNi43NWMwLTAuMTMtMC4xLTAuMjMtMC4yMy0wLjIzaC0xLjRjLTAuMTMsMC0wLjIzLDAuMTEtMC4yMywwLjIzICAgIHYxMC43MmMwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNGMwLjEzLDAsMC4yMy0wLjEsMC4yMy0wLjIzVjEzLjVjMC43MSwwLjc1LDEuNywxLjE4LDIuNzQsMS4xOGMyLjE3LDAsMy45NC0xLjg3LDMuOTQtNC4xOSAgICBTNTQuNTgsNi4zMiw1Mi40MSw2LjMyeiBNNTIuMDgsMTMuMDFjLTEuMzIsMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0wLjA3YzAuMDItMS4zOCwxLjA5LTIuNDksMi40LTIuNDljMS4zMiwwLDIuNDEsMS4xMiwyLjQxLDIuNTEgICAgUzUzLjQsMTMsNTIuMDgsMTMuMDFMNTIuMDgsMTMuMDF6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNNTIuMDgsNy45OGMtMS4zMiwwLTIuMzksMS4xMS0yLjQyLDIuNDh2MC4wNmMwLjAzLDEuMzgsMS4xLDIuNDgsMi40MiwyLjQ4czIuNDEtMS4xMiwyLjQxLTIuNTEgICAgUzUzLjQsNy45OCw1Mi4wOCw3Ljk4eiBNNTIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1YzAuNjMsMCwxLjE3LDAuNTgsMS4xNywxLjI3ICAgIFM1Mi43MiwxMS43Niw1Mi4wOCwxMS43NnoiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0zNi4wOCwxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjQxYy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1Y5LjY4YzAtMC45OC0wLjc0LTEuNzEtMS42Mi0xLjcxICAgIGMtMC44LDAtMS40NiwwLjctMS41OSwxLjYybDAuMDEsNC42NmMwLDAuMTMtMC4xMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWNi43NCAgICBjMC4wMS0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjIsMC4xMSwwLjIzLDAuMjJWNy40YzAuNS0wLjY4LDEuMy0xLjA5LDIuMTYtMS4xaDAuMDNjMS4wOSwwLDIuMDksMC42LDIuNiwxLjU1ICAgIGMwLjQ1LTAuOTUsMS40LTEuNTUsMi40NC0xLjU2YzEuNjIsMCwyLjkzLDEuMjUsMi45LDIuNzhMMzYuMDgsMTQuMjR6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNODQuMzQsMTMuNTlsLTAuMDctMC4xM2wtMS45Ni0yLjk5bDEuOTQtMi45NWMwLjQ0LTAuNjcsMC4yNi0xLjU2LTAuNDEtMi4wMmMtMC4wMiwwLTAuMDMsMC0wLjA0LTAuMDEgICAgYy0wLjIzLTAuMTUtMC41LTAuMjItMC43OC0wLjIyaC0xLjYxYy0wLjU2LDAtMS4wOCwwLjI5LTEuMzcsMC43OEw3OS43Miw2LjZsLTAuMzQtMC41NkM3OS4wOSw1LjU2LDc4LjU3LDUuMjcsNzgsNS4yN2gtMS42ICAgIGMtMC42LDAtMS4xMywwLjM3LTEuMzUsMC45MmMtMi4xOS0xLjY2LTUuMjgtMS40Ny03LjI2LDAuNDVjLTAuMzUsMC4zNC0wLjY1LDAuNzItMC44OSwxLjE0Yy0wLjktMS42Mi0yLjU4LTIuNzItNC41LTIuNzIgICAgYy0wLjUsMC0xLjAxLDAuMDctMS40OCwwLjIzVjMuNTFjMC0wLjgyLTAuNjYtMS40OC0xLjQ3LTEuNDhoLTEuNGMtMC44MSwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2My43NSAgICBjLTAuOTUtMS4zNi0yLjUtMi4xOC00LjE3LTIuMTljLTAuNzQsMC0xLjQ2LDAuMTYtMi4xMiwwLjQ3Yy0wLjI0LTAuMTctMC41NC0wLjI2LTAuODQtMC4yNmgtMS40Yy0wLjQ1LDAtMC44NywwLjIxLTEuMTUsMC41NiAgICBjLTAuMDItMC4wMy0wLjA0LTAuMDUtMC4wNy0wLjA4Yy0wLjI4LTAuMy0wLjY4LTAuNDctMS4wOS0wLjQ3aC0xLjM5Yy0wLjMsMC0wLjYsMC4wOS0wLjg0LDAuMjZjLTAuNjctMC4zLTEuMzktMC40Ni0yLjEyLTAuNDYgICAgYy0xLjgzLDAtMy40MywxLTQuMzcsMi41Yy0wLjItMC40Ni0wLjQ4LTAuODktMC44My0xLjI1Yy0wLjgtMC44MS0xLjg5LTEuMjUtMy4wMi0xLjI1aC0wLjAxYy0wLjg5LDAuMDEtMS43NSwwLjMzLTIuNDYsMC44OCAgICBjLTAuNzQtMC41Ny0xLjY0LTAuODgtMi41Ny0wLjg4SDI4LjFjLTAuMjksMC0wLjU4LDAuMDMtMC44NiwwLjExYy0wLjI4LDAuMDYtMC41NiwwLjE2LTAuODIsMC4yOGMtMC4yMS0wLjEyLTAuNDUtMC4xOC0wLjctMC4xOCAgICBoLTEuNGMtMC44MiwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2Ny41YzAsMC44MiwwLjY2LDEuNDcsMS40NywxLjQ3aDEuNGMwLjgyLDAsMS40OC0wLjY2LDEuNDgtMS40OGwwLDBWOS43OSAgICBjMC4wMy0wLjM2LDAuMjMtMC41OSwwLjM2LTAuNTljMC4xOCwwLDAuMzgsMC4xOCwwLjM4LDAuNDd2NC41N2MwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjQxYzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3ICAgIGwtMC4wMS00LjU3YzAuMDYtMC4zMiwwLjI1LTAuNDcsMC4zNS0wLjQ3YzAuMTgsMCwwLjM4LDAuMTgsMC4zOCwwLjQ3djQuNTdjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40MSAgICBjMC44MiwwLDEuNDctMC42NiwxLjQ3LTEuNDd2LTAuMzhjMC45NiwxLjI5LDIuNDYsMi4wNiw0LjA2LDIuMDZjMC43NCwwLDEuNDYtMC4xNiwyLjEyLTAuNDdjMC4yNCwwLjE3LDAuNTQsMC4yNiwwLjg0LDAuMjZoMS4zOSAgICBjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2djIuMDFjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40YzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3di0xLjc3YzAuNDgsMC4xNSwwLjk5LDAuMjMsMS40OSwwLjIyICAgIGMxLjcsMCwzLjIyLTAuODcsNC4xNy0yLjJ2MC41MmMwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjRjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2YzAuNjYsMC4zMSwxLjM5LDAuNDcsMi4xMiwwLjQ3ICAgIGMxLjkyLDAsMy42LTEuMSw0LjQ5LTIuNzNjMS41NCwyLjY1LDQuOTUsMy41Myw3LjU4LDEuOThjMC4xOC0wLjExLDAuMzYtMC4yMiwwLjUzLTAuMzZjMC4yMiwwLjU1LDAuNzYsMC45MSwxLjM1LDAuOUg3OCAgICBjMC41NiwwLDEuMDgtMC4yOSwxLjM3LTAuNzhsMC4zNy0wLjYxbDAuMzcsMC42MWMwLjI5LDAuNDgsMC44MSwwLjc4LDEuMzgsMC43OGgxLjZjMC44MSwwLDEuNDYtMC42NiwxLjQ1LTEuNDYgICAgQzg0LjQ5LDE0LjAyLDg0LjQ0LDEzLjgsODQuMzQsMTMuNTlMODQuMzQsMTMuNTl6IE0zNS44NiwxNC40N2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuOCwwLTEuNDYsMC43LTEuNTksMS42MmwwLjAxLDQuNjZjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjkuNjhjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjYuNzRjMC4wMS0wLjEzLDAuMTEtMC4yMiwwLjIzLTAuMjJoMS40YzAuMTMsMCwwLjIyLDAuMTEsMC4yMywwLjIyVjcuNGMwLjUtMC42OCwxLjMtMS4wOSwyLjE2LTEuMWgwLjAzICAgIGMxLjA5LDAsMi4wOSwwLjYsMi42LDEuNTVjMC40NS0wLjk1LDEuNC0xLjU1LDIuNDQtMS41NmMxLjYyLDAsMi45MywxLjI1LDIuOSwyLjc4bDAuMDEsNS4xNkMzNi4wOSwxNC4zNiwzNS45OCwxNC40NiwzNS44NiwxNC40NyAgICBMMzUuODYsMTQuNDd6IE00NS45NywxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjRjLTAuMTMsMC0wLjIzLTAuMTEtMC4yMy0wLjIzVjEzLjVjLTAuNywwLjc2LTEuNjksMS4xOC0yLjcyLDEuMTggICAgYy0yLjE3LDAtMy45NC0xLjg3LTMuOTQtNC4xOXMxLjc3LTQuMTksMy45NC00LjE5YzEuMDMsMCwyLjAyLDAuNDMsMi43MywxLjE4VjYuNzRjMC0wLjEzLDAuMS0wLjIzLDAuMjMtMC4yM2gxLjQgICAgYzAuMTItMC4wMSwwLjIyLDAuMDgsMC4yMywwLjIxYzAsMC4wMSwwLDAuMDEsMCwwLjAydjcuNTFoLTAuMDFWMTQuMjR6IE01Mi40MSwxNC42N2MtMS4wMywwLTIuMDItMC40My0yLjczLTEuMTh2My45NyAgICBjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjEtMC4yMy0wLjIzVjYuNzVjMC0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjMsMC4xMSwwLjIzLDAuMjN2MC43MyAgICBjMC43MS0wLjc2LDEuNy0xLjE4LDIuNzMtMS4xOGMyLjE3LDAsMy45NCwxLjg2LDMuOTQsNC4xOFM1NC41OCwxNC42Nyw1Mi40MSwxNC42N3ogTTY2LjI0LDExLjM5Yy0wLjM5LDEuODctMS45NiwzLjI5LTMuODQsMy4yOSAgICBjLTEuMDMsMC0yLjAyLTAuNDMtMi43My0xLjE4djAuNzNjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1YzLjUxYzAtMC4xMywwLjEtMC4yMywwLjIzLTAuMjMgICAgaDEuNGMwLjEzLDAsMC4yMywwLjExLDAuMjMsMC4yM3YzLjk3YzAuNzEtMC43NSwxLjctMS4xOCwyLjczLTEuMTdjMS44OCwwLDMuNDUsMS40LDMuODQsMy4yOEM2Ni4zNywxMC4xOSw2Ni4zNywxMC44LDY2LjI0LDExLjM5ICAgIEw2Ni4yNCwxMS4zOUw2Ni4yNCwxMS4zOXogTTcxLjY3LDE0LjY4Yy0yLDAuMDEtMy43My0xLjM1LTQuMTctMy4zYy0wLjEzLTAuNTktMC4xMy0xLjE5LDAtMS43N2MwLjQ0LTEuOTQsMi4xNy0zLjMxLDQuMTctMy4zICAgIGMyLjM2LDAsNC4yNiwxLjg3LDQuMjYsNC4xOVM3NC4wMywxNC42OCw3MS42NywxNC42OEw3MS42NywxNC42OHogTTgzLjA0LDE0LjQ3aC0xLjYxYy0wLjEzLDAtMC4yNC0wLjA2LTAuMy0wLjE3bC0xLjQ0LTIuMzkgICAgbC0xLjQ0LDIuMzljLTAuMDYsMC4xMS0wLjE4LDAuMTctMC4zLDAuMTdoLTEuNjFjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMi0wLjAzYy0wLjA5LTAuMDYtMC4xMy0wLjE5LTAuMDYtMC4yOGwwLDBsMi40My0zLjY4ICAgIEw3Ni4yLDYuODRjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjEyYzAtMC4xMiwwLjA5LTAuMjEsMC4yMS0wLjIxaDEuNjFjMC4xMywwLDAuMjQsMC4wNiwwLjMsMC4xN2wxLjQxLDIuMzZsMS40MS0yLjM2ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3aDEuNjFjMC4wNCwwLDAuMDgsMC4wMSwwLjEyLDAuMDNjMC4wOSwwLjA2LDAuMTMsMC4xOSwwLjA2LDAuMjhsMCwwbC0yLjM4LDMuNjRsMi40MywzLjY3ICAgIGMwLjAyLDAuMDMsMC4wMywwLjA3LDAuMDMsMC4xMkM4My4yNSwxNC4zOCw4My4xNiwxNC40Nyw4My4wNCwxNC40N0w4My4wNCwxNC40N0w4My4wNCwxNC40N3oiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0xMC41LDEuMjRjLTUuMTEsMC05LjI1LDQuMTUtOS4yNSw5LjI1czQuMTUsOS4yNSw5LjI1LDkuMjVzOS4yNS00LjE1LDkuMjUtOS4yNSAgICBDMTkuNzUsNS4zOCwxNS42MSwxLjI0LDEwLjUsMS4yNHogTTE0Ljg5LDEyLjc3Yy0xLjkzLDEuOTMtNC43OCwyLjMxLTYuNywyLjMxYy0wLjcsMC0xLjQxLTAuMDUtMi4xLTAuMTZjMCwwLTEuMDItNS42NCwyLjE0LTguODEgICAgYzAuODMtMC44MywxLjk1LTEuMjgsMy4xMy0xLjI4YzEuMjcsMCwyLjQ5LDAuNTEsMy4zOSwxLjQyQzE2LjU5LDguMDksMTYuNjQsMTEsMTQuODksMTIuNzd6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNMTAuNS0wLjAxQzQuNy0wLjAxLDAsNC43LDAsMTAuNDlzNC43LDEwLjUsMTAuNSwxMC41UzIxLDE2LjI5LDIxLDEwLjQ5QzIwLjk5LDQuNywxNi4zLTAuMDEsMTAuNS0wLjAxeiAgICAgTTEwLjUsMTkuNzRjLTUuMTEsMC05LjI1LTQuMTUtOS4yNS05LjI1czQuMTQtOS4yNiw5LjI1LTkuMjZzOS4yNSw0LjE1LDkuMjUsOS4yNUMxOS43NSwxNS42MSwxNS42MSwxOS43NCwxMC41LDE5Ljc0eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTE0Ljc0LDYuMjVDMTIuOSw0LjQxLDkuOTgsNC4zNSw4LjIzLDYuMWMtMy4xNiwzLjE3LTIuMTQsOC44MS0yLjE0LDguODFzNS42NCwxLjAyLDguODEtMi4xNCAgICBDMTYuNjQsMTEsMTYuNTksOC4wOSwxNC43NCw2LjI1eiBNMTIuNDcsMTAuMzRsLTAuOTEsMS44N2wtMC45LTEuODdMOC44LDkuNDNsMS44Ni0wLjlsMC45LTEuODdsMC45MSwxLjg3bDEuODYsMC45TDEyLjQ3LDEwLjM0eiIgICAgLz4gIDxwb2x5Z29uIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIHBvaW50cz0iMTQuMzMsOS40MyAxMi40NywxMC4zNCAxMS41NiwxMi4yMSAxMC42NiwxMC4zNCA4LjgsOS40MyAxMC42Niw4LjUzIDExLjU2LDYuNjYgMTIuNDcsOC41MyAgICIvPjwvZz48L3N2Zz4=);\\n}\\n\\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\\n    padding: 0 5px;\\n    background-color: rgba(255, 255, 255, .5);\\n    margin: 0;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact {\\n    padding-top: 2px;\\n    padding-bottom: 2px;\\n    margin: 0 10px 10px 10px;\\n    position: relative;\\n    padding-right: 24px;\\n    background-color: #fff;\\n    border-radius: 3px 12px 12px 3px;\\n    visibility: hidden;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\\n    visibility: visible;\\n}\\n.mapboxgl-ctrl-attrib.mapboxgl-compact:after {\\n    content: \'\';\\n    cursor: pointer;\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n    background-image: url(\\"data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%09%3Cpath%20fill%3D%27%23333333%27%20fill-rule%3D%27evenodd%27%20d%3D%27M4%2C10a6%2C6%200%201%2C0%2012%2C0a6%2C6%200%201%2C0%20-12%2C0%20M9%2C7a1%2C1%200%201%2C0%202%2C0a1%2C1%200%201%2C0%20-2%2C0%20M9%2C10a1%2C1%200%201%2C1%202%2C0l0%2C3a1%2C1%200%201%2C1%20-2%2C0%27%20%2F%3E%0D%0A%3C%2Fsvg%3E\\");\\n    background-color: rgba(255, 255, 255, .5);\\n    width: 24px;\\n    height: 24px;\\n    box-sizing: border-box;\\n    visibility: visible;\\n    border-radius: 12px;\\n}\\n.mapboxgl-ctrl-attrib a {\\n    color: rgba(0,0,0,0.75);\\n    text-decoration: none;\\n}\\n.mapboxgl-ctrl-attrib a:hover {\\n    color: inherit;\\n    text-decoration: underline;\\n}\\n/* stylelint-disable */\\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\\n    font-weight: bold;\\n    margin-left: 2px;\\n}\\n/*stylelint-enable*/\\n.mapboxgl-ctrl-scale {\\n    background-color: rgba(255,255,255,0.75);\\n    font-size: 10px;\\n    border-width: medium 2px 2px;\\n    border-style: none solid solid;\\n    border-color: #333;\\n    padding: 0 5px;\\n    color: #333;\\n}\\n\\n.mapboxgl-popup {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    display: -webkit-flex;\\n    display: flex;\\n    will-change: transform;\\n    pointer-events: none;\\n}\\n.mapboxgl-popup-anchor-top,\\n.mapboxgl-popup-anchor-top-left,\\n.mapboxgl-popup-anchor-top-right {\\n    -webkit-flex-direction: column;\\n    flex-direction: column;\\n}\\n.mapboxgl-popup-anchor-bottom,\\n.mapboxgl-popup-anchor-bottom-left,\\n.mapboxgl-popup-anchor-bottom-right {\\n    -webkit-flex-direction: column-reverse;\\n    flex-direction: column-reverse;\\n}\\n.mapboxgl-popup-anchor-left {\\n    -webkit-flex-direction: row;\\n    flex-direction: row;\\n}\\n.mapboxgl-popup-anchor-right {\\n    -webkit-flex-direction: row-reverse;\\n    flex-direction: row-reverse;\\n}\\n.mapboxgl-popup-tip {\\n    width: 0;\\n    height: 0;\\n    border: 10px solid transparent;\\n    z-index: 1;\\n}\\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\\n    -webkit-align-self: center;\\n    align-self: center;\\n    border-top: none;\\n    border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\\n    -webkit-align-self: flex-start;\\n    align-self: flex-start;\\n    border-top: none;\\n    border-left: none;\\n    border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\\n    -webkit-align-self: flex-end;\\n    align-self: flex-end;\\n    border-top: none;\\n    border-right: none;\\n    border-bottom-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\\n    -webkit-align-self: center;\\n    align-self: center;\\n    border-bottom: none;\\n    border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\\n    -webkit-align-self: flex-start;\\n    align-self: flex-start;\\n    border-bottom: none;\\n    border-left: none;\\n    border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\\n    -webkit-align-self: flex-end;\\n    align-self: flex-end;\\n    border-bottom: none;\\n    border-right: none;\\n    border-top-color: #fff;\\n}\\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\\n    -webkit-align-self: center;\\n    align-self: center;\\n    border-left: none;\\n    border-right-color: #fff;\\n}\\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\\n    -webkit-align-self: center;\\n    align-self: center;\\n    border-right: none;\\n    border-left-color: #fff;\\n}\\n.mapboxgl-popup-close-button {\\n    position: absolute;\\n    right: 0;\\n    top: 0;\\n    border: none;\\n    border-radius: 0 3px 0 0;\\n    cursor: pointer;\\n    background-color: rgba(0,0,0,0);\\n}\\n.mapboxgl-popup-close-button:hover {\\n    background-color: rgba(0,0,0,0.05);\\n}\\n.mapboxgl-popup-content {\\n    position: relative;\\n    background: #fff;\\n    border-radius: 3px;\\n    box-shadow: 0 1px 2px rgba(0,0,0,0.10);\\n    padding: 10px 10px 15px;\\n    pointer-events: auto;\\n}\\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\\n    border-top-left-radius: 0;\\n}\\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\\n    border-top-right-radius: 0;\\n}\\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\\n    border-bottom-left-radius: 0;\\n}\\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\\n    border-bottom-right-radius: 0;\\n}\\n\\n.mapboxgl-marker {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    will-change: transform;\\n}\\n\\n.mapboxgl-crosshair,\\n.mapboxgl-crosshair .mapboxgl-interactive,\\n.mapboxgl-crosshair .mapboxgl-interactive:active {\\n    cursor: crosshair;\\n}\\n.mapboxgl-boxzoom {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 0;\\n    height: 0;\\n    background: #fff;\\n    border: 2px dotted #202020;\\n    opacity: 0.5;\\n}\\n\\n@media print {\\n/* stylelint-disable */\\n    .mapbox-improve-map {\\n        display:none;\\n    }\\n/* stylelint-enable */\\n}\\n", ""]);\n\n// exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3M/ZjhjNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7QUFHQTtBQUNBLHdDQUF5QyxxRUFBcUUsdUJBQXVCLHlCQUF5QixpREFBaUQsR0FBRyxrRkFBa0YsMkJBQTJCLHdCQUF3QixtQkFBbUIsR0FBRyw4RkFBOEYsK0JBQStCLDRCQUE0Qix1QkFBdUIsR0FBRywyREFBMkQsb0NBQW9DLGdDQUFnQyxHQUFHLHNEQUFzRCxtQ0FBbUMsR0FBRyxpRkFBaUYsNkJBQTZCLHlCQUF5QixHQUFHLGtIQUFrSCxtQkFBbUIscUJBQXFCLFdBQVcsRUFBRSxnQ0FBZ0MsT0FBTyxRQUFRLEVBQUUsZ0NBQWdDLE9BQU8sU0FBUyxFQUFFLGdDQUFnQyxVQUFVLFFBQVEsRUFBRSxnQ0FBZ0MsU0FBUyxVQUFVLEVBQUUsb0JBQW9CLFlBQVksc0JBQXNCLDBDQUEwQyxzQkFBc0IsWUFBWSxFQUFFLDBDQUEwQyxzQkFBc0IsYUFBYSxFQUFFLDZDQUE2QyxzQkFBc0IsWUFBWSxFQUFFLDhDQUE4QyxzQkFBc0IsYUFBYSxFQUFFLDBCQUEwQix5QkFBeUIsbURBQW1ELHNEQUFzRCxrREFBa0QsdUJBQXVCLHVCQUF1QixHQUFHLGlDQUFpQyxrQkFBa0IsbUJBQW1CLHFCQUFxQixpQkFBaUIsb0JBQW9CLG1CQUFtQixvQ0FBb0MsNkJBQTZCLHNDQUFzQyxzQkFBc0IsR0FBRyx3R0FBd0csZ0JBQWdCLGlCQUFpQixHQUFHLHNDQUFzQyx1QkFBdUIsR0FBRyxpQ0FBaUMseUNBQXlDLEdBQUcsNEVBQTRFLGtCQUFrQiwwQ0FBMEMseUNBQXlDLEdBQUcsdUJBQXVCLG1CQUFtQixHQUFHLDhDQUE4QyxpREFBaUQsd1hBQXdYLEdBQUcsNkNBQTZDLGlEQUFpRCx5b0JBQXlvQixHQUFHLGdEQUFnRCxpREFBaUQsczRCQUFzNEIsR0FBRyxrRUFBa0UsaURBQWlELHM0QkFBczRCLEdBQUcsaURBQWlELGlEQUFpRCxtaEhBQW1oSCxHQUFHLDZDQUE2QyxpREFBaUQsMnRIQUEydEgsR0FBRyw0RUFBNEUsa0JBQWtCLG1CQUFtQixrQkFBa0IsaURBQWlELHNUQUFzVCxtQ0FBbUMsNEJBQTRCLEdBQUcsMEJBQTBCLGtCQUFrQixtQkFBbUIsNEJBQTRCLHFCQUFxQixtQ0FBbUMsc0JBQXNCLCtDQUErQyx5OFpBQXk4WixHQUFHLHlDQUF5QyxxQkFBcUIsZ0RBQWdELGdCQUFnQixHQUFHLDBDQUEwQyx1QkFBdUIsMEJBQTBCLCtCQUErQix5QkFBeUIsMEJBQTBCLDZCQUE2Qix1Q0FBdUMseUJBQXlCLEdBQUcsZ0RBQWdELDBCQUEwQixHQUFHLGdEQUFnRCxrQkFBa0Isc0JBQXNCLHlCQUF5QixnQkFBZ0IsZUFBZSxpREFBaUQsZ2FBQWdhLGdEQUFnRCxrQkFBa0IsbUJBQW1CLDZCQUE2QiwwQkFBMEIsMEJBQTBCLEdBQUcsMkJBQTJCLDhCQUE4Qiw0QkFBNEIsR0FBRyxpQ0FBaUMscUJBQXFCLGlDQUFpQyxHQUFHLHNFQUFzRSx3QkFBd0IsdUJBQXVCLEdBQUcsOENBQThDLCtDQUErQyxzQkFBc0IsbUNBQW1DLHFDQUFxQyx5QkFBeUIscUJBQXFCLGtCQUFrQixHQUFHLHFCQUFxQix5QkFBeUIsYUFBYSxjQUFjLDRCQUE0QixvQkFBb0IsNkJBQTZCLDJCQUEyQixHQUFHLG1HQUFtRyxxQ0FBcUMsNkJBQTZCLEdBQUcsNEdBQTRHLDZDQUE2QyxxQ0FBcUMsR0FBRywrQkFBK0Isa0NBQWtDLDBCQUEwQixHQUFHLGdDQUFnQywwQ0FBMEMsa0NBQWtDLEdBQUcsdUJBQXVCLGVBQWUsZ0JBQWdCLHFDQUFxQyxpQkFBaUIsR0FBRyxrREFBa0QsaUNBQWlDLHlCQUF5Qix1QkFBdUIsZ0NBQWdDLEdBQUcsdURBQXVELHFDQUFxQyw2QkFBNkIsdUJBQXVCLHdCQUF3QixnQ0FBZ0MsR0FBRyx3REFBd0QsbUNBQW1DLDJCQUEyQix1QkFBdUIseUJBQXlCLGdDQUFnQyxHQUFHLHFEQUFxRCxpQ0FBaUMseUJBQXlCLDBCQUEwQiw2QkFBNkIsR0FBRywwREFBMEQscUNBQXFDLDZCQUE2QiwwQkFBMEIsd0JBQXdCLDZCQUE2QixHQUFHLDJEQUEyRCxtQ0FBbUMsMkJBQTJCLDBCQUEwQix5QkFBeUIsNkJBQTZCLEdBQUcsbURBQW1ELGlDQUFpQyx5QkFBeUIsd0JBQXdCLCtCQUErQixHQUFHLG9EQUFvRCxpQ0FBaUMseUJBQXlCLHlCQUF5Qiw4QkFBOEIsR0FBRyxnQ0FBZ0MseUJBQXlCLGVBQWUsYUFBYSxtQkFBbUIsK0JBQStCLHNCQUFzQixzQ0FBc0MsR0FBRyxzQ0FBc0MseUNBQXlDLEdBQUcsMkJBQTJCLHlCQUF5Qix1QkFBdUIseUJBQXlCLDZDQUE2Qyw4QkFBOEIsMkJBQTJCLEdBQUcsMkRBQTJELGdDQUFnQyxHQUFHLDREQUE0RCxpQ0FBaUMsR0FBRyw4REFBOEQsbUNBQW1DLEdBQUcsK0RBQStELG9DQUFvQyxHQUFHLHNCQUFzQix5QkFBeUIsYUFBYSxjQUFjLDZCQUE2QixHQUFHLHdIQUF3SCx3QkFBd0IsR0FBRyxxQkFBcUIseUJBQXlCLGFBQWEsY0FBYyxlQUFlLGdCQUFnQix1QkFBdUIsaUNBQWlDLG1CQUFtQixHQUFHLGtCQUFrQixvREFBb0QsdUJBQXVCLE9BQU8sMkJBQTJCOztBQUU3M2dDIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWFwYm94Z2wtbWFwIHtcXG4gICAgZm9udDogMTJweC8yMHB4ICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbn1cXG5cXG4ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZSxcXG4ubWFwYm94Z2wtY3RybC1uYXYtY29tcGFzcyB7XFxuICAgIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xcbiAgICBjdXJzb3I6IC1tb3otZ3JhYjtcXG4gICAgY3Vyc29yOiBncmFiO1xcbn1cXG4ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZTphY3RpdmUsXFxuLm1hcGJveGdsLWN0cmwtbmF2LWNvbXBhc3M6YWN0aXZlIHtcXG4gICAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nO1xcbiAgICBjdXJzb3I6IC1tb3otZ3JhYmJpbmc7XFxuICAgIGN1cnNvcjogZ3JhYmJpbmc7XFxufVxcblxcbi5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlIHtcXG4gICAgLW1zLXRvdWNoLWFjdGlvbjogcGFuLXggcGFuLXk7XFxuICAgIHRvdWNoLWFjdGlvbjogcGFuLXggcGFuLXk7XFxufVxcbi5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIHtcXG4gICAgLW1zLXRvdWNoLWFjdGlvbjogcGluY2gtem9vbTtcXG59XFxuLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4ge1xcbiAgICAtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcbiAgICB0b3VjaC1hY3Rpb246IG5vbmU7XFxufVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0LFxcbi5tYXBib3hnbC1jdHJsLXRvcC1yaWdodCxcXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCxcXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgIHsgcG9zaXRpb246YWJzb2x1dGU7IHBvaW50ZXItZXZlbnRzOm5vbmU7IHotaW5kZXg6MjsgfVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0ICAgICAgeyB0b3A6MDsgbGVmdDowOyB9XFxuLm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0ICAgICB7IHRvcDowOyByaWdodDowOyB9XFxuLm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgICB7IGJvdHRvbTowOyBsZWZ0OjA7IH1cXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgIHsgcmlnaHQ6MDsgYm90dG9tOjA7IH1cXG5cXG4ubWFwYm94Z2wtY3RybCB7IGNsZWFyOmJvdGg7IHBvaW50ZXItZXZlbnRzOmF1dG8gfVxcbi5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0IC5tYXBib3hnbC1jdHJsIHsgbWFyZ2luOjEwcHggMCAwIDEwcHg7IGZsb2F0OmxlZnQ7IH1cXG4ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQgLm1hcGJveGdsLWN0cmx7IG1hcmdpbjoxMHB4IDEwcHggMCAwOyBmbG9hdDpyaWdodDsgfVxcbi5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsIHsgbWFyZ2luOjAgMCAxMHB4IDEwcHg7IGZsb2F0OmxlZnQ7IH1cXG4ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgLm1hcGJveGdsLWN0cmwgeyBtYXJnaW46MCAxMHB4IDEwcHggMDsgZmxvYXQ6cmlnaHQ7IH1cXG5cXG4ubWFwYm94Z2wtY3RybC1ncm91cCB7XFxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDJweCByZ2JhKDAsMCwwLDAuMSk7XFxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAycHggcmdiYSgwLDAsMCwwLjEpO1xcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDBweCAycHggcmdiYSgwLDAsMCwwLjEpO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1ncm91cCA+IGJ1dHRvbiB7XFxuICAgIHdpZHRoOiAzMHB4O1xcbiAgICBoZWlnaHQ6IDMwcHg7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi8qIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0MDU2MiAqL1xcbi5tYXBib3hnbC1jdHJsID4gYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcXG4gICAgYm9yZGVyOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG4ubWFwYm94Z2wtY3RybCA+IGJ1dHRvbjpsYXN0LWNoaWxkIHtcXG4gICAgYm9yZGVyLWJvdHRvbTogMDtcXG59XFxuLm1hcGJveGdsLWN0cmwgPiBidXR0b246aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuMDUpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLFxcbi5tYXBib3hnbC1jdHJsLWljb24gPiAubWFwYm94Z2wtY3RybC1jb21wYXNzLWFycm93IHtcXG4gICAgc3BlYWs6IG5vbmU7XFxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcbiAgICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uIHtcXG4gICAgcGFkZGluZzogNXB4O1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0ZjgsJTNDc3ZnJTIwdmlld0JveCUzRCUyNzAlMjAwJTIwMjAlMjAyMCUyNyUyMHhtbG5zJTNEJTI3aHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTI3JTNFJTBBJTIwJTIwJTNDcGF0aCUyMHN0eWxlJTNEJTI3ZmlsbCUzQSUyMzMzMzMzMyUzQiUyNyUyMGQlM0QlMjdtJTIwNyUyQzklMjBjJTIwLTAuNTU0JTJDMCUyMC0xJTJDMC40NDYlMjAtMSUyQzElMjAwJTJDMC41NTQlMjAwLjQ0NiUyQzElMjAxJTJDMSUyMGwlMjA2JTJDMCUyMGMlMjAwLjU1NCUyQzAlMjAxJTJDLTAuNDQ2JTIwMSUyQy0xJTIwMCUyQy0wLjU1NCUyMC0wLjQ0NiUyQy0xJTIwLTElMkMtMSUyMHolMjclMjAlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLXpvb20taW4ge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0ZjgsJTNDc3ZnJTIwdmlld0JveCUzRCUyNzAlMjAwJTIwMjAlMjAyMCUyNyUyMHhtbG5zJTNEJTI3aHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTI3JTNFJTBBJTIwJTIwJTNDcGF0aCUyMHN0eWxlJTNEJTI3ZmlsbCUzQSUyMzMzMzMzMyUzQiUyNyUyMGQlM0QlMjdNJTIwMTAlMjA2JTIwQyUyMDkuNDQ2JTIwNiUyMDklMjA2LjQ0NTk5MDQlMjA5JTIwNyUyMEwlMjA5JTIwOSUyMEwlMjA3JTIwOSUyMEMlMjA2LjQ0NiUyMDklMjA2JTIwOS40NDYlMjA2JTIwMTAlMjBDJTIwNiUyMDEwLjU1NCUyMDYuNDQ2JTIwMTElMjA3JTIwMTElMjBMJTIwOSUyMDExJTIwTCUyMDklMjAxMyUyMEMlMjA5JTIwMTMuNTU0MDElMjA5LjQ0NiUyMDE0JTIwMTAlMjAxNCUyMEMlMjAxMC41NTQlMjAxNCUyMDExJTIwMTMuNTU0MDElMjAxMSUyMDEzJTIwTCUyMDExJTIwMTElMjBMJTIwMTMlMjAxMSUyMEMlMjAxMy41NTQlMjAxMSUyMDE0JTIwMTAuNTU0JTIwMTQlMjAxMCUyMEMlMjAxNCUyMDkuNDQ2JTIwMTMuNTU0JTIwOSUyMDEzJTIwOSUyMEwlMjAxMSUyMDklMjBMJTIwMTElMjA3JTIwQyUyMDExJTIwNi40NDU5OTA0JTIwMTAuNTU0JTIwNiUyMDEwJTIwNiUyMHolMjclMjAlMkYlM0UlMEElM0MlMkZzdmclM0UlMEFcXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUzRSUwRCUwQSUyMCUyMCUzQ3BhdGglMjBzdHlsZSUzRCUyN2ZpbGwlM0ElMjMzMzMlM0IlMjclMjBkJTNEJTI3TTEwJTIwNEM5JTIwNCUyMDklMjA1JTIwOSUyMDVMOSUyMDUuMUE1JTIwNSUyMDAlMjAwJTIwMCUyMDUuMSUyMDlMNSUyMDlDNSUyMDklMjA0JTIwOSUyMDQlMjAxMCUyMDQlMjAxMSUyMDUlMjAxMSUyMDUlMjAxMUw1LjElMjAxMUE1JTIwNSUyMDAlMjAwJTIwMCUyMDklMjAxNC45TDklMjAxNUM5JTIwMTUlMjA5JTIwMTYlMjAxMCUyMDE2JTIwMTElMjAxNiUyMDExJTIwMTUlMjAxMSUyMDE1TDExJTIwMTQuOUE1JTIwNSUyMDAlMjAwJTIwMCUyMDE0LjklMjAxMUwxNSUyMDExQzE1JTIwMTElMjAxNiUyMDExJTIwMTYlMjAxMCUyMDE2JTIwOSUyMDE1JTIwOSUyMDE1JTIwOUwxNC45JTIwOUE1JTIwNSUyMDAlMjAwJTIwMCUyMDExJTIwNS4xTDExJTIwNUMxMSUyMDUlMjAxMSUyMDQlMjAxMCUyMDR6TTEwJTIwNi41QTMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEzLjUlMjAxMCUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEwJTIwMTMuNSUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDYuNSUyMDEwJTIwMy41JTIwMy41JTIwMCUyMDAlMjAxJTIwMTAlMjA2LjV6TTEwJTIwOC4zQTEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDguMyUyMDEwJTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTAlMjAxMS44JTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTEuOCUyMDEwJTIwMS44JTIwMS44JTIwMCUyMDAlMjAwJTIwMTAlMjA4LjN6JTI3JTIwJTJGJTNFJTBEJTBBJTNDJTJGc3ZnJTNFXFxcIik7XFxufVxcbi5tYXBib3hnbC1jdHJsLWljb24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtd2F0Y2hpbmcgIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclM0UlMEQlMEElMjAlMjAlM0NwYXRoJTIwc3R5bGUlM0QlMjdmaWxsJTNBJTIzMDBmJTNCJTI3JTIwZCUzRCUyN00xMCUyMDRDOSUyMDQlMjA5JTIwNSUyMDklMjA1TDklMjA1LjFBNSUyMDUlMjAwJTIwMCUyMDAlMjA1LjElMjA5TDUlMjA5QzUlMjA5JTIwNCUyMDklMjA0JTIwMTAlMjA0JTIwMTElMjA1JTIwMTElMjA1JTIwMTFMNS4xJTIwMTFBNSUyMDUlMjAwJTIwMCUyMDAlMjA5JTIwMTQuOUw5JTIwMTVDOSUyMDE1JTIwOSUyMDE2JTIwMTAlMjAxNiUyMDExJTIwMTYlMjAxMSUyMDE1JTIwMTElMjAxNUwxMSUyMDE0LjlBNSUyMDUlMjAwJTIwMCUyMDAlMjAxNC45JTIwMTFMMTUlMjAxMUMxNSUyMDExJTIwMTYlMjAxMSUyMDE2JTIwMTAlMjAxNiUyMDklMjAxNSUyMDklMjAxNSUyMDlMMTQuOSUyMDlBNSUyMDUlMjAwJTIwMCUyMDAlMjAxMSUyMDUuMUwxMSUyMDVDMTElMjA1JTIwMTElMjA0JTIwMTAlMjA0ek0xMCUyMDYuNUEzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMy41JTIwMTAlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjAxMCUyMDEzLjUlMjAzLjUlMjAzLjUlMjAwJTIwMCUyMDElMjA2LjUlMjAxMCUyMDMuNSUyMDMuNSUyMDAlMjAwJTIwMSUyMDEwJTIwNi41ek0xMCUyMDguM0ExLjglMjAxLjglMjAwJTIwMCUyMDAlMjA4LjMlMjAxMCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDEwJTIwMTEuOCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDExLjglMjAxMCUyMDEuOCUyMDEuOCUyMDAlMjAwJTIwMCUyMDEwJTIwOC4zeiUyNyUyMCUyRiUzRSUwRCUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpSUhOMFlXNWtZV3h2Ym1VOUltNXZJajgrQ2p3aExTMGdSMlZ1WlhKaGRHOXlPaUJCWkc5aVpTQkpiR3gxYzNSeVlYUnZjaUF4T1M0d0xqRXNJRk5XUnlCRmVIQnZjblFnVUd4MVp5MUpiaUF1SUZOV1J5QldaWEp6YVc5dU9pQTJMakF3SUVKMWFXeGtJREFwSUNBdExUNEtDanh6ZG1jS0lDQWdlRzFzYm5NNlpHTTlJbWgwZEhBNkx5OXdkWEpzTG05eVp5OWtZeTlsYkdWdFpXNTBjeTh4TGpFdklnb2dJQ0I0Yld4dWN6cGpZejBpYUhSMGNEb3ZMMk55WldGMGFYWmxZMjl0Ylc5dWN5NXZjbWN2Ym5Naklnb2dJQ0I0Yld4dWN6cHlaR1k5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZNREl2TWpJdGNtUm1MWE41Ym5SaGVDMXVjeU1pQ2lBZ0lIaHRiRzV6T25OMlp6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lDaUFnSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlLSUNBZ2VHMXNibk02YzI5a2FYQnZaR2s5SW1oMGRIQTZMeTl6YjJScGNHOWthUzV6YjNWeVkyVm1iM0puWlM1dVpYUXZSRlJFTDNOdlpHbHdiMlJwTFRBdVpIUmtJZ29nSUNCNGJXeHVjenBwYm10elkyRndaVDBpYUhSMGNEb3ZMM2QzZHk1cGJtdHpZMkZ3WlM1dmNtY3ZibUZ0WlhOd1lXTmxjeTlwYm10elkyRndaU0lLSUNBZ2RtVnljMmx2YmowaU1TNHhJZ29nSUNCcFpEMGlUR0Y1WlhKZk1TSUtJQ0FnZUQwaU1IQjRJZ29nSUNCNVBTSXdjSGdpQ2lBZ0lIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeU1DSUtJQ0FnYzNSNWJHVTlJbVZ1WVdKc1pTMWlZV05yWjNKdmRXNWtPbTVsZHlBd0lEQWdNakFnTWpBN0lnb2dJQ0I0Yld3NmMzQmhZMlU5SW5CeVpYTmxjblpsSWdvZ0lDQnBibXR6WTJGd1pUcDJaWEp6YVc5dVBTSXdMamt4SUhJeE16Y3lOU0lLSUNBZ2MyOWthWEJ2WkdrNlpHOWpibUZ0WlQwaVpuVnNiSE5qY21WbGJpNXpkbWNpUGp4dFpYUmhaR0YwWVFvZ0lDQWdJR2xrUFNKdFpYUmhaR0YwWVRReE9EVWlQanh5WkdZNlVrUkdQanhqWXpwWGIzSnJDaUFnSUNBZ0lDQWdJSEprWmpwaFltOTFkRDBpSWo0OFpHTTZabTl5YldGMFBtbHRZV2RsTDNOMlp5dDRiV3c4TDJSak9tWnZjbTFoZEQ0OFpHTTZkSGx3WlFvZ0lDQWdJQ0FnSUNBZ0lISmtaanB5WlhOdmRYSmpaVDBpYUhSMGNEb3ZMM0IxY213dWIzSm5MMlJqTDJSamJXbDBlWEJsTDFOMGFXeHNTVzFoWjJVaUlDOCtQR1JqT25ScGRHeGxQand2WkdNNmRHbDBiR1UrUEM5all6cFhiM0pyUGp3dmNtUm1PbEpFUmo0OEwyMWxkR0ZrWVhSaFBqeGtaV1p6Q2lBZ0lDQWdhV1E5SW1SbFpuTTBNVGd6SWlBdlBqeHpiMlJwY0c5a2FUcHVZVzFsWkhacFpYY0tJQ0FnSUNCd1lXZGxZMjlzYjNJOUlpTm1abVptWm1ZaUNpQWdJQ0FnWW05eVpHVnlZMjlzYjNJOUlpTTJOalkyTmpZaUNpQWdJQ0FnWW05eVpHVnliM0JoWTJsMGVUMGlNU0lLSUNBZ0lDQnZZbXBsWTNSMGIyeGxjbUZ1WTJVOUlqRXdJZ29nSUNBZ0lHZHlhV1IwYjJ4bGNtRnVZMlU5SWpFd0lnb2dJQ0FnSUdkMWFXUmxkRzlzWlhKaGJtTmxQU0l4TUNJS0lDQWdJQ0JwYm10elkyRndaVHB3WVdkbGIzQmhZMmwwZVQwaU1DSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwd1lXZGxjMmhoWkc5M1BTSXlJZ29nSUNBZ0lHbHVhM05qWVhCbE9uZHBibVJ2ZHkxM2FXUjBhRDBpTVRRM01TSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwM2FXNWtiM2N0YUdWcFoyaDBQU0kyT1RVaUNpQWdJQ0FnYVdROUltNWhiV1ZrZG1sbGR6UXhPREVpQ2lBZ0lDQWdjMmh2ZDJkeWFXUTlJbVpoYkhObElnb2dJQ0FnSUdsdWEzTmpZWEJsT25wdmIyMDlJakV4TGpNeE16Y3dPQ0lLSUNBZ0lDQnBibXR6WTJGd1pUcGplRDBpTVRRdU5qazRNamdpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZZM2s5SWpFd0xqVXlOalk0T1NJS0lDQWdJQ0JwYm10elkyRndaVHAzYVc1a2IzY3RlRDBpTmprM0lnb2dJQ0FnSUdsdWEzTmpZWEJsT25kcGJtUnZkeTE1UFNJeU9UZ2lDaUFnSUNBZ2FXNXJjMk5oY0dVNmQybHVaRzkzTFcxaGVHbHRhWHBsWkQwaU1DSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwamRYSnlaVzUwTFd4aGVXVnlQU0pNWVhsbGNsOHhJZ29nSUNBZ0lHbHVhM05qWVhCbE9uTnVZWEF0WW1KdmVEMGlkSEoxWlNJS0lDQWdJQ0JwYm10elkyRndaVHBpWW05NExYQmhkR2h6UFNKMGNuVmxJZ29nSUNBZ0lHbHVhM05qWVhCbE9tOWlhbVZqZEMxd1lYUm9jejBpZEhKMVpTSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwaVltOTRMVzV2WkdWelBTSjBjblZsSWdvZ0lDQWdJR2x1YTNOallYQmxPbTlpYW1WamRDMXViMlJsY3owaWRISjFaU0krUEdsdWEzTmpZWEJsT21keWFXUUtJQ0FnSUNBZ0lIUjVjR1U5SW5oNVozSnBaQ0lLSUNBZ0lDQWdJR2xrUFNKbmNtbGtOakEzTmlJZ0x6NDhMM052Wkdsd2IyUnBPbTVoYldWa2RtbGxkejQ4Y0dGMGFBb2dJQ0FnSUdROUlrMGdOU0EwSUVNZ05DNDFJRFFnTkNBMExqVWdOQ0ExSUV3Z05DQTJJRXdnTkNBNUlFd2dOQzQxSURrZ1RDQTFMamMzTnpNME16Z2dOeTR5T1RZNE56VWdReUEyTGpjM056RXpNVGtnT0M0d05qQXlNVE14SURjdU9ETTFOelkxSURndU9UVTJOVGN5T0NBNExqZzVNRFl5TlNBeE1DQkRJRGN1T0RJMU56RXlNU0F4TVM0d05qTXpJRFl1TnpjMk1UYzVNU0F4TVM0NU5URTJOelVnTlM0M09ERXlOU0F4TWk0M01EY3dNekVnVENBMExqVWdNVEVnVENBMElERXhJRXdnTkNBeE5TQkRJRFFnTVRVdU5TQTBMalVnTVRZZ05TQXhOaUJNSURrZ01UWWdUQ0E1SURFMUxqVWdUQ0EzTGpJM016UXpOelVnTVRRdU1qQTFNRGM0SUVNZ09DNHdOREk0T1RNeElERXpMakU0TnpnNE5pQTRMamt6T1RVME5ERWdNVEl1TVRNek5EZ3hJRGt1T1RZd09UTTNOU0F4TVM0d05qZ3pOVGtnUXlBeE1TNHdOREl6TnpFZ01USXVNVFEyT1RrZ01URXVPVFF5TURreklERXpMakl4TVRJZ01USXVOekEzTURNeElERTBMakl4T0RjMUlFd2dNVEVnTVRVdU5TQk1JREV4SURFMklFd2dNVFFnTVRZZ1RDQXhOU0F4TmlCRElERTFMalVnTVRZZ01UWWdNVFV1TlNBeE5pQXhOU0JNSURFMklERTBJRXdnTVRZZ01URWdUQ0F4TlM0MUlERXhJRXdnTVRRdU1qQTFNRGM0SURFeUxqY3lOalUyTWlCRElERXpMakUzTnprNE5TQXhNUzQ1TkRrMk1UY2dNVEl1TVRFeU56RTRJREV4TGpBME16VTNOeUF4TVM0d016Y3hNRGtnTVRBdU1EQTVOelkySUVNZ01USXVNVFV4T0RVMklEZ3VPVGd4TURZeElERXpMakl5TkRNME5TQTRMakEzT1RnMk1qUWdNVFF1TWpJNE5URTJJRGN1TXpBME5qZzNOU0JNSURFMUxqVWdPU0JNSURFMklEa2dUQ0F4TmlBMUlFTWdNVFlnTkM0MUlERTFMalVnTkNBeE5TQTBJRXdnTVRFZ05DQk1JREV4SURRdU5TQk1JREV5TGpjd016RXlOU0ExTGpjM056TTBNemdnUXlBeE1TNDVNekkyTkRjZ05pNDNPRFkwT0RNMElERXhMakF5TmpZNU15QTNMamcxTlRRM01USWdPUzQ1TnpBM01ETXhJRGd1T1RFNU9USXhPU0JESURndU9UVTRORGN6T1NBM0xqZ3lNRFE1TkRNZ09DNHdOams0TnpZM0lEWXVOell5TnpFNE9DQTNMak13TkRZNE56VWdOUzQzTnpFME9EUTBJRXdnT1NBMExqVWdUQ0E1SURRZ1RDQTJJRFFnVENBMUlEUWdlaUFpQ2lBZ0lDQWdhV1E5SW5CaGRHZzBNVFk1SWlBdlBqd3ZjM1puUGc9PVxcXCIpO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1pY29uLm1hcGJveGdsLWN0cmwtc2hyaW5rICB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lJSE4wWVc1a1lXeHZibVU5SW01dklqOCtDandoTFMwZ1IyVnVaWEpoZEc5eU9pQkJaRzlpWlNCSmJHeDFjM1J5WVhSdmNpQXhPUzR3TGpFc0lGTldSeUJGZUhCdmNuUWdVR3gxWnkxSmJpQXVJRk5XUnlCV1pYSnphVzl1T2lBMkxqQXdJRUoxYVd4a0lEQXBJQ0F0TFQ0S0NqeHpkbWNLSUNBZ2VHMXNibk02WkdNOUltaDBkSEE2THk5d2RYSnNMbTl5Wnk5a1l5OWxiR1Z0Wlc1MGN5OHhMakV2SWdvZ0lDQjRiV3h1Y3pwall6MGlhSFIwY0RvdkwyTnlaV0YwYVhabFkyOXRiVzl1Y3k1dmNtY3Zibk1qSWdvZ0lDQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlDaUFnSUhodGJHNXpPbk4yWnowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUNpQWdJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SUtJQ0FnZUcxc2JuTTZjMjlrYVhCdlpHazlJbWgwZEhBNkx5OXpiMlJwY0c5a2FTNXpiM1Z5WTJWbWIzSm5aUzV1WlhRdlJGUkVMM052Wkdsd2IyUnBMVEF1WkhSa0lnb2dJQ0I0Yld4dWN6cHBibXR6WTJGd1pUMGlhSFIwY0RvdkwzZDNkeTVwYm10elkyRndaUzV2Y21jdmJtRnRaWE53WVdObGN5OXBibXR6WTJGd1pTSUtJQ0FnZG1WeWMybHZiajBpTVM0eElnb2dJQ0JwWkQwaVRHRjVaWEpmTVNJS0lDQWdlRDBpTUhCNElnb2dJQ0I1UFNJd2NIZ2lDaUFnSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F5TUNJS0lDQWdjM1I1YkdVOUltVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkeUF3SURBZ01qQWdNakE3SWdvZ0lDQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJZ29nSUNCcGJtdHpZMkZ3WlRwMlpYSnphVzl1UFNJd0xqa3hJSEl4TXpjeU5TSUtJQ0FnYzI5a2FYQnZaR2s2Wkc5amJtRnRaVDBpYzJoeWFXNXJMbk4yWnlJK1BHMWxkR0ZrWVhSaENpQWdJQ0FnYVdROUltMWxkR0ZrWVhSaE1Ua2lQanh5WkdZNlVrUkdQanhqWXpwWGIzSnJDaUFnSUNBZ0lDQWdJSEprWmpwaFltOTFkRDBpSWo0OFpHTTZabTl5YldGMFBtbHRZV2RsTDNOMlp5dDRiV3c4TDJSak9tWnZjbTFoZEQ0OFpHTTZkSGx3WlFvZ0lDQWdJQ0FnSUNBZ0lISmtaanB5WlhOdmRYSmpaVDBpYUhSMGNEb3ZMM0IxY213dWIzSm5MMlJqTDJSamJXbDBlWEJsTDFOMGFXeHNTVzFoWjJVaUlDOCtQR1JqT25ScGRHeGxQand2WkdNNmRHbDBiR1UrUEM5all6cFhiM0pyUGp3dmNtUm1PbEpFUmo0OEwyMWxkR0ZrWVhSaFBqeGtaV1p6Q2lBZ0lDQWdhV1E5SW1SbFpuTXhOeUlnTHo0OGMyOWthWEJ2WkdrNmJtRnRaV1IyYVdWM0NpQWdJQ0FnY0dGblpXTnZiRzl5UFNJalptWm1abVptSWdvZ0lDQWdJR0p2Y21SbGNtTnZiRzl5UFNJak5qWTJOalkySWdvZ0lDQWdJR0p2Y21SbGNtOXdZV05wZEhrOUlqRWlDaUFnSUNBZ2IySnFaV04wZEc5c1pYSmhibU5sUFNJeE1DSUtJQ0FnSUNCbmNtbGtkRzlzWlhKaGJtTmxQU0l4TUNJS0lDQWdJQ0JuZFdsa1pYUnZiR1Z5WVc1alpUMGlNVEFpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZjR0ZuWlc5d1lXTnBkSGs5SWpBaUNpQWdJQ0FnYVc1cmMyTmhjR1U2Y0dGblpYTm9ZV1J2ZHowaU1pSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwM2FXNWtiM2N0ZDJsa2RHZzlJakl3TWpFaUNpQWdJQ0FnYVc1cmMyTmhjR1U2ZDJsdVpHOTNMV2hsYVdkb2REMGlPVEE0SWdvZ0lDQWdJR2xrUFNKdVlXMWxaSFpwWlhjeE5TSUtJQ0FnSUNCemFHOTNaM0pwWkQwaVptRnNjMlVpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZlbTl2YlQwaU1TSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwamVEMGlOQzQ1TlRBeE1EZ3lJZ29nSUNBZ0lHbHVhM05qWVhCbE9tTjVQU0l4TUM0NE5UUTNORGNpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZkMmx1Wkc5M0xYZzlJakFpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZkMmx1Wkc5M0xYazlJakFpQ2lBZ0lDQWdhVzVyYzJOaGNHVTZkMmx1Wkc5M0xXMWhlR2x0YVhwbFpEMGlNQ0lLSUNBZ0lDQnBibXR6WTJGd1pUcGpkWEp5Wlc1MExXeGhlV1Z5UFNKTVlYbGxjbDh4SWdvZ0lDQWdJR2x1YTNOallYQmxPbk51WVhBdFltSnZlRDBpZEhKMVpTSUtJQ0FnSUNCcGJtdHpZMkZ3WlRwaVltOTRMWEJoZEdoelBTSjBjblZsSWdvZ0lDQWdJR2x1YTNOallYQmxPbk51WVhBdFltSnZlQzFsWkdkbExXMXBaSEJ2YVc1MGN6MGlkSEoxWlNJS0lDQWdJQ0JwYm10elkyRndaVHBpWW05NExXNXZaR1Z6UFNKMGNuVmxJZ29nSUNBZ0lHbHVhM05qWVhCbE9uTnVZWEF0WW1KdmVDMXRhV1J3YjJsdWRITTlJblJ5ZFdVaUNpQWdJQ0FnYVc1cmMyTmhjR1U2YjJKcVpXTjBMWEJoZEdoelBTSjBjblZsSWdvZ0lDQWdJR2x1YTNOallYQmxPbTlpYW1WamRDMXViMlJsY3owaWRISjFaU0krUEdsdWEzTmpZWEJsT21keWFXUUtJQ0FnSUNBZ0lIUjVjR1U5SW5oNVozSnBaQ0lLSUNBZ0lDQWdJR2xrUFNKbmNtbGtOREUwTnlJZ0x6NDhMM052Wkdsd2IyUnBPbTVoYldWa2RtbGxkejQ4Y0dGMGFBb2dJQ0FnSUhOMGVXeGxQU0ptYVd4c09pTXdNREF3TURBaUNpQWdJQ0FnWkQwaVRTQTBMakkwTWpFNE56VWdNeTQwT1RJeE9EYzFJRUVnTUM0M05UQXdOelVnTUM0M05UQXdOelVnTUNBd0lEQWdNeTQzTVRnM05TQTBMamM0TVRJMUlFd2dOUzQ1TmpRNE5ETTRJRGN1TURJM016UXpPQ0JNSURRZ09DNDFJRXdnTkNBNUlFd2dPQ0E1SUVNZ09DNDFNREF3TURFZ09DNDVPVGs1T1RnNElEa2dPQzQwT1RrNU9Ua3lJRGtnT0NCTUlEa2dOQ0JNSURndU5TQTBJRXdnTnk0d01UYzFOemd4SURVdU9UVTFNRGM0TVNCTUlEUXVOemd4TWpVZ015NDNNVGczTlNCQklEQXVOelV3TURjMUlEQXVOelV3TURjMUlEQWdNQ0F3SURRdU1qUXlNVGczTlNBekxqUTVNakU0TnpVZ2VpQk5JREUxTGpjek5ETTNOU0F6TGpRNU1qRTROelVnUVNBd0xqYzFNREEzTlNBd0xqYzFNREEzTlNBd0lEQWdNQ0F4TlM0eU1UZzNOU0F6TGpjeE9EYzFJRXdnTVRJdU9UZzBNemMxSURVdU9UVXpNVEkxSUV3Z01URXVOU0EwSUV3Z01URWdOQ0JNSURFeElEZ2dReUF4TVNBNExqUTVPVGs1T1RJZ01URXVORGs1T1RrNUlEZ3VPVGs1T1RrNE9DQXhNaUE1SUV3Z01UWWdPU0JNSURFMklEZ3VOU0JNSURFMExqQXpOVEUxTmlBM0xqQXlOek0wTXpnZ1RDQXhOaTR5T0RFeU5TQTBMamM0TVRJMUlFRWdNQzQzTlRBd056VWdNQzQzTlRBd056VWdNQ0F3SURBZ01UVXVOek0wTXpjMUlETXVORGt5TVRnM05TQjZJRTBnTkNBeE1TQk1JRFFnTVRFdU5TQk1JRFV1T1RZME9EUXpPQ0F4TWk0NU56STJOVFlnVENBekxqY3hPRGMxSURFMUxqSXhPRGMxSUVFZ01DNDNOVEV6TURBNU5pQXdMamMxTVRNd01EazJJREFnTVNBd0lEUXVOemd4TWpVZ01UWXVNamd4TWpVZ1RDQTNMakF5TnpNME16Z2dNVFF1TURNMU1UVTJJRXdnT0M0MUlERTJJRXdnT1NBeE5pQk1JRGtnTVRJZ1F5QTVJREV4TGpVd01EQXdNU0E0TGpVd01EQXdNU0F4TVM0d01EQXdNREVnT0NBeE1TQk1JRFFnTVRFZ2VpQk5JREV5SURFeElFTWdNVEV1TkRrNU9UazVJREV4TGpBd01EQXdNU0F4TVNBeE1TNDFNREF3TURFZ01URWdNVElnVENBeE1TQXhOaUJNSURFeExqVWdNVFlnVENBeE1pNDVOekkyTlRZZ01UUXVNRE0xTVRVMklFd2dNVFV1TWpFNE56VWdNVFl1TWpneE1qVWdRU0F3TGpjMU1UTXdNRGsySURBdU56VXhNekF3T1RZZ01DQXhJREFnTVRZdU1qZ3hNalVnTVRVdU1qRTROelVnVENBeE5DNHdNelV4TlRZZ01USXVPVGN5TmpVMklFd2dNVFlnTVRFdU5TQk1JREUySURFeElFd2dNVElnTVRFZ2VpQWlDaUFnSUNBZ2FXUTlJbkJoZEdnM0lpQXZQand2YzNablBnPT1cXFwiKTtcXG59XFxuLm1hcGJveGdsLWN0cmwtaWNvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgPiAubWFwYm94Z2wtY3RybC1jb21wYXNzLWFycm93IHtcXG4gICAgd2lkdGg6IDIwcHg7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgbWFyZ2luOiA1cHg7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwlM0NzdmclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclM0UlMEElMDklM0Nwb2x5Z29uJTIwZmlsbCUzRCUyNyUyMzMzMzMzMyUyNyUyMHBvaW50cyUzRCUyNzYlMkM5JTIwMTAlMkMxJTIwMTQlMkM5JTI3JTJGJTNFJTBBJTA5JTNDcG9seWdvbiUyMGZpbGwlM0QlMjclMjNDQ0NDQ0MlMjclMjBwb2ludHMlM0QlMjc2JTJDMTElMjAxMCUyQzE5JTIwMTQlMkMxMSUyMCUyNyUyRiUzRSUwQSUzQyUyRnN2ZyUzRVxcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbmEubWFwYm94Z2wtY3RybC1sb2dvIHtcXG4gICAgd2lkdGg6IDg1cHg7XFxuICAgIGhlaWdodDogMjFweDtcXG4gICAgbWFyZ2luOiAwIDAgLTNweCAtM3B4O1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejQ4YzNabklIWmxjbk5wYjI0OUlqRXVNU0lnYVdROUlreGhlV1Z5WHpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhnOUlqQndlQ0lnZVQwaU1IQjRJaUFnSUhacFpYZENiM2c5SWpBZ01DQTROQzQwT1NBeU1TSWdjM1I1YkdVOUltVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkeUF3SURBZ09EUXVORGtnTWpFN0lpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajQ4Wno0Z0lEeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUdROUlrMDRNeTR5TlN3eE5DNHlObU13TERBdU1USXRNQzR3T1N3d0xqSXhMVEF1TWpFc01DNHlNV2d0TVM0Mk1XTXRNQzR4TXl3d0xUQXVNalF0TUM0d05pMHdMak10TUM0eE4yd3RNUzQwTkMweUxqTTViQzB4TGpRMExESXVNemtnSUNBZ1l5MHdMakEyTERBdU1URXRNQzR4T0N3d0xqRTNMVEF1TXl3d0xqRTNhQzB4TGpZeFl5MHdMakEwTERBdE1DNHdPQzB3TGpBeExUQXVNVEl0TUM0d00yTXRNQzR3T1Mwd0xqQTJMVEF1TVRNdE1DNHhPUzB3TGpBMkxUQXVNamhzTUN3d2JESXVORE10TXk0Mk9FdzNOaTR5TERZdU9EUWdJQ0FnWXkwd0xqQXlMVEF1TURNdE1DNHdNeTB3TGpBM0xUQXVNRE10TUM0eE1tTXdMVEF1TVRJc01DNHdPUzB3TGpJeExEQXVNakV0TUM0eU1XZ3hMall4WXpBdU1UTXNNQ3d3TGpJMExEQXVNRFlzTUM0ekxEQXVNVGRzTVM0ME1Td3lMak0yYkRFdU5DMHlMak0xSUNBZ0lHTXdMakEyTFRBdU1URXNNQzR4T0Mwd0xqRTNMREF1TXkwd0xqRTNTRGd6WXpBdU1EUXNNQ3d3TGpBNExEQXVNREVzTUM0eE1pd3dMakF6WXpBdU1Ea3NNQzR3Tml3d0xqRXpMREF1TVRrc01DNHdOaXd3TGpJNGJEQXNNR3d0TWk0ek55d3pMall6YkRJdU5ETXNNeTQyTnlBZ0lDQkRPRE11TWpRc01UUXVNVGdzT0RNdU1qVXNNVFF1TWpJc09ETXVNalVzTVRRdU1qWjZJaTgrSUNBOGNHRjBhQ0JqYkdGemN6MGljM1F3SWlCemRIbHNaVDBpYjNCaFkybDBlVG93TGprN0lHWnBiR3c2SUNOR1JrWkdSa1k3SUdWdVlXSnNaUzFpWVdOclozSnZkVzVrT2lCdVpYYzdJaUJrUFNKTk5qWXVNalFzT1M0MU9XTXRNQzR6T1MweExqZzRMVEV1T1RZdE15NHlPQzB6TGpnMExUTXVNamhqTFRFdU1ETXNNQzB5TGpBekxEQXVOREl0TWk0M015d3hMakU0VmpNdU5URmpNQzB3TGpFekxUQXVNUzB3TGpJekxUQXVNak10TUM0eU0yZ3RNUzQwSUNBZ0lHTXRNQzR4TXl3d0xUQXVNak1zTUM0eE1TMHdMakl6TERBdU1qTjJNVEF1TnpKak1Dd3dMakV6TERBdU1Td3dMakl6TERBdU1qTXNNQzR5TTJneExqUmpNQzR4TXl3d0xEQXVNak10TUM0eE1Td3dMakl6TFRBdU1qTldNVE11TldNd0xqY3hMREF1TnpVc01TNDNMREV1TVRnc01pNDNNeXd4TGpFNElDQWdJR014TGpnNExEQXNNeTQwTlMweExqUXhMRE11T0RRdE15NHlPVU0yTmk0ek55d3hNQzQzT1N3Mk5pNHpOeXd4TUM0eE9DdzJOaTR5TkN3NUxqVTVURFkyTGpJMExEa3VOVGw2SUUwMk1pNHdPQ3d4TTJNdE1TNHpNaXd3TFRJdU16a3RNUzR4TVMweUxqUXhMVEl1TkRoMkxUQXVNRFlnSUNBZ1l6QXVNREl0TVM0ek9Dd3hMakE1TFRJdU5EZ3NNaTQwTVMweUxqUTRjekl1TkRJc01TNHhNaXd5TGpReUxESXVOVEZUTmpNdU5ERXNNVE1zTmpJdU1EZ3NNVE42SWk4K0lDQThjR0YwYUNCamJHRnpjejBpYzNRd0lpQnpkSGxzWlQwaWIzQmhZMmwwZVRvd0xqazdJR1pwYkd3NklDTkdSa1pHUmtZN0lHVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09pQnVaWGM3SWlCa1BTSk5OekV1Tmpjc05pNHpNbU10TVM0NU9DMHdMakF4TFRNdU56SXNNUzR6TlMwMExqRTJMRE11TWpsakxUQXVNVE1zTUM0MU9TMHdMakV6TERFdU1Ua3NNQ3d4TGpjM1l6QXVORFFzTVM0NU5Dd3lMakUzTERNdU16SXNOQzR4Tnl3ekxqTWdJQ0FnWXpJdU16VXNNQ3cwTGpJMkxURXVPRGNzTkM0eU5pMDBMakU1VXpjMExqQTBMRFl1TXpJc056RXVOamNzTmk0ek1ub2dUVGN4TGpZMUxERXpMakF4WXkweExqTXpMREF0TWk0ME1pMHhMakV5TFRJdU5ESXRNaTQxTVhNeExqQTRMVEl1TlRJc01pNDBNaTB5TGpVeUlDQWdJR014TGpNekxEQXNNaTQwTWl3eExqRXlMREl1TkRJc01pNDFNVk0zTWk0NU9Td3hNeXczTVM0Mk5Td3hNeTR3TVV3M01TNDJOU3d4TXk0d01Yb2lMejRnSUR4d1lYUm9JR05zWVhOelBTSnpkREVpSUhOMGVXeGxQU0p2Y0dGamFYUjVPakF1TXpVN0lHVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkenNpSUdROUlrMDJNaTR3T0N3M0xqazRZeTB4TGpNeUxEQXRNaTR6T1N3eExqRXhMVEl1TkRFc01pNDBPSFl3TGpBMlF6VTVMalk0TERFeExqa3NOakF1TnpVc01UTXNOakl1TURnc01UTnpNaTQwTWkweExqRXlMREl1TkRJdE1pNDFNU0FnSUNCVE5qTXVOREVzTnk0NU9DdzJNaTR3T0N3M0xqazRlaUJOTmpJdU1EZ3NNVEV1TnpaakxUQXVOak1zTUMweExqRTBMVEF1TlRZdE1TNHhOeTB4TGpJMWRpMHdMakEwWXpBdU1ERXRNQzQyT1N3d0xqVTBMVEV1TWpVc01TNHhOeTB4TGpJMUlDQWdJR013TGpZekxEQXNNUzR4Tnl3d0xqVTNMREV1TVRjc01TNHlOME0yTXk0eU5Dd3hNUzR5TERZeUxqY3pMREV4TGpjMkxEWXlMakE0TERFeExqYzJlaUl2UGlBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wTVNJZ2MzUjViR1U5SW05d1lXTnBkSGs2TUM0ek5Uc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzT3lJZ1pEMGlUVGN4TGpZMUxEY3VPVGhqTFRFdU16TXNNQzB5TGpReUxERXVNVEl0TWk0ME1pd3lMalV4VXpjd0xqTXlMREV6TERjeExqWTFMREV6Y3pJdU5ESXRNUzR4TWl3eUxqUXlMVEl1TlRGVE56SXVPVGtzTnk0NU9DdzNNUzQyTlN3M0xqazRlaUFnSUNBZ1RUY3hMalkxTERFeExqYzJZeTB3TGpZMExEQXRNUzR4Tnkwd0xqVTNMVEV1TVRjdE1TNHlOMk13TFRBdU55d3dMalV6TFRFdU1qWXNNUzR4TnkweExqSTJjekV1TVRjc01DNDFOeXd4TGpFM0xERXVNamRETnpJdU9ESXNNVEV1TWpFc056SXVNamtzTVRFdU56WXNOekV1TmpVc01URXVOelo2SWlBZ0lDQXZQaUFnUEhCaGRHZ2dZMnhoYzNNOUluTjBNQ0lnYzNSNWJHVTlJbTl3WVdOcGRIazZNQzQ1T3lCbWFXeHNPaUFqUmtaR1JrWkdPeUJsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRG9nYm1WM095SWdaRDBpVFRRMUxqYzBMRFl1TlROb0xURXVOR010TUM0eE15d3dMVEF1TWpNc01DNHhNUzB3TGpJekxEQXVNak4yTUM0M00yTXRNQzQzTVMwd0xqYzFMVEV1TnkweExqRTRMVEl1TnpNdE1TNHhPQ0FnSUNCakxUSXVNVGNzTUMwekxqazBMREV1T0RjdE15NDVOQ3cwTGpFNWN6RXVOemNzTkM0eE9Td3pMamswTERRdU1UbGpNUzR3TkN3d0xESXVNRE10TUM0ME15d3lMamN6TFRFdU1UbDJNQzQzTTJNd0xEQXVNVE1zTUM0eExEQXVNak1zTUM0eU15d3dMakl6YURFdU5DQWdJQ0JqTUM0eE15d3dMREF1TWpNdE1DNHhNU3d3TGpJekxUQXVNak5XTmk0M05HTXdMVEF1TVRJdE1DNHdPUzB3TGpJeUxUQXVNakl0TUM0eU1rTTBOUzQzTlN3MkxqVXpMRFExTGpjMUxEWXVOVE1zTkRVdU56UXNOaTQxTTNvZ1RUUTBMakV5TERFd0xqVXpJQ0FnSUVNME5DNHhNU3d4TVM0NUxEUXpMakF6TERFekxEUXhMamN4TERFemN5MHlMalF5TFRFdU1USXRNaTQwTWkweUxqVXhjekV1TURndE1pNDFNaXd5TGpRdE1pNDFNbU14TGpNekxEQXNNaTR6T1N3eExqRXhMREl1TkRFc01pNDBPRXcwTkM0eE1pd3hNQzQxTTNvaUx6NGdJRHh3WVhSb0lHTnNZWE56UFNKemRERWlJSE4wZVd4bFBTSnZjR0ZqYVhSNU9qQXVNelU3SUdWdVlXSnNaUzFpWVdOclozSnZkVzVrT201bGR6c2lJR1E5SWswME1TNDNNU3czTGprNFl5MHhMak16TERBdE1pNDBNaXd4TGpFeUxUSXVORElzTWk0MU1WTTBNQzR6Tnl3eE15dzBNUzQzTVN3eE0zTXlMak01TFRFdU1URXNNaTQwTVMweUxqUTRkaTB3TGpBMklDQWdJRU0wTkM0eExEa3VNRGtzTkRNdU1ETXNOeTQ1T0N3ME1TNDNNU3czTGprNGVpQk5OREF1TlRVc01UQXVORGxqTUMwd0xqY3NNQzQxTWkweExqSTNMREV1TVRjdE1TNHlOMk13TGpZMExEQXNNUzR4TkN3d0xqVTJMREV1TVRjc01TNHlOWFl3TGpBMElDQWdJR010TUM0d01Td3dMalk0TFRBdU5UTXNNUzR5TkMweExqRTNMREV1TWpSRE5ERXVNRGdzTVRFdU56VXNOREF1TlRVc01URXVNVGtzTkRBdU5UVXNNVEF1TkRsNklpOCtJQ0E4Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJ6ZEhsc1pUMGliM0JoWTJsMGVUb3dMams3SUdacGJHdzZJQ05HUmtaR1JrWTdJR1Z1WVdKc1pTMWlZV05yWjNKdmRXNWtPaUJ1WlhjN0lpQmtQU0pOTlRJdU5ERXNOaTR6TW1NdE1TNHdNeXd3TFRJdU1ETXNNQzQwTWkweUxqY3pMREV1TVRoV05pNDNOV013TFRBdU1UTXRNQzR4TFRBdU1qTXRNQzR5TXkwd0xqSXphQzB4TGpSakxUQXVNVE1zTUMwd0xqSXpMREF1TVRFdE1DNHlNeXd3TGpJeklDQWdJSFl4TUM0M01tTXdMREF1TVRNc01DNHhMREF1TWpNc01DNHlNeXd3TGpJemFERXVOR013TGpFekxEQXNNQzR5TXkwd0xqRXNNQzR5TXkwd0xqSXpWakV6TGpWak1DNDNNU3d3TGpjMUxERXVOeXd4TGpFNExESXVOelFzTVM0eE9HTXlMakUzTERBc015NDVOQzB4TGpnM0xETXVPVFF0TkM0eE9TQWdJQ0JUTlRRdU5UZ3NOaTR6TWl3MU1pNDBNU3cyTGpNeWVpQk5OVEl1TURnc01UTXVNREZqTFRFdU16SXNNQzB5TGpNNUxURXVNVEV0TWk0ME1pMHlMalE0ZGkwd0xqQTNZekF1TURJdE1TNHpPQ3d4TGpBNUxUSXVORGtzTWk0MExUSXVORGxqTVM0ek1pd3dMREl1TkRFc01TNHhNaXd5TGpReExESXVOVEVnSUNBZ1V6VXpMalFzTVRNc05USXVNRGdzTVRNdU1ERk1OVEl1TURnc01UTXVNREY2SWk4K0lDQThjR0YwYUNCamJHRnpjejBpYzNReElpQnpkSGxzWlQwaWIzQmhZMmwwZVRvd0xqTTFPeUJsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjN0lpQmtQU0pOTlRJdU1EZ3NOeTQ1T0dNdE1TNHpNaXd3TFRJdU16a3NNUzR4TVMweUxqUXlMREl1TkRoMk1DNHdObU13TGpBekxERXVNemdzTVM0eExESXVORGdzTWk0ME1pd3lMalE0Y3pJdU5ERXRNUzR4TWl3eUxqUXhMVEl1TlRFZ0lDQWdVelV6TGpRc055NDVPQ3cxTWk0d09DdzNMams0ZWlCTk5USXVNRGdzTVRFdU56WmpMVEF1TmpNc01DMHhMakUwTFRBdU5UWXRNUzR4TnkweExqSTFkaTB3TGpBMFl6QXVNREV0TUM0Mk9Td3dMalUwTFRFdU1qVXNNUzR4TnkweExqSTFZekF1TmpNc01Dd3hMakUzTERBdU5UZ3NNUzR4Tnl3eExqSTNJQ0FnSUZNMU1pNDNNaXd4TVM0M05pdzFNaTR3T0N3eE1TNDNObm9pTHo0Z0lEeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUdROUlrMHpOaTR3T0N3eE5DNHlOR013TERBdU1UTXRNQzR4TERBdU1qTXRNQzR5TXl3d0xqSXphQzB4TGpReFl5MHdMakV6TERBdE1DNHlNeTB3TGpFeExUQXVNak10TUM0eU0xWTVMalk0WXpBdE1DNDVPQzB3TGpjMExURXVOekV0TVM0Mk1pMHhMamN4SUNBZ0lHTXRNQzQ0TERBdE1TNDBOaXd3TGpjdE1TNDFPU3d4TGpZeWJEQXVNREVzTkM0Mk5tTXdMREF1TVRNdE1DNHhNU3d3TGpJekxUQXVNak1zTUM0eU0yZ3RNUzQwTVdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV09TNDJPQ0FnSUNCak1DMHdMams0TFRBdU56UXRNUzQzTVMweExqWXlMVEV1TnpGakxUQXVPRFVzTUMweExqVTBMREF1TnprdE1TNDJMREV1T0hZMExqUTRZekFzTUM0eE15MHdMakVzTUM0eU15MHdMakl6TERBdU1qTm9MVEV1TkdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV05pNDNOQ0FnSUNCak1DNHdNUzB3TGpFekxEQXVNUzB3TGpJeUxEQXVNak10TUM0eU1tZ3hMalJqTUM0eE15d3dMREF1TWpJc01DNHhNU3d3TGpJekxEQXVNakpXTnk0MFl6QXVOUzB3TGpZNExERXVNeTB4TGpBNUxESXVNVFl0TVM0eGFEQXVNRE5qTVM0d09Td3dMREl1TURrc01DNDJMREl1Tml3eExqVTFJQ0FnSUdNd0xqUTFMVEF1T1RVc01TNDBMVEV1TlRVc01pNDBOQzB4TGpVMll6RXVOaklzTUN3eUxqa3pMREV1TWpVc01pNDVMREl1TnpoTU16WXVNRGdzTVRRdU1qUjZJaTgrSUNBOGNHRjBhQ0JqYkdGemN6MGljM1F4SWlCemRIbHNaVDBpYjNCaFkybDBlVG93TGpNMU95QmxibUZpYkdVdFltRmphMmR5YjNWdVpEcHVaWGM3SWlCa1BTSk5PRFF1TXpRc01UTXVOVGxzTFRBdU1EY3RNQzR4TTJ3dE1TNDVOaTB5TGprNWJERXVPVFF0TWk0NU5XTXdMalEwTFRBdU5qY3NNQzR5TmkweExqVTJMVEF1TkRFdE1pNHdNbU10TUM0d01pd3dMVEF1TURNc01DMHdMakEwTFRBdU1ERWdJQ0FnWXkwd0xqSXpMVEF1TVRVdE1DNDFMVEF1TWpJdE1DNDNPQzB3TGpJeWFDMHhMall4WXkwd0xqVTJMREF0TVM0d09Dd3dMakk1TFRFdU16Y3NNQzQzT0V3M09TNDNNaXcyTGpac0xUQXVNelF0TUM0MU5rTTNPUzR3T1N3MUxqVTJMRGM0TGpVM0xEVXVNamNzTnpnc05TNHlOMmd0TVM0MklDQWdJR010TUM0MkxEQXRNUzR4TXl3d0xqTTNMVEV1TXpVc01DNDVNbU10TWk0eE9TMHhMalkyTFRVdU1qZ3RNUzQwTnkwM0xqSTJMREF1TkRWakxUQXVNelVzTUM0ek5DMHdMalkxTERBdU56SXRNQzQ0T1N3eExqRTBZeTB3TGprdE1TNDJNaTB5TGpVNExUSXVOekl0TkM0MUxUSXVOeklnSUNBZ1l5MHdMalVzTUMweExqQXhMREF1TURjdE1TNDBPQ3d3TGpJelZqTXVOVEZqTUMwd0xqZ3lMVEF1TmpZdE1TNDBPQzB4TGpRM0xURXVORGhvTFRFdU5HTXRNQzQ0TVN3d0xURXVORGNzTUM0Mk5pMHhMalEzTERFdU5EZDJNeTQzTlNBZ0lDQmpMVEF1T1RVdE1TNHpOaTB5TGpVdE1pNHhPQzAwTGpFM0xUSXVNVGxqTFRBdU56UXNNQzB4TGpRMkxEQXVNVFl0TWk0eE1pd3dMalEzWXkwd0xqSTBMVEF1TVRjdE1DNDFOQzB3TGpJMkxUQXVPRFF0TUM0eU5tZ3RNUzQwWXkwd0xqUTFMREF0TUM0NE55d3dMakl4TFRFdU1UVXNNQzQxTmlBZ0lDQmpMVEF1TURJdE1DNHdNeTB3TGpBMExUQXVNRFV0TUM0d055MHdMakE0WXkwd0xqSTRMVEF1TXkwd0xqWTRMVEF1TkRjdE1TNHdPUzB3TGpRM2FDMHhMak01WXkwd0xqTXNNQzB3TGpZc01DNHdPUzB3TGpnMExEQXVNalpqTFRBdU5qY3RNQzR6TFRFdU16a3RNQzQwTmkweUxqRXlMVEF1TkRZZ0lDQWdZeTB4TGpnekxEQXRNeTQwTXl3eExUUXVNemNzTWk0MVl5MHdMakl0TUM0ME5pMHdMalE0TFRBdU9Ea3RNQzQ0TXkweExqSTFZeTB3TGpndE1DNDRNUzB4TGpnNUxURXVNalV0TXk0d01pMHhMakkxYUMwd0xqQXhZeTB3TGpnNUxEQXVNREV0TVM0M05Td3dMak16TFRJdU5EWXNNQzQ0T0NBZ0lDQmpMVEF1TnpRdE1DNDFOeTB4TGpZMExUQXVPRGd0TWk0MU55MHdMamc0U0RJNExqRmpMVEF1TWprc01DMHdMalU0TERBdU1ETXRNQzQ0Tml3d0xqRXhZeTB3TGpJNExEQXVNRFl0TUM0MU5pd3dMakUyTFRBdU9ESXNNQzR5T0dNdE1DNHlNUzB3TGpFeUxUQXVORFV0TUM0eE9DMHdMamN0TUM0eE9DQWdJQ0JvTFRFdU5HTXRNQzQ0TWl3d0xURXVORGNzTUM0Mk5pMHhMalEzTERFdU5EZDJOeTQxWXpBc01DNDRNaXd3TGpZMkxERXVORGNzTVM0ME55d3hMalEzYURFdU5HTXdMamd5TERBc01TNDBPQzB3TGpZMkxERXVORGd0TVM0ME9Hd3dMREJXT1M0M09TQWdJQ0JqTUM0d015MHdMak0yTERBdU1qTXRNQzQxT1N3d0xqTTJMVEF1TlRsak1DNHhPQ3d3TERBdU16Z3NNQzR4T0N3d0xqTTRMREF1TkRkMk5DNDFOMk13TERBdU9ESXNNQzQyTml3eExqUTNMREV1TkRjc01TNDBOMmd4TGpReFl6QXVPRElzTUN3eExqUTNMVEF1TmpZc01TNDBOeTB4TGpRM0lDQWdJR3d0TUM0d01TMDBMalUzWXpBdU1EWXRNQzR6TWl3d0xqSTFMVEF1TkRjc01DNHpOUzB3TGpRM1l6QXVNVGdzTUN3d0xqTTRMREF1TVRnc01DNHpPQ3d3TGpRM2RqUXVOVGRqTUN3d0xqZ3lMREF1TmpZc01TNDBOeXd4TGpRM0xERXVORGRvTVM0ME1TQWdJQ0JqTUM0NE1pd3dMREV1TkRjdE1DNDJOaXd4TGpRM0xURXVORGQyTFRBdU16aGpNQzQ1Tml3eExqSTVMREl1TkRZc01pNHdOaXcwTGpBMkxESXVNRFpqTUM0M05Dd3dMREV1TkRZdE1DNHhOaXd5TGpFeUxUQXVORGRqTUM0eU5Dd3dMakUzTERBdU5UUXNNQzR5Tml3d0xqZzBMREF1TWpab01TNHpPU0FnSUNCak1DNHpMREFzTUM0MkxUQXVNRGtzTUM0NE5DMHdMakkyZGpJdU1ERmpNQ3d3TGpneUxEQXVOallzTVM0ME55d3hMalEzTERFdU5EZG9NUzQwWXpBdU9ESXNNQ3d4TGpRM0xUQXVOallzTVM0ME55MHhMalEzZGkweExqYzNZekF1TkRnc01DNHhOU3d3TGprNUxEQXVNak1zTVM0ME9Td3dMakl5SUNBZ0lHTXhMamNzTUN3ekxqSXlMVEF1T0Rjc05DNHhOeTB5TGpKMk1DNDFNbU13TERBdU9ESXNNQzQyTml3eExqUTNMREV1TkRjc01TNDBOMmd4TGpSak1DNHpMREFzTUM0MkxUQXVNRGtzTUM0NE5DMHdMakkyWXpBdU5qWXNNQzR6TVN3eExqTTVMREF1TkRjc01pNHhNaXd3TGpRM0lDQWdJR014TGpreUxEQXNNeTQyTFRFdU1TdzBMalE1TFRJdU56TmpNUzQxTkN3eUxqWTFMRFF1T1RVc015NDFNeXczTGpVNExERXVPVGhqTUM0eE9DMHdMakV4TERBdU16WXRNQzR5TWl3d0xqVXpMVEF1TXpaak1DNHlNaXd3TGpVMUxEQXVOellzTUM0NU1Td3hMak0xTERBdU9VZzNPQ0FnSUNCak1DNDFOaXd3TERFdU1EZ3RNQzR5T1N3eExqTTNMVEF1Tnpoc01DNHpOeTB3TGpZeGJEQXVNemNzTUM0Mk1XTXdMakk1TERBdU5EZ3NNQzQ0TVN3d0xqYzRMREV1TXpnc01DNDNPR2d4TGpaak1DNDRNU3d3TERFdU5EWXRNQzQyTml3eExqUTFMVEV1TkRZZ0lDQWdRemcwTGpRNUxERTBMakF5TERnMExqUTBMREV6TGpnc09EUXVNelFzTVRNdU5UbE1PRFF1TXpRc01UTXVOVGw2SUUwek5TNDROaXd4TkM0ME4yZ3RNUzQwTVdNdE1DNHhNeXd3TFRBdU1qTXRNQzR4TVMwd0xqSXpMVEF1TWpOV09TNDJPQ0FnSUNCak1DMHdMams0TFRBdU56UXRNUzQzTVMweExqWXlMVEV1TnpGakxUQXVPQ3d3TFRFdU5EWXNNQzQzTFRFdU5Ua3NNUzQyTW13d0xqQXhMRFF1Tmpaak1Dd3dMakV6TFRBdU1Td3dMakl6TFRBdU1qTXNNQzR5TTJndE1TNDBNV010TUM0eE15d3dMVEF1TWpNdE1DNHhNUzB3TGpJekxUQXVNak1nSUNBZ1Zqa3VOamhqTUMwd0xqazRMVEF1TnpRdE1TNDNNUzB4TGpZeUxURXVOekZqTFRBdU9EVXNNQzB4TGpVMExEQXVOemt0TVM0MkxERXVPSFkwTGpRNFl6QXNNQzR4TXkwd0xqRXNNQzR5TXkwd0xqSXpMREF1TWpOb0xURXVOR010TUM0eE15d3dMVEF1TWpNdE1DNHhNUzB3TGpJekxUQXVNak1nSUNBZ1ZqWXVOelJqTUM0d01TMHdMakV6TERBdU1URXRNQzR5TWl3d0xqSXpMVEF1TWpKb01TNDBZekF1TVRNc01Dd3dMakl5TERBdU1URXNNQzR5TXl3d0xqSXlWamN1TkdNd0xqVXRNQzQyT0N3eExqTXRNUzR3T1N3eUxqRTJMVEV1TVdnd0xqQXpJQ0FnSUdNeExqQTVMREFzTWk0d09Td3dMallzTWk0MkxERXVOVFZqTUM0ME5TMHdMamsxTERFdU5DMHhMalUxTERJdU5EUXRNUzQxTm1NeExqWXlMREFzTWk0NU15d3hMakkxTERJdU9Td3lMamM0YkRBdU1ERXNOUzR4TmtNek5pNHdPU3d4TkM0ek5pd3pOUzQ1T0N3eE5DNDBOaXd6TlM0NE5pd3hOQzQwTnlBZ0lDQk1NelV1T0RZc01UUXVORGQ2SUUwME5TNDVOeXd4TkM0eU5HTXdMREF1TVRNdE1DNHhMREF1TWpNdE1DNHlNeXd3TGpJemFDMHhMalJqTFRBdU1UTXNNQzB3TGpJekxUQXVNVEV0TUM0eU15MHdMakl6VmpFekxqVmpMVEF1Tnl3d0xqYzJMVEV1Tmprc01TNHhPQzB5TGpjeUxERXVNVGdnSUNBZ1l5MHlMakUzTERBdE15NDVOQzB4TGpnM0xUTXVPVFF0TkM0eE9YTXhMamMzTFRRdU1Ua3NNeTQ1TkMwMExqRTVZekV1TURNc01Dd3lMakF5TERBdU5ETXNNaTQzTXl3eExqRTRWall1TnpSak1DMHdMakV6TERBdU1TMHdMakl6TERBdU1qTXRNQzR5TTJneExqUWdJQ0FnWXpBdU1USXRNQzR3TVN3d0xqSXlMREF1TURnc01DNHlNeXd3TGpJeFl6QXNNQzR3TVN3d0xEQXVNREVzTUN3d0xqQXlkamN1TlRGb0xUQXVNREZXTVRRdU1qUjZJRTAxTWk0ME1Td3hOQzQyTjJNdE1TNHdNeXd3TFRJdU1ESXRNQzQwTXkweUxqY3pMVEV1TVRoMk15NDVOeUFnSUNCak1Dd3dMakV6TFRBdU1Td3dMakl6TFRBdU1qTXNNQzR5TTJndE1TNDBZeTB3TGpFekxEQXRNQzR5TXkwd0xqRXRNQzR5TXkwd0xqSXpWall1TnpWak1DMHdMakV6TERBdU1TMHdMakl5TERBdU1qTXRNQzR5TW1neExqUmpNQzR4TXl3d0xEQXVNak1zTUM0eE1Td3dMakl6TERBdU1qTjJNQzQzTXlBZ0lDQmpNQzQzTVMwd0xqYzJMREV1TnkweExqRTRMREl1TnpNdE1TNHhPR015TGpFM0xEQXNNeTQ1TkN3eExqZzJMRE11T1RRc05DNHhPRk0xTkM0MU9Dd3hOQzQyTnl3MU1pNDBNU3d4TkM0Mk4zb2dUVFkyTGpJMExERXhMak01WXkwd0xqTTVMREV1T0RjdE1TNDVOaXd6TGpJNUxUTXVPRFFzTXk0eU9TQWdJQ0JqTFRFdU1ETXNNQzB5TGpBeUxUQXVORE10TWk0M015MHhMakU0ZGpBdU56TmpNQ3d3TGpFekxUQXVNU3d3TGpJekxUQXVNak1zTUM0eU0yZ3RNUzQwWXkwd0xqRXpMREF0TUM0eU15MHdMakV4TFRBdU1qTXRNQzR5TTFZekxqVXhZekF0TUM0eE15d3dMakV0TUM0eU15d3dMakl6TFRBdU1qTWdJQ0FnYURFdU5HTXdMakV6TERBc01DNHlNeXd3TGpFeExEQXVNak1zTUM0eU0zWXpMamszWXpBdU56RXRNQzQzTlN3eExqY3RNUzR4T0N3eUxqY3pMVEV1TVRkak1TNDRPQ3d3TERNdU5EVXNNUzQwTERNdU9EUXNNeTR5T0VNMk5pNHpOeXd4TUM0eE9TdzJOaTR6Tnl3eE1DNDRMRFkyTGpJMExERXhMak01SUNBZ0lFdzJOaTR5TkN3eE1TNHpPVXcyTmk0eU5Dd3hNUzR6T1hvZ1RUY3hMalkzTERFMExqWTRZeTB5TERBdU1ERXRNeTQzTXkweExqTTFMVFF1TVRjdE15NHpZeTB3TGpFekxUQXVOVGt0TUM0eE15MHhMakU1TERBdE1TNDNOMk13TGpRMExURXVPVFFzTWk0eE55MHpMak14TERRdU1UY3RNeTR6SUNBZ0lHTXlMak0yTERBc05DNHlOaXd4TGpnM0xEUXVNallzTkM0eE9WTTNOQzR3TXl3eE5DNDJPQ3czTVM0Mk55d3hOQzQyT0V3M01TNDJOeXd4TkM0Mk9Ib2dUVGd6TGpBMExERTBMalEzYUMweExqWXhZeTB3TGpFekxEQXRNQzR5TkMwd0xqQTJMVEF1TXkwd0xqRTNiQzB4TGpRMExUSXVNemtnSUNBZ2JDMHhMalEwTERJdU16bGpMVEF1TURZc01DNHhNUzB3TGpFNExEQXVNVGN0TUM0ekxEQXVNVGRvTFRFdU5qRmpMVEF1TURRc01DMHdMakE0TFRBdU1ERXRNQzR4TWkwd0xqQXpZeTB3TGpBNUxUQXVNRFl0TUM0eE15MHdMakU1TFRBdU1EWXRNQzR5T0d3d0xEQnNNaTQwTXkwekxqWTRJQ0FnSUV3M05pNHlMRFl1T0RSakxUQXVNREl0TUM0d015MHdMakF6TFRBdU1EY3RNQzR3TXkwd0xqRXlZekF0TUM0eE1pd3dMakE1TFRBdU1qRXNNQzR5TVMwd0xqSXhhREV1TmpGak1DNHhNeXd3TERBdU1qUXNNQzR3Tml3d0xqTXNNQzR4TjJ3eExqUXhMREl1TXpac01TNDBNUzB5TGpNMklDQWdJR013TGpBMkxUQXVNVEVzTUM0eE9DMHdMakUzTERBdU15MHdMakUzYURFdU5qRmpNQzR3TkN3d0xEQXVNRGdzTUM0d01Td3dMakV5TERBdU1ETmpNQzR3T1N3d0xqQTJMREF1TVRNc01DNHhPU3d3TGpBMkxEQXVNamhzTUN3d2JDMHlMak00TERNdU5qUnNNaTQwTXl3ekxqWTNJQ0FnSUdNd0xqQXlMREF1TURNc01DNHdNeXd3TGpBM0xEQXVNRE1zTUM0eE1rTTRNeTR5TlN3eE5DNHpPQ3c0TXk0eE5pd3hOQzQwTnl3NE15NHdOQ3d4TkM0ME4wdzRNeTR3TkN3eE5DNDBOMHc0TXk0d05Dd3hOQzQwTjNvaUx6NGdJRHh3WVhSb0lHTnNZWE56UFNKemREQWlJSE4wZVd4bFBTSnZjR0ZqYVhSNU9qQXVPVHNnWm1sc2JEb2dJMFpHUmtaR1Jqc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZJRzVsZHpzaUlHUTlJazB4TUM0MUxERXVNalJqTFRVdU1URXNNQzA1TGpJMUxEUXVNVFV0T1M0eU5TdzVMakkxY3pRdU1UVXNPUzR5TlN3NUxqSTFMRGt1TWpWek9TNHlOUzAwTGpFMUxEa3VNalV0T1M0eU5TQWdJQ0JETVRrdU56VXNOUzR6T0N3eE5TNDJNU3d4TGpJMExERXdMalVzTVM0eU5Ib2dUVEUwTGpnNUxERXlMamMzWXkweExqa3pMREV1T1RNdE5DNDNPQ3d5TGpNeExUWXVOeXd5TGpNeFl5MHdMamNzTUMweExqUXhMVEF1TURVdE1pNHhMVEF1TVRaak1Dd3dMVEV1TURJdE5TNDJOQ3d5TGpFMExUZ3VPREVnSUNBZ1l6QXVPRE10TUM0NE15d3hMamsxTFRFdU1qZ3NNeTR4TXkweExqSTRZekV1TWpjc01Dd3lMalE1TERBdU5URXNNeTR6T1N3eExqUXlRekUyTGpVNUxEZ3VNRGtzTVRZdU5qUXNNVEVzTVRRdU9Ea3NNVEl1TnpkNklpOCtJQ0E4Y0dGMGFDQmpiR0Z6Y3owaWMzUXhJaUJ6ZEhsc1pUMGliM0JoWTJsMGVUb3dMak0xT3lCbGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYYzdJaUJrUFNKTk1UQXVOUzB3TGpBeFF6UXVOeTB3TGpBeExEQXNOQzQzTERBc01UQXVORGx6TkM0M0xERXdMalVzTVRBdU5Td3hNQzQxVXpJeExERTJMakk1TERJeExERXdMalE1UXpJd0xqazVMRFF1Tnl3eE5pNHpMVEF1TURFc01UQXVOUzB3TGpBeGVpQWdJQ0FnVFRFd0xqVXNNVGt1TnpSakxUVXVNVEVzTUMwNUxqSTFMVFF1TVRVdE9TNHlOUzA1TGpJMWN6UXVNVFF0T1M0eU5pdzVMakkxTFRrdU1qWnpPUzR5TlN3MExqRTFMRGt1TWpVc09TNHlOVU14T1M0M05Td3hOUzQyTVN3eE5TNDJNU3d4T1M0M05Dd3hNQzQxTERFNUxqYzBlaUl2UGlBZ1BIQmhkR2dnWTJ4aGMzTTlJbk4wTVNJZ2MzUjViR1U5SW05d1lXTnBkSGs2TUM0ek5Uc2daVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzT3lJZ1pEMGlUVEUwTGpjMExEWXVNalZETVRJdU9TdzBMalF4TERrdU9UZ3NOQzR6TlN3NExqSXpMRFl1TVdNdE15NHhOaXd6TGpFM0xUSXVNVFFzT0M0NE1TMHlMakUwTERndU9ERnpOUzQyTkN3eExqQXlMRGd1T0RFdE1pNHhOQ0FnSUNCRE1UWXVOalFzTVRFc01UWXVOVGtzT0M0d09Td3hOQzQzTkN3MkxqSTFlaUJOTVRJdU5EY3NNVEF1TXpSc0xUQXVPVEVzTVM0NE4yd3RNQzQ1TFRFdU9EZE1PQzQ0TERrdU5ETnNNUzQ0Tmkwd0xqbHNNQzQ1TFRFdU9EZHNNQzQ1TVN3eExqZzNiREV1T0RZc01DNDVUREV5TGpRM0xERXdMak0wZWlJZ0lDQWdMejRnSUR4d2IyeDVaMjl1SUdOc1lYTnpQU0p6ZERBaUlITjBlV3hsUFNKdmNHRmphWFI1T2pBdU9Uc2dabWxzYkRvZ0kwWkdSa1pHUmpzZ1pXNWhZbXhsTFdKaFkydG5jbTkxYm1RNklHNWxkenNpSUhCdmFXNTBjejBpTVRRdU16TXNPUzQwTXlBeE1pNDBOeXd4TUM0ek5DQXhNUzQxTml3eE1pNHlNU0F4TUM0Mk5pd3hNQzR6TkNBNExqZ3NPUzQwTXlBeE1DNDJOaXc0TGpVeklERXhMalUyTERZdU5qWWdNVEl1TkRjc09DNDFNeUFnSUNJdlBqd3ZaejQ4TDNOMlp6ND0pO1xcbn1cXG5cXG4ubWFwYm94Z2wtY3RybC5tYXBib3hnbC1jdHJsLWF0dHJpYiB7XFxuICAgIHBhZGRpbmc6IDAgNXB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KTtcXG4gICAgbWFyZ2luOiAwO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCB7XFxuICAgIHBhZGRpbmctdG9wOiAycHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiAycHg7XFxuICAgIG1hcmdpbjogMCAxMHB4IDEwcHggMTBweDtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgICBib3JkZXItcmFkaXVzOiAzcHggMTJweCAxMnB4IDNweDtcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDpob3ZlciB7XFxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcbi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVyIHtcXG4gICAgY29udGVudDogJyc7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBib3R0b206IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyUyMHZpZXdCb3glM0QlMjcwJTIwMCUyMDIwJTIwMjAlMjclMjB4bWxucyUzRCUyN2h0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyNyUzRSUwRCUwQSUwOSUzQ3BhdGglMjBmaWxsJTNEJTI3JTIzMzMzMzMzJTI3JTIwZmlsbC1ydWxlJTNEJTI3ZXZlbm9kZCUyNyUyMGQlM0QlMjdNNCUyQzEwYTYlMkM2JTIwMCUyMDElMkMwJTIwMTIlMkMwYTYlMkM2JTIwMCUyMDElMkMwJTIwLTEyJTJDMCUyME05JTJDN2ExJTJDMSUyMDAlMjAxJTJDMCUyMDIlMkMwYTElMkMxJTIwMCUyMDElMkMwJTIwLTIlMkMwJTIwTTklMkMxMGExJTJDMSUyMDAlMjAxJTJDMSUyMDIlMkMwbDAlMkMzYTElMkMxJTIwMCUyMDElMkMxJTIwLTIlMkMwJTI3JTIwJTJGJTNFJTBEJTBBJTNDJTJGc3ZnJTNFXFxcIik7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjUpO1xcbiAgICB3aWR0aDogMjRweDtcXG4gICAgaGVpZ2h0OiAyNHB4O1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xcbn1cXG4ubWFwYm94Z2wtY3RybC1hdHRyaWIgYSB7XFxuICAgIGNvbG9yOiByZ2JhKDAsMCwwLDAuNzUpO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi5tYXBib3hnbC1jdHJsLWF0dHJpYiBhOmhvdmVyIHtcXG4gICAgY29sb3I6IGluaGVyaXQ7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbn1cXG4vKiBzdHlsZWxpbnQtZGlzYWJsZSAqL1xcbi5tYXBib3hnbC1jdHJsLWF0dHJpYiAubWFwYm94LWltcHJvdmUtbWFwIHtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIG1hcmdpbi1sZWZ0OiAycHg7XFxufVxcbi8qc3R5bGVsaW50LWVuYWJsZSovXFxuLm1hcGJveGdsLWN0cmwtc2NhbGUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNzUpO1xcbiAgICBmb250LXNpemU6IDEwcHg7XFxuICAgIGJvcmRlci13aWR0aDogbWVkaXVtIDJweCAycHg7XFxuICAgIGJvcmRlci1zdHlsZTogbm9uZSBzb2xpZCBzb2xpZDtcXG4gICAgYm9yZGVyLWNvbG9yOiAjMzMzO1xcbiAgICBwYWRkaW5nOiAwIDVweDtcXG4gICAgY29sb3I6ICMzMzM7XFxufVxcblxcbi5tYXBib3hnbC1wb3B1cCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCxcXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0LFxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IHtcXG4gICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSxcXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0LFxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IHtcXG4gICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1sZWZ0IHtcXG4gICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXJpZ2h0IHtcXG4gICAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAgIHdpZHRoOiAwO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIGJvcmRlcjogMTBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gICAgei1pbmRleDogMTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAgIC13ZWJraXQtYWxpZ24tc2VsZjogY2VudGVyO1xcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGJvcmRlci10b3A6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAgIC13ZWJraXQtYWxpZ24tc2VsZjogZmxleC1zdGFydDtcXG4gICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcXG4gICAgYm9yZGVyLXRvcDogbm9uZTtcXG4gICAgYm9yZGVyLWxlZnQ6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXAge1xcbiAgICAtd2Via2l0LWFsaWduLXNlbGY6IGZsZXgtZW5kO1xcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcXG4gICAgYm9yZGVyLXRvcDogbm9uZTtcXG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmZmO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xcbiAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xcbiAgICBib3JkZXItYm90dG9tOiBub25lO1xcbiAgICBib3JkZXItbGVmdDogbm9uZTtcXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcCB7XFxuICAgIC13ZWJraXQtYWxpZ24tc2VsZjogZmxleC1lbmQ7XFxuICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xcbiAgICBib3JkZXItYm90dG9tOiBub25lO1xcbiAgICBib3JkZXItcmlnaHQ6IG5vbmU7XFxuICAgIGJvcmRlci10b3AtY29sb3I6ICNmZmY7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgYm9yZGVyLWxlZnQ6IG5vbmU7XFxuICAgIGJvcmRlci1yaWdodC1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwIHtcXG4gICAgLXdlYmtpdC1hbGlnbi1zZWxmOiBjZW50ZXI7XFxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcXG4gICAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgICBib3JkZXItbGVmdC1jb2xvcjogI2ZmZjtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHRvcDogMDtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBib3JkZXItcmFkaXVzOiAwIDNweCAwIDA7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwKTtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC4wNSk7XFxufVxcbi5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMTApO1xcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHggMTVweDtcXG4gICAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxufVxcbi5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnQge1xcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtY29udGVudCB7XFxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xcbn1cXG4ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50IHtcXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcXG59XFxuLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnQge1xcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcXG59XFxuXFxuLm1hcGJveGdsLW1hcmtlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xcbn1cXG5cXG4ubWFwYm94Z2wtY3Jvc3NoYWlyLFxcbi5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlLFxcbi5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlOmFjdGl2ZSB7XFxuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG4ubWFwYm94Z2wtYm94em9vbSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB3aWR0aDogMDtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgICBib3JkZXI6IDJweCBkb3R0ZWQgIzIwMjAyMDtcXG4gICAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG5AbWVkaWEgcHJpbnQge1xcbi8qIHN0eWxlbGludC1kaXNhYmxlICovXFxuICAgIC5tYXBib3gtaW1wcm92ZS1tYXAge1xcbiAgICAgICAgZGlzcGxheTpub25lO1xcbiAgICB9XFxuLyogc3R5bGVsaW50LWVuYWJsZSAqL1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzP2RhMDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnQkFBZ0I7QUFDbkQsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYzs7QUFFbEU7QUFDQSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n')},function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(13);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(16)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../css-loader/index.js!./mapbox-gl.css\", function() {\n\t\t\tvar newContent = require(\"!!../../css-loader/index.js!./mapbox-gl.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3M/NThiYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVSxFQUFFO0FBQzVDIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXBib3gtZ2wuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHt9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXBib3gtZ2wuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFwYm94LWdsLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3Ncbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === "undefined") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(17);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\toptions.attrs.type = "text/css";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\toptions.attrs.type = "text/css";\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzP2I3ODEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDOztBQUVBO0FBQ0EsbUJBQW1CLDJCQUEyQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixtQkFBbUI7QUFDbkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiwyQkFBMkI7QUFDNUM7QUFDQTs7QUFFQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLGlCQUFpQix1QkFBdUI7QUFDeEM7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjOztBQUVkLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEOztBQUVBLDZCQUE2QixtQkFBbUI7O0FBRWhEOztBQUVBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRpZiAodHlwZW9mIG1lbW9bc2VsZWN0b3JdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRtZW1vW3NlbGVjdG9yXSA9IGZuLmNhbGwodGhpcywgc2VsZWN0b3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHR9O1xufSkoZnVuY3Rpb24gKHRhcmdldCkge1xuXHRyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG59KTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24pIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG5cdGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,exports){eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9saWIvdXJscy5qcz85YzMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVyxFQUFFO0FBQ3JELHdDQUF3QyxXQUFXLEVBQUU7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0NBQXNDO0FBQ3RDLEdBQUc7QUFDSDtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIvbGliL3VybHMuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("div")\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__["a"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require("vue-hot-reload-api")      .rerender("data-v-065f9358", esExports)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TmF2aWdhdGlvbkNvbnRyb2wudnVlP2E3ZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIilcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG52YXIgZXNFeHBvcnRzID0geyByZW5kZXI6IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnMgfVxuZXhwb3J0IGRlZmF1bHQgZXNFeHBvcnRzXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpICAgICAgLnJlcmVuZGVyKFwiZGF0YS12LTA2NWY5MzU4XCIsIGVzRXhwb3J0cylcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj97XCJpZFwiOlwiZGF0YS12LTA2NWY5MzU4XCIsXCJoYXNTY29wZWRcIjpmYWxzZSxcImJ1YmxlXCI6e1widHJhbnNmb3Jtc1wiOnt9fX0hLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCZidXN0Q2FjaGUhLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TmF2aWdhdGlvbkNvbnRyb2wudnVlXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("div")\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__["a"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require("vue-hot-reload-api")      .rerender("data-v-28974780", esExports)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94U291cmNlLnZ1ZT9iN2FhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIpXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxudmFyIGVzRXhwb3J0cyA9IHsgcmVuZGVyOiByZW5kZXIsIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zIH1cbmV4cG9ydCBkZWZhdWx0IGVzRXhwb3J0c1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICBpZiAobW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgcmVxdWlyZShcInZ1ZS1ob3QtcmVsb2FkLWFwaVwiKSAgICAgIC5yZXJlbmRlcihcImRhdGEtdi0yODk3NDc4MFwiLCBlc0V4cG9ydHMpXG4gIH1cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/e1wiaWRcIjpcImRhdGEtdi0yODk3NDc4MFwiLFwiaGFzU2NvcGVkXCI6ZmFsc2UsXCJidWJsZVwiOntcInRyYW5zZm9ybXNcIjp7fX19IS4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAmYnVzdENhY2hlIS4vc3JjL2NvbXBvbmVudHMvVk1hcGJveFNvdXJjZS52dWVcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    [\n      _vm._t("layers"),\n      _vm._v(" "),\n      _vm._t("sources"),\n      _vm._v(" "),\n      _vm._t("default")\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__["a"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require("vue-hot-reload-api")      .rerender("data-v-561fee85", esExports)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94LnZ1ZT9mZmE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICBbXG4gICAgICBfdm0uX3QoXCJsYXllcnNcIiksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX3ZtLl90KFwic291cmNlc1wiKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfdm0uX3QoXCJkZWZhdWx0XCIpXG4gICAgXSxcbiAgICAyXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG52YXIgZXNFeHBvcnRzID0geyByZW5kZXI6IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnMgfVxuZXhwb3J0IGRlZmF1bHQgZXNFeHBvcnRzXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpICAgICAgLnJlcmVuZGVyKFwiZGF0YS12LTU2MWZlZTg1XCIsIGVzRXhwb3J0cylcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj97XCJpZFwiOlwiZGF0YS12LTU2MWZlZTg1XCIsXCJoYXNTY29wZWRcIjpmYWxzZSxcImJ1YmxlXCI6e1widHJhbnNmb3Jtc1wiOnt9fX0hLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCZidXN0Q2FjaGUhLi9zcmMvY29tcG9uZW50cy9WTWFwYm94LnZ1ZVxuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c("div")\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__["a"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require("vue-hot-reload-api")      .rerender("data-v-5e1bc77c", esExports)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TGF5ZXIudnVlPzc5NzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXCJkaXZcIilcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG52YXIgZXNFeHBvcnRzID0geyByZW5kZXI6IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnMgfVxuZXhwb3J0IGRlZmF1bHQgZXNFeHBvcnRzXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpICAgICAgLnJlcmVuZGVyKFwiZGF0YS12LTVlMWJjNzdjXCIsIGVzRXhwb3J0cylcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj97XCJpZFwiOlwiZGF0YS12LTVlMWJjNzdjXCIsXCJoYXNTY29wZWRcIjpmYWxzZSxcImJ1YmxlXCI6e1widHJhbnNmb3Jtc1wiOnt9fX0hLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCZidXN0Q2FjaGUhLi9zcmMvY29tcG9uZW50cy9WTWFwYm94TGF5ZXIudnVlXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')}])})},"5BjH":function(t,e,n){"use strict";var r=n("PeCl");var i=n("diIw");function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var u=function(t){s(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o(this,e);var n=t.id,r=n===undefined?Object(i["uid"])("cube-geometry"):n;return a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{id:r,attributes:p()})))}return e}(r["a"]);e["a"]=u;var l=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]);var c=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]);var f=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);var h=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]);function p(){return{indices:new Uint16Array(l),positions:new Float32Array(c),normals:new Float32Array(f),texCoords:new Float32Array(h)}}},"5QVw":function(t,e,n){t.exports={default:n("tYO1"),__esModule:true}},"623k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();e.loadTexture=h;e.loadFiles=p;e.loadImages=d;e.loadTextures=v;e.loadProgram=m;e.loadModel=g;e.parseModel=y;var i=n("N+Om");var o=c(i);var a=n("1D5K");var s=n("7puw");var u=n("VDqB");var l=n("JEgC");function c(t){return t&&t.__esModule?t:{default:t}}function f(){}function h(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=n.urls,i=n.onProgress,a=i===undefined?f:i;(0,o.default)(typeof e==="string","loadTexture: url must be string");return d(Object.assign({urls:r,onProgress:a},n)).then(function(e){return e.map(function(e,i){return new s.Texture2D(t,Object.assign({id:r[i]},n,{data:e}))})})}function p(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=t.urls,n=t.onProgress,r=n===undefined?f:n;(0,o.default)(e.every(function(t){return typeof t==="string"}),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(e.map(function(n){var o=(0,a.loadFile)(Object.assign({url:n},t));o.then(function(t){return r({progress:++i/e.length,count:i,total:e.length,url:n})});return o}))}function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=t.urls,n=t.onProgress,r=n===undefined?f:n;(0,o.default)(e.every(function(t){return typeof t==="string"}),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(e.map(function(n){var o=(0,a.loadImage)(n,t);o.then(function(t){return r({progress:++i/e.length,count:i,total:e.length,url:n})});return o}))}function v(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.urls,r=e.onProgress,i=r===undefined?f:r;(0,o.default)(n.every(function(t){return typeof t==="string"}),"loadTextures: {urls} must be array of strings");return d(Object.assign({urls:n,onProgress:i},e)).then(function(r){return r.map(function(r,i){var o=Array.isArray(e.parameters)?e.parameters[i]:e.parameters;o=o===undefined?{}:o;return new s.Texture2D(t,Object.assign({id:n[i]},o,{data:r}))})})}function m(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.vs,i=e.fs,o=e.onProgress,a=o===undefined?f:o;return p(Object.assign({urls:[n,i],onProgress:a},e)).then(function(n){var i=r(n,2),o=i[0],a=i[1];return new s.Program(t,Object.assign({vs:o,fs:a},e))})}function g(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.url,i=e.onProgress,o=i===undefined?f:i;return p(Object.assign({urls:[n],onProgress:o},e)).then(function(n){var i=r(n,1),o=i[0];return y(t,Object.assign({file:o},e))})}function y(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.file,r=e.program,i=r===undefined?new s.Program(t):r;var o=typeof n==="string"?_(n):n;var a={};var c={};for(var f in o){var h=o[f];if(Array.isArray(h)){a[f]=f==="indices"?new Uint16Array(h):new Float32Array(h)}else{c[f]=h}}return new u.Model(t,Object.assign({program:i,geometry:new l.Geometry({attributes:a})},c,e))}function _(t){try{return JSON.parse(t)}catch(t){throw new Error("Failed to parse JSON: "+t)}}},"6rdy":function(t,e,n){var r=n("pEGt");var i=n("THEY");var o=n("bSeU");t.exports=function(t){var e=r(t);var n=i.f;if(n){var a=n(t);var s=o.f;var u=0;var l;while(a.length>u)if(s.call(t,l=a[u++]))e.push(l)}return e}},"6tLb":function(t,e,n){var r=n("ksFB");var i=n("2m2c").f;var o={}.toString;var a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function t(e){return a&&o.call(e)=="[object Window]"?s(e):i(r(e))}},"6vbb":function(t,e,n){"use strict";var r=n("jgbb");var i=n("nXN2");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.gl,r=e._cachePrograms,i=r===undefined?false:r;u(this,t);a()(n);this.gl=n;this.vertexShaders={};this.fragmentShaders={};this.programs={};this._cachePrograms=i}s(t,[{key:"delete",value:function t(){return this}},{key:"getVertexShader",value:function t(e,n){a()(typeof n==="string");a()(this._compareContexts(e,this.gl));var i=this.vertexShaders[n];if(!i){i=new r["b"](e,n);this.vertexShaders[n]=i}return i}},{key:"getFragmentShader",value:function t(e,n){a()(typeof n==="string");a()(this._compareContexts(e,this.gl));var i=this.fragmentShaders[n];if(!i){i=new r["a"](e,n);this.fragmentShaders[n]=i}return i}},{key:"getProgram",value:function t(e,n){a()(this._compareContexts(e,this.gl));a()(typeof n.vs==="string");a()(typeof n.fs==="string");a()(typeof n.id==="string");var r=this._getProgramKey(n);var i=this.programs[r];if(i){this._resetProgram(i);return i}i=this._createNewProgram(e,n);if(this._cachePrograms&&this._checkProgramProp(i)){this.programs[r]=i}return i}},{key:"_getProgramKey",value:function t(e){return e.id+"-"+e.vs+"-"+e.fs}},{key:"_checkProgramProp",value:function t(e){return!e.varyings}},{key:"_createNewProgram",value:function t(e,n){var r=n.vs,o=n.fs;var a=this.getVertexShader(e,r);var s=this.getFragmentShader(e,o);return new i["a"](this.gl,Object.assign({},n,{vs:a,fs:s}))}},{key:"_resetProgram",value:function t(e,n){e.reset()}},{key:"_compareContexts",value:function t(e,n){return(e.gl||e)===(n.gl||n)}}]);return t}();e["a"]=l},"7+pg":function(t,e,n){"use strict";var r=n("7k+L");var i=n("tLlS");var o=n("u/dy");var a=n("1Yfb");var s=n("4MLn");var u=n("Rc6/");var l=n("diIw");var c=n("N+Om");var f=n.n(c);var h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var p;function d(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function v(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function m(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function g(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var y=[r["b"].LINEAR,r["b"].NEAREST];var _=(p={},g(p,r["b"].RGB,{dataFormat:r["b"].RGB,types:[r["b"].UNSIGNED_BYTE,r["b"].UNSIGNED_SHORT_5_6_5]}),g(p,r["b"].RGBA,{dataFormat:r["b"].RGBA,types:[r["b"].UNSIGNED_BYTE,r["b"].UNSIGNED_SHORT_4_4_4_4,r["b"].UNSIGNED_SHORT_5_5_5_1]}),g(p,r["b"].ALPHA,{dataFormat:r["b"].ALPHA,types:[r["b"].UNSIGNED_BYTE]}),g(p,r["b"].LUMINANCE,{dataFormat:r["b"].LUMINANCE,types:[r["b"].UNSIGNED_BYTE]}),g(p,r["b"].LUMINANCE_ALPHA,{dataFormat:r["b"].LUMINANCE_ALPHA,types:[r["b"].UNSIGNED_BYTE]}),p);function b(t,e){f()(Object(o["g"])(t),o["a"]);var n=_[e];if(!n){return false}if(n.gl1===undefined&&n.gl2===undefined){return true}var r=Object(o["h"])(t)?n.gl2||n.gl1:n.gl1;return typeof r==="string"?t.getExtension(r):r}function x(t,e){var n=_[e];switch(n&&n.types[0]){case r["b"].FLOAT:return t.getExtension("OES_texture_float_linear");case r["b"].HALF_FLOAT:return t.getExtension("OES_texture_half_float_linear");default:return true}}var w=function(t){m(e,t);h(e,null,[{key:"isSupported",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.format,i=n.linearFiltering;f()(Object(o["g"])(e),o["a"]);var a=true;if(r){a=a&&b(e,r);a=a&&(!i||x(e,r))}return a}}]);function e(t,n){d(this,e);var r=n.id,i=r===undefined?Object(l["uid"])("texture"):r,o=n.handle,a=n.target;var s=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{id:i,handle:o}));s.target=a;s.hasFloatTexture=t.getExtension("OES_texture_float");s.textureUnit=undefined;return s}h(e,[{key:"toString",value:function t(){return"Texture("+this.id+","+this.width+"x"+this.height+")"}},{key:"initialize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.data;var i=e.pixels,o=i===undefined?null:i,a=e.format,s=a===undefined?r["b"].RGBA:a,u=e.type,c=u===undefined?r["b"].UNSIGNED_BYTE:u,f=e.border,h=f===undefined?0:f,p=e.recreate,d=p===undefined?false:p,v=e.parameters,m=v===undefined?{}:v,y=e.pixelStore,_=y===undefined?{}:y,b=e.unpackFlipY,x=b===undefined?true:b,w=e.generateMipmaps;var E=e.mipmaps,T=E===undefined?true:E;if(w!==undefined){l["log"].deprecated("generateMipmaps","mipmaps");T=w}if(!n){n=o}var I=e.width,C=e.height,M=e.dataFormat;var A=this._deduceParameters({format:s,type:c,dataFormat:M,compressed:false,data:n,width:I,height:C});I=A.width;C=A.height;M=A.dataFormat;this.width=I;this.height=C;this.format=s;this.type=c;this.dataFormat=M;this.border=h;this.mipmaps=T;var S=g({},r["b"].UNPACK_FLIP_Y_WEBGL,x);var R=Object.assign({},S,_);if(this._isNPOT()){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping");T=false;this._updateForNPOT(m)}this.setImageData({data:n,width:I,height:C,format:s,type:c,dataFormat:M,border:h,mipmaps:T,parameters:R});if(T){this.generateMipmap()}var L=this._applyV3Options(m,e);this.setParameters(L);if(d){this.data=n}}},{key:"resize",value:function t(e){var n=e.width,r=e.height;if(n!==this.width||r!==this.height){return this.initialize({width:n,height:r,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:false})}return this}},{key:"generateMipmap",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.gl.bindTexture(this.target,this.handle);Object(a["c"])(this.gl,n,function(){e.gl.generateMipmap(e.target)});this.gl.bindTexture(this.target,null);return this}},{key:"setImageData",value:function t(e){var n=this;var i=e.target,s=i===undefined?this.target:i,u=e.pixels,l=u===undefined?null:u,c=e.data,h=c===undefined?null:c,p=e.width,d=e.height,v=e.level,m=v===undefined?0:v,g=e.format,y=g===undefined?r["b"].RGBA:g,_=e.type,b=e.dataFormat,x=e.offset,w=x===undefined?0:x,E=e.border,T=E===undefined?0:E,I=e.compressed,C=I===undefined?false:I,M=e.parameters,A=M===undefined?{}:M;if(!h){h=l}var S=this._deduceParameters({format:y,type:_,dataFormat:b,compressed:C,data:h,width:p,height:d});_=S.type;b=S.dataFormat;C=S.compressed;p=S.width;d=S.height;var R=this.gl;R.bindTexture(this.target,this.handle);var L=null;var k=this._getDataType({data:h,compressed:C});h=k.data;L=k.dataType;Object(a["c"])(this.gl,A,function(){switch(L){case"null":R.texImage2D(s,m,y,p,d,T,b,_,h);break;case"typed-array":R.texImage2D(s,m,y,p,d,T,b,_,h,w);break;case"buffer":f()(Object(o["h"])(R),o["b"]);R.bindBuffer(r["b"].PIXEL_UNPACK_BUFFER,h.handle||h);R.texImage2D(s,m,y,p,d,T,y,_,w);break;case"browser-object":R.texImage2D(s,m,y,y,_,h);break;case"compressed":R.compressedTexImage2D(n.target,m,y,p,d,T,h);break;default:f()(false,"Unknown image data type")}})}},{key:"setSubImageData",value:function t(e){var n=this;var s=e.target,l=s===undefined?this.target:s,c=e.pixels,h=c===undefined?null:c,p=e.data,d=p===undefined?null:p,v=e.x,m=v===undefined?0:v,g=e.y,y=g===undefined?0:g,_=e.width,b=e.height,x=e.level,w=x===undefined?0:x,E=e.format,T=E===undefined?r["b"].RGBA:E,I=e.type,C=e.dataFormat,M=e.compressed,A=M===undefined?false:M,S=e.offset,R=S===undefined?0:S,L=e.border,k=L===undefined?0:L,N=e.parameters,F=N===undefined?{}:N;var O=this._deduceParameters({format:T,type:I,dataFormat:C,compressed:A,data:d,width:_,height:b});I=O.type;C=O.dataFormat;A=O.compressed;_=O.width;b=O.height;if(!d){d=h}if(d&&d.data){var B=d;d=B.data;_=B.shape[0];b=B.shape[1]}if(d instanceof u["a"]){d=d.handle}this.gl.bindTexture(this.target,this.handle);Object(a["c"])(this.gl,F,function(){if(A){n.gl.compressedTexSubImage2D(l,w,m,y,_,b,T,d)}else if(d===null){n.gl.texSubImage2D(l,w,T,_,b,k,C,I,null)}else if(ArrayBuffer.isView(d)){n.gl.texSubImage2D(l,w,m,y,_,b,T,I,d,R)}else if(d instanceof i["c"]){f()(Object(o["h"])(n.gl),o["b"]);n.gl.bindBuffer(r["b"].PIXEL_UNPACK_BUFFER,d);n.gl.texSubImage2D(l,w,T,_,b,k,T,I,R);n.gl.bindBuffer(r["b"].GL_PIXEL_UNPACK_BUFFER,null)}else{n.gl.texSubImage2D(l,w,m,y,T,I,d)}});this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function t(e){var n=e.target,i=n===undefined?this.target:n,o=e.framebuffer,a=e.offset,s=a===undefined?0:a,u=e.x,l=u===undefined?0:u,c=e.y,f=c===undefined?0:c,h=e.width,p=e.height,d=e.level,v=d===undefined?0:d,m=e.internalFormat,g=m===undefined?r["b"].RGBA:m,y=e.border,_=y===undefined?0:y;if(o){o.bind()}this.bind();this.gl.copyTexImage2D(this.target,v,g,l,f,h,p,_);this.unbind();if(o){o.unbind()}}},{key:"getActiveUnit",value:function t(){return this.gl.getParameter(r["b"].ACTIVE_TEXTURE)-r["b"].TEXTURE0}},{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.textureUnit;if(e===undefined){throw new Error("Texture.bind: must specify texture unit")}this.textureUnit=e;this.gl.activeTexture(r["b"].TEXTURE0+e);this.gl.bindTexture(this.target,this.handle);return e}},{key:"unbind",value:function t(){if(this.textureUnit===undefined){throw new Error("Texture.unbind: texture unit not specified")}this.gl.activeTexture(r["b"].TEXTURE0+this.textureUnit);this.gl.bindTexture(this.target,null);return this.textureUnit}},{key:"_getDataType",value:function t(e){var n=e.data,r=e.compressed,o=r===undefined?false:r;if(o){return{data:n,dataType:"compressed"}}if(n===null){return{data:n,dataType:"null"}}if(ArrayBuffer.isView(n)){return{data:n,dataType:"typed-array"}}if(n instanceof u["a"]){return{data:n.handle,dataType:"buffer"}}if(n instanceof i["c"]){return{data:n,dataType:"buffer"}}return{data:n,dataType:"browser-object"}}},{key:"setImage3D",value:function t(e){var n=e.level,i=n===undefined?0:n,o=e.internalformat,a=o===undefined?r["b"].RGBA:o,s=e.width,l=e.height,c=e.depth,f=c===undefined?1:c,h=e.border,p=h===undefined?0:h,d=e.format,v=e.type,m=v===undefined?r["b"].UNSIGNED_BYTE:v,g=e.offset,y=g===undefined?0:g,_=e.pixels;if(ArrayBuffer.isView(_)){this.gl.texImage3D(this.target,i,a,s,l,f,p,d,m,_);return this}if(_ instanceof u["a"]){this.gl.bindBuffer(r["b"].PIXEL_UNPACK_BUFFER,_.handle);this.gl.texImage3D(this.target,i,a,s,l,f,p,d,m,y)}return this}},{key:"_deduceParameters",value:function t(e){var n=e.format,r=e.data;var i=e.width,o=e.height,a=e.dataFormat,s=e.type,u=e.compressed;var l=_[n];a=a||l&&l.dataFormat;s=s||l&&l.types[0];u=u||l&&l.compressed;var c=this._deduceImageSize({data:r,width:i,height:o});i=c.width;o=c.height;return{dataFormat:a,type:s,compressed:u,width:i,height:o,format:n,data:r}}},{key:"_applyV3Options",value:function t(e,n){var i=Object.assign({},e);if("magFilter"in n){i[r["b"].TEXTURE_MAG_FILTER]=n.magFilter;l["log"].deprecated("magFilter","TEXTURE_MAG_FILTER")}if("minFilter"in n){i[r["b"].TEXTURE_MIN_FILTER]=n.minFilter;l["log"].deprecated("minFilter","TEXTURE_MIN_FILTER")}if("wrapS"in n){i[r["b"].TEXTURE_WRAP_S]=n.wrapS;l["log"].deprecated("wrapS","TEXTURE_WRAP_S")}if("wrapT"in n){i[r["b"].TEXTURE_WRAP_T]=n.wrapT;l["log"].deprecated("wrapT","TEXTURE_WRAP_T")}return i}},{key:"_deduceImageSize",value:function t(e){var n=e.data,r=e.width,i=e.height;var o=void 0;if(typeof ImageData!=="undefined"&&n instanceof ImageData){o={width:n.width,height:n.height}}else if(typeof HTMLImageElement!=="undefined"&&n instanceof HTMLImageElement){o={width:n.naturalWidth,height:n.naturalHeight}}else if(typeof HTMLCanvasElement!=="undefined"&&n instanceof HTMLCanvasElement){o={width:n.width,height:n.height}}else if(typeof HTMLVideoElement!=="undefined"&&n instanceof HTMLVideoElement){o={width:n.videoWidth,height:n.videoHeight}}else if(!n){o={width:r>=0?r:1,height:i>=0?i:1}}else{o={width:r,height:i}}f()(o,"Could not deduced texture size");f()(r===undefined||o.width===r,"Deduced texture width does not match supplied width");f()(i===undefined||o.height===i,"Deduced texture height does not match supplied height");return o}},{key:"_createHandle",value:function t(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function t(){this.gl.deleteTexture(this.handle)}},{key:"_getParameter",value:function t(e){switch(e){case r["b"].TEXTURE_WIDTH:return this.width;case r["b"].TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var n=this.gl.getTexParameter(this.target,e);this.gl.bindTexture(this.target,null);return n}}},{key:"_setParameter",value:function t(e,n){this.gl.bindTexture(this.target,this.handle);n=this._getNPOTParam(e,n);switch(e){case r["b"].TEXTURE_MIN_LOD:case r["b"].TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,e,n);break;case r["b"].TEXTURE_WIDTH:case r["b"].TEXTURE_HEIGHT:throw new Error("Cannot set emulated parameter");default:this.gl.texParameteri(this.target,e,n);break}this.gl.bindTexture(this.target,null);return this}},{key:"_isNPOT",value:function t(){return!Object(o["h"])(this.gl)&&(!Object(l["isPowerOfTwo"])(this.width)||!Object(l["isPowerOfTwo"])(this.height))}},{key:"_updateForNPOT",value:function t(e){if(e[this.gl.TEXTURE_MIN_FILTER]===undefined){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR");e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR}if(e[this.gl.TEXTURE_WRAP_S]===undefined){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_WRAP_S to CLAMP_TO_EDGE");e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE}if(e[this.gl.TEXTURE_WRAP_T]===undefined){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_WRAP_T to CLAMP_TO_EDGE");e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE}}},{key:"_getNPOTParam",value:function t(e,n){if(this._isNPOT()){switch(e){case r["b"].TEXTURE_MIN_FILTER:if(y.indexOf(n)===-1){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR");n=r["b"].LINEAR}break;case r["b"].TEXTURE_WRAP_S:case r["b"].TEXTURE_WRAP_T:if(n!==r["b"].CLAMP_TO_EDGE){l["log"].warn("texture: "+this+" is Non-Power-Of-Two, "+Object(r["d"])(e)+" to CLAMP_TO_EDGE");n=r["b"].CLAMP_TO_EDGE}break;default:break}}return n}}]);return e}(s["a"]);e["a"]=w},"7+uW":function(t,e,n){"use strict";(function(t,n){/*!
 * Vue.js v2.5.3
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
function r(t){return t===undefined||t===null}function i(t){return t!==undefined&&t!==null}function o(t){return t===true}function a(t){return t===false}function s(t){return typeof t==="string"||typeof t==="number"||typeof t==="boolean"}function u(t){return t!==null&&typeof t==="object"}var l=Object.prototype.toString;function c(t){return l.call(t).slice(8,-1)}function f(t){return l.call(t)==="[object Object]"}function h(t){return l.call(t)==="[object RegExp]"}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return t==null?"":typeof t==="object"?JSON.stringify(t,null,2):String(t)}function v(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){var n=Object.create(null);var r=t.split(",");for(var i=0;i<r.length;i++){n[r[i]]=true}return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=m("slot,component",true);var y=m("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1){return t.splice(n,1)}}}var b=Object.prototype.hasOwnProperty;function x(t,e){return b.call(t,e)}function w(t){var e=Object.create(null);return function n(r){var i=e[r];return i||(e[r]=t(r))}}var E=/-(\w)/g;var T=w(function(t){return t.replace(E,function(t,e){return e?e.toUpperCase():""})});var I=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)});var C=/\B([A-Z])/g;var M=w(function(t){return t.replace(C,"-$1").toLowerCase()});function A(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}n._length=t.length;return n}function S(t,e){e=e||0;var n=t.length-e;var r=new Array(n);while(n--){r[n]=t[n+e]}return r}function R(t,e){for(var n in e){t[n]=e[n]}return t}function L(t){var e={};for(var n=0;n<t.length;n++){if(t[n]){R(e,t[n])}}return e}function k(t,e,n){}var N=function(t,e,n){return false};var F=function(t){return t};function O(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function B(t,e){if(t===e){return true}var n=u(t);var r=u(e);if(n&&r){try{var i=Array.isArray(t);var o=Array.isArray(e);if(i&&o){return t.length===e.length&&t.every(function(t,n){return B(t,e[n])})}else if(!i&&!o){var a=Object.keys(t);var s=Object.keys(e);return a.length===s.length&&a.every(function(n){return B(t[n],e[n])})}else{return false}}catch(t){return false}}else if(!n&&!r){return String(t)===String(e)}else{return false}}function P(t,e){for(var n=0;n<t.length;n++){if(B(t[n],e)){return n}}return-1}function U(t){var e=false;return function(){if(!e){e=true;t.apply(this,arguments)}}}var D="data-server-rendered";var z=["component","directive","filter"];var j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"];var V={optionMergeStrategies:Object.create(null),silent:false,productionTip:"production"!=="production",devtools:"production"!=="production",performance:false,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:k,parsePlatformTagName:F,mustUseProp:N,_lifecycleHooks:j};var G=Object.freeze({});function X(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function W(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:true,configurable:true})}var Z=/[^\w.$]/;function Q(t){if(Z.test(t)){return}var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t){return}t=t[e[n]]}return t}}var H="__proto__"in{};var Y=typeof window!=="undefined";var J=Y&&window.navigator.userAgent.toLowerCase();var q=J&&/msie|trident/.test(J);var K=J&&J.indexOf("msie 9.0")>0;var $=J&&J.indexOf("edge/")>0;var tt=J&&J.indexOf("android")>0;var et=J&&/iphone|ipad|ipod|ios/.test(J);var nt=J&&/chrome\/\d+/.test(J)&&!$;var rt={}.watch;var it=false;if(Y){try{var ot={};Object.defineProperty(ot,"passive",{get:function t(){it=true}});window.addEventListener("test-passive",null,ot)}catch(t){}}var at;var st=function(){if(at===undefined){if(!Y&&typeof t!=="undefined"){at=t["process"].env.VUE_ENV==="server"}else{at=false}}return at};var ut=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return typeof t==="function"&&/native code/.test(t.toString())}var ct=typeof Symbol!=="undefined"&&lt(Symbol)&&typeof Reflect!=="undefined"&&lt(Reflect.ownKeys);var ft;if(typeof Set!=="undefined"&&lt(Set)){ft=Set}else{ft=function(){function t(){this.set=Object.create(null)}t.prototype.has=function t(e){return this.set[e]===true};t.prototype.add=function t(e){this.set[e]=true};t.prototype.clear=function t(){this.set=Object.create(null)};return t}()}var ht=k;var pt=k;var dt=k;var vt=k;if(false){var mt=typeof console!=="undefined";var gt=/(?:^|[-_])(\w)/g;var yt=function(t){return t.replace(gt,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")};ht=function(t,e){var n=e?dt(e):"";if(V.warnHandler){V.warnHandler.call(null,t,e,n)}else if(mt&&!V.silent){console.error("[Vue warn]: "+t+n)}};pt=function(t,e){if(mt&&!V.silent){console.warn("[Vue tip]: "+t+(e?dt(e):""))}};vt=function(t,e){if(t.$root===t){return"<Root>"}var n=typeof t==="function"&&t.cid!=null?t.options:t._isVue?t.$options||t.constructor.options:t||{};var r=n.name||n._componentTag;var i=n.__file;if(!r&&i){var o=i.match(/([^\/\\]+)\.vue$/);r=o&&o[1]}return(r?"<"+yt(r)+">":"<Anonymous>")+(i&&e!==false?" at "+i:"")};var _t=function(t,e){var n="";while(e){if(e%2===1){n+=t}if(e>1){t+=t}e>>=1}return n};dt=function(t){if(t._isVue&&t.$parent){var e=[];var n=0;while(t){if(e.length>0){var r=e[e.length-1];if(r.constructor===t.constructor){n++;t=t.$parent;continue}else if(n>0){e[e.length-1]=[r,n];n=0}}e.push(t);t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(e===0?"---\x3e ":_t(" ",5+e*2))+(Array.isArray(t)?vt(t[0])+"... ("+t[1]+" recursive calls)":vt(t))}).join("\n")}else{return"\n\n(found in "+vt(t)+")"}}}var bt=0;var xt=function t(){this.id=bt++;this.subs=[]};xt.prototype.addSub=function t(e){this.subs.push(e)};xt.prototype.removeSub=function t(e){_(this.subs,e)};xt.prototype.depend=function t(){if(xt.target){xt.target.addDep(this)}};xt.prototype.notify=function t(){var e=this.subs.slice();for(var n=0,r=e.length;n<r;n++){e[n].update()}};xt.target=null;var wt=[];function Et(t){if(xt.target){wt.push(xt.target)}xt.target=t}function Tt(){xt.target=wt.pop()}var It=function t(e,n,r,i,o,a,s,u){this.tag=e;this.data=n;this.children=r;this.text=i;this.elm=o;this.ns=undefined;this.context=a;this.functionalContext=undefined;this.functionalOptions=undefined;this.functionalScopeId=undefined;this.key=n&&n.key;this.componentOptions=s;this.componentInstance=undefined;this.parent=undefined;this.raw=false;this.isStatic=false;this.isRootInsert=true;this.isComment=false;this.isCloned=false;this.isOnce=false;this.asyncFactory=u;this.asyncMeta=undefined;this.isAsyncPlaceholder=false};var Ct={child:{configurable:true}};Ct.child.get=function(){return this.componentInstance};Object.defineProperties(It.prototype,Ct);var Mt=function(t){if(t===void 0)t="";var e=new It;e.text=t;e.isComment=true;return e};function At(t){return new It(undefined,undefined,undefined,String(t))}function St(t,e){var n=t.componentOptions;var r=new It(t.tag,t.data,t.children,t.text,t.elm,t.context,n,t.asyncFactory);r.ns=t.ns;r.isStatic=t.isStatic;r.key=t.key;r.isComment=t.isComment;r.isCloned=true;if(e){if(t.children){r.children=Rt(t.children,true)}if(n&&n.children){n.children=Rt(n.children,true)}}return r}function Rt(t,e){var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=St(t[i],e)}return r}var Lt=Array.prototype;var kt=Object.create(Lt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Lt[t];W(kt,t,function n(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var o=e.apply(this,r);var a=this.__ob__;var s;switch(t){case"push":case"unshift":s=r;break;case"splice":s=r.slice(2);break}if(s){a.observeArray(s)}a.dep.notify();return o})});var Nt=Object.getOwnPropertyNames(kt);var Ft={shouldConvert:true};var Ot=function t(e){this.value=e;this.dep=new xt;this.vmCount=0;W(e,"__ob__",this);if(Array.isArray(e)){var n=H?Bt:Pt;n(e,kt,Nt);this.observeArray(e)}else{this.walk(e)}};Ot.prototype.walk=function t(e){var n=Object.keys(e);for(var r=0;r<n.length;r++){Dt(e,n[r],e[n[r]])}};Ot.prototype.observeArray=function t(e){for(var n=0,r=e.length;n<r;n++){Ut(e[n])}};function Bt(t,e,n){t.__proto__=e}function Pt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(t,o,e[o])}}function Ut(t,e){if(!u(t)||t instanceof It){return}var n;if(x(t,"__ob__")&&t.__ob__ instanceof Ot){n=t.__ob__}else if(Ft.shouldConvert&&!st()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue){n=new Ot(t)}if(e&&n){n.vmCount++}return n}function Dt(t,e,n,r,i){var o=new xt;var a=Object.getOwnPropertyDescriptor(t,e);if(a&&a.configurable===false){return}var s=a&&a.get;var u=a&&a.set;var l=!i&&Ut(n);Object.defineProperty(t,e,{enumerable:true,configurable:true,get:function e(){var r=s?s.call(t):n;if(xt.target){o.depend();if(l){l.dep.depend();if(Array.isArray(r)){Vt(r)}}}return r},set:function e(a){var c=s?s.call(t):n;if(a===c||a!==a&&c!==c){return}if(false){r()}if(u){u.call(t,a)}else{n=a}l=!i&&Ut(a);o.notify()}})}function zt(t,e,n){if(Array.isArray(t)&&p(e)){t.length=Math.max(t.length,e);t.splice(e,1,n);return n}if(e in t&&!(e in Object.prototype)){t[e]=n;return n}var r=t.__ob__;if(t._isVue||r&&r.vmCount){"production"!=="production"&&ht("Avoid adding reactive properties to a Vue instance or its root $data "+"at runtime - declare it upfront in the data option.");return n}if(!r){t[e]=n;return n}Dt(r.value,e,n);r.dep.notify();return n}function jt(t,e){if(Array.isArray(t)&&p(e)){t.splice(e,1);return}var n=t.__ob__;if(t._isVue||n&&n.vmCount){"production"!=="production"&&ht("Avoid deleting properties on a Vue instance or its root $data "+"- just set it to null.");return}if(!x(t,e)){return}delete t[e];if(!n){return}n.dep.notify()}function Vt(t){for(var e=void 0,n=0,r=t.length;n<r;n++){e=t[n];e&&e.__ob__&&e.__ob__.dep.depend();if(Array.isArray(e)){Vt(e)}}}var Gt=V.optionMergeStrategies;if(false){Gt.el=Gt.propsData=function(t,e,n,r){if(!n){ht('option "'+r+'" can only be used during instance '+"creation with the `new` keyword.")}return Ht(t,e)}}function Xt(t,e){if(!e){return t}var n,r,i;var o=Object.keys(e);for(var a=0;a<o.length;a++){n=o[a];r=t[n];i=e[n];if(!x(t,n)){zt(t,n,i)}else if(f(r)&&f(i)){Xt(r,i)}}return t}function Wt(t,e,n){if(!n){if(!e){return t}if(!t){return e}return function n(){return Xt(typeof e==="function"?e.call(this):e,typeof t==="function"?t.call(this):t)}}else{return function r(){var i=typeof e==="function"?e.call(n):e;var o=typeof t==="function"?t.call(n):t;if(i){return Xt(i,o)}else{return o}}}}Gt.data=function(t,e,n){if(!n){if(e&&typeof e!=="function"){"production"!=="production"&&ht('The "data" option should be a function '+"that returns a per-instance value in component "+"definitions.",n);return t}return Wt(t,e)}return Wt(t,e,n)};function Zt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}j.forEach(function(t){Gt[t]=Zt});function Qt(t,e,n,r){var i=Object.create(t||null);if(e){"production"!=="production"&&$t(r,e,n);return R(i,e)}else{return i}}z.forEach(function(t){Gt[t+"s"]=Qt});Gt.watch=function(t,e,n,r){if(t===rt){t=undefined}if(e===rt){e=undefined}if(!e){return Object.create(t||null)}if(false){$t(r,e,n)}if(!t){return e}var i={};R(i,t);for(var o in e){var a=i[o];var s=e[o];if(a&&!Array.isArray(a)){a=[a]}i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i};Gt.props=Gt.methods=Gt.inject=Gt.computed=function(t,e,n,r){if(e&&"production"!=="production"){$t(r,e,n)}if(!t){return e}var i=Object.create(null);R(i,t);if(e){R(i,e)}return i};Gt.provide=Wt;var Ht=function(t,e){return e===undefined?t:e};function Yt(t){for(var e in t.components){var n=e.toLowerCase();if(g(n)||V.isReservedTag(n)){ht("Do not use built-in or reserved HTML elements as component "+"id: "+e)}}}function Jt(t,e){var n=t.props;if(!n){return}var r={};var i,o,a;if(Array.isArray(n)){i=n.length;while(i--){o=n[i];if(typeof o==="string"){a=T(o);r[a]={type:null}}else if(false){ht("props must be strings when using array syntax.")}}}else if(f(n)){for(var s in n){o=n[s];a=T(s);r[a]=f(o)?o:{type:o}}}else if(false){ht('Invalid value for option "props": expected an Array or an Object, '+"but got "+c(n)+".",e)}t.props=r}function qt(t,e){var n=t.inject;var r=t.inject={};if(Array.isArray(n)){for(var i=0;i<n.length;i++){r[n[i]]={from:n[i]}}}else if(f(n)){for(var o in n){var a=n[o];r[o]=f(a)?R({from:o},a):{from:a}}}else if(false){ht('Invalid value for option "inject": expected an Array or an Object, '+"but got "+c(n)+".",e)}}function Kt(t){var e=t.directives;if(e){for(var n in e){var r=e[n];if(typeof r==="function"){e[n]={bind:r,update:r}}}}}function $t(t,e,n){if(!f(e)){ht('Invalid value for option "'+t+'": expected an Object, '+"but got "+c(e)+".",n)}}function te(t,e,n){if(false){Yt(e)}if(typeof e==="function"){e=e.options}Jt(e,n);qt(e,n);Kt(e);var r=e.extends;if(r){t=te(t,r,n)}if(e.mixins){for(var i=0,o=e.mixins.length;i<o;i++){t=te(t,e.mixins[i],n)}}var a={};var s;for(s in t){u(s)}for(s in e){if(!x(t,s)){u(s)}}function u(r){var i=Gt[r]||Ht;a[r]=i(t[r],e[r],n,r)}return a}function ee(t,e,n,r){if(typeof n!=="string"){return}var i=t[e];if(x(i,n)){return i[n]}var o=T(n);if(x(i,o)){return i[o]}var a=I(o);if(x(i,a)){return i[a]}var s=i[n]||i[o]||i[a];if(false){ht("Failed to resolve "+e.slice(0,-1)+": "+n,t)}return s}function ne(t,e,n,r){var i=e[t];var o=!x(n,t);var a=n[t];if(ue(Boolean,i.type)){if(o&&!x(i,"default")){a=false}else if(!ue(String,i.type)&&(a===""||a===M(t))){a=true}}if(a===undefined){a=re(r,i,t);var s=Ft.shouldConvert;Ft.shouldConvert=true;Ut(a);Ft.shouldConvert=s}if(false){ie(i,t,a,r,o)}return a}function re(t,e,n){if(!x(e,"default")){return undefined}var r=e.default;if(false){ht('Invalid default value for prop "'+n+'": '+"Props with type Object/Array must use a factory function "+"to return the default value.",t)}if(t&&t.$options.propsData&&t.$options.propsData[n]===undefined&&t._props[n]!==undefined){return t._props[n]}return typeof r==="function"&&se(e.type)!=="Function"?r.call(t):r}function ie(t,e,n,r,i){if(t.required&&i){ht('Missing required prop: "'+e+'"',r);return}if(n==null&&!t.required){return}var o=t.type;var a=!o||o===true;var s=[];if(o){if(!Array.isArray(o)){o=[o]}for(var u=0;u<o.length&&!a;u++){var l=ae(n,o[u]);s.push(l.expectedType||"");a=l.valid}}if(!a){ht('Invalid prop: type check failed for prop "'+e+'".'+" Expected "+s.map(I).join(", ")+", got "+c(n)+".",r);return}var f=t.validator;if(f){if(!f(n)){ht('Invalid prop: custom validator check failed for prop "'+e+'".',r)}}}var oe=/^(String|Number|Boolean|Function|Symbol)$/;function ae(t,e){var n;var r=se(e);if(oe.test(r)){var i=typeof t;n=i===r.toLowerCase();if(!n&&i==="object"){n=t instanceof e}}else if(r==="Object"){n=f(t)}else if(r==="Array"){n=Array.isArray(t)}else{n=t instanceof e}return{valid:n,expectedType:r}}function se(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function ue(t,e){if(!Array.isArray(e)){return se(e)===se(t)}for(var n=0,r=e.length;n<r;n++){if(se(e[n])===se(t)){return true}}return false}function le(t,e,n){if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i){for(var o=0;o<i.length;o++){try{var a=i[o].call(r,t,e,n)===false;if(a){return}}catch(t){ce(t,r,"errorCaptured hook")}}}}}ce(t,e,n)}function ce(t,e,n){if(V.errorHandler){try{return V.errorHandler.call(null,t,e,n)}catch(t){fe(t,null,"config.errorHandler")}}fe(t,e,n)}function fe(t,e,n){if(false){ht("Error in "+n+': "'+t.toString()+'"',e)}if(Y&&typeof console!=="undefined"){console.error(t)}else{throw t}}var he=[];var pe=false;function de(){pe=false;var t=he.slice(0);he.length=0;for(var e=0;e<t.length;e++){t[e]()}}var ve;var me;var ge=false;if(typeof n!=="undefined"&&lt(n)){me=function(){n(de)}}else if(typeof MessageChannel!=="undefined"&&(lt(MessageChannel)||MessageChannel.toString()==="[object MessageChannelConstructor]")){var ye=new MessageChannel;var _e=ye.port2;ye.port1.onmessage=de;me=function(){_e.postMessage(1)}}else{me=function(){setTimeout(de,0)}}if(typeof Promise!=="undefined"&&lt(Promise)){var be=Promise.resolve();ve=function(){be.then(de);if(et){setTimeout(k)}}}else{ve=me}function xe(t){return t._withTask||(t._withTask=function(){ge=true;var e=t.apply(null,arguments);ge=false;return e})}function we(t,e){var n;he.push(function(){if(t){try{t.call(e)}catch(t){le(t,e,"nextTick")}}else if(n){n(e)}});if(!pe){pe=true;if(ge){me()}else{ve()}}if(!t&&typeof Promise!=="undefined"){return new Promise(function(t){n=t})}}var Ee;var Te;if(false){var Ie=Y&&window.performance;if(Ie&&Ie.mark&&Ie.measure&&Ie.clearMarks&&Ie.clearMeasures){Ee=function(t){return Ie.mark(t)};Te=function(t,e,n){Ie.measure(t,e,n);Ie.clearMarks(e);Ie.clearMarks(n);Ie.clearMeasures(t)}}}var Ce;if(false){var Me=m("Infinity,undefined,NaN,isFinite,isNaN,"+"parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,"+"Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,"+"require");var Ae=function(t,e){ht('Property or method "'+e+'" is not defined on the instance but '+"referenced during render. Make sure that this property is reactive, "+"either in the data option, or for class-based components, by "+"initializing the property. "+"See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.",t)};var Se=typeof Proxy!=="undefined"&&Proxy.toString().match(/native code/);if(Se){var Re=m("stop,prevent,self,ctrl,shift,alt,meta,exact");V.keyCodes=new Proxy(V.keyCodes,{set:function t(e,n,r){if(Re(n)){ht("Avoid overwriting built-in modifier in config.keyCodes: ."+n);return false}else{e[n]=r;return true}}})}var Le={has:function t(e,n){var t=n in e;var r=Me(n)||n.charAt(0)==="_";if(!t&&!r){Ae(e,n)}return t||!r}};var ke={get:function t(e,n){if(typeof n==="string"&&!(n in e)){Ae(e,n)}return e[n]}};Ce=function t(e){if(Se){var n=e.$options;var r=n.render&&n.render._withStripped?ke:Le;e._renderProxy=new Proxy(e,r)}else{e._renderProxy=e}}}var Ne=w(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var n=t.charAt(0)==="~";t=n?t.slice(1):t;var r=t.charAt(0)==="!";t=r?t.slice(1):t;return{name:t,once:n,capture:r,passive:e}});function Fe(t){function e(){var t=arguments;var n=e.fns;if(Array.isArray(n)){var r=n.slice();for(var i=0;i<r.length;i++){r[i].apply(null,t)}}else{return n.apply(null,arguments)}}e.fns=t;return e}function Oe(t,e,n,i,o){var a,s,u,l;for(a in t){s=t[a];u=e[a];l=Ne(a);if(r(s)){"production"!=="production"&&ht('Invalid handler for event "'+l.name+'": got '+String(s),o)}else if(r(u)){if(r(s.fns)){s=t[a]=Fe(s)}n(l.name,s,l.once,l.capture,l.passive)}else if(s!==u){u.fns=s;t[a]=u}}for(a in e){if(r(t[a])){l=Ne(a);i(l.name,e[a],l.capture)}}}function Be(t,e,n){if(t instanceof It){t=t.data.hook||(t.data.hook={})}var a;var s=t[e];function u(){n.apply(this,arguments);_(a.fns,u)}if(r(s)){a=Fe([u])}else{if(i(s.fns)&&o(s.merged)){a=s;a.fns.push(u)}else{a=Fe([s,u])}}a.merged=true;t[e]=a}function Pe(t,e,n){var o=e.options.props;if(r(o)){return}var a={};var s=t.attrs;var u=t.props;if(i(s)||i(u)){for(var l in o){var c=M(l);if(false){var f=l.toLowerCase();if(l!==f&&s&&x(s,f)){pt('Prop "'+f+'" is passed to component '+vt(n||e)+", but the declared prop name is"+' "'+l+'". '+"Note that HTML attributes are case-insensitive and camelCased "+"props need to use their kebab-case equivalents when using in-DOM "+'templates. You should probably use "'+c+'" instead of "'+l+'".')}}Ue(a,u,l,c,true)||Ue(a,s,l,c,false)}}return a}function Ue(t,e,n,r,o){if(i(e)){if(x(e,n)){t[n]=e[n];if(!o){delete e[n]}return true}else if(x(e,r)){t[n]=e[r];if(!o){delete e[r]}return true}}return false}function De(t){for(var e=0;e<t.length;e++){if(Array.isArray(t[e])){return Array.prototype.concat.apply([],t)}}return t}function ze(t){return s(t)?[At(t)]:Array.isArray(t)?Ve(t):undefined}function je(t){return i(t)&&i(t.text)&&a(t.isComment)}function Ve(t,e){var n=[];var a,u,l,c;for(a=0;a<t.length;a++){u=t[a];if(r(u)||typeof u==="boolean"){continue}l=n.length-1;c=n[l];if(Array.isArray(u)){if(u.length>0){u=Ve(u,(e||"")+"_"+a);if(je(u[0])&&je(c)){n[l]=At(c.text+u[0].text);u.shift()}n.push.apply(n,u)}}else if(s(u)){if(je(c)){n[l]=At(c.text+u)}else if(u!==""){n.push(At(u))}}else{if(je(u)&&je(c)){n[l]=At(c.text+u.text)}else{if(o(t._isVList)&&i(u.tag)&&r(u.key)&&i(e)){u.key="__vlist"+e+"_"+a+"__"}n.push(u)}}}return n}function Ge(t,e){if(t.__esModule||ct&&t[Symbol.toStringTag]==="Module"){t=t.default}return u(t)?e.extend(t):t}function Xe(t,e,n,r,i){var o=Mt();o.asyncFactory=t;o.asyncMeta={data:e,context:n,children:r,tag:i};return o}function We(t,e,n){if(o(t.error)&&i(t.errorComp)){return t.errorComp}if(i(t.resolved)){return t.resolved}if(o(t.loading)&&i(t.loadingComp)){return t.loadingComp}if(i(t.contexts)){t.contexts.push(n)}else{var a=t.contexts=[n];var s=true;var l=function(){for(var t=0,e=a.length;t<e;t++){a[t].$forceUpdate()}};var c=U(function(n){t.resolved=Ge(n,e);if(!s){l()}});var f=U(function(e){"production"!=="production"&&ht("Failed to resolve async component: "+String(t)+(e?"\nReason: "+e:""));if(i(t.errorComp)){t.error=true;l()}});var h=t(c,f);if(u(h)){if(typeof h.then==="function"){if(r(t.resolved)){h.then(c,f)}}else if(i(h.component)&&typeof h.component.then==="function"){h.component.then(c,f);if(i(h.error)){t.errorComp=Ge(h.error,e)}if(i(h.loading)){t.loadingComp=Ge(h.loading,e);if(h.delay===0){t.loading=true}else{setTimeout(function(){if(r(t.resolved)&&r(t.error)){t.loading=true;l()}},h.delay||200)}}if(i(h.timeout)){setTimeout(function(){if(r(t.resolved)){f(false?"timeout ("+h.timeout+"ms)":null)}},h.timeout)}}}s=false;return t.loading?t.loadingComp:t.resolved}}function Ze(t){return t.isComment&&t.asyncFactory}function Qe(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Ze(n))){return n}}}}function He(t){t._events=Object.create(null);t._hasHookEvent=false;var e=t.$options._parentListeners;if(e){Ke(t,e)}}var Ye;function Je(t,e,n){if(n){Ye.$once(t,e)}else{Ye.$on(t,e)}}function qe(t,e){Ye.$off(t,e)}function Ke(t,e,n){Ye=t;Oe(e,n||{},Je,qe,t);Ye=undefined}function $e(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;var i=this;if(Array.isArray(t)){for(var o=0,a=t.length;o<a;o++){r.$on(t[o],n)}}else{(i._events[t]||(i._events[t]=[])).push(n);if(e.test(t)){i._hasHookEvent=true}}return i};t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r);e.apply(n,arguments)}r.fn=e;n.$on(t,r);return n};t.prototype.$off=function(t,e){var n=this;var r=this;if(!arguments.length){r._events=Object.create(null);return r}if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++){n.$off(t[i],e)}return r}var a=r._events[t];if(!a){return r}if(!e){r._events[t]=null;return r}if(e){var s;var u=a.length;while(u--){s=a[u];if(s===e||s.fn===e){a.splice(u,1);break}}}return r};t.prototype.$emit=function(t){var e=this;if(false){var n=t.toLowerCase();if(n!==t&&e._events[n]){pt('Event "'+n+'" is emitted in component '+vt(e)+' but the handler is registered for "'+t+'". '+"Note that HTML attributes are case-insensitive and you cannot use "+"v-on to listen to camelCase events when using in-DOM templates. "+'You should probably use "'+M(t)+'" instead of "'+t+'".')}}var r=e._events[t];if(r){r=r.length>1?S(r):r;var i=S(arguments,1);for(var o=0,a=r.length;o<a;o++){try{r[o].apply(e,i)}catch(n){le(n,e,'event handler for "'+t+'"')}}}return e}}function tn(t,e){var n={};if(!t){return n}for(var r=0,i=t.length;r<i;r++){var o=t[r];var a=o.data;if(a&&a.attrs&&a.attrs.slot){delete a.attrs.slot}if((o.context===e||o.functionalContext===e)&&a&&a.slot!=null){var s=o.data.slot;var u=n[s]||(n[s]=[]);if(o.tag==="template"){u.push.apply(u,o.children)}else{u.push(o)}}else{(n.default||(n.default=[])).push(o)}}for(var l in n){if(n[l].every(en)){delete n[l]}}return n}function en(t){return t.isComment||t.text===" "}function nn(t,e){e=e||{};for(var n=0;n<t.length;n++){if(Array.isArray(t[n])){nn(t[n],e)}else{e[t[n].key]=t[n].fn}}return e}var rn=null;var on=false;function an(t){var e=t.$options;var n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent){n=n.$parent}n.$children.push(t)}t.$parent=n;t.$root=n?n.$root:t;t.$children=[];t.$refs={};t._watcher=null;t._inactive=null;t._directInactive=false;t._isMounted=false;t._isDestroyed=false;t._isBeingDestroyed=false}function sn(t){t.prototype._update=function(t,e){var n=this;if(n._isMounted){pn(n,"beforeUpdate")}var r=n.$el;var i=n._vnode;var o=rn;rn=n;n._vnode=t;if(!i){n.$el=n.__patch__(n.$el,t,e,false,n.$options._parentElm,n.$options._refElm);n.$options._parentElm=n.$options._refElm=null}else{n.$el=n.__patch__(i,t)}rn=o;if(r){r.__vue__=null}if(n.$el){n.$el.__vue__=n}if(n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode){n.$parent.$el=n.$el}};t.prototype.$forceUpdate=function(){var t=this;if(t._watcher){t._watcher.update()}};t.prototype.$destroy=function(){var t=this;if(t._isBeingDestroyed){return}pn(t,"beforeDestroy");t._isBeingDestroyed=true;var e=t.$parent;if(e&&!e._isBeingDestroyed&&!t.$options.abstract){_(e.$children,t)}if(t._watcher){t._watcher.teardown()}var n=t._watchers.length;while(n--){t._watchers[n].teardown()}if(t._data.__ob__){t._data.__ob__.vmCount--}t._isDestroyed=true;t.__patch__(t._vnode,null);pn(t,"destroyed");t.$off();if(t.$el){t.$el.__vue__=null}if(t.$vnode){t.$vnode.parent=null}}}function un(t,e,n){t.$el=e;if(!t.$options.render){t.$options.render=Mt;if(false){if(t.$options.template&&t.$options.template.charAt(0)!=="#"||t.$options.el||e){ht("You are using the runtime-only build of Vue where the template "+"compiler is not available. Either pre-compile the templates into "+"render functions, or use the compiler-included build.",t)}else{ht("Failed to mount component: template or render function not defined.",t)}}}pn(t,"beforeMount");var r;if(false){r=function(){var e=t._name;var r=t._uid;var i="vue-perf-start:"+r;var o="vue-perf-end:"+r;Ee(i);var a=t._render();Ee(o);Te("vue "+e+" render",i,o);Ee(i);t._update(a,n);Ee(o);Te("vue "+e+" patch",i,o)}}else{r=function(){t._update(t._render(),n)}}t._watcher=new Sn(t,r,k);n=false;if(t.$vnode==null){t._isMounted=true;pn(t,"mounted")}return t}function ln(t,e,n,r,i){if(false){on=true}var o=!!(i||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==G);t.$options._parentVnode=r;t.$vnode=r;if(t._vnode){t._vnode.parent=r}t.$options._renderChildren=i;t.$attrs=r.data&&r.data.attrs||G;t.$listeners=n||G;if(e&&t.$options.props){Ft.shouldConvert=false;var a=t._props;var s=t.$options._propKeys||[];for(var u=0;u<s.length;u++){var l=s[u];a[l]=ne(l,t.$options.props,e,t)}Ft.shouldConvert=true;t.$options.propsData=e}if(n){var c=t.$options._parentListeners;t.$options._parentListeners=n;Ke(t,n,c)}if(o){t.$slots=tn(i,r.context);t.$forceUpdate()}if(false){on=false}}function cn(t){while(t&&(t=t.$parent)){if(t._inactive){return true}}return false}function fn(t,e){if(e){t._directInactive=false;if(cn(t)){return}}else if(t._directInactive){return}if(t._inactive||t._inactive===null){t._inactive=false;for(var n=0;n<t.$children.length;n++){fn(t.$children[n])}pn(t,"activated")}}function hn(t,e){if(e){t._directInactive=true;if(cn(t)){return}}if(!t._inactive){t._inactive=true;for(var n=0;n<t.$children.length;n++){hn(t.$children[n])}pn(t,"deactivated")}}function pn(t,e){var n=t.$options[e];if(n){for(var r=0,i=n.length;r<i;r++){try{n[r].call(t)}catch(n){le(n,t,e+" hook")}}}if(t._hasHookEvent){t.$emit("hook:"+e)}}var dn=100;var vn=[];var mn=[];var gn={};var yn={};var _n=false;var bn=false;var xn=0;function wn(){xn=vn.length=mn.length=0;gn={};if(false){yn={}}_n=bn=false}function En(){bn=true;var t,e;vn.sort(function(t,e){return t.id-e.id});for(xn=0;xn<vn.length;xn++){t=vn[xn];e=t.id;gn[e]=null;t.run();if(false){yn[e]=(yn[e]||0)+1;if(yn[e]>dn){ht("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}}}var n=mn.slice();var r=vn.slice();wn();Cn(n);Tn(r);if(ut&&V.devtools){ut.emit("flush")}}function Tn(t){var e=t.length;while(e--){var n=t[e];var r=n.vm;if(r._watcher===n&&r._isMounted){pn(r,"updated")}}}function In(t){t._inactive=false;mn.push(t)}function Cn(t){for(var e=0;e<t.length;e++){t[e]._inactive=true;fn(t[e],true)}}function Mn(t){var e=t.id;if(gn[e]==null){gn[e]=true;if(!bn){vn.push(t)}else{var n=vn.length-1;while(n>xn&&vn[n].id>t.id){n--}vn.splice(n+1,0,t)}if(!_n){_n=true;we(En)}}}var An=0;var Sn=function t(e,n,r,i){this.vm=e;e._watchers.push(this);if(i){this.deep=!!i.deep;this.user=!!i.user;this.lazy=!!i.lazy;this.sync=!!i.sync}else{this.deep=this.user=this.lazy=this.sync=false}this.cb=r;this.id=++An;this.active=true;this.dirty=this.lazy;this.deps=[];this.newDeps=[];this.depIds=new ft;this.newDepIds=new ft;this.expression=false?n.toString():"";if(typeof n==="function"){this.getter=n}else{this.getter=Q(n);if(!this.getter){this.getter=function(){};"production"!=="production"&&ht('Failed watching path: "'+n+'" '+"Watcher only accepts simple dot-delimited paths. "+"For full control, use a function instead.",e)}}this.value=this.lazy?undefined:this.get()};Sn.prototype.get=function t(){Et(this);var e;var n=this.vm;try{e=this.getter.call(n,n)}catch(t){if(this.user){le(t,n,'getter for watcher "'+this.expression+'"')}else{throw t}}finally{if(this.deep){Ln(e)}Tt();this.cleanupDeps()}return e};Sn.prototype.addDep=function t(e){var n=e.id;if(!this.newDepIds.has(n)){this.newDepIds.add(n);this.newDeps.push(e);if(!this.depIds.has(n)){e.addSub(this)}}};Sn.prototype.cleanupDeps=function t(){var e=this;var n=this.deps.length;while(n--){var r=e.deps[n];if(!e.newDepIds.has(r.id)){r.removeSub(e)}}var i=this.depIds;this.depIds=this.newDepIds;this.newDepIds=i;this.newDepIds.clear();i=this.deps;this.deps=this.newDeps;this.newDeps=i;this.newDeps.length=0};Sn.prototype.update=function t(){if(this.lazy){this.dirty=true}else if(this.sync){this.run()}else{Mn(this)}};Sn.prototype.run=function t(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var n=this.value;this.value=e;if(this.user){try{this.cb.call(this.vm,e,n)}catch(t){le(t,this.vm,'callback for watcher "'+this.expression+'"')}}else{this.cb.call(this.vm,e,n)}}}};Sn.prototype.evaluate=function t(){this.value=this.get();this.dirty=false};Sn.prototype.depend=function t(){var e=this;var n=this.deps.length;while(n--){e.deps[n].depend()}};Sn.prototype.teardown=function t(){var e=this;if(this.active){if(!this.vm._isBeingDestroyed){_(this.vm._watchers,this)}var n=this.deps.length;while(n--){e.deps[n].removeSub(e)}this.active=false}};var Rn=new ft;function Ln(t){Rn.clear();kn(t,Rn)}function kn(t,e){var n,r;var i=Array.isArray(t);if(!i&&!u(t)||!Object.isExtensible(t)){return}if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o)){return}e.add(o)}if(i){n=t.length;while(n--){kn(t[n],e)}}else{r=Object.keys(t);n=r.length;while(n--){kn(t[r[n]],e)}}}var Nn={enumerable:true,configurable:true,get:k,set:k};function Fn(t,e,n){Nn.get=function t(){return this[e][n]};Nn.set=function t(r){this[e][n]=r};Object.defineProperty(t,n,Nn)}function On(t){t._watchers=[];var e=t.$options;if(e.props){Bn(t,e.props)}if(e.methods){Gn(t,e.methods)}if(e.data){Pn(t)}else{Ut(t._data={},true)}if(e.computed){zn(t,e.computed)}if(e.watch&&e.watch!==rt){Xn(t,e.watch)}}function Bn(t,e){var n=t.$options.propsData||{};var r=t._props={};var i=t.$options._propKeys=[];var o=!t.$parent;Ft.shouldConvert=o;var a=function(o){i.push(o);var a=ne(o,e,n,t);if(false){var s=M(o);if(y(s)||V.isReservedAttr(s)){ht('"'+s+'" is a reserved attribute and cannot be used as component prop.',t)}Dt(r,o,a,function(){if(t.$parent&&!on){ht("Avoid mutating a prop directly since the value will be "+"overwritten whenever the parent component re-renders. "+"Instead, use a data or computed property based on the prop's "+'value. Prop being mutated: "'+o+'"',t)}})}else{Dt(r,o,a)}if(!(o in t)){Fn(t,"_props",o)}};for(var s in e)a(s);Ft.shouldConvert=true}function Pn(t){var e=t.$options.data;e=t._data=typeof e==="function"?Un(e,t):e||{};if(!f(e)){e={};"production"!=="production"&&ht("data functions should return an object:\n"+"https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t)}var n=Object.keys(e);var r=t.$options.props;var i=t.$options.methods;var o=n.length;while(o--){var a=n[o];if(false){if(i&&x(i,a)){ht('Method "'+a+'" has already been defined as a data property.',t)}}if(r&&x(r,a)){"production"!=="production"&&ht('The data property "'+a+'" is already declared as a prop. '+"Use prop default value instead.",t)}else if(!X(a)){Fn(t,"_data",a)}}Ut(e,true)}function Un(t,e){try{return t.call(e,e)}catch(t){le(t,e,"data()");return{}}}var Dn={lazy:true};function zn(t,e){var n=t._computedWatchers=Object.create(null);var r=st();for(var i in e){var o=e[i];var a=typeof o==="function"?o:o.get;if(false){ht('Getter is missing for computed property "'+i+'".',t)}if(!r){n[i]=new Sn(t,a||k,k,Dn)}if(!(i in t)){jn(t,i,o)}else if(false){if(i in t.$data){ht('The computed property "'+i+'" is already defined in data.',t)}else if(t.$options.props&&i in t.$options.props){ht('The computed property "'+i+'" is already defined as a prop.',t)}}}}function jn(t,e,n){var r=!st();if(typeof n==="function"){Nn.get=r?Vn(e):n;Nn.set=k}else{Nn.get=n.get?r&&n.cache!==false?Vn(e):n.get:k;Nn.set=n.set?n.set:k}if(false){Nn.set=function(){ht('Computed property "'+e+'" was assigned to but it has no setter.',this)}}Object.defineProperty(t,e,Nn)}function Vn(t){return function e(){var n=this._computedWatchers&&this._computedWatchers[t];if(n){if(n.dirty){n.evaluate()}if(xt.target){n.depend()}return n.value}}}function Gn(t,e){var n=t.$options.props;for(var r in e){if(false){if(e[r]==null){ht('Method "'+r+'" has an undefined value in the component definition. '+"Did you reference the function correctly?",t)}if(n&&x(n,r)){ht('Method "'+r+'" has already been defined as a prop.',t)}if(r in t&&X(r)){ht('Method "'+r+'" conflicts with an existing Vue instance method. '+"Avoid defining component methods that start with _ or $.")}}t[r]=e[r]==null?k:A(e[r],t)}}function Xn(t,e){for(var n in e){var r=e[n];if(Array.isArray(r)){for(var i=0;i<r.length;i++){Wn(t,n,r[i])}}else{Wn(t,n,r)}}}function Wn(t,e,n,r){if(f(n)){r=n;n=n.handler}if(typeof n==="string"){n=t[n]}return t.$watch(e,n,r)}function Zn(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props};if(false){e.set=function(t){ht("Avoid replacing instance root $data. "+"Use nested data properties instead.",this)};n.set=function(){ht("$props is readonly.",this)}}Object.defineProperty(t.prototype,"$data",e);Object.defineProperty(t.prototype,"$props",n);t.prototype.$set=zt;t.prototype.$delete=jt;t.prototype.$watch=function(t,e,n){var r=this;if(f(e)){return Wn(r,t,e,n)}n=n||{};n.user=true;var i=new Sn(r,t,e,n);if(n.immediate){e.call(r,i.value)}return function t(){i.teardown()}}}function Qn(t){var e=t.$options.provide;if(e){t._provided=typeof e==="function"?e.call(t):e}}function Hn(t){var e=Yn(t.$options.inject,t);if(e){Ft.shouldConvert=false;Object.keys(e).forEach(function(n){if(false){Dt(t,n,e[n],function(){ht("Avoid mutating an injected value directly since the changes will be "+"overwritten whenever the provided component re-renders. "+'injection being mutated: "'+n+'"',t)})}else{Dt(t,n,e[n])}});Ft.shouldConvert=true}}function Yn(t,e){if(t){var n=Object.create(null);var r=ct?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t);for(var i=0;i<r.length;i++){var o=r[i];var a=t[o].from;var s=e;while(s){if(s._provided&&a in s._provided){n[o]=s._provided[a];break}s=s.$parent}if(!s){if("default"in t[o]){var u=t[o].default;n[o]=typeof u==="function"?u.call(e):u}else if(false){ht('Injection "'+o+'" not found',e)}}}return n}}function Jn(t,e){var n,r,o,a,s;if(Array.isArray(t)||typeof t==="string"){n=new Array(t.length);for(r=0,o=t.length;r<o;r++){n[r]=e(t[r],r)}}else if(typeof t==="number"){n=new Array(t);for(r=0;r<t;r++){n[r]=e(r+1,r)}}else if(u(t)){a=Object.keys(t);n=new Array(a.length);for(r=0,o=a.length;r<o;r++){s=a[r];n[r]=e(t[s],s,r)}}if(i(n)){n._isVList=true}return n}function qn(t,e,n,r){var i=this.$scopedSlots[t];var o;if(i){n=n||{};if(r){if(false){ht("slot v-bind without argument expects an Object",this)}n=R(R({},r),n)}o=i(n)||e}else{var a=this.$slots[t];if(a){if(false){ht('Duplicate presence of slot "'+t+'" found in the same render tree '+"- this will likely cause render errors.",this)}a._rendered=true}o=a||e}var s=n&&n.slot;if(s){return this.$createElement("template",{slot:s},o)}else{return o}}function Kn(t){return ee(this.$options,"filters",t,true)||F}function $n(t,e,n,r){var i=V.keyCodes[e]||n;if(i){if(Array.isArray(i)){return i.indexOf(t)===-1}else{return i!==t}}else if(r){return M(r)!==e}}function tr(t,e,n,r,i){if(n){if(!u(n)){"production"!=="production"&&ht("v-bind without argument expects an Object or Array value",this)}else{if(Array.isArray(n)){n=L(n)}var o;var a=function(a){if(a==="class"||a==="style"||y(a)){o=t}else{var s=t.attrs&&t.attrs.type;o=r||V.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(a in o)){o[a]=n[a];if(i){var u=t.on||(t.on={});u["update:"+a]=function(t){n[a]=t}}}};for(var s in n)a(s)}}return t}function er(t,e){var n=this.$options;var r=n.cached||(n.cached=[]);var i=r[t];if(i&&!e){return Array.isArray(i)?Rt(i):St(i)}i=r[t]=n.staticRenderFns[t].call(this._renderProxy,null,this);rr(i,"__static__"+t,false);return i}function nr(t,e,n){rr(t,"__once__"+e+(n?"_"+n:""),true);return t}function rr(t,e,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++){if(t[r]&&typeof t[r]!=="string"){ir(t[r],e+"_"+r,n)}}}else{ir(t,e,n)}}function ir(t,e,n){t.isStatic=true;t.key=e;t.isOnce=n}function or(t,e){if(e){if(!f(e)){"production"!=="production"&&ht("v-on without argument expects an Object value",this)}else{var n=t.on=t.on?R({},t.on):{};for(var r in e){var i=n[r];var o=e[r];n[r]=i?[].concat(i,o):o}}}return t}function ar(t){t._o=nr;t._n=v;t._s=d;t._l=Jn;t._t=qn;t._q=B;t._i=P;t._m=er;t._f=Kn;t._k=$n;t._b=tr;t._v=At;t._e=Mt;t._u=nn;t._g=or}function sr(t,e,n,r,i){var a=i.options;this.data=t;this.props=e;this.children=n;this.parent=r;this.listeners=t.on||G;this.injections=Yn(a.inject,r);this.slots=function(){return tn(n,r)};var s=Object.create(r);var u=o(a._compiled);var l=!u;if(u){this.$options=a;this.$slots=this.slots();this.$scopedSlots=t.scopedSlots||G}if(a._scopeId){this._c=function(t,e,n,i){var o=_r(s,t,e,n,i,l);if(o){o.functionalScopeId=a._scopeId;o.functionalContext=r}return o}}else{this._c=function(t,e,n,r){return _r(s,t,e,n,r,l)}}}ar(sr.prototype);function ur(t,e,n,r,o){var a=t.options;var s={};var u=a.props;if(i(u)){for(var l in u){s[l]=ne(l,u,e||G)}}else{if(i(n.attrs)){lr(s,n.attrs)}if(i(n.props)){lr(s,n.props)}}var c=new sr(n,s,o,r,t);var f=a.render.call(null,c._c,c);if(f instanceof It){f.functionalContext=r;f.functionalOptions=a;if(n.slot){(f.data||(f.data={})).slot=n.slot}}return f}function lr(t,e){for(var n in e){t[T(n)]=e[n]}}var cr={init:function t(e,n,r,i){if(!e.componentInstance||e.componentInstance._isDestroyed){var o=e.componentInstance=pr(e,rn,r,i);o.$mount(n?e.elm:undefined,n)}else if(e.data.keepAlive){var a=e;cr.prepatch(a,a)}},prepatch:function t(e,n){var r=n.componentOptions;var i=n.componentInstance=e.componentInstance;ln(i,r.propsData,r.listeners,n,r.children)},insert:function t(e){var n=e.context;var r=e.componentInstance;if(!r._isMounted){r._isMounted=true;pn(r,"mounted")}if(e.data.keepAlive){if(n._isMounted){In(r)}else{fn(r,true)}}},destroy:function t(e){var n=e.componentInstance;if(!n._isDestroyed){if(!e.data.keepAlive){n.$destroy()}else{hn(n,true)}}}};var fr=Object.keys(cr);function hr(t,e,n,a,s){if(r(t)){return}var l=n.$options._base;if(u(t)){t=l.extend(t)}if(typeof t!=="function"){if(false){ht("Invalid Component definition: "+String(t),n)}return}var c;if(r(t.cid)){c=t;t=We(c,l,n);if(t===undefined){return Xe(c,e,n,a,s)}}e=e||{};Mr(t);if(i(e.model)){mr(t.options,e)}var f=Pe(e,t,s);if(o(t.options.functional)){return ur(t,f,e,n,a)}var h=e.on;e.on=e.nativeOn;if(o(t.options.abstract)){var p=e.slot;e={};if(p){e.slot=p}}dr(e);var d=t.options.name||s;var v=new It("vue-component-"+t.cid+(d?"-"+d:""),e,undefined,undefined,undefined,n,{Ctor:t,propsData:f,listeners:h,tag:s,children:a},c);return v}function pr(t,e,n,r){var o=t.componentOptions;var a={_isComponent:true,parent:e,propsData:o.propsData,_componentTag:o.tag,_parentVnode:t,_parentListeners:o.listeners,_renderChildren:o.children,_parentElm:n||null,_refElm:r||null};var s=t.data.inlineTemplate;if(i(s)){a.render=s.render;a.staticRenderFns=s.staticRenderFns}return new o.Ctor(a)}function dr(t){if(!t.hook){t.hook={}}for(var e=0;e<fr.length;e++){var n=fr[e];var r=t.hook[n];var i=cr[n];t.hook[n]=r?vr(i,r):i}}function vr(t,e){return function(n,r,i,o){t(n,r,i,o);e(n,r,i,o)}}function mr(t,e){var n=t.model&&t.model.prop||"value";var r=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={});if(i(o[r])){o[r]=[e.model.callback].concat(o[r])}else{o[r]=e.model.callback}}var gr=1;var yr=2;function _r(t,e,n,r,i,a){if(Array.isArray(n)||s(n)){i=r;r=n;n=undefined}if(o(a)){i=yr}return br(t,e,n,r,i)}function br(t,e,n,r,o){if(i(n)&&i(n.__ob__)){"production"!=="production"&&ht("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\n"+"Always create fresh vnode data objects in each render!",t);return Mt()}if(i(n)&&i(n.is)){e=n.is}if(!e){return Mt()}if(false){ht("Avoid using non-primitive value as key, "+"use string/number value instead.",t)}if(Array.isArray(r)&&typeof r[0]==="function"){n=n||{};n.scopedSlots={default:r[0]};r.length=0}if(o===yr){r=ze(r)}else if(o===gr){r=De(r)}var a,s;if(typeof e==="string"){var u;s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e);if(V.isReservedTag(e)){a=new It(V.parsePlatformTagName(e),n,r,undefined,undefined,t)}else if(i(u=ee(t.$options,"components",e))){a=hr(u,n,t,r,e)}else{a=new It(e,n,r,undefined,undefined,t)}}else{a=hr(e,n,t,r)}if(i(a)){if(s){xr(a,s)}return a}else{return Mt()}}function xr(t,e,n){t.ns=e;if(t.tag==="foreignObject"){e=undefined;n=true}if(i(t.children)){for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];if(i(u.tag)&&(r(u.ns)||o(n))){xr(u,e,n)}}}}function wr(t){t._vnode=null;var e=t.$options;var n=t.$vnode=e._parentVnode;var r=n&&n.context;t.$slots=tn(e._renderChildren,r);t.$scopedSlots=G;t._c=function(e,n,r,i){return _r(t,e,n,r,i,false)};t.$createElement=function(e,n,r,i){return _r(t,e,n,r,i,true)};var i=n&&n.data;if(false){Dt(t,"$attrs",i&&i.attrs||G,function(){!on&&ht("$attrs is readonly.",t)},true);Dt(t,"$listeners",e._parentListeners||G,function(){!on&&ht("$listeners is readonly.",t)},true)}else{Dt(t,"$attrs",i&&i.attrs||G,null,true);Dt(t,"$listeners",e._parentListeners||G,null,true)}}function Er(t){ar(t.prototype);t.prototype.$nextTick=function(t){return we(t,this)};t.prototype._render=function(){var t=this;var e=t.$options;var n=e.render;var r=e._parentVnode;if(t._isMounted){for(var i in t.$slots){var o=t.$slots[i];if(o._rendered){t.$slots[i]=Rt(o,true)}}}t.$scopedSlots=r&&r.data.scopedSlots||G;t.$vnode=r;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){le(e,t,"render");if(false){if(t.$options.renderError){try{a=t.$options.renderError.call(t._renderProxy,t.$createElement,e)}catch(e){le(e,t,"renderError");a=t._vnode}}else{a=t._vnode}}else{a=t._vnode}}if(!(a instanceof It)){if(false){ht("Multiple root nodes returned from render function. Render function "+"should return a single root node.",t)}a=Mt()}a.parent=r;return a}}var Tr=0;function Ir(t){t.prototype._init=function(t){var e=this;e._uid=Tr++;var n,r;if(false){n="vue-perf-start:"+e._uid;r="vue-perf-end:"+e._uid;Ee(n)}e._isVue=true;if(t&&t._isComponent){Cr(e,t)}else{e.$options=te(Mr(e.constructor),t||{},e)}if(false){Ce(e)}else{e._renderProxy=e}e._self=e;an(e);He(e);wr(e);pn(e,"beforeCreate");Hn(e);On(e);Qn(e);pn(e,"created");if(false){e._name=vt(e,false);Ee(r);Te("vue "+e._name+" init",n,r)}if(e.$options.el){e.$mount(e.$options.el)}}}function Cr(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent;n.propsData=e.propsData;n._parentVnode=e._parentVnode;n._parentListeners=e._parentListeners;n._renderChildren=e._renderChildren;n._componentTag=e._componentTag;n._parentElm=e._parentElm;n._refElm=e._refElm;if(e.render){n.render=e.render;n.staticRenderFns=e.staticRenderFns}}function Mr(t){var e=t.options;if(t.super){var n=Mr(t.super);var r=t.superOptions;if(n!==r){t.superOptions=n;var i=Ar(t);if(i){R(t.extendOptions,i)}e=t.options=te(n,t.extendOptions);if(e.name){e.components[e.name]=t}}}return e}function Ar(t){var e;var n=t.options;var r=t.extendOptions;var i=t.sealedOptions;for(var o in n){if(n[o]!==i[o]){if(!e){e={}}e[o]=Sr(n[o],r[o],i[o])}}return e}function Sr(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n];e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++){if(e.indexOf(t[i])>=0||n.indexOf(t[i])<0){r.push(t[i])}}return r}else{return t}}function Rr(t){if(false){ht("Vue is a constructor and should be called with the `new` keyword")}this._init(t)}Ir(Rr);Zn(Rr);$e(Rr);sn(Rr);Er(Rr);function Lr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1){return this}var n=S(arguments,1);n.unshift(this);if(typeof t.install==="function"){t.install.apply(t,n)}else if(typeof t==="function"){t.apply(null,n)}e.push(t);return this}}function kr(t){t.mixin=function(t){this.options=te(this.options,t);return this}}function Nr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this;var r=n.cid;var i=t._Ctor||(t._Ctor={});if(i[r]){return i[r]}var o=t.name||n.options.name;if(false){if(!/^[a-zA-Z][\w-]*$/.test(o)){ht('Invalid component name: "'+o+'". Component names '+"can only contain alphanumeric characters and the hyphen, "+"and must start with a letter.")}}var a=function t(e){this._init(e)};a.prototype=Object.create(n.prototype);a.prototype.constructor=a;a.cid=e++;a.options=te(n.options,t);a["super"]=n;if(a.options.props){Fr(a)}if(a.options.computed){Or(a)}a.extend=n.extend;a.mixin=n.mixin;a.use=n.use;z.forEach(function(t){a[t]=n[t]});if(o){a.options.components[o]=a}a.superOptions=n.options;a.extendOptions=t;a.sealedOptions=R({},a.options);i[r]=a;return a}}function Fr(t){var e=t.options.props;for(var n in e){Fn(t.prototype,"_props",n)}}function Or(t){var e=t.options.computed;for(var n in e){jn(t.prototype,n,e[n])}}function Br(t){z.forEach(function(e){t[e]=function(t,n){if(!n){return this.options[e+"s"][t]}else{if(false){if(e==="component"&&V.isReservedTag(t)){ht("Do not use built-in or reserved HTML elements as component "+"id: "+t)}}if(e==="component"&&f(n)){n.name=n.name||t;n=this.options._base.extend(n)}if(e==="directive"&&typeof n==="function"){n={bind:n,update:n}}this.options[e+"s"][t]=n;return n}}})}function Pr(t){return t&&(t.Ctor.options.name||t.tag)}function Ur(t,e){if(Array.isArray(t)){return t.indexOf(e)>-1}else if(typeof t==="string"){return t.split(",").indexOf(e)>-1}else if(h(t)){return t.test(e)}return false}function Dr(t,e){var n=t.cache;var r=t.keys;var i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Pr(a.componentOptions);if(s&&!e(s)){zr(n,o,r,i)}}}}function zr(t,e,n,r){var i=t[e];if(i&&i!==r){i.componentInstance.$destroy()}t[e]=null;_(n,e)}var jr=[String,RegExp,Array];var Vr={name:"keep-alive",abstract:true,props:{include:jr,exclude:jr,max:[String,Number]},created:function t(){this.cache=Object.create(null);this.keys=[]},destroyed:function t(){var e=this;for(var n in e.cache){zr(e.cache,n,e.keys)}},watch:{include:function t(e){Dr(this,function(t){return Ur(e,t)})},exclude:function t(e){Dr(this,function(t){return!Ur(e,t)})}},render:function t(){var e=Qe(this.$slots.default);var n=e&&e.componentOptions;if(n){var r=Pr(n);if(r&&(this.exclude&&Ur(this.exclude,r)||this.include&&!Ur(this.include,r))){return e}var i=this;var o=i.cache;var a=i.keys;var s=e.key==null?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;if(o[s]){e.componentInstance=o[s].componentInstance;_(a,s);a.push(s)}else{o[s]=e;a.push(s);if(this.max&&a.length>parseInt(this.max)){zr(o,a[0],a,this._vnode)}}e.data.keepAlive=true}return e}};var Gr={KeepAlive:Vr};function Xr(t){var e={};e.get=function(){return V};if(false){e.set=function(){ht("Do not replace the Vue.config object, set individual fields instead.")}}Object.defineProperty(t,"config",e);t.util={warn:ht,extend:R,mergeOptions:te,defineReactive:Dt};t.set=zt;t.delete=jt;t.nextTick=we;t.options=Object.create(null);z.forEach(function(e){t.options[e+"s"]=Object.create(null)});t.options._base=t;R(t.options.components,Gr);Lr(t);kr(t);Nr(t);Br(t)}Xr(Rr);Object.defineProperty(Rr.prototype,"$isServer",{get:st});Object.defineProperty(Rr.prototype,"$ssrContext",{get:function t(){return this.$vnode&&this.$vnode.ssrContext}});Rr.version="2.5.3";var Wr=m("style,class");var Zr=m("input,textarea,option,select,progress");var Qr=function(t,e,n){return n==="value"&&Zr(t)&&e!=="button"||n==="selected"&&t==="option"||n==="checked"&&t==="input"||n==="muted"&&t==="video"};var Hr=m("contenteditable,draggable,spellcheck");var Yr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,"+"default,defaultchecked,defaultmuted,defaultselected,defer,disabled,"+"enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,"+"muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,"+"required,reversed,scoped,seamless,selected,sortable,translate,"+"truespeed,typemustmatch,visible");var Jr="http://www.w3.org/1999/xlink";var qr=function(t){return t.charAt(5)===":"&&t.slice(0,5)==="xlink"};var Kr=function(t){return qr(t)?t.slice(6,t.length):""};var $r=function(t){return t==null||t===false};function ti(t){var e=t.data;var n=t;var r=t;while(i(r.componentInstance)){r=r.componentInstance._vnode;if(r.data){e=ei(r.data,e)}}while(i(n=n.parent)){if(n.data){e=ei(e,n.data)}}return ni(e.staticClass,e.class)}function ei(t,e){return{staticClass:ri(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function ni(t,e){if(i(t)||i(e)){return ri(t,ii(e))}return""}function ri(t,e){return t?e?t+" "+e:t:e||""}function ii(t){if(Array.isArray(t)){return oi(t)}if(u(t)){return ai(t)}if(typeof t==="string"){return t}return""}function oi(t){var e="";var n;for(var r=0,o=t.length;r<o;r++){if(i(n=ii(t[r]))&&n!==""){if(e){e+=" "}e+=n}}return e}function ai(t){var e="";for(var n in t){if(t[n]){if(e){e+=" "}e+=n}}return e}var si={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};var ui=m("html,body,base,head,link,meta,style,title,"+"address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,"+"div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,"+"a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,"+"s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,"+"embed,object,param,source,canvas,script,noscript,del,ins,"+"caption,col,colgroup,table,thead,tbody,td,th,tr,"+"button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,"+"output,progress,select,textarea,"+"details,dialog,menu,menuitem,summary,"+"content,element,shadow,template,blockquote,iframe,tfoot");var li=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,"+"foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,"+"polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",true);var ci=function(t){return t==="pre"};var fi=function(t){return ui(t)||li(t)};function hi(t){if(li(t)){return"svg"}if(t==="math"){return"math"}}var pi=Object.create(null);function di(t){if(!Y){return true}if(fi(t)){return false}t=t.toLowerCase();if(pi[t]!=null){return pi[t]}var e=document.createElement(t);if(t.indexOf("-")>-1){return pi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement}else{return pi[t]=/HTMLUnknownElement/.test(e.toString())}}var vi=m("text,number,password,search,email,tel,url");function mi(t){if(typeof t==="string"){var e=document.querySelector(t);if(!e){"production"!=="production"&&ht("Cannot find element: "+t);return document.createElement("div")}return e}else{return t}}function gi(t,e){var n=document.createElement(t);if(t!=="select"){return n}if(e.data&&e.data.attrs&&e.data.attrs.multiple!==undefined){n.setAttribute("multiple","multiple")}return n}function yi(t,e){return document.createElementNS(si[t],e)}function _i(t){return document.createTextNode(t)}function bi(t){return document.createComment(t)}function xi(t,e,n){t.insertBefore(e,n)}function wi(t,e){t.removeChild(e)}function Ei(t,e){t.appendChild(e)}function Ti(t){return t.parentNode}function Ii(t){return t.nextSibling}function Ci(t){return t.tagName}function Mi(t,e){t.textContent=e}function Ai(t,e,n){t.setAttribute(e,n)}var Si=Object.freeze({createElement:gi,createElementNS:yi,createTextNode:_i,createComment:bi,insertBefore:xi,removeChild:wi,appendChild:Ei,parentNode:Ti,nextSibling:Ii,tagName:Ci,setTextContent:Mi,setAttribute:Ai});var Ri={create:function t(e,n){Li(n)},update:function t(e,n){if(e.data.ref!==n.data.ref){Li(e,true);Li(n)}},destroy:function t(e){Li(e,true)}};function Li(t,e){var n=t.data.ref;if(!n){return}var r=t.context;var i=t.componentInstance||t.elm;var o=r.$refs;if(e){if(Array.isArray(o[n])){_(o[n],i)}else if(o[n]===i){o[n]=undefined}}else{if(t.data.refInFor){if(!Array.isArray(o[n])){o[n]=[i]}else if(o[n].indexOf(i)<0){o[n].push(i)}}else{o[n]=i}}}var ki=new It("",{},[]);var Ni=["create","activate","update","remove","destroy"];function Fi(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Oi(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Oi(t,e){if(t.tag!=="input"){return true}var n;var r=i(n=t.data)&&i(n=n.attrs)&&n.type;var o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||vi(r)&&vi(o)}function Bi(t,e,n){var r,o;var a={};for(r=e;r<=n;++r){o=t[r].key;if(i(o)){a[o]=r}}return a}function Pi(t){var e,n;var a={};var u=t.modules;var l=t.nodeOps;for(e=0;e<Ni.length;++e){a[Ni[e]]=[];for(n=0;n<u.length;++n){if(i(u[n][Ni[e]])){a[Ni[e]].push(u[n][Ni[e]])}}}function c(t){return new It(l.tagName(t).toLowerCase(),{},[],undefined,t)}function f(t,e){function n(){if(--n.listeners===0){p(t)}}n.listeners=e;return n}function p(t){var e=l.parentNode(t);if(i(e)){l.removeChild(e,t)}}var d=0;function v(t,e,n,r,a){t.isRootInsert=!a;if(g(t,e,n,r)){return}var s=t.data;var u=t.children;var c=t.tag;if(i(c)){if(false){if(s&&s.pre){d++}if(!d&&!t.ns&&!(V.ignoredElements.length&&V.ignoredElements.some(function(t){return h(t)?t.test(c):t===c}))&&V.isUnknownElement(c)){ht("Unknown custom element: <"+c+"> - did you "+"register the component correctly? For recursive components, "+'make sure to provide the "name" option.',t.context)}}t.elm=t.ns?l.createElementNS(t.ns,c):l.createElement(c,t);T(t);{x(t,u,e);if(i(s)){E(t,e)}b(n,t.elm,r)}if(false){d--}}else if(o(t.isComment)){t.elm=l.createComment(t.text);b(n,t.elm,r)}else{t.elm=l.createTextNode(t.text);b(n,t.elm,r)}}function g(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)){a(t,false,n,r)}if(i(t.componentInstance)){y(t,e);if(o(s)){_(t,e,n,r)}return true}}}function y(t,e){if(i(t.data.pendingInsert)){e.push.apply(e,t.data.pendingInsert);t.data.pendingInsert=null}t.elm=t.componentInstance.$el;if(w(t)){E(t,e);T(t)}else{Li(t);e.push(t)}}function _(t,e,n,r){var o;var s=t;while(s.componentInstance){s=s.componentInstance._vnode;if(i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o){a.activate[o](ki,s)}e.push(s);break}}b(n,t.elm,r)}function b(t,e,n){if(i(t)){if(i(n)){if(n.parentNode===t){l.insertBefore(t,e,n)}}else{l.appendChild(t,e)}}}function x(t,e,n){if(Array.isArray(e)){for(var r=0;r<e.length;++r){v(e[r],n,t.elm,null,true)}}else if(s(t.text)){l.appendChild(t.elm,l.createTextNode(t.text))}}function w(t){while(t.componentInstance){t=t.componentInstance._vnode}return i(t.tag)}function E(t,n){for(var r=0;r<a.create.length;++r){a.create[r](ki,t)}e=t.data.hook;if(i(e)){if(i(e.create)){e.create(ki,t)}if(i(e.insert)){n.push(t)}}}function T(t){var e;if(i(e=t.functionalScopeId)){l.setAttribute(t.elm,e,"")}else{var n=t;while(n){if(i(e=n.context)&&i(e=e.$options._scopeId)){l.setAttribute(t.elm,e,"")}n=n.parent}}if(i(e=rn)&&e!==t.context&&e!==t.functionalContext&&i(e=e.$options._scopeId)){l.setAttribute(t.elm,e,"")}}function I(t,e,n,r,i,o){for(;r<=i;++r){v(n[r],o,t,e)}}function C(t){var e,n;var r=t.data;if(i(r)){if(i(e=r.hook)&&i(e=e.destroy)){e(t)}for(e=0;e<a.destroy.length;++e){a.destroy[e](t)}}if(i(e=t.children)){for(n=0;n<t.children.length;++n){C(t.children[n])}}}function M(t,e,n,r){for(;n<=r;++n){var o=e[n];if(i(o)){if(i(o.tag)){A(o);C(o)}else{p(o.elm)}}}}function A(t,e){if(i(e)||i(t.data)){var n;var r=a.remove.length+1;if(i(e)){e.listeners+=r}else{e=f(t.elm,r)}if(i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)){A(n,e)}for(n=0;n<a.remove.length;++n){a.remove[n](t,e)}if(i(n=t.data.hook)&&i(n=n.remove)){n(t,e)}else{e()}}else{p(t.elm)}}function S(t,e,n,o,a){var s=0;var u=0;var c=e.length-1;var f=e[0];var h=e[c];var p=n.length-1;var d=n[0];var m=n[p];var g,y,_,b;var x=!a;while(s<=c&&u<=p){if(r(f)){f=e[++s]}else if(r(h)){h=e[--c]}else if(Fi(f,d)){L(f,d,o);f=e[++s];d=n[++u]}else if(Fi(h,m)){L(h,m,o);h=e[--c];m=n[--p]}else if(Fi(f,m)){L(f,m,o);x&&l.insertBefore(t,f.elm,l.nextSibling(h.elm));f=e[++s];m=n[--p]}else if(Fi(h,d)){L(h,d,o);x&&l.insertBefore(t,h.elm,f.elm);h=e[--c];d=n[++u]}else{if(r(g)){g=Bi(e,s,c)}y=i(d.key)?g[d.key]:R(d,e,s,c);if(r(y)){v(d,o,t,f.elm)}else{_=e[y];if(false){ht("It seems there are duplicate keys that is causing an update error. "+"Make sure each v-for item has a unique key.")}if(Fi(_,d)){L(_,d,o);e[y]=undefined;x&&l.insertBefore(t,_.elm,f.elm)}else{v(d,o,t,f.elm)}}d=n[++u]}}if(s>c){b=r(n[p+1])?null:n[p+1].elm;I(t,b,n,u,p,o)}else if(u>p){M(t,e,s,c)}}function R(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Fi(t,a)){return o}}}function L(t,e,n,s){if(t===e){return}var u=e.elm=t.elm;if(o(t.isAsyncPlaceholder)){if(i(e.asyncFactory.resolved)){O(t.elm,e,n)}else{e.isAsyncPlaceholder=true}return}if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce))){e.componentInstance=t.componentInstance;return}var c;var f=e.data;if(i(f)&&i(c=f.hook)&&i(c=c.prepatch)){c(t,e)}var h=t.children;var p=e.children;if(i(f)&&w(e)){for(c=0;c<a.update.length;++c){a.update[c](t,e)}if(i(c=f.hook)&&i(c=c.update)){c(t,e)}}if(r(e.text)){if(i(h)&&i(p)){if(h!==p){S(u,h,p,n,s)}}else if(i(p)){if(i(t.text)){l.setTextContent(u,"")}I(u,null,p,0,p.length-1,n)}else if(i(h)){M(u,h,0,h.length-1)}else if(i(t.text)){l.setTextContent(u,"")}}else if(t.text!==e.text){l.setTextContent(u,e.text)}if(i(f)){if(i(c=f.hook)&&i(c=c.postpatch)){c(t,e)}}}function k(t,e,n){if(o(n)&&i(t.parent)){t.parent.data.pendingInsert=e}else{for(var r=0;r<e.length;++r){e[r].data.hook.insert(e[r])}}}var N=false;var F=m("attrs,style,class,staticClass,staticStyle,key");function O(t,n,r){if(o(n.isComment)&&i(n.asyncFactory)){n.elm=t;n.isAsyncPlaceholder=true;return true}if(false){if(!B(t,n)){return false}}n.elm=t;var a=n.tag;var s=n.data;var u=n.children;if(i(s)){if(i(e=s.hook)&&i(e=e.init)){e(n,true)}if(i(e=n.componentInstance)){y(n,r);return true}}if(i(a)){if(i(u)){if(!t.hasChildNodes()){x(n,u,r)}else{if(i(e=s)&&i(e=e.domProps)&&i(e=e.innerHTML)){if(e!==t.innerHTML){if(false){N=true;console.warn("Parent: ",t);console.warn("server innerHTML: ",e);console.warn("client innerHTML: ",t.innerHTML)}return false}}else{var l=true;var c=t.firstChild;for(var f=0;f<u.length;f++){if(!c||!O(c,u[f],r)){l=false;break}c=c.nextSibling}if(!l||c){if(false){N=true;console.warn("Parent: ",t);console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,u)}return false}}}}if(i(s)){for(var h in s){if(!F(h)){E(n,r);break}}}}else if(t.data!==n.text){t.data=n.text}return true}function B(t,e){if(i(e.tag)){return e.tag.indexOf("vue-component")===0||e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase())}else{return t.nodeType===(e.isComment?8:3)}}return function t(e,n,s,u,f,h){if(r(n)){if(i(e)){C(e)}return}var p=false;var d=[];if(r(e)){p=true;v(n,d,f,h)}else{var m=i(e.nodeType);if(!m&&Fi(e,n)){L(e,n,d,u)}else{if(m){if(e.nodeType===1&&e.hasAttribute(D)){e.removeAttribute(D);s=true}if(o(s)){if(O(e,n,d)){k(n,d,true);return e}else if(false){ht("The client-side rendered virtual DOM tree is not matching "+"server-rendered content. This is likely caused by incorrect "+"HTML markup, for example nesting block-level elements inside "+"<p>, or missing <tbody>. Bailing hydration and performing "+"full client-side render.")}}e=c(e)}var g=e.elm;var y=l.parentNode(g);v(n,d,g._leaveCb?null:y,l.nextSibling(g));if(i(n.parent)){var _=n.parent;var b=w(n);while(_){for(var x=0;x<a.destroy.length;++x){a.destroy[x](_)}_.elm=n.elm;if(b){for(var E=0;E<a.create.length;++E){a.create[E](ki,_)}var T=_.data.hook.insert;if(T.merged){for(var I=1;I<T.fns.length;I++){T.fns[I]()}}}else{Li(_)}_=_.parent}}if(i(y)){M(y,[e],0,0)}else if(i(e.tag)){C(e)}}}k(n,d,p);return n.elm}}var Ui={create:Di,update:Di,destroy:function t(e){Di(e,ki)}};function Di(t,e){if(t.data.directives||e.data.directives){zi(t,e)}}function zi(t,e){var n=t===ki;var r=e===ki;var i=Vi(t.data.directives,t.context);var o=Vi(e.data.directives,e.context);var a=[];var s=[];var u,l,c;for(u in o){l=i[u];c=o[u];if(!l){Xi(c,"bind",e,t);if(c.def&&c.def.inserted){a.push(c)}}else{c.oldValue=l.value;Xi(c,"update",e,t);if(c.def&&c.def.componentUpdated){s.push(c)}}}if(a.length){var f=function(){for(var n=0;n<a.length;n++){Xi(a[n],"inserted",e,t)}};if(n){Be(e,"insert",f)}else{f()}}if(s.length){Be(e,"postpatch",function(){for(var n=0;n<s.length;n++){Xi(s[n],"componentUpdated",e,t)}})}if(!n){for(u in i){if(!o[u]){Xi(i[u],"unbind",t,t,r)}}}}var ji=Object.create(null);function Vi(t,e){var n=Object.create(null);if(!t){return n}var r,i;for(r=0;r<t.length;r++){i=t[r];if(!i.modifiers){i.modifiers=ji}n[Gi(i)]=i;i.def=ee(e.$options,"directives",i.name,true)}return n}function Gi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Xi(t,e,n,r,i){var o=t.def&&t.def[e];if(o){try{o(n.elm,t,n,r,i)}catch(r){le(r,n.context,"directive "+t.name+" "+e+" hook")}}}var Wi=[Ri,Ui];function Zi(t,e){var n=e.componentOptions;if(i(n)&&n.Ctor.options.inheritAttrs===false){return}if(r(t.data.attrs)&&r(e.data.attrs)){return}var o,a,s;var u=e.elm;var l=t.data.attrs||{};var c=e.data.attrs||{};if(i(c.__ob__)){c=e.data.attrs=R({},c)}for(o in c){a=c[o];s=l[o];if(s!==a){Qi(u,o,a)}}if((K||$)&&c.value!==l.value){Qi(u,"value",c.value)}for(o in l){if(r(c[o])){if(qr(o)){u.removeAttributeNS(Jr,Kr(o))}else if(!Hr(o)){u.removeAttribute(o)}}}}function Qi(t,e,n){if(Yr(e)){if($r(n)){t.removeAttribute(e)}else{n=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e;t.setAttribute(e,n)}}else if(Hr(e)){t.setAttribute(e,$r(n)||n==="false"?"false":"true")}else if(qr(e)){if($r(n)){t.removeAttributeNS(Jr,Kr(e))}else{t.setAttributeNS(Jr,e,n)}}else{if($r(n)){t.removeAttribute(e)}else{t.setAttribute(e,n)}}}var Hi={create:Zi,update:Zi};function Yi(t,e){var n=e.elm;var o=e.data;var a=t.data;if(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class))){return}var s=ti(e);var u=n._transitionClasses;if(i(u)){s=ri(s,ii(u))}if(s!==n._prevClass){n.setAttribute("class",s);n._prevClass=s}}var Ji={create:Yi,update:Yi};var qi=/[\w).+\-_$\]]/;function Ki(t){var e=false;var n=false;var r=false;var i=false;var o=0;var a=0;var s=0;var u=0;var l,c,f,h,p;for(f=0;f<t.length;f++){c=l;l=t.charCodeAt(f);if(e){if(l===39&&c!==92){e=false}}else if(n){if(l===34&&c!==92){n=false}}else if(r){if(l===96&&c!==92){r=false}}else if(i){if(l===47&&c!==92){i=false}}else if(l===124&&t.charCodeAt(f+1)!==124&&t.charCodeAt(f-1)!==124&&!o&&!a&&!s){if(h===undefined){u=f+1;h=t.slice(0,f).trim()}else{m()}}else{switch(l){case 34:n=true;break;case 39:e=true;break;case 96:r=true;break;case 40:s++;break;case 41:s--;break;case 91:a++;break;case 93:a--;break;case 123:o++;break;case 125:o--;break}if(l===47){var d=f-1;var v=void 0;for(;d>=0;d--){v=t.charAt(d);if(v!==" "){break}}if(!v||!qi.test(v)){i=true}}}}if(h===undefined){h=t.slice(0,f).trim()}else if(u!==0){m()}function m(){(p||(p=[])).push(t.slice(u,f).trim());u=f+1}if(p){for(f=0;f<p.length;f++){h=$i(h,p[f])}}return h}function $i(t,e){var n=e.indexOf("(");if(n<0){return'_f("'+e+'")('+t+")"}else{var r=e.slice(0,n);var i=e.slice(n+1);return'_f("'+r+'")('+t+","+i}}function to(t){console.error("[Vue compiler]: "+t)}function eo(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function no(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function ro(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function io(t,e,n,r,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:r,arg:i,modifiers:o})}function oo(t,e,n,r,i,o){if(false){o("passive and prevent can't be used together. "+"Passive handler can't prevent default event.")}if(r&&r.capture){delete r.capture;e="!"+e}if(r&&r.once){delete r.once;e="~"+e}if(r&&r.passive){delete r.passive;e="&"+e}var a;if(r&&r.native){delete r.native;a=t.nativeEvents||(t.nativeEvents={})}else{a=t.events||(t.events={})}var s={value:n,modifiers:r};var u=a[e];if(Array.isArray(u)){i?u.unshift(s):u.push(s)}else if(u){a[e]=i?[s,u]:[u,s]}else{a[e]=s}}function ao(t,e,n){var r=so(t,":"+e)||so(t,"v-bind:"+e);if(r!=null){return Ki(r)}else if(n!==false){var i=so(t,e);if(i!=null){return JSON.stringify(i)}}}function so(t,e,n){var r;if((r=t.attrsMap[e])!=null){var i=t.attrsList;for(var o=0,a=i.length;o<a;o++){if(i[o].name===e){i.splice(o,1);break}}}if(n){delete t.attrsMap[e]}return r}function uo(t,e,n){var r=n||{};var i=r.number;var o=r.trim;var a="$$v";var s=a;if(o){s="(typeof "+a+" === 'string'"+"? "+a+".trim()"+": "+a+")"}if(i){s="_n("+s+")"}var u=lo(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+u+"}"}}function lo(t,e){var n=go(t);if(n.key===null){return t+"="+e}else{return"$set("+n.exp+", "+n.key+", "+e+")"}}var co;var fo;var ho;var po;var vo;var mo;function go(t){co=t.length;if(t.indexOf("[")<0||t.lastIndexOf("]")<co-1){po=t.lastIndexOf(".");if(po>-1){return{exp:t.slice(0,po),key:'"'+t.slice(po+1)+'"'}}else{return{exp:t,key:null}}}fo=t;po=vo=mo=0;while(!_o()){ho=yo();if(bo(ho)){wo(ho)}else if(ho===91){xo(ho)}}return{exp:t.slice(0,vo),key:t.slice(vo+1,mo)}}function yo(){return fo.charCodeAt(++po)}function _o(){return po>=co}function bo(t){return t===34||t===39}function xo(t){var e=1;vo=po;while(!_o()){t=yo();if(bo(t)){wo(t);continue}if(t===91){e++}if(t===93){e--}if(e===0){mo=po;break}}}function wo(t){var e=t;while(!_o()){t=yo();if(t===e){break}}}var Eo;var To="__r";var Io="__c";function Co(t,e,n){Eo=n;var r=e.value;var i=e.modifiers;var o=t.tag;var a=t.attrsMap.type;if(false){if(o==="input"&&a==="file"){Eo("<"+t.tag+' v-model="'+r+'" type="file">:\n'+"File inputs are read only. Use a v-on:change listener instead.")}}if(t.component){uo(t,r,i);return false}else if(o==="select"){So(t,r,i)}else if(o==="input"&&a==="checkbox"){Mo(t,r,i)}else if(o==="input"&&a==="radio"){Ao(t,r,i)}else if(o==="input"||o==="textarea"){Ro(t,r,i)}else if(!V.isReservedTag(o)){uo(t,r,i);return false}else if(false){Eo("<"+t.tag+' v-model="'+r+'">: '+"v-model is not supported on this element type. "+"If you are working with contenteditable, it's recommended to "+"wrap a library dedicated for that purpose inside a custom component.")}return true}function Mo(t,e,n){var r=n&&n.number;var i=ao(t,"value")||"null";var o=ao(t,"true-value")||"true";var a=ao(t,"false-value")||"false";no(t,"checked","Array.isArray("+e+")"+"?_i("+e+","+i+")>-1"+(o==="true"?":("+e+")":":_q("+e+","+o+")"));oo(t,"change","var $$a="+e+","+"$$el=$event.target,"+"$$c=$$el.checked?("+o+"):("+a+");"+"if(Array.isArray($$a)){"+"var $$v="+(r?"_n("+i+")":i)+","+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&("+e+"=$$a.concat([$$v]))}"+"else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}"+"}else{"+lo(e,"$$c")+"}",null,true)}function Ao(t,e,n){var r=n&&n.number;var i=ao(t,"value")||"null";i=r?"_n("+i+")":i;no(t,"checked","_q("+e+","+i+")");oo(t,"change",lo(e,i),null,true)}function So(t,e,n){var r=n&&n.number;var i="Array.prototype.filter"+".call($event.target.options,function(o){return o.selected})"+'.map(function(o){var val = "_value" in o ? o._value : o.value;'+"return "+(r?"_n(val)":"val")+"})";var o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]";var a="var $$selectedVal = "+i+";";a=a+" "+lo(e,o);oo(t,"change",a,null,true)}function Ro(t,e,n){var r=t.attrsMap.type;var i=n||{};var o=i.lazy;var a=i.number;var s=i.trim;var u=!o&&r!=="range";var l=o?"change":r==="range"?To:"input";var c="$event.target.value";if(s){c="$event.target.value.trim()"}if(a){c="_n("+c+")"}var f=lo(e,c);if(u){f="if($event.target.composing)return;"+f}no(t,"value","("+e+")");oo(t,l,f,null,true);if(s||a){oo(t,"blur","$forceUpdate()")}}function Lo(t){if(i(t[To])){var e=q?"change":"input";t[e]=[].concat(t[To],t[e]||[]);delete t[To]}if(i(t[Io])){t.change=[].concat(t[Io],t.change||[]);delete t[Io]}}var ko;function No(t,e,n){var r=ko;return function i(){var o=t.apply(null,arguments);if(o!==null){Oo(e,i,n,r)}}}function Fo(t,e,n,r,i){e=xe(e);if(n){e=No(e,t,r)}ko.addEventListener(t,e,it?{capture:r,passive:i}:r)}function Oo(t,e,n,r){(r||ko).removeEventListener(t,e._withTask||e,n)}function Bo(t,e){if(r(t.data.on)&&r(e.data.on)){return}var n=e.data.on||{};var i=t.data.on||{};ko=e.elm;Lo(n);Oe(n,i,Fo,Oo,e.context);ko=undefined}var Po={create:Bo,update:Bo};function Uo(t,e){if(r(t.data.domProps)&&r(e.data.domProps)){return}var n,o;var a=e.elm;var s=t.data.domProps||{};var u=e.data.domProps||{};if(i(u.__ob__)){u=e.data.domProps=R({},u)}for(n in s){if(r(u[n])){a[n]=""}}for(n in u){o=u[n];if(n==="textContent"||n==="innerHTML"){if(e.children){e.children.length=0}if(o===s[n]){continue}if(a.childNodes.length===1){a.removeChild(a.childNodes[0])}}if(n==="value"){a._value=o;var l=r(o)?"":String(o);if(Do(a,l)){a.value=l}}else{a[n]=o}}}function Do(t,e){return!t.composing&&(t.tagName==="OPTION"||zo(t,e)||jo(t,e))}function zo(t,e){var n=true;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function jo(t,e){var n=t.value;var r=t._vModifiers;if(i(r)&&r.number){return v(n)!==v(e)}if(i(r)&&r.trim){return n.trim()!==e.trim()}return n!==e}var Vo={create:Uo,update:Uo};var Go=w(function(t){var e={};var n=/;(?![^(]*\))/g;var r=/:(.+)/;t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}});return e});function Xo(t){var e=Wo(t.style);return t.staticStyle?R(t.staticStyle,e):e}function Wo(t){if(Array.isArray(t)){return L(t)}if(typeof t==="string"){return Go(t)}return t}function Zo(t,e){var n={};var r;if(e){var i=t;while(i.componentInstance){i=i.componentInstance._vnode;if(i.data&&(r=Xo(i.data))){R(n,r)}}}if(r=Xo(t.data)){R(n,r)}var o=t;while(o=o.parent){if(o.data&&(r=Xo(o.data))){R(n,r)}}return n}var Qo=/^--/;var Ho=/\s*!important$/;var Yo=function(t,e,n){if(Qo.test(e)){t.style.setProperty(e,n)}else if(Ho.test(n)){t.style.setProperty(e,n.replace(Ho,""),"important")}else{var r=Ko(e);if(Array.isArray(n)){for(var i=0,o=n.length;i<o;i++){t.style[r]=n[i]}}else{t.style[r]=n}}};var Jo=["Webkit","Moz","ms"];var qo;var Ko=w(function(t){qo=qo||document.createElement("div").style;t=T(t);if(t!=="filter"&&t in qo){return t}var e=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0;n<Jo.length;n++){var r=Jo[n]+e;if(r in qo){return r}}});function $o(t,e){var n=e.data;var o=t.data;if(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style)){return}var a,s;var u=e.elm;var l=o.staticStyle;var c=o.normalizedStyle||o.style||{};var f=l||c;var h=Wo(e.data.style)||{};e.data.normalizedStyle=i(h.__ob__)?R({},h):h;var p=Zo(e,true);for(s in f){if(r(p[s])){Yo(u,s,"")}}for(s in p){a=p[s];if(a!==f[s]){Yo(u,s,a==null?"":a)}}}var ta={create:$o,update:$o};function ea(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.add(e)})}else{t.classList.add(e)}}else{var n=" "+(t.getAttribute("class")||"")+" ";if(n.indexOf(" "+e+" ")<0){t.setAttribute("class",(n+e).trim())}}}function na(t,e){if(!e||!(e=e.trim())){return}if(t.classList){if(e.indexOf(" ")>-1){e.split(/\s+/).forEach(function(e){return t.classList.remove(e)})}else{t.classList.remove(e)}if(!t.classList.length){t.removeAttribute("class")}}else{var n=" "+(t.getAttribute("class")||"")+" ";var r=" "+e+" ";while(n.indexOf(r)>=0){n=n.replace(r," ")}n=n.trim();if(n){t.setAttribute("class",n)}else{t.removeAttribute("class")}}}function ra(t){if(!t){return}if(typeof t==="object"){var e={};if(t.css!==false){R(e,ia(t.name||"v"))}R(e,t);return e}else if(typeof t==="string"){return ia(t)}}var ia=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}});var oa=Y&&!K;var aa="transition";var sa="animation";var ua="transition";var la="transitionend";var ca="animation";var fa="animationend";if(oa){if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){ua="WebkitTransition";la="webkitTransitionEnd"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){ca="WebkitAnimation";fa="webkitAnimationEnd"}}var ha=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function pa(t){ha(function(){ha(t)})}function da(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);if(n.indexOf(e)<0){n.push(e);ea(t,e)}}function va(t,e){if(t._transitionClasses){_(t._transitionClasses,e)}na(t,e)}function ma(t,e,n){var r=ya(t,e);var i=r.type;var o=r.timeout;var a=r.propCount;if(!i){return n()}var s=i===aa?la:fa;var u=0;var l=function(){t.removeEventListener(s,c);n()};var c=function(e){if(e.target===t){if(++u>=a){l()}}};setTimeout(function(){if(u<a){l()}},o+1);t.addEventListener(s,c)}var ga=/\b(transform|all)(,|$)/;function ya(t,e){var n=window.getComputedStyle(t);var r=n[ua+"Delay"].split(", ");var i=n[ua+"Duration"].split(", ");var o=_a(r,i);var a=n[ca+"Delay"].split(", ");var s=n[ca+"Duration"].split(", ");var u=_a(a,s);var l;var c=0;var f=0;if(e===aa){if(o>0){l=aa;c=o;f=i.length}}else if(e===sa){if(u>0){l=sa;c=u;f=s.length}}else{c=Math.max(o,u);l=c>0?o>u?aa:sa:null;f=l?l===aa?i.length:s.length:0}var h=l===aa&&ga.test(n[ua+"Property"]);return{type:l,timeout:c,propCount:f,hasTransform:h}}function _a(t,e){while(t.length<e.length){t=t.concat(t)}return Math.max.apply(null,e.map(function(e,n){return ba(e)+ba(t[n])}))}function ba(t){return Number(t.slice(0,-1))*1e3}function xa(t,e){var n=t.elm;if(i(n._leaveCb)){n._leaveCb.cancelled=true;n._leaveCb()}var o=ra(t.data.transition);if(r(o)){return}if(i(n._enterCb)||n.nodeType!==1){return}var a=o.css;var s=o.type;var l=o.enterClass;var c=o.enterToClass;var f=o.enterActiveClass;var h=o.appearClass;var p=o.appearToClass;var d=o.appearActiveClass;var m=o.beforeEnter;var g=o.enter;var y=o.afterEnter;var _=o.enterCancelled;var b=o.beforeAppear;var x=o.appear;var w=o.afterAppear;var E=o.appearCancelled;var T=o.duration;var I=rn;var C=rn.$vnode;while(C&&C.parent){C=C.parent;I=C.context}var M=!I._isMounted||!t.isRootInsert;if(M&&!x&&x!==""){return}var A=M&&h?h:l;var S=M&&d?d:f;var R=M&&p?p:c;var L=M?b||m:m;var k=M?typeof x==="function"?x:g:g;var N=M?w||y:y;var F=M?E||_:_;var O=v(u(T)?T.enter:T);if(false){Ea(O,"enter",t)}var B=a!==false&&!K;var P=Ia(k);var D=n._enterCb=U(function(){if(B){va(n,R);va(n,S)}if(D.cancelled){if(B){va(n,A)}F&&F(n)}else{N&&N(n)}n._enterCb=null});if(!t.data.show){Be(t,"insert",function(){var e=n.parentNode;var r=e&&e._pending&&e._pending[t.key];if(r&&r.tag===t.tag&&r.elm._leaveCb){r.elm._leaveCb()}k&&k(n,D)})}L&&L(n);if(B){da(n,A);da(n,S);pa(function(){da(n,R);va(n,A);if(!D.cancelled&&!P){if(Ta(O)){setTimeout(D,O)}else{ma(n,s,D)}}})}if(t.data.show){e&&e();k&&k(n,D)}if(!B&&!P){D()}}function wa(t,e){var n=t.elm;if(i(n._enterCb)){n._enterCb.cancelled=true;n._enterCb()}var o=ra(t.data.transition);if(r(o)){return e()}if(i(n._leaveCb)||n.nodeType!==1){return}var a=o.css;var s=o.type;var l=o.leaveClass;var c=o.leaveToClass;var f=o.leaveActiveClass;var h=o.beforeLeave;var p=o.leave;var d=o.afterLeave;var m=o.leaveCancelled;var g=o.delayLeave;var y=o.duration;var _=a!==false&&!K;var b=Ia(p);var x=v(u(y)?y.leave:y);if(false){Ea(x,"leave",t)}var w=n._leaveCb=U(function(){if(n.parentNode&&n.parentNode._pending){n.parentNode._pending[t.key]=null}if(_){va(n,c);va(n,f)}if(w.cancelled){if(_){va(n,l)}m&&m(n)}else{e();d&&d(n)}n._leaveCb=null});if(g){g(E)}else{E()}function E(){if(w.cancelled){return}if(!t.data.show){(n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t}h&&h(n);if(_){da(n,l);da(n,f);pa(function(){da(n,c);va(n,l);if(!w.cancelled&&!b){if(Ta(x)){setTimeout(w,x)}else{ma(n,s,w)}}})}p&&p(n,w);if(!_&&!b){w()}}}function Ea(t,e,n){if(typeof t!=="number"){ht("<transition> explicit "+e+" duration is not a valid number - "+"got "+JSON.stringify(t)+".",n.context)}else if(isNaN(t)){ht("<transition> explicit "+e+" duration is NaN - "+"the duration expression might be incorrect.",n.context)}}function Ta(t){return typeof t==="number"&&!isNaN(t)}function Ia(t){if(r(t)){return false}var e=t.fns;if(i(e)){return Ia(Array.isArray(e)?e[0]:e)}else{return(t._length||t.length)>1}}function Ca(t,e){if(e.data.show!==true){xa(e)}}var Ma=Y?{create:Ca,activate:Ca,remove:function t(e,n){if(e.data.show!==true){wa(e,n)}else{n()}}}:{};var Aa=[Hi,Ji,Po,Vo,ta,Ma];var Sa=Aa.concat(Wi);var Ra=Pi({nodeOps:Si,modules:Sa});if(K){document.addEventListener("selectionchange",function(){var t=document.activeElement;if(t&&t.vmodel){Ua(t,"input")}})}var La={inserted:function t(e,n,r,i){if(r.tag==="select"){if(i.elm&&!i.elm._vOptions){Be(r,"postpatch",function(){La.componentUpdated(e,n,r)})}else{ka(e,n,r.context)}e._vOptions=[].map.call(e.options,Oa)}else if(r.tag==="textarea"||vi(e.type)){e._vModifiers=n.modifiers;if(!n.modifiers.lazy){e.addEventListener("change",Pa);if(!tt){e.addEventListener("compositionstart",Ba);e.addEventListener("compositionend",Pa)}if(K){e.vmodel=true}}}},componentUpdated:function t(e,n,r){if(r.tag==="select"){ka(e,n,r.context);var i=e._vOptions;var o=e._vOptions=[].map.call(e.options,Oa);if(o.some(function(t,e){return!B(t,i[e])})){var a=e.multiple?n.value.some(function(t){return Fa(t,o)}):n.value!==n.oldValue&&Fa(n.value,o);if(a){Ua(e,"change")}}}}};function ka(t,e,n){Na(t,e,n);if(q||$){setTimeout(function(){Na(t,e,n)},0)}}function Na(t,e,n){var r=e.value;var i=t.multiple;if(i&&!Array.isArray(r)){"production"!=="production"&&ht('<select multiple v-model="'+e.expression+'"> '+"expects an Array value for its binding, but got "+Object.prototype.toString.call(r).slice(8,-1),n);return}var o,a;for(var s=0,u=t.options.length;s<u;s++){a=t.options[s];if(i){o=P(r,Oa(a))>-1;if(a.selected!==o){a.selected=o}}else{if(B(Oa(a),r)){if(t.selectedIndex!==s){t.selectedIndex=s}return}}}if(!i){t.selectedIndex=-1}}function Fa(t,e){return e.every(function(e){return!B(e,t)})}function Oa(t){return"_value"in t?t._value:t.value}function Ba(t){t.target.composing=true}function Pa(t){if(!t.target.composing){return}t.target.composing=false;Ua(t.target,"input")}function Ua(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,true,true);t.dispatchEvent(n)}function Da(t){return t.componentInstance&&(!t.data||!t.data.transition)?Da(t.componentInstance._vnode):t}var za={bind:function t(e,n,r){var i=n.value;r=Da(r);var o=r.data&&r.data.transition;var a=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;if(i&&o){r.data.show=true;xa(r,function(){e.style.display=a})}else{e.style.display=i?a:"none"}},update:function t(e,n,r){var i=n.value;var o=n.oldValue;if(i===o){return}r=Da(r);var a=r.data&&r.data.transition;if(a){r.data.show=true;if(i){xa(r,function(){e.style.display=e.__vOriginalDisplay})}else{wa(r,function(){e.style.display="none"})}}else{e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function t(e,n,r,i,o){if(!o){e.style.display=e.__vOriginalDisplay}}};var ja={model:La,show:za};var Va={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ga(t){var e=t&&t.componentOptions;if(e&&e.Ctor.options.abstract){return Ga(Qe(e.children))}else{return t}}function Xa(t){var e={};var n=t.$options;for(var r in n.propsData){e[r]=t[r]}var i=n._parentListeners;for(var o in i){e[T(o)]=i[o]}return e}function Wa(t,e){if(/\d-keep-alive$/.test(e.tag)){return t("keep-alive",{props:e.componentOptions.propsData})}}function Za(t){while(t=t.parent){if(t.data.transition){return true}}}function Qa(t,e){return e.key===t.key&&e.tag===t.tag}var Ha={name:"transition",props:Va,abstract:true,render:function t(e){var n=this;var r=this.$options._renderChildren;if(!r){return}r=r.filter(function(t){return t.tag||Ze(t)});if(!r.length){return}if(false){ht("<transition> can only be used on a single element. Use "+"<transition-group> for lists.",this.$parent)}var i=this.mode;if(false){ht("invalid <transition> mode: "+i,this.$parent)}var o=r[0];if(Za(this.$vnode)){return o}var a=Ga(o);if(!a){return o}if(this._leaving){return Wa(e,o)}var u="__transition-"+this._uid+"-";a.key=a.key==null?a.isComment?u+"comment":u+a.tag:s(a.key)?String(a.key).indexOf(u)===0?a.key:u+a.key:a.key;var l=(a.data||(a.data={})).transition=Xa(this);var c=this._vnode;var f=Ga(c);if(a.data.directives&&a.data.directives.some(function(t){return t.name==="show"})){a.data.show=true}if(f&&f.data&&!Qa(a,f)&&!Ze(f)){var h=f.data.transition=R({},l);if(i==="out-in"){this._leaving=true;Be(h,"afterLeave",function(){n._leaving=false;n.$forceUpdate()});return Wa(e,o)}else if(i==="in-out"){if(Ze(a)){return c}var p;var d=function(){p()};Be(l,"afterEnter",d);Be(l,"enterCancelled",d);Be(h,"delayLeave",function(t){p=t})}}return o}};var Ya=R({tag:String,moveClass:String},Va);delete Ya.mode;var Ja={props:Ya,render:function t(e){var n=this.tag||this.$vnode.data.tag||"span";var r=Object.create(null);var i=this.prevChildren=this.children;var o=this.$slots.default||[];var a=this.children=[];var s=Xa(this);for(var u=0;u<o.length;u++){var l=o[u];if(l.tag){if(l.key!=null&&String(l.key).indexOf("__vlist")!==0){a.push(l);r[l.key]=l;(l.data||(l.data={})).transition=s}else if(false){var c=l.componentOptions;var f=c?c.Ctor.options.name||c.tag||"":l.tag;ht("<transition-group> children must be keyed: <"+f+">")}}}if(i){var h=[];var p=[];for(var d=0;d<i.length;d++){var v=i[d];v.data.transition=s;v.data.pos=v.elm.getBoundingClientRect();if(r[v.key]){h.push(v)}else{p.push(v)}}this.kept=e(n,null,h);this.removed=p}return e(n,null,a)},beforeUpdate:function t(){this.__patch__(this._vnode,this.kept,false,true);this._vnode=this.kept},updated:function t(){var e=this.prevChildren;var n=this.moveClass||(this.name||"v")+"-move";if(!e.length||!this.hasMove(e[0].elm,n)){return}e.forEach(qa);e.forEach(Ka);e.forEach($a);this._reflow=document.body.offsetHeight;e.forEach(function(t){if(t.data.moved){var e=t.elm;var r=e.style;da(e,n);r.transform=r.WebkitTransform=r.transitionDuration="";e.addEventListener(la,e._moveCb=function t(r){if(!r||/transform$/.test(r.propertyName)){e.removeEventListener(la,t);e._moveCb=null;va(e,n)}})}})},methods:{hasMove:function t(e,n){if(!oa){return false}if(this._hasMove){return this._hasMove}var r=e.cloneNode();if(e._transitionClasses){e._transitionClasses.forEach(function(t){na(r,t)})}ea(r,n);r.style.display="none";this.$el.appendChild(r);var i=ya(r);this.$el.removeChild(r);return this._hasMove=i.hasTransform}}};function qa(t){if(t.elm._moveCb){t.elm._moveCb()}if(t.elm._enterCb){t.elm._enterCb()}}function Ka(t){t.data.newPos=t.elm.getBoundingClientRect()}function $a(t){var e=t.data.pos;var n=t.data.newPos;var r=e.left-n.left;var i=e.top-n.top;if(r||i){t.data.moved=true;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)";o.transitionDuration="0s"}}var ts={Transition:Ha,TransitionGroup:Ja};Rr.config.mustUseProp=Qr;Rr.config.isReservedTag=fi;Rr.config.isReservedAttr=Wr;Rr.config.getTagNamespace=hi;Rr.config.isUnknownElement=di;R(Rr.options.directives,ja);R(Rr.options.components,ts);Rr.prototype.__patch__=Y?Ra:k;Rr.prototype.$mount=function(t,e){t=t&&Y?mi(t):undefined;return un(this,t,e)};Rr.nextTick(function(){if(V.devtools){if(ut){ut.emit("init",Rr)}else if(false){console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\n"+"https://github.com/vuejs/vue-devtools")}}if(false){console[console.info?"info":"log"]("You are running Vue in development mode.\n"+"Make sure to turn on production mode when deploying for production.\n"+"See more tips at https://vuejs.org/guide/deployment.html")}},0);var es=/\{\{((?:.|\n)+?)\}\}/g;var ns=/[-.*+?^${}()|[\]\/\\]/g;var rs=w(function(t){var e=t[0].replace(ns,"\\$&");var n=t[1].replace(ns,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function is(t,e){var n=e?rs(e):es;if(!n.test(t)){return}var r=[];var i=n.lastIndex=0;var o,a;while(o=n.exec(t)){a=o.index;if(a>i){r.push(JSON.stringify(t.slice(i,a)))}var s=Ki(o[1].trim());r.push("_s("+s+")");i=a+o[0].length}if(i<t.length){r.push(JSON.stringify(t.slice(i)))}return r.join("+")}function os(t,e){var n=e.warn||to;var r=so(t,"class");if(false){var i=is(r,e.delimiters);if(i){n('class="'+r+'": '+"Interpolation inside attributes has been removed. "+"Use v-bind or the colon shorthand instead. For example, "+'instead of <div class="{{ val }}">, use <div :class="val">.')}}if(r){t.staticClass=JSON.stringify(r)}var o=ao(t,"class",false);if(o){t.classBinding=o}}function as(t){var e="";if(t.staticClass){e+="staticClass:"+t.staticClass+","}if(t.classBinding){e+="class:"+t.classBinding+","}return e}var ss={staticKeys:["staticClass"],transformNode:os,genData:as};function us(t,e){var n=e.warn||to;var r=so(t,"style");if(r){if(false){var i=is(r,e.delimiters);if(i){n('style="'+r+'": '+"Interpolation inside attributes has been removed. "+"Use v-bind or the colon shorthand instead. For example, "+'instead of <div style="{{ val }}">, use <div :style="val">.')}}t.staticStyle=JSON.stringify(Go(r))}var o=ao(t,"style",false);if(o){t.styleBinding=o}}function ls(t){var e="";if(t.staticStyle){e+="staticStyle:"+t.staticStyle+","}if(t.styleBinding){e+="style:("+t.styleBinding+"),"}return e}var cs={staticKeys:["staticStyle"],transformNode:us,genData:ls};var fs;var hs={decode:function t(e){fs=fs||document.createElement("div");fs.innerHTML=e;return fs.textContent}};var ps=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,"+"link,meta,param,source,track,wbr");var ds=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source");var vs=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,"+"details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,"+"h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,"+"optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,"+"title,tr,track");/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */
var ms=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;var gs="[a-zA-Z_][\\w\\-\\.]*";var ys="((?:"+gs+"\\:)?"+gs+")";var _s=new RegExp("^<"+ys);var bs=/^\s*(\/?)>/;var xs=new RegExp("^<\\/"+ys+"[^>]*>");var ws=/^<!DOCTYPE [^>]+>/i;var Es=/^<!--/;var Ts=/^<!\[/;var Is=false;"x".replace(/x(.)?/g,function(t,e){Is=e===""});var Cs=m("script,style,textarea",true);var Ms={};var As={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"};var Ss=/&(?:lt|gt|quot|amp);/g;var Rs=/&(?:lt|gt|quot|amp|#10|#9);/g;var Ls=m("pre,textarea",true);var ks=function(t,e){return t&&Ls(t)&&e[0]==="\n"};function Ns(t,e){var n=e?Rs:Ss;return t.replace(n,function(t){return As[t]})}function Fs(t,e){var n=[];var r=e.expectHTML;var i=e.isUnaryTag||N;var o=e.canBeLeftOpenTag||N;var a=0;var s,u;while(t){s=t;if(!u||!Cs(u)){var l=t.indexOf("<");if(l===0){if(Es.test(t)){var c=t.indexOf("--\x3e");if(c>=0){if(e.shouldKeepComment){e.comment(t.substring(4,c))}E(c+3);continue}}if(Ts.test(t)){var f=t.indexOf("]>");if(f>=0){E(f+2);continue}}var h=t.match(ws);if(h){E(h[0].length);continue}var p=t.match(xs);if(p){var d=a;E(p[0].length);C(p[1],d,a);continue}var v=T();if(v){I(v);if(ks(u,t)){E(1)}continue}}var m=void 0,g=void 0,y=void 0;if(l>=0){g=t.slice(l);while(!xs.test(g)&&!_s.test(g)&&!Es.test(g)&&!Ts.test(g)){y=g.indexOf("<",1);if(y<0){break}l+=y;g=t.slice(l)}m=t.substring(0,l);E(l)}if(l<0){m=t;t=""}if(e.chars&&m){e.chars(m)}}else{var _=0;var b=u.toLowerCase();var x=Ms[b]||(Ms[b]=new RegExp("([\\s\\S]*?)(</"+b+"[^>]*>)","i"));var w=t.replace(x,function(t,n,r){_=r.length;if(!Cs(b)&&b!=="noscript"){n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")}if(ks(b,n)){n=n.slice(1)}if(e.chars){e.chars(n)}return""});a+=t.length-w.length;t=w;C(b,a-_,a)}if(t===s){e.chars&&e.chars(t);if(false){e.warn('Mal-formatted tag at end of template: "'+t+'"')}break}}C();function E(e){a+=e;t=t.substring(e)}function T(){var e=t.match(_s);if(e){var n={tagName:e[1],attrs:[],start:a};E(e[0].length);var r,i;while(!(r=t.match(bs))&&(i=t.match(ms))){E(i[0].length);n.attrs.push(i)}if(r){n.unarySlash=r[1];E(r[0].length);n.end=a;return n}}}function I(t){var a=t.tagName;var s=t.unarySlash;if(r){if(u==="p"&&vs(a)){C(u)}if(o(a)&&u===a){C(a)}}var l=i(a)||!!s;var c=t.attrs.length;var f=new Array(c);for(var h=0;h<c;h++){var p=t.attrs[h];if(Is&&p[0].indexOf('""')===-1){if(p[3]===""){delete p[3]}if(p[4]===""){delete p[4]}if(p[5]===""){delete p[5]}}var d=p[3]||p[4]||p[5]||"";var v=a==="a"&&p[1]==="href"?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[h]={name:p[1],value:Ns(d,v)}}if(!l){n.push({tag:a,lowerCasedTag:a.toLowerCase(),attrs:f});u=a}if(e.start){e.start(a,f,l,t.start,t.end)}}function C(t,r,i){var o,s;if(r==null){r=a}if(i==null){i=a}if(t){s=t.toLowerCase()}if(t){for(o=n.length-1;o>=0;o--){if(n[o].lowerCasedTag===s){break}}}else{o=0}if(o>=0){for(var l=n.length-1;l>=o;l--){if(false){e.warn("tag <"+n[l].tag+"> has no matching end tag.")}if(e.end){e.end(n[l].tag,r,i)}}n.length=o;u=o&&n[o-1].tag}else if(s==="br"){if(e.start){e.start(t,[],true,r,i)}}else if(s==="p"){if(e.start){e.start(t,[],false,r,i)}if(e.end){e.end(t,r,i)}}}}var Os=/^@|^v-on:/;var Bs=/^v-|^@|^:/;var Ps=/(.*?)\s+(?:in|of)\s+(.*)/;var Us=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/;var Ds=/:(.*)$/;var zs=/^:|^v-bind:/;var js=/\.[^.]+/g;var Vs=w(hs.decode);var Gs;var Xs;var Ws;var Zs;var Qs;var Hs;var Ys;var Js;function qs(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:vu(e),parent:n,children:[]}}function Ks(t,e){Gs=e.warn||to;Hs=e.isPreTag||N;Ys=e.mustUseProp||N;Js=e.getTagNamespace||N;Ws=eo(e.modules,"transformNode");Zs=eo(e.modules,"preTransformNode");Qs=eo(e.modules,"postTransformNode");Xs=e.delimiters;var n=[];var r=e.preserveWhitespace!==false;var i;var o;var a=false;var s=false;var u=false;function l(t){if(!u){u=true;Gs(t)}}function c(t){if(t.pre){a=false}if(Hs(t.tag)){s=false}}Fs(t,{warn:Gs,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function t(r,u,f){var h=o&&o.ns||Js(r);if(q&&h==="svg"){u=bu(u)}var p=qs(r,u,o);if(h){p.ns=h}if(gu(p)&&!st()){p.forbidden=true;"production"!=="production"&&Gs("Templates should only be responsible for mapping the state to the "+"UI. Avoid placing tags with side-effects in your templates, such as "+"<"+r+">"+", as they will not be parsed.")}for(var d=0;d<Zs.length;d++){p=Zs[d](p,e)||p}if(!a){$s(p);if(p.pre){a=true}}if(Hs(p.tag)){s=true}if(a){tu(p)}else if(!p.processed){iu(p);ou(p);lu(p);eu(p,e)}function v(t){if(false){if(t.tag==="slot"||t.tag==="template"){l("Cannot use <"+t.tag+"> as component root element because it may "+"contain multiple nodes.")}if(t.attrsMap.hasOwnProperty("v-for")){l("Cannot use v-for on stateful component root element because "+"it renders multiple elements.")}}}if(!i){i=p;v(i)}else if(!n.length){if(i.if&&(p.elseif||p.else)){v(p);uu(i,{exp:p.elseif,block:p})}else if(false){l("Component template should contain exactly one root element. "+"If you are using v-if on multiple elements, "+"use v-else-if to chain them instead.")}}if(o&&!p.forbidden){if(p.elseif||p.else){au(p,o)}else if(p.slotScope){o.plain=false;var m=p.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=p}else{o.children.push(p);p.parent=o}}if(!f){o=p;n.push(p)}else{c(p)}for(var g=0;g<Qs.length;g++){Qs[g](p,e)}},end:function t(){var e=n[n.length-1];var r=e.children[e.children.length-1];if(r&&r.type===3&&r.text===" "&&!s){e.children.pop()}n.length-=1;o=n[n.length-1];c(e)},chars:function e(n){if(!o){if(false){if(n===t){l("Component template requires a root element, rather than just text.")}else if(n=n.trim()){l('text "'+n+'" outside root element will be ignored.')}}return}if(q&&o.tag==="textarea"&&o.attrsMap.placeholder===n){return}var i=o.children;n=s||n.trim()?mu(o)?n:Vs(n):r&&i.length?" ":"";if(n){var u;if(!a&&n!==" "&&(u=is(n,Xs))){i.push({type:2,expression:u,text:n})}else if(n!==" "||!i.length||i[i.length-1].text!==" "){i.push({type:3,text:n})}}},comment:function t(e){o.children.push({type:3,text:e,isComment:true})}});return i}function $s(t){if(so(t,"v-pre")!=null){t.pre=true}}function tu(t){var e=t.attrsList.length;if(e){var n=t.attrs=new Array(e);for(var r=0;r<e;r++){n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)}}}else if(!t.pre){t.plain=true}}function eu(t,e){nu(t);t.plain=!t.key&&!t.attrsList.length;ru(t);cu(t);fu(t);for(var n=0;n<Ws.length;n++){t=Ws[n](t,e)||t}hu(t)}function nu(t){var e=ao(t,"key");if(e){if(false){Gs("<template> cannot be keyed. Place the key on real elements instead.")}t.key=e}}function ru(t){var e=ao(t,"ref");if(e){t.ref=e;t.refInFor=pu(t)}}function iu(t){var e;if(e=so(t,"v-for")){var n=e.match(Ps);if(!n){"production"!=="production"&&Gs("Invalid v-for expression: "+e);return}t.for=n[2].trim();var r=n[1].trim();var i=r.match(Us);if(i){t.alias=i[1].trim();t.iterator1=i[2].trim();if(i[3]){t.iterator2=i[3].trim()}}else{t.alias=r}}}function ou(t){var e=so(t,"v-if");if(e){t.if=e;uu(t,{exp:e,block:t})}else{if(so(t,"v-else")!=null){t.else=true}var n=so(t,"v-else-if");if(n){t.elseif=n}}}function au(t,e){var n=su(e.children);if(n&&n.if){uu(n,{exp:t.elseif,block:t})}else if(false){Gs("v-"+(t.elseif?'else-if="'+t.elseif+'"':"else")+" "+"used on element <"+t.tag+"> without corresponding v-if.")}}function su(t){var e=t.length;while(e--){if(t[e].type===1){return t[e]}else{if(false){Gs('text "'+t[e].text.trim()+'" between v-if and v-else(-if) '+"will be ignored.")}t.pop()}}}function uu(t,e){if(!t.ifConditions){t.ifConditions=[]}t.ifConditions.push(e)}function lu(t){var e=so(t,"v-once");if(e!=null){t.once=true}}function cu(t){if(t.tag==="slot"){t.slotName=ao(t,"name");if(false){Gs("`key` does not work on <slot> because slots are abstract outlets "+"and can possibly expand into multiple elements. "+"Use the key on a wrapping element instead.")}}else{var e;if(t.tag==="template"){e=so(t,"scope");if(false){Gs('the "scope" attribute for scoped slots have been deprecated and '+'replaced by "slot-scope" since 2.5. The new "slot-scope" attribute '+"can also be used on plain elements in addition to <template> to "+"denote scoped slots.",true)}t.slotScope=e||so(t,"slot-scope")}else if(e=so(t,"slot-scope")){t.slotScope=e}var n=ao(t,"slot");if(n){t.slotTarget=n==='""'?'"default"':n;if(t.tag!=="template"&&!t.slotScope){ro(t,"slot",n)}}}}function fu(t){var e;if(e=ao(t,"is")){t.component=e}if(so(t,"inline-template")!=null){t.inlineTemplate=true}}function hu(t){var e=t.attrsList;var n,r,i,o,a,s,u;for(n=0,r=e.length;n<r;n++){i=o=e[n].name;a=e[n].value;if(Bs.test(i)){t.hasBindings=true;s=du(i);if(s){i=i.replace(js,"")}if(zs.test(i)){i=i.replace(zs,"");a=Ki(a);u=false;if(s){if(s.prop){u=true;i=T(i);if(i==="innerHtml"){i="innerHTML"}}if(s.camel){i=T(i)}if(s.sync){oo(t,"update:"+T(i),lo(a,"$event"))}}if(u||!t.component&&Ys(t.tag,t.attrsMap.type,i)){no(t,i,a)}else{ro(t,i,a)}}else if(Os.test(i)){i=i.replace(Os,"");oo(t,i,a,s,false,Gs)}else{i=i.replace(Bs,"");var l=i.match(Ds);var c=l&&l[1];if(c){i=i.slice(0,-(c.length+1))}io(t,i,o,a,c,s);if(false){xu(t,a)}}}else{if(false){var f=is(a,Xs);if(f){Gs(i+'="'+a+'": '+"Interpolation inside attributes has been removed. "+"Use v-bind or the colon shorthand instead. For example, "+'instead of <div id="{{ val }}">, use <div :id="val">.')}}ro(t,i,JSON.stringify(a));if(!t.component&&i==="muted"&&Ys(t.tag,t.attrsMap.type,i)){no(t,i,"true")}}}}function pu(t){var e=t;while(e){if(e.for!==undefined){return true}e=e.parent}return false}function du(t){var e=t.match(js);if(e){var n={};e.forEach(function(t){n[t.slice(1)]=true});return n}}function vu(t){var e={};for(var n=0,r=t.length;n<r;n++){if(false){Gs("duplicate attribute: "+t[n].name)}e[t[n].name]=t[n].value}return e}function mu(t){return t.tag==="script"||t.tag==="style"}function gu(t){return t.tag==="style"||t.tag==="script"&&(!t.attrsMap.type||t.attrsMap.type==="text/javascript")}var yu=/^xmlns:NS\d+/;var _u=/^NS\d+:/;function bu(t){var e=[];for(var n=0;n<t.length;n++){var r=t[n];if(!yu.test(r.name)){r.name=r.name.replace(_u,"");e.push(r)}}return e}function xu(t,e){var n=t;while(n){if(n.for&&n.alias===e){Gs("<"+t.tag+' v-model="'+e+'">: '+"You are binding v-model directly to a v-for iteration alias. "+"This will not be able to modify the v-for source array because "+"writing to the alias is like modifying a function local variable. "+"Consider using an array of objects and use v-model on an object property instead.")}n=n.parent}}function wu(t,e){if(t.tag==="input"){var n=t.attrsMap;if(n["v-model"]&&(n["v-bind:type"]||n[":type"])){var r=ao(t,"type");var i=so(t,"v-if",true);var o=i?"&&("+i+")":"";var a=so(t,"v-else",true)!=null;var s=so(t,"v-else-if",true);var u=Eu(t);iu(u);Tu(u,"type","checkbox");eu(u,e);u.processed=true;u.if="("+r+")==='checkbox'"+o;uu(u,{exp:u.if,block:u});var l=Eu(t);so(l,"v-for",true);Tu(l,"type","radio");eu(l,e);uu(u,{exp:"("+r+")==='radio'"+o,block:l});var c=Eu(t);so(c,"v-for",true);Tu(c,":type",r);eu(c,e);uu(u,{exp:i,block:c});if(a){u.else=true}else if(s){u.elseif=s}return u}}}function Eu(t){return qs(t.tag,t.attrsList.slice(),t.parent)}function Tu(t,e,n){t.attrsMap[e]=n;t.attrsList.push({name:e,value:n})}var Iu={preTransformNode:wu};var Cu=[ss,cs,Iu];function Mu(t,e){if(e.value){no(t,"textContent","_s("+e.value+")")}}function Au(t,e){if(e.value){no(t,"innerHTML","_s("+e.value+")")}}var Su={model:Co,text:Mu,html:Au};var Ru={expectHTML:true,modules:Cu,directives:Su,isPreTag:ci,isUnaryTag:ps,mustUseProp:Qr,canBeLeftOpenTag:ds,isReservedTag:fi,getTagNamespace:hi,staticKeys:O(Cu)};var Lu;var ku;var Nu=w(Ou);function Fu(t,e){if(!t){return}Lu=Nu(e.staticKeys||"");ku=e.isReservedTag||N;Bu(t);Pu(t,false)}function Ou(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Bu(t){t.static=Uu(t);if(t.type===1){if(!ku(t.tag)&&t.tag!=="slot"&&t.attrsMap["inline-template"]==null){return}for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Bu(r);if(!r.static){t.static=false}}if(t.ifConditions){for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Bu(a);if(!a.static){t.static=false}}}}}function Pu(t,e){if(t.type===1){if(t.static||t.once){t.staticInFor=e}if(t.static&&t.children.length&&!(t.children.length===1&&t.children[0].type===3)){t.staticRoot=true;return}else{t.staticRoot=false}if(t.children){for(var n=0,r=t.children.length;n<r;n++){Pu(t.children[n],e||!!t.for)}}if(t.ifConditions){for(var i=1,o=t.ifConditions.length;i<o;i++){Pu(t.ifConditions[i].block,e)}}}}function Uu(t){if(t.type===2){return false}if(t.type===3){return true}return!!(t.pre||!t.hasBindings&&!t.if&&!t.for&&!g(t.tag)&&ku(t.tag)&&!Du(t)&&Object.keys(t).every(Lu))}function Du(t){while(t.parent){t=t.parent;if(t.tag!=="template"){return false}if(t.for){return true}}return false}var zu=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;var ju=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/;var Vu={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]};var Gu=function(t){return"if("+t+")return null;"};var Xu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Gu("$event.target !== $event.currentTarget"),ctrl:Gu("!$event.ctrlKey"),shift:Gu("!$event.shiftKey"),alt:Gu("!$event.altKey"),meta:Gu("!$event.metaKey"),left:Gu("'button' in $event && $event.button !== 0"),middle:Gu("'button' in $event && $event.button !== 1"),right:Gu("'button' in $event && $event.button !== 2")};function Wu(t,e,n){var r=e?"nativeOn:{":"on:{";for(var i in t){var o=t[i];if(false){n('Use "contextmenu" instead of "click.right" since right clicks '+'do not actually fire "click" events.')}r+='"'+i+'":'+Zu(i,o)+","}return r.slice(0,-1)+"}"}function Zu(t,e){if(!e){return"function(){}"}if(Array.isArray(e)){return"["+e.map(function(e){return Zu(t,e)}).join(",")+"]"}var n=ju.test(e.value);var r=zu.test(e.value);if(!e.modifiers){return n||r?e.value:"function($event){"+e.value+"}"}else{var i="";var o="";var a=[];for(var s in e.modifiers){if(Xu[s]){o+=Xu[s];if(Vu[s]){a.push(s)}}else if(s==="exact"){var u=e.modifiers;o+=Gu(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else{a.push(s)}}if(a.length){i+=Qu(a)}if(o){i+=o}var l=n?e.value+"($event)":r?"("+e.value+")($event)":e.value;return"function($event){"+i+l+"}"}}function Qu(t){return"if(!('button' in $event)&&"+t.map(Hu).join("&&")+")return null;"}function Hu(t){var e=parseInt(t,10);if(e){return"$event.keyCode!=="+e}var n=Vu[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+","+"$event.key)"}function Yu(t,e){if(false){ht("v-on without argument does not support modifiers.")}t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function Ju(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}var qu={on:Yu,bind:Ju,cloak:k};var Ku=function t(e){this.options=e;this.warn=e.warn||to;this.transforms=eo(e.modules,"transformCode");this.dataGenFns=eo(e.modules,"genData");this.directives=R(R({},qu),e.directives);var n=e.isReservedTag||N;this.maybeComponent=function(t){return!n(t.tag)};this.onceId=0;this.staticRenderFns=[]};function $u(t,e){var n=new Ku(e);var r=t?tl(t,n):'_c("div")';return{render:"with(this){return "+r+"}",staticRenderFns:n.staticRenderFns}}function tl(t,e){if(t.staticRoot&&!t.staticProcessed){return el(t,e)}else if(t.once&&!t.onceProcessed){return nl(t,e)}else if(t.for&&!t.forProcessed){return ol(t,e)}else if(t.if&&!t.ifProcessed){return rl(t,e)}else if(t.tag==="template"&&!t.slotTarget){return hl(t,e)||"void 0"}else if(t.tag==="slot"){return yl(t,e)}else{var n;if(t.component){n=_l(t.component,t,e)}else{var r=t.plain?undefined:al(t,e);var i=t.inlineTemplate?null:hl(t,e,true);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++){n=e.transforms[o](t,n)}return n}}function el(t,e){t.staticProcessed=true;e.staticRenderFns.push("with(this){return "+tl(t,e)+"}");return"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function nl(t,e){t.onceProcessed=true;if(t.if&&!t.ifProcessed){return rl(t,e)}else if(t.staticInFor){var n="";var r=t.parent;while(r){if(r.for){n=r.key;break}r=r.parent}if(!n){"production"!=="production"&&e.warn("v-once can only be used inside v-for that is keyed. ");return tl(t,e)}return"_o("+tl(t,e)+","+e.onceId+++","+n+")"}else{return el(t,e)}}function rl(t,e,n,r){t.ifProcessed=true;return il(t.ifConditions.slice(),e,n,r)}function il(t,e,n,r){if(!t.length){return r||"_e()"}var i=t.shift();if(i.exp){return"("+i.exp+")?"+o(i.block)+":"+il(t,e,n,r)}else{return""+o(i.block)}function o(t){return n?n(t,e):t.once?nl(t,e):tl(t,e)}}function ol(t,e,n,r){var i=t.for;var o=t.alias;var a=t.iterator1?","+t.iterator1:"";var s=t.iterator2?","+t.iterator2:"";if(false){e.warn("<"+t.tag+' v-for="'+o+" in "+i+'">: component lists rendered with '+"v-for should have explicit keys. "+"See https://vuejs.org/guide/list.html#key for more info.",true)}t.forProcessed=true;return(r||"_l")+"(("+i+"),"+"function("+o+a+s+"){"+"return "+(n||tl)(t,e)+"})"}function al(t,e){var n="{";var r=sl(t,e);if(r){n+=r+","}if(t.key){n+="key:"+t.key+","}if(t.ref){n+="ref:"+t.ref+","}if(t.refInFor){n+="refInFor:true,"}if(t.pre){n+="pre:true,"}if(t.component){n+='tag:"'+t.tag+'",'}for(var i=0;i<e.dataGenFns.length;i++){n+=e.dataGenFns[i](t)}if(t.attrs){n+="attrs:{"+bl(t.attrs)+"},"}if(t.props){n+="domProps:{"+bl(t.props)+"},"}if(t.events){n+=Wu(t.events,false,e.warn)+","}if(t.nativeEvents){n+=Wu(t.nativeEvents,true,e.warn)+","}if(t.slotTarget&&!t.slotScope){n+="slot:"+t.slotTarget+","}if(t.scopedSlots){n+=ll(t.scopedSlots,e)+","}if(t.model){n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"}if(t.inlineTemplate){var o=ul(t,e);if(o){n+=o+","}}n=n.replace(/,$/,"")+"}";if(t.wrapData){n=t.wrapData(n)}if(t.wrapListeners){n=t.wrapListeners(n)}return n}function sl(t,e){var n=t.directives;if(!n){return}var r="directives:[";var i=false;var o,a,s,u;for(o=0,a=n.length;o<a;o++){s=n[o];u=true;var l=e.directives[s.name];if(l){u=!!l(t,s,e.warn)}if(u){i=true;r+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?',arg:"'+s.arg+'"':"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},"}}if(i){return r.slice(0,-1)+"]"}}function ul(t,e){var n=t.children[0];if(false){e.warn("Inline-template components must have exactly one child element.")}if(n.type===1){var r=$u(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function ll(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return cl(n,t[n],e)}).join(",")+"])"}function cl(t,e,n){if(e.for&&!e.forProcessed){return fl(t,e,n)}var r="function("+String(e.slotScope)+"){"+"return "+(e.tag==="template"?e.if?e.if+"?"+(hl(e,n)||"undefined")+":undefined":hl(e,n)||"undefined":tl(e,n))+"}";return"{key:"+t+",fn:"+r+"}"}function fl(t,e,n){var r=e.for;var i=e.alias;var o=e.iterator1?","+e.iterator1:"";var a=e.iterator2?","+e.iterator2:"";e.forProcessed=true;return"_l(("+r+"),"+"function("+i+o+a+"){"+"return "+cl(t,e,n)+"})"}function hl(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(o.length===1&&a.for&&a.tag!=="template"&&a.tag!=="slot"){return(r||tl)(a,e)}var s=n?pl(o,e.maybeComponent):0;var u=i||vl;return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function pl(t,e){var n=0;for(var r=0;r<t.length;r++){var i=t[r];if(i.type!==1){continue}if(dl(i)||i.ifConditions&&i.ifConditions.some(function(t){return dl(t.block)})){n=2;break}if(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)})){n=1}}return n}function dl(t){return t.for!==undefined||t.tag==="template"||t.tag==="slot"}function vl(t,e){if(t.type===1){return tl(t,e)}if(t.type===3&&t.isComment){return gl(t)}else{return ml(t)}}function ml(t){return"_v("+(t.type===2?t.expression:xl(JSON.stringify(t.text)))+")"}function gl(t){return"_e("+JSON.stringify(t.text)+")"}function yl(t,e){var n=t.slotName||'"default"';var r=hl(t,e);var i="_t("+n+(r?","+r:"");var o=t.attrs&&"{"+t.attrs.map(function(t){return T(t.name)+":"+t.value}).join(",")+"}";var a=t.attrsMap["v-bind"];if((o||a)&&!r){i+=",null"}if(o){i+=","+o}if(a){i+=(o?"":",null")+","+a}return i+")"}function _l(t,e,n){var r=e.inlineTemplate?null:hl(e,n,true);return"_c("+t+","+al(e,n)+(r?","+r:"")+")"}function bl(t){var e="";for(var n=0;n<t.length;n++){var r=t[n];e+='"'+r.name+'":'+xl(r.value)+","}return e.slice(0,-1)}function xl(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var wl=new RegExp("\\b"+("do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,"+"super,throw,while,yield,delete,export,import,return,switch,default,"+"extends,finally,continue,debugger,function,arguments").split(",").join("\\b|\\b")+"\\b");var El=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var Tl=/[A-Za-z_$][\w$]*/;var Il=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Cl(t){var e=[];if(t){Ml(t,e)}return e}function Ml(t,e){if(t.type===1){for(var n in t.attrsMap){if(Bs.test(n)){var r=t.attrsMap[n];if(r){if(n==="v-for"){Sl(t,'v-for="'+r+'"',e)}else if(Os.test(n)){Al(r,n+'="'+r+'"',e)}else{Ll(r,n+'="'+r+'"',e)}}}}if(t.children){for(var i=0;i<t.children.length;i++){Ml(t.children[i],e)}}}else if(t.type===2){Ll(t.expression,t.text,e)}}function Al(t,e,n){var r=t.replace(Il,"");var i=r.match(El);if(i&&r.charAt(i.index-1)!=="$"){n.push("avoid using JavaScript unary operator as property name: "+'"'+i[0]+'" in expression '+e.trim())}Ll(t,e,n)}function Sl(t,e,n){Ll(t.for||"",e,n);Rl(t.alias,"v-for alias",e,n);Rl(t.iterator1,"v-for iterator",e,n);Rl(t.iterator2,"v-for iterator",e,n)}function Rl(t,e,n,r){if(typeof t==="string"&&!Tl.test(t)){r.push("invalid "+e+' "'+t+'" in expression: '+n.trim())}}function Ll(t,e,n){try{new Function("return "+t)}catch(i){var r=t.replace(Il,"").match(wl);if(r){n.push("avoid using JavaScript keyword as property name: "+'"'+r[0]+'"\n  Raw expression: '+e.trim())}else{n.push("invalid expression: "+i.message+" in\n\n"+"    "+t+"\n\n"+"  Raw expression: "+e.trim()+"\n")}}}function kl(t,e){try{return new Function(t)}catch(n){e.push({err:n,code:t});return k}}function Nl(t){var e=Object.create(null);return function n(r,i,o){i=R({},i);var a=i.warn||ht;delete i.warn;if(false){try{new Function("return 1")}catch(t){if(t.toString().match(/unsafe-eval|CSP/)){a("It seems you are using the standalone build of Vue.js in an "+"environment with Content Security Policy that prohibits unsafe-eval. "+"The template compiler cannot work in this environment. Consider "+"relaxing the policy to allow unsafe-eval or pre-compiling your "+"templates into render functions.")}}}var s=i.delimiters?String(i.delimiters)+r:r;if(e[s]){return e[s]}var u=t(r,i);if(false){if(u.errors&&u.errors.length){a("Error compiling template:\n\n"+r+"\n\n"+u.errors.map(function(t){return"- "+t}).join("\n")+"\n",o)}if(u.tips&&u.tips.length){u.tips.forEach(function(t){return pt(t,o)})}}var l={};var c=[];l.render=kl(u.render,c);l.staticRenderFns=u.staticRenderFns.map(function(t){return kl(t,c)});if(false){if((!u.errors||!u.errors.length)&&c.length){a("Failed to generate render function:\n\n"+c.map(function(t){var e=t.err;var n=t.code;return e.toString()+" in\n\n"+n+"\n"}).join("\n"),o)}}return e[s]=l}}function Fl(t){return function e(n){function r(e,r){var i=Object.create(n);var o=[];var a=[];i.warn=function(t,e){(e?a:o).push(t)};if(r){if(r.modules){i.modules=(n.modules||[]).concat(r.modules)}if(r.directives){i.directives=R(Object.create(n.directives),r.directives)}for(var s in r){if(s!=="modules"&&s!=="directives"){i[s]=r[s]}}}var u=t(e,i);if(false){o.push.apply(o,Cl(u.ast))}u.errors=o;u.tips=a;return u}return{compile:r,compileToFunctions:Nl(r)}}}var Ol=Fl(function t(e,n){var r=Ks(e.trim(),n);Fu(r,n);var i=$u(r,n);return{ast:r,render:i.render,staticRenderFns:i.staticRenderFns}});var Bl=Ol(Ru);var Pl=Bl.compileToFunctions;var Ul;function Dl(t){Ul=Ul||document.createElement("div");Ul.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>';return Ul.innerHTML.indexOf("&#10;")>0}var zl=Y?Dl(false):false;var jl=Y?Dl(true):false;var Vl=w(function(t){var e=mi(t);return e&&e.innerHTML});var Gl=Rr.prototype.$mount;Rr.prototype.$mount=function(t,e){t=t&&mi(t);if(t===document.body||t===document.documentElement){"production"!=="production"&&ht("Do not mount Vue to <html> or <body> - mount to normal elements instead.");return this}var n=this.$options;if(!n.render){var r=n.template;if(r){if(typeof r==="string"){if(r.charAt(0)==="#"){r=Vl(r);if(false){ht("Template element not found or is empty: "+n.template,this)}}}else if(r.nodeType){r=r.innerHTML}else{if(false){ht("invalid template option:"+r,this)}return this}}else if(t){r=Xl(t)}if(r){if(false){Ee("compile")}var i=Pl(r,{shouldDecodeNewlines:zl,shouldDecodeNewlinesForHref:jl,delimiters:n.delimiters,comments:n.comments},this);var o=i.render;var a=i.staticRenderFns;n.render=o;n.staticRenderFns=a;if(false){Ee("compile end");Te("vue "+this._name+" compile","compile","compile end")}}}return Gl.call(this,t,e)};function Xl(t){if(t.outerHTML){return t.outerHTML}else{var e=document.createElement("div");e.appendChild(t.cloneNode(true));return e.innerHTML}}Rr.compile=Pl;e["a"]=Rr}).call(e,n("DuR2"),n("162o").setImmediate)},"7/+7":function(t,e){t.exports=n;function n(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);t[0]=o*2*s;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=o*2*u;t[6]=0;t[7]=0;t[8]=(n+e)*s;t[9]=(i+r)*u;t[10]=(a+o)*l;t[11]=-1;t[12]=0;t[13]=0;t[14]=a*o*2*l;t[15]=0;return t}},"7Mv9":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];return t}},"7VzN":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r={};r.EPSILON=1e-12;r.debug=true;r.precision=4;r.printTypes=false;r.printDegrees=false;r.printRowMajor=true;function i(t){if("epsilon"in t){r.EPSILON=t.epsilon}if("debug"in t){r.debug=t.debug}}function o(t){if(!Number.isFinite(t)){throw new Error("Invalid number "+t)}return t}function a(t){return Math.round(t/r.EPSILON)*r.EPSILON}function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.precision,i=n===undefined?r.precision||4:n;t=a(t);return parseFloat(t.toPrecision(i))}function u(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.precision,i=n===undefined?r.precision||4:n,o=e.printDegrees,s=o===undefined?r.printAngles:o;t=s?p(t):t;t=a(t);return""+parseFloat(t.toPrecision(i))+(s?"°":"")}function l(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&t.length!==undefined}function c(t){return t.clone?t.clone():new Array(t)}function f(t,e){if(l(t)){var n=c(t);for(var r=0;r<n.length;++r){n[r]=e(n[r],r,n)}return n}return e(t)}function h(t){return f(t,function(t){return t/180*Math.PI})}function p(t){return f(t,function(t){return t*180/Math.PI})}function d(t){return f(t,function(t){return Math.sin(t)})}function v(t){return f(t,function(t){return Math.cos(t)})}function m(t){return f(t,function(t){return Math.tan(t)})}function g(t){return f(t,function(t){return Math.asin(t)})}function y(t){return f(t,function(t){return Math.acos(t)})}function _(t){return f(t,function(t){return Math.atan(t)})}function b(t,e,n){return f(t,function(t){return Math.max(e,Math.min(n,t))})}function x(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t===e){return true}if(t.length!==e.length){return false}for(var n=0;n<t.length;++n){if(!x(t[n],e[n])){return false}}return true}return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}var w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function E(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function T(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function I(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function C(t){function e(){var e=Reflect.construct(t,Array.from(arguments));Object.setPrototypeOf(e,Object.getPrototypeOf(this));return e}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}else{e.__proto__=t}return e}var M=function(t){I(e,t);function e(){E(this,e);return T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}w(e,[{key:"clone",value:function t(){var e=this.constructor;var t=(new e).copy(this);t.check();return t}},{key:"copy",value:function t(e){for(var n=0;n<this.ELEMENTS;++n){this[n]=e[n]}this.check();return this}},{key:"set",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}for(var i=0;i<this.ELEMENTS;++i){this[i]=n[i]||0}this.check();return this}},{key:"fromArray",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var r=0;r<this.ELEMENTS;++r){this[r]=e[r+n]}this.check();return this}},{key:"toString",value:function t(){return this.formatString(r)}},{key:"formatString",value:function t(e){var n="";for(var r=0;r<this.ELEMENTS;++r){n+=(r>0?", ":"")+s(this[r],e)}return(e.printTypes?this.constructor.name:"")+"["+n+"]"}},{key:"toArray",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;for(var r=0;r<this.ELEMENTS;++r){e[n+r]=this[r]}return e}},{key:"toFloat32Array",value:function t(){return new Float32Array(this)}},{key:"equals",value:function t(e){if(!e||this.length!==e.length){return false}for(var n=0;n<this.ELEMENTS;++n){if(!x(this[n],e[n])){return false}}return true}},{key:"exactEquals",value:function t(e){if(!e||this.length!==e.length){return false}for(var n=0;n<this.ELEMENTS;++n){if(this[n]!==e[n]){return false}}return true}},{key:"length",value:function t(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function t(){var e=0;if(e!==0){for(var n=0;n<this.ELEMENTS;++n){e+=this[n]*this[n]}}return o(this)}},{key:"distance",value:function t(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function t(e){var n=0;for(var r=0;r<this.ELEMENTS;++r){var i=this[r]-e[r];n+=i*i}return o(n)}},{key:"normalize",value:function t(){var e=this.length();if(e!==0){for(var n=0;n<this.ELEMENTS;++n){this[n]/=e}}this.check();return this}},{key:"validate",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this;var n=e&&e.length===this.ELEMENTS;for(var r=0;r<this.ELEMENTS;++r){n=n&&Number.isFinite(e[r])}return n}},{key:"check",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this;if(r.debug&&!this.validate(e)){throw new Error("Invalid "+this.constructor.name)}return this}}]);return e}(C(Array));var A=M;var S=n("gJt3");var R=n.n(S);var L=n("7Mv9");var k=n.n(L);var N=n("4ZXS");var F=n.n(N);var O=n("8CPJ");var B=n.n(O);var P=n("hV/S");var U=n.n(P);var D=n("Cjnd");var z=n.n(D);var j=n("YlLA");var V=n.n(j);var G=n("fWKP");var X=n.n(G);var W=n("wYL2");var Z=n.n(W);var Q=n("njfc");var H=n.n(Q);var Y=n("Mufk");var J=n.n(Y);var q=n("EgE0");var K=n.n(q);var $=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function tt(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function et(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function nt(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function rt(t){return t.length===2&&Number.isFinite(t[0])&&Number.isFinite(t[1])}var it=function(t){nt(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;tt(this,e);var r=et(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(Array.isArray(t)&&arguments.length===1){r.copy(t)}else{r.set(t,n)}return r}$(e,[{key:"set",value:function t(e,n){R()(this,e,n);this.check();return this}},{key:"add",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;k()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this}},{key:"subtract",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;F()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"multiply",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;B()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"divide",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;U()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"scale",value:function t(e){if(Number.isFinite(e)){z()(this,this,e)}this.check();return this}},{key:"scaleAndAdd",value:function t(e,n){V()(this,this,e,n);this.check();return this}},{key:"negate",value:function t(){X()(this,this);this.check();return this}},{key:"normalize",value:function t(){Z()(this,this);this.check();return this}},{key:"dot",value:function t(e){return H()(this,e)}},{key:"cross",value:function t(e){J()(this,this,e);this.check();return this}},{key:"lerp",value:function t(e,n){K()(this,this,e,n);this.check();return this}},{key:"horizontalAngle",value:function t(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function t(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}e.apply(undefined,[this,this].concat(r));this.check();return this}},{key:"ELEMENTS",get:function t(){return 2}},{key:"x",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"y",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}}]);return e}(A);var ot=it;var at=n("alWr");var st=n.n(at);var ut=n("YPlJ");var lt=n.n(ut);var ct=n("A3B4");var ft=n.n(ct);var ht=n("4mIu");var pt=n.n(ht);var dt=n("8fSE");var vt=n.n(dt);var mt=n("pf5t");var gt=n.n(mt);var yt=n("/pcz");var _t=n.n(yt);var bt=n("0to9");var xt=n.n(bt);var wt=n("/o50");var Et=n.n(wt);var Tt=n("RuT6");var It=n.n(Tt);var Ct=n("R61Y");var Mt=n.n(Ct);var At=n("D+Ee");var St=n.n(At);var Rt=n("gQ4S");var Lt=n.n(Rt);var kt=n("8w1/");var Nt=n.n(kt);var Ft=n("o/R8");var Ot=n.n(Ft);var Bt=n("yf90");var Pt=n.n(Bt);var Ut=n("RaTI");var Dt=n.n(Ut);var zt=n("Ugwj");var jt=n.n(zt);var Vt=n("tRNv");var Gt=n.n(Vt);var Xt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Wt(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Zt(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Qt(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ht=[0,0,0];function Yt(t){return t.length===3&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])}var Jt=function(t){Qt(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;Wt(this,e);var i=Zt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(Array.isArray(t)&&arguments.length===1){i.copy(t)}else{i.set(t,n,r)}return i}Xt(e,[{key:"set",value:function t(e,n,r){st()(this,e,n,r);return this.check()}},{key:"length",value:function t(){return lt()(this)}},{key:"distance",value:function t(e){return ft()(this,e)}},{key:"angle",value:function t(e){return pt()(this,e)}},{key:"dot",value:function t(e){return Nt()(this,e)}},{key:"add",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;vt()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this.check()}},{key:"subtract",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;gt()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this.check()}},{key:"multiply",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;_t()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this.check()}},{key:"scale",value:function t(e){if(Number.isFinite(e)){Et()(this,this,e)}else{_t()(this,this,e)}return this.check()}},{key:"negate",value:function t(){Mt()(this,this);return this.check()}},{key:"inverse",value:function t(){St()(this,this);return this.check()}},{key:"normalize",value:function t(){Lt()(this,this);return this.check()}},{key:"cross",value:function t(e){Ot()(this,this,e);return this.check()}},{key:"lerp",value:function t(e,n){Pt()(this,this,e,n);return this.check()}},{key:"rotateX",value:function t(e){var n=e.radians,r=e.origin,i=r===undefined?Ht:r;Dt()(this,this,i,n);return this.check()}},{key:"rotateY",value:function t(e){var n=e.radians,r=e.origin,i=r===undefined?Ht:r;jt()(this,this,i,n);return this.check()}},{key:"rotateZ",value:function t(e){var n=e.radians,r=e.origin,i=r===undefined?Ht:r;Gt()(this,this,i,n);return this.check()}},{key:"operation",value:function t(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}e.apply(undefined,[this,this].concat(r));return this.check()}},{key:"divide",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;xt()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this.check()}},{key:"scaleAndAdd",value:function t(e,n){It()(this,this,e,n);return this.check()}},{key:"ELEMENTS",get:function t(){return 3}},{key:"x",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"y",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"z",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}}]);return e}(A);var qt=Jt;var Kt=n("Iynp");var $t=n.n(Kt);var te=n("1d9m");var ee=n.n(te);var ne=n("xam7");var re=n.n(ne);var ie=n("zb2e");var oe=n.n(ie);var ae=n("L4CO");var se=n.n(ae);var ue=n("tooZ");var le=n.n(ue);var ce=n("n0om");var fe=n.n(ce);var he=n("Q/3u");var pe=n.n(he);var de=n("0ZsA");var ve=n.n(de);var me=n("wGd9");var ge=n.n(me);var ye=n("ZSYl");var _e=n.n(ye);var be=n("bH80");var xe=n.n(be);var we=n("XHIH");var Ee=n.n(we);var Te=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Ie(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ce(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Me(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function Ae(t){return t.length===4&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])&&Number.isFinite(t[3])}var Se=function(t){Me(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;Ie(this,e);var o=Ce(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(Array.isArray(t)&&arguments.length===1){o.copy(t)}else{o.set(t,n,r,i)}return o}Te(e,[{key:"set",value:function t(e,n,r,i){$t()(this,e,n,r,i);this.check();return this}},{key:"distance",value:function t(e){return ee()(e)}},{key:"add",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;re()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"subtract",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;oe()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"multiply",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;se()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"divide",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;le()(this,this,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.check();return this}},{key:"scale",value:function t(e){fe()(this,this,e);this.check();return this}},{key:"scaleAndAdd",value:function t(e,n){pe()(this,this,e,n);this.check();return this}},{key:"negate",value:function t(){ve()(this,this);this.check();return this}},{key:"inverse",value:function t(){ge()(this,this);this.check();return this}},{key:"normalize",value:function t(){_e()(this,this);this.check();return this}},{key:"dot",value:function t(e){return xe()(this,e)}},{key:"lerp",value:function t(e,n){Ee()(this,this,e,n);this.check();return this}},{key:"ELEMENTS",get:function t(){return 4}},{key:"x",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"y",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"z",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"w",get:function t(){return this[3]},set:function t(e){return this[3]=o(e)}}]);return e}(A);var Re=Se;var Le=n("N+Om");var ke=n.n(Le);var Ne=n("mxLw");var Fe=n.n(Ne);var Oe=n("CvYh");var Be=n.n(Oe);var Pe=n("7/+7");var Ue=n.n(Pe);var De=n("g4SV");var ze=n.n(De);var je=n("CrXW");var Ve=n.n(je);var Ge=n("BDpb");var Xe=n.n(Ge);var We=n("/3J5");var Ze=n.n(We);var Qe=n("tYfZ");var He=n.n(Qe);var Ye=n("w9vz");var Je=n.n(Ye);var qe=n("7sUI");var Ke=n.n(qe);var $e=n("CrZV");var tn=n.n($e);var en=n("SO7G");var nn=n.n(en);var rn=n("1x6x");var on=n.n(rn);var an=n("GSIc");var sn=n.n(an);var un=n("RKJ2");var ln=n.n(un);var cn=n("xrBZ");var fn=n.n(cn);var hn=n("oI6O");var pn=n.n(hn);var dn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var vn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function mn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function gn(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function yn(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function bn(t){return t.length===16&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])&&Number.isFinite(t[3])&&Number.isFinite(t[4])&&Number.isFinite(t[5])&&Number.isFinite(t[6])&&Number.isFinite(t[7])&&Number.isFinite(t[8])&&Number.isFinite(t[9])&&Number.isFinite(t[10])&&Number.isFinite(t[11])&&Number.isFinite(t[12])&&Number.isFinite(t[13])&&Number.isFinite(t[14])&&Number.isFinite(t[15])}var xn=[0,0,0,0];var wn=function(t){yn(e,t);function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}mn(this,e);var i=gn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(Array.isArray(n[0])&&arguments.length===1){i.copy(n[0])}else{i.identity()}return i}vn(e,[{key:"setRowMajor",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;var s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var u=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var c=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var f=arguments.length>10&&arguments[10]!==undefined?arguments[10]:1;var h=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var p=arguments.length>12&&arguments[12]!==undefined?arguments[12]:0;var d=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var v=arguments.length>14&&arguments[14]!==undefined?arguments[14]:0;var m=arguments.length>15&&arguments[15]!==undefined?arguments[15]:1;return this.set(e,o,l,p,n,a,c,d,r,s,f,v,i,u,h,m)}},{key:"setColumnMajor",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;var s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var u=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var c=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var f=arguments.length>10&&arguments[10]!==undefined?arguments[10]:1;var h=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var p=arguments.length>12&&arguments[12]!==undefined?arguments[12]:0;var d=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var v=arguments.length>14&&arguments[14]!==undefined?arguments[14]:0;var m=arguments.length>15&&arguments[15]!==undefined?arguments[15]:1;return this.set(e,n,r,i,o,a,s,u,l,c,f,h,p,d,v,m)}},{key:"set",value:function t(e,n,r,i,o,a,s,u,l,c,f,h,p,d,v,m){this[0]=e;this[1]=n;this[2]=r;this[3]=i;this[4]=o;this[5]=a;this[6]=s;this[7]=u;this[8]=l;this[9]=c;this[10]=f;this[11]=h;this[12]=p;this[13]=d;this[14]=v;this[15]=m;this.check();return this}},{key:"determinant",value:function t(){return Fe()(this)}},{key:"identity",value:function t(){for(var e=0;e<_n.length;++e){this[e]=_n[e]}this.check();return this}},{key:"fromQuaternion",value:function t(e){Be()(this,e);this.check();return this}},{key:"frustum",value:function t(e){var n=e.left,r=e.right,i=e.bottom,o=e.top,a=e.near,s=e.far;Ue()(this,n,r,i,o,a,s);this.check();return this}},{key:"lookAt",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.eye,r=e.center,i=r===undefined?[0,0,0]:r,o=e.up,a=o===undefined?[0,1,0]:o;ze()(this,n,i,a);this.check();return this}},{key:"ortho",value:function t(e){var n=e.left,r=e.right,i=e.bottom,o=e.top,a=e.near,s=a===undefined?.1:a,u=e.far,l=u===undefined?500:u;Ve()(this,n,r,i,o,s,l);this.check();return this}},{key:"perspective",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.fov,r=n===undefined?45*Math.PI/180:n,i=e.aspect,o=i===undefined?1:i,a=e.near,s=a===undefined?.1:a,u=e.far,l=u===undefined?500:u;if(r>Math.PI*2){throw Error("radians")}Xe()(this,r,o,s,l);this.check();return this}},{key:"transpose",value:function t(){Ze()(this,this);this.check();return this}},{key:"invert",value:function t(){He()(this,this);this.check();return this}},{key:"multiplyLeft",value:function t(e){Je()(this,e,this);this.check();return this}},{key:"multiplyRight",value:function t(e){Je()(this,this,e);this.check();return this}},{key:"rotateX",value:function t(e){Ke()(this,this,e);this.check();return this}},{key:"rotateY",value:function t(e){tn()(this,this,e);this.check();return this}},{key:"rotateZ",value:function t(e){nn()(this,this,e);this.check();return this}},{key:"rotateXYZ",value:function t(e){var n=dn(e,3),r=n[0],i=n[1],o=n[2];return this.rotateX(r).rotateY(i).rotateZ(o)}},{key:"rotateAxis",value:function t(e,n){nn()(this,this,e,n);this.check();return this}},{key:"scale",value:function t(e){on()(this,this,e);this.check();return this}},{key:"translate",value:function t(e){sn()(this,this,e);this.check();return this}},{key:"transformVector2",value:function t(e,n){n=n||new ot;ln()(n,e,this);ke()(rt(n));return n}},{key:"transformVector3",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new qt;n=n||new qt;fn()(n,e,this);ke()(Yt(n));return n}},{key:"transformVector4",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Re;n=n||new Re;pn()(n,e,this);ke()(Ae(n));return n}},{key:"transformVector",value:function t(e,n){switch(e.length){case 2:return this.transformVector2(e,n);case 3:return this.transformVector3(e,n);case 4:return this.transformVector4(e,n);default:throw new Error("Illegal vector")}}},{key:"transformDirection",value:function t(e,n){switch(e.length){case 2:pn()(xn,[e[0],e[1],0,0],this);n=n||new ot;n[0]=xn[0];n[1]=xn[1];break;case 3:pn()(xn,[e[0],e[1],e[2],0],this);n=n||new qt;n[0]=xn[0];n[1]=xn[1];n[2]=xn[2];break;case 4:ke()(e[3]===0);n=n||new Re;pn()(n,e,this);break;default:throw new Error("Illegal vector")}return n}},{key:"transformPoint",value:function t(e,n){switch(e.length){case 2:n=n||new ot;pn()(n,[e[0],e[1],0,1],this);n.length=2;ke()(rt(n));break;case 3:n=n||new qt;pn()(n,[e[0],e[1],e[2],1],this);n.length=3;ke()(Yt(n));break;case 4:ke()(e[3]!==0);n=n||new Re;pn()(n,e,this);ke()(Ae(n));break;default:throw new Error("Illegal vector")}return n}},{key:"ELEMENTS",get:function t(){return 16}},{key:"m00",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"m01",get:function t(){return this[4]},set:function t(e){return this[4]=o(e)}},{key:"m02",get:function t(){return this[8]},set:function t(e){return this[8]=o(e)}},{key:"m03",get:function t(){return this[12]},set:function t(e){return this[12]=o(e)}},{key:"m10",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"m11",get:function t(){return this[5]},set:function t(e){return this[5]=o(e)}},{key:"m12",get:function t(){return this[9]},set:function t(e){return this[9]=o(e)}},{key:"m13",get:function t(){return this[13]},set:function t(e){return this[13]=o(e)}},{key:"m20",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"m21",get:function t(){return this[6]},set:function t(e){return this[6]=o(e)}},{key:"m22",get:function t(){return this[10]},set:function t(e){return this[10]=o(e)}},{key:"m23",get:function t(){return this[14]},set:function t(e){return this[14]=o(e)}},{key:"m30",get:function t(){return this[3]},set:function t(e){return this[3]=o(e)}},{key:"m31",get:function t(){return this[7]},set:function t(e){return this[7]=o(e)}},{key:"m32",get:function t(){return this[11]},set:function t(e){return this[11]=o(e)}},{key:"m33",get:function t(){return this[15]},set:function t(e){return this[15]=o(e)}}]);return e}(A);var En=wn;var Tn=n("jafr");var In=n.n(Tn);var Cn=n("hwBn");var Mn=n.n(Cn);var An=n("hUG8");var Sn=n.n(An);var Rn=n("pqyw");var Ln=n.n(Rn);var kn=n("tAmJ");var Nn=n.n(kn);var Fn=n("sopr");var On=n.n(Fn);var Bn=n("G4xS");var Pn=n.n(Bn);var Un=n("upAl");var Dn=n.n(Un);var zn=n("DVqJ");var jn=n.n(zn);var Vn=n("dXH5");var Gn=n.n(Vn);var Xn=n("S2Cx");var Wn=n.n(Xn);var Zn=n("+WQ+");var Qn=n.n(Zn);var Hn=n("XAEG");var Yn=n.n(Hn);var Jn=n("PYrt");var qn=n.n(Jn);var Kn=n("jUfW");var $n=n.n(Kn);var tr=n("o+Ph");var er=n.n(tr);var nr=n("/JMw");var rr=n.n(nr);var ir=n("WFvm");var or=n.n(ir);var ar=n("NAGG");var sr=n.n(ar);var ur=n("qZWb");var lr=n.n(ur);var cr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function fr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function hr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function pr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function dr(t){return t.length===4&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number.isFinite(t[2])&&Number.isFinite(t[3])}var vr=function(t){pr(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;fr(this,e);var o=hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(Array.isArray(t)&&arguments.length===1){o.copy(t)}else{o.set(t,n,r,i)}return o}cr(e,[{key:"fromMatrix3",value:function t(e){In()(this,e);this.check();return this}},{key:"fromValues",value:function t(e,n,r,i){return this.set(e,n,r,i)}},{key:"identity",value:function t(){Mn()(this);this.check();return this}},{key:"length",value:function t(){return Sn()(this)}},{key:"squaredLength",value:function t(e){return Ln()(this)}},{key:"dot",value:function t(e,n){if(n!==undefined){throw new Error("Quaternion.dot only takes one argument")}return Nn()(this,e)}},{key:"rotationTo",value:function t(e,n){On()(this,e,n);this.check();return this}},{key:"add",value:function t(e,n){if(n!==undefined){throw new Error("Quaternion.add only takes one argument")}Pn()(this,e);this.check();return this}},{key:"calculateW",value:function t(){Dn()(this,this);this.check();return this}},{key:"conjugate",value:function t(){jn()(this,this);this.check();return this}},{key:"invert",value:function t(){Gn()(this,this);this.check();return this}},{key:"lerp",value:function t(e,n,r){Wn()(this,e,n,r);this.check();return this}},{key:"multiply",value:function t(e,n){if(n!==undefined){throw new Error("Quaternion.multiply only takes one argument")}Qn()(this,this,n);this.check();return this}},{key:"normalize",value:function t(){Yn()(this,this);this.check();return this}},{key:"rotateX",value:function t(e){qn()(this,this,e);this.check();return this}},{key:"rotateY",value:function t(e){$n()(this,this,e);this.check();return this}},{key:"rotateZ",value:function t(e){er()(this,this,e);this.check();return this}},{key:"scale",value:function t(e){rr()(this,this,e);this.check();return this}},{key:"set",value:function t(e,n,r,i){or()(this,e,n,r,i);this.check();return this}},{key:"setAxisAngle",value:function t(e,n){sr()(this,e,n);this.check();return this}},{key:"slerp",value:function t(e,n,r){lr()(this,e,n,r);this.check();return this}},{key:"ELEMENTS",get:function t(){return 4}},{key:"x",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"y",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"z",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"w",get:function t(){return this[3]},set:function t(e){return this[3]=o(e)}}]);return e}(A);var mr=vr;var gr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function yr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _r(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function br(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xr="Unknown Euler angle order";var wr=.99999;function Er(t){return t>=0&&t<6}function Tr(t){if(t<0&&t>=6){throw new Error(xr)}return t}var Ir=function(t){br(e,t);gr(e,[{key:"ELEMENTS",get:function t(){return 4}}],[{key:"rotationOrder",value:function t(n){return e.RotationOrders[n]}},{key:"ZYX",get:function t(){return 0}},{key:"YXZ",get:function t(){return 1}},{key:"XZY",get:function t(){return 2}},{key:"ZXY",get:function t(){return 3}},{key:"YZX",get:function t(){return 4}},{key:"XYZ",get:function t(){return 5}},{key:"RollPitchYaw",get:function t(){return 0}},{key:"DefaultOrder",get:function t(){return e.ZYX}},{key:"RotationOrders",get:function t(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e.DefaultOrder;yr(this,e);var o=_r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(arguments.length>0&&Array.isArray(arguments[0])){o.fromVector3.apply(o,arguments)}else{o.set(t,n,r,i)}return o}gr(e,[{key:"copy",value:function t(e){for(var n=0;n<3;++n){this[n]=e[n]}this[3]=Number.isFinite(e[3])||this.order;this.check();return this}},{key:"set",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments[3];this[0]=e;this[1]=n;this[2]=r;this[3]=Number.isFinite(i)?i:this[3];this.check();return this}},{key:"validate",value:function t(){return Er(this[3])&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2])}},{key:"toArray",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e[n]=this[0];e[n+1]=this[1];e[n+2]=this[2];return e}},{key:"toArray4",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e[n]=this[0];e[n+1]=this[1];e[n+2]=this[2];e[n+3]=this[3];return e}},{key:"toVector3",value:function t(e){if(e){return e.set(this[0],this[1],this[2])}return new qt(this[0],this[1],this[2])}},{key:"fromVector3",value:function t(e,n){return this.set(e[0],e[1],e[2],Number.isFinite(n)?n:this[3])}},{key:"fromArray",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this[0]=e[0+n];this[1]=e[1+n];this[2]=e[2+n];if(e[3]!==undefined){this[3]=e[3]}this.check();return this}},{key:"fromRollPitchYaw",value:function t(n,r,i){return this.set(n,r,i,e.ZYX)}},{key:"fromQuaternion",value:function t(e,n){this._fromRotationMatrix(En.fromQuaternion(e),n);this.check();return this}},{key:"fromRotationMatrix",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.DefaultOrder;this._fromRotationMatrix(n,r);this.check();return this}},{key:"getRotationMatrix",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new En;this._getRotationMatrix(e);return e}},{key:"getQuaternion",value:function t(){var n=new mr;switch(this[4]){case e.XYZ:return n.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case e.YXZ:return n.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case e.ZXY:return n.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case e.ZYX:return n.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case e.YZX:return n.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case e.XZY:return n.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(xr)}}},{key:"_fromRotationMatrix",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.DefaultOrder;var i=n.elements;var o=i[0],a=i[4],s=i[8];var u=i[1],l=i[5],c=i[9];var f=i[2],h=i[6],p=i[10];r=r||this[3];switch(r){case e.XYZ:this[1]=Math.asin(b(s,-1,1));if(Math.abs(s)<wr){this[0]=Math.atan2(-c,p);this[2]=Math.atan2(-a,o)}else{this[0]=Math.atan2(h,l);this[2]=0}break;case e.YXZ:this[0]=Math.asin(-b(c,-1,1));if(Math.abs(c)<wr){this[1]=Math.atan2(s,p);this[2]=Math.atan2(u,l)}else{this[1]=Math.atan2(-f,o);this[2]=0}break;case e.ZXY:this[0]=Math.asin(b(h,-1,1));if(Math.abs(h)<wr){this[1]=Math.atan2(-f,p);this[2]=Math.atan2(-a,l)}else{this[1]=0;this[2]=Math.atan2(u,o)}break;case e.ZYX:this[1]=Math.asin(-b(f,-1,1));if(Math.abs(f)<wr){this[0]=Math.atan2(h,p);this[2]=Math.atan2(u,o)}else{this[0]=0;this[2]=Math.atan2(-a,l)}break;case e.YZX:this[2]=Math.asin(b(u,-1,1));if(Math.abs(u)<wr){this[0]=Math.atan2(-c,l);this[1]=Math.atan2(-f,o)}else{this[0]=0;this[1]=Math.atan2(s,p)}break;case e.XZY:this[2]=Math.asin(-b(a,-1,1));if(Math.abs(a)<wr){this[0]=Math.atan2(h,l);this[1]=Math.atan2(s,o)}else{this[0]=Math.atan2(-c,p);this[1]=0}break;default:throw new Error(xr)}this[3]=r;return this}},{key:"_getRotationMatrix",value:function t(){var n=new En;var r=this.x,i=this.y,o=this.z;var a=Math.cos(r);var s=Math.cos(i);var u=Math.cos(o);var l=Math.sin(r);var c=Math.sin(i);var f=Math.sin(o);switch(this[3]){case e.XYZ:{var h=a*u,p=a*f,d=l*u,v=l*f;n[0]=s*u;n[4]=-s*f;n[8]=c;n[1]=p+d*c;n[5]=h-v*c;n[9]=-l*s;n[2]=v-h*c;n[6]=d+p*c;n[10]=a*s;break}case e.YXZ:{var m=s*u,g=s*f,y=c*u,_=c*f;n[0]=m+_*l;n[4]=y*l-g;n[8]=a*c;n[1]=a*f;n[5]=a*u;n[9]=-l;n[2]=g*l-y;n[6]=_+m*l;n[10]=a*s;break}case e.ZXY:{var b=s*u,x=s*f,w=c*u,E=c*f;n[0]=b-E*l;n[4]=-a*f;n[8]=w+x*l;n[1]=x+w*l;n[5]=a*u;n[9]=E-b*l;n[2]=-a*c;n[6]=l;n[10]=a*s;break}case e.ZYX:{var T=a*u,I=a*f,C=l*u,M=l*f;n[0]=s*u;n[4]=C*c-I;n[8]=T*c+M;n[1]=s*f;n[5]=M*c+T;n[9]=I*c-C;n[2]=-c;n[6]=l*s;n[10]=a*s;break}case e.YZX:{var A=a*s,S=a*c,R=l*s,L=l*c;n[0]=s*u;n[4]=L-A*f;n[8]=R*f+S;n[1]=f;n[5]=a*u;n[9]=-l*u;n[2]=-c*u;n[6]=S*f+R;n[10]=A-L*f;break}case e.XZY:{var k=a*s,N=a*c,F=l*s,O=l*c;n[0]=s*u;n[4]=-f;n[8]=c*u;n[1]=k*f+O;n[5]=a*u;n[9]=N*f-F;n[2]=F*f-N;n[6]=l*u;n[10]=O*f+k;break}default:throw new Error(xr)}n[3]=0;n[7]=0;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return this}},{key:"x",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"y",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"z",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"alpha",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"beta",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"gamma",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"phi",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"theta",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"psi",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"roll",get:function t(){return this[0]},set:function t(e){return this[0]=o(e)}},{key:"pitch",get:function t(){return this[1]},set:function t(e){return this[1]=o(e)}},{key:"yaw",get:function t(){return this[2]},set:function t(e){return this[2]=o(e)}},{key:"order",get:function t(){return this[3]},set:function t(e){return this[3]=Tr(e)}}]);return e}(A);var Cr=Ir;var Mr=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Ar=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Sr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Rr=1e-6;var Lr=6371e3;var kr=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.phi,r=e.theta,i=e.radius,o=e.bearing,a=e.pitch,s=e.altitude,u=e.radiusScale,l=u===undefined?Lr:u;Sr(this,t);if(arguments.length===0){this.phi=0;this.theta=0;this.radius=1}else if(Number.isFinite(n)||Number.isFinite(r)){this.phi=n||0;this.theta=r||0}else if(Number.isFinite(o)||Number.isFinite(a)){this.bearing=o||0;this.pitch=a||0}this.radius=i||1;this.radiusScale=l||1;this.check()}Ar(t,[{key:"toString",value:function t(){return this.formatString(r)}},{key:"formatString",value:function t(e){var n=e.printTypes,r=e.printDegrees;var i=s;return(n?"Spherical":"")+"[rho:"+i(this.radius)+",theta:"+i(this.theta)+",phi:"+i(this.phi)+"]"}},{key:"equals",value:function t(e){return x(this.radius,e.radius)&&x(this.theta,e.theta)&&x(this.phi,e.phi)}},{key:"exactEquals",value:function t(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"set",value:function t(e,n,r){this.radius=e;this.phi=n;this.theta=r;return this.check()}},{key:"clone",value:function t(){return(new this.constructor).copy(this)}},{key:"copy",value:function t(e){this.radius=e.radius;this.phi=e.phi;this.theta=e.theta;return this.check()}},{key:"fromLngLatZ",value:function t(e){var n=Mr(e,3),r=n[0],i=n[1],o=n[2];this.radius=1+o/this.radiusScale;this.phi=h(i);this.theta=h(r)}},{key:"fromVector3",value:function t(e){this.radius=lt()(e);if(this.radius===0){this.theta=0;this.phi=0}else{this.theta=Math.atan2(e[0],e[1]);this.phi=Math.acos(b(e[2]/this.radius,-1,1))}return this.check()}},{key:"toVector3",value:function t(){return new qt(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function t(){this.phi=Math.max(Rr,Math.min(Math.PI-Rr,this.phi))}},{key:"check",value:function t(){ke()(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0);return this}},{key:"bearing",get:function t(){return 180-p(this.phi)},set:function t(e){this.phi=Math.PI-h(e)}},{key:"pitch",get:function t(){return p(this.theta)},set:function t(e){this.theta=h(e)}},{key:"longitude",get:function t(){return p(this.phi)}},{key:"latitude",get:function t(){return p(this.theta)}},{key:"lng",get:function t(){return p(this.phi)}},{key:"lat",get:function t(){return p(this.theta)}},{key:"z",get:function t(){return(this.radius-1)*this.radiusScale}}]);return t}();var Nr=kr;n.d(e,"experimental",function(){return Fr});n.d(e,"Vector2",function(){return ot});n.d(e,"Vector3",function(){return qt});n.d(e,"Vector4",function(){return Re});n.d(e,"Matrix4",function(){return En});n.d(e,"Quaternion",function(){return mr});n.d(e,"config",function(){return r});n.d(e,"checkNumber",function(){return o});n.d(e,"configure",function(){return i});n.d(e,"formatValue",function(){return s});n.d(e,"isArray",function(){return l});n.d(e,"clone",function(){return c});n.d(e,"radians",function(){return h});n.d(e,"degrees",function(){return p});n.d(e,"sin",function(){return d});n.d(e,"cos",function(){return v});n.d(e,"tan",function(){return m});n.d(e,"asin",function(){return g});n.d(e,"acos",function(){return y});n.d(e,"atan",function(){return _});n.d(e,"clamp",function(){return b});n.d(e,"equals",function(){return x});var Fr={Euler:Cr,SphericalCoordinates:Nr}},"7k+L":function(t,e,n){"use strict";var r=n("jpCA");var i=n("N+Om");var o=n.n(i);function a(t,e){if(typeof e!=="string"){return e}var n=Number(e);if(!isNaN(n)){return n}e=e.replace(/^.*\./,"");var r=t[e];o()(r!==undefined,"Accessing undefined constant GL."+e);return r}function s(t,e){e=Number(e);for(var n in t){if(t[n]===e){return"gl."+n}}return String(e)}function u(t,e){o()(e!==undefined,"undefined key");e=Number(e);for(var n in t){if(t[n]===e){return"gl."+n}}return String(e)}e["c"]=c;e["d"]=f;n.d(e,"a",function(){return r["a"]});var l=e["b"]=r["a"];function c(t){return a(r["a"],t)}function f(t){return s(r["a"],t)}function h(t){return u(r["a"],t)}},"7puw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("7k+L");n.d(e,"GL",function(){return r["a"]});n.d(e,"default",function(){return r["a"]});var i=n("kpIg");n.d(e,"Image",function(){return i["a"]});n.d(e,"WebGLRenderingContext",function(){return i["h"]});n.d(e,"WebGLProgram",function(){return i["f"]});n.d(e,"WebGLShader",function(){return i["i"]});n.d(e,"WebGLBuffer",function(){return i["d"]});n.d(e,"WebGLFramebuffer",function(){return i["e"]});n.d(e,"WebGLRenderbuffer",function(){return i["g"]});n.d(e,"WebGLTexture",function(){return i["k"]});n.d(e,"WebGLUniformLocation",function(){return i["l"]});n.d(e,"WebGLActiveInfo",function(){return i["c"]});n.d(e,"WebGLShaderPrecisionFormat",function(){return i["j"]});n.d(e,"WebGL2RenderingContext",function(){return i["b"]});n.d(e,"webGLTypesAvailable",function(){return i["m"]});var o=n("u/dy");n.d(e,"isWebGL",function(){return o["g"]});n.d(e,"isWebGL2",function(){return o["h"]});n.d(e,"createGLContext",function(){return o["e"]});n.d(e,"deleteGLContext",function(){return o["f"]});var a=n("1Yfb");n.d(e,"withParameters",function(){return a["c"]});n.d(e,"resetParameters",function(){return a["a"]});var s=n("bnoI");n.d(e,"getContextInfo",function(){return s["a"]});var u=n("Rc6/");n.d(e,"Buffer",function(){return u["a"]});var l=n("jgbb");n.d(e,"Shader",function(){return l["default"]});n.d(e,"VertexShader",function(){return l["b"]});n.d(e,"FragmentShader",function(){return l["a"]});var c=n("nXN2");n.d(e,"Program",function(){return c["a"]});var f=n("RG0x");n.d(e,"Framebuffer",function(){return f["a"]});var h=n("uZnM");n.d(e,"Renderbuffer",function(){return h["a"]});var p=n("v0R9");n.d(e,"Texture2D",function(){return p["a"]});var d=n("iXdV");n.d(e,"TextureCube",function(){return d["a"]});var v=n("tKKN");n.d(e,"draw",function(){return v["a"]});var m=n("fUho");n.d(e,"clear",function(){return m["a"]});var g=n("3EVR");n.d(e,"readPixels",function(){return g["a"]});n.d(e,"readPixelsFromBuffer",function(){return g["readPixelsFromBuffer"]});var y=n("fmJ1");n.d(e,"parseUniformName",function(){return y["d"]});n.d(e,"getUniformSetter",function(){return y["b"]});n.d(e,"checkUniformValues",function(){return y["a"]});var _=n("qBE+");n.d(e,"VertexArray",function(){return _["a"]})},"7sUI":function(t,e){t.exports=n;function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];if(e!==t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[4]=o*i+l*r;t[5]=a*i+c*r;t[6]=s*i+f*r;t[7]=u*i+h*r;t[8]=l*i-o*r;t[9]=c*i-a*r;t[10]=f*i-s*r;t[11]=h*i-u*r;return t}},"8ANE":function(t,e){t.exports=function(t){return typeof t==="object"?t!==null:typeof t==="function"}},"8CPJ":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];return t}},"8PxU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.enhancePointerEventInput=u;e.enhanceMouseInput=l;var r=1;var i=2;var o=4;var a={mousedown:r,mousemove:i,mouseup:o};function s(t,e){for(var n=0;n<t.length;n++){if(e(t[n])){return true}}return false}function u(t){var e=t.prototype.handler;t.prototype.handler=function t(n){var r=this.store;if(n.button>0){if(!s(r,function(t){return t.pointerId===n.pointerId})){r.push(n)}}e.call(this,n)}}function l(t){t.prototype.handler=function t(e){var n=a[e.type];if(n&r&&e.button>=0){this.pressed=true}if(n&i&&e.which===0){n=o}if(!this.pressed){return}if(n&o){this.pressed=false}this.callback(this.manager,n,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e})}}},"8fSE":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];t[2]=e[2]+n[2];return t}},"8w1/":function(t,e){t.exports=n;function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},"8zbR":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=window&&window.addEventListener;var o=new Map;var a=function t(e,n){var r=o.get(e);var i=Date.now();if(r&&i-r<n){return true}o.set(e,i);return false};var s=function t(e){return function(t,n){if(n&&(typeof n==="undefined"?"undefined":r(n))==="object"&&e.has(n)){return}e.add(n);var i=Object.prototype.toString.call(n).slice(8,-1).includes("Array");if(i){return Array.prototype.slice.call(n,0,20)}return n}};var u=function t(){return window&&window.__SEER_INITIALIZED__};var l=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!i||!u()){return}var r=new Set;var o=JSON.stringify(n,s(r));try{window.postMessage({type:e,payload:o,source:"seer-agent"},"*")}catch(t){if(a("seer-log",2e3)){return}console.log(t)}};var c=new Map;var f=function t(e){if(!e||!e.data||e.data.source!=="seer-core"){return}var n=e.data,r=n.type,i=n.payload;var o=c.get(r);if(o){o.forEach(function(t){return t(i)})}};var h=function t(){if(!i||window.__SEER_LISTENER__){return}window.addEventListener("message",f);window.__SEER_LISTENER__=true};var p=function t(){if(!i||!window.__SEER_LISTENER__){return}window.removeEventListener("message",f);delete window.__SEER_LISTENER__};var d=function t(e,n){if(!u){return}if(!e||!n){throw new Error("Please provide a type and callback")}if(!c.has(e)){c.set(e,[])}if(!window.__SEER_LISTENER__){h()}c.get(e).push(n)};var v=function t(e){c.forEach(function(t,n){c.set(n,t.filter(function(t){return t!==e}))})};var m=function t(e,n){return l("LIST",{key:e,data:n})};var g=function t(e,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return l("LIST_ITEM",{key:e,itemKey:n,data:r})};var y=function t(e,n,r,i){return l("UPDATE_ITEM",{key:e,itemKey:n,path:r,data:i})};var _=function t(e,n,r){return l("MULTI_UPDATE_ITEM",{key:e,itemKey:n,array:r})};var b=function t(e,n){return l("DELETE_ITEM",{key:e,itemKey:n})};var x=function t(e,n,r){return l("ADD_LOG",{key:e,itemKey:n,msg:r})};e.default={send:l,throttle:a,list:m,listItem:g,updateItem:y,multiUpdate:_,deleteItem:b,addLog:x,isReady:u,listeners:c,listenFor:d,removeListener:v,init:h,clean:p}},"9MbE":function(t,e,n){var r=n("8ANE");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&typeof(n=t.toString)=="function"&&!r(i=n.call(t)))return i;if(typeof(n=t.valueOf)=="function"&&!r(i=n.call(t)))return i;if(!e&&typeof(n=t.toString)=="function"&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"9xiO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("w2X3");var i=n("amPU");var o=n("3eDX");n.d(e,"global",function(){return i["a"]});var a=true?"4.1.0-beta.2":"untranspiled source";var s="Assign luma.log.priority in console to control logging: 0: none, 1: minimal, 2: verbose, 3: attribute/uniforms, 4: gl logs\nluma.log.break[], set to gl funcs, luma.log.profile[] set to model names";if(i["a"].luma&&i["a"].luma.VERSION!==a){throw new Error("luma.gl - multiple VERSIONs detected: "+i["a"].luma.VERSION+" vs "+a)}if(!i["a"].luma){if(r["a"]){console.log("luma.gl "+a+" - "+s)}i["a"].luma=i["a"].luma||{VERSION:a,version:a,log:o["a"],stats:{},globals:{headlessGL:null,headlessTypes:null,modules:{},nodeIO:{}}}}e["default"]=i["a"].luma},A3B4:function(t,e){t.exports=n;function n(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}},AMV0:function(t,e,n){t.exports={default:n("NClK"),__esModule:true}},AmSC:function(t,e,n){"use strict";e["a"]=g;e["c"]=y;e["b"]=_;var r=n("jpCA");var i=n("FenM");var o=n("U/Fy");var a=n("N+Om");var s=n.n(a);var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var f=function t(e){return Array.isArray(e)||ArrayBuffer.isView(e)?e.slice():e};var h=function t(e,n){var r=Array.isArray(e)||ArrayBuffer.isView(e);var i=Array.isArray(n)||ArrayBuffer.isView(n);if(r&&i&&e.length===n.length){for(var o=0;o<e.length;++o){if(e[o]!==n[o]){return false}}return true}return e===n};var p={enable:function t(e,n){return e(c({},n,true))},disable:function t(e,n){return e(c({},n,false))},pixelStorei:function t(e,n,r){return e(c({},n,r))},hint:function t(e,n,r){return e(c({},n,r))},bindFramebuffer:function t(e,n,i){var o;switch(n){case r["a"].FRAMEBUFFER:return e((o={},c(o,r["a"].DRAW_FRAMEBUFFER_BINDING,i),c(o,r["a"].READ_FRAMEBUFFER_BINDING,i),o));case r["a"].DRAW_FRAMEBUFFER:return e(c({},r["a"].DRAW_FRAMEBUFFER_BINDING,i));case r["a"].READ_FRAMEBUFFER:return e(c({},r["a"].READ_FRAMEBUFFER_BINDING,i));default:return null}},blendColor:function t(e,n,i,o,a){return e(c({},r["a"].BLEND_COLOR,new Float32Array([n,i,o,a])))},blendEquation:function t(e,n){var i;return e((i={},c(i,r["a"].BLEND_EQUATION_RGB,n),c(i,r["a"].BLEND_EQUATION_ALPHA,n),i))},blendEquationSeparate:function t(e,n,i){var o;return e((o={},c(o,r["a"].BLEND_EQUATION_RGB,n),c(o,r["a"].BLEND_EQUATION_ALPHA,i),o))},blendFunc:function t(e,n,i){var o;return e((o={},c(o,r["a"].BLEND_SRC_RGB,n),c(o,r["a"].BLEND_DST_RGB,i),c(o,r["a"].BLEND_SRC_ALPHA,n),c(o,r["a"].BLEND_DST_ALPHA,i),o))},blendFuncSeparate:function t(e,n,i,o,a){var s;return e((s={},c(s,r["a"].BLEND_SRC_RGB,n),c(s,r["a"].BLEND_DST_RGB,i),c(s,r["a"].BLEND_SRC_ALPHA,o),c(s,r["a"].BLEND_DST_ALPHA,a),s))},clearColor:function t(e,n,i,o,a){return e(c({},r["a"].COLOR_CLEAR_VALUE,new Float32Array([n,i,o,a])))},clearDepth:function t(e,n){return e(c({},r["a"].DEPTH_CLEAR_VALUE,n))},clearStencil:function t(e,n){return e(c({},r["a"].STENCIL_CLEAR_VALUE,n))},colorMask:function t(e,n,i,o,a){return e(c({},r["a"].COLOR_WRITEMASK,[n,i,o,a]))},cullFace:function t(e,n){return e(c({},r["a"].CULL_FACE_MODE,n))},depthFunc:function t(e,n){return e(c({},r["a"].DEPTH_FUNC,n))},depthRange:function t(e,n,i){return e(c({},r["a"].DEPTH_RANGE,new Float32Array([n,i])))},depthMask:function t(e,n){return e(c({},r["a"].DEPTH_WRITEMASK,n))},frontFace:function t(e,n){return e(c({},r["a"].FRONT_FACE,n))},lineWidth:function t(e,n){return e(c({},r["a"].LINE_WIDTH,n))},polygonOffset:function t(e,n,i){var o;return e((o={},c(o,r["a"].POLYGON_OFFSET_FACTOR,n),c(o,r["a"].POLYGON_OFFSET_UNITS,i),o))},sampleCoverage:function t(e,n,i){var o;return e((o={},c(o,r["a"].SAMPLE_COVERAGE_VALUE,n),c(o,r["a"].SAMPLE_COVERAGE_INVERT,i),o))},scissor:function t(e,n,i,o,a){return e(c({},r["a"].SCISSOR_BOX,new Int32Array([n,i,o,a])))},stencilMask:function t(e,n){var i;return e((i={},c(i,r["a"].STENCIL_WRITEMASK,n),c(i,r["a"].STENCIL_BACK_WRITEMASK,n),i))},stencilMaskSeparate:function t(e,n,i){return e(c({},n===r["a"].FRONT?r["a"].STENCIL_WRITEMASK:r["a"].STENCIL_BACK_WRITEMASK,i))},stencilFunc:function t(e,n,i,o){var a;return e((a={},c(a,r["a"].STENCIL_FUNC,n),c(a,r["a"].STENCIL_REF,i),c(a,r["a"].STENCIL_VALUE_MASK,o),c(a,r["a"].STENCIL_BACK_FUNC,n),c(a,r["a"].STENCIL_BACK_REF,i),c(a,r["a"].STENCIL_BACK_VALUE_MASK,o),a))},stencilFuncSeparate:function t(e,n,i,o,a){var s;return e((s={},c(s,n===r["a"].FRONT?r["a"].STENCIL_FUNC:r["a"].STENCIL_BACK_FUNC,i),c(s,n===r["a"].FRONT?r["a"].STENCIL_REF:r["a"].STENCIL_BACK_REF,o),c(s,n===r["a"].FRONT?r["a"].STENCIL_VALUE_MASK:r["a"].STENCIL_BACK_VALUE_MASK,a),s))},stencilOp:function t(e,n,i,o){var a;return e((a={},c(a,r["a"].STENCIL_FAIL,n),c(a,r["a"].STENCIL_PASS_DEPTH_FAIL,i),c(a,r["a"].STENCIL_PASS_DEPTH_PASS,o),c(a,r["a"].STENCIL_BACK_FAIL,n),c(a,r["a"].STENCIL_BACK_PASS_DEPTH_FAIL,i),c(a,r["a"].STENCIL_BACK_PASS_DEPTH_PASS,o),a))},stencilOpSeparate:function t(e,n,i,o,a){var s;return e((s={},c(s,n===r["a"].FRONT?r["a"].STENCIL_FAIL:r["a"].STENCIL_BACK_FAIL,i),c(s,n===r["a"].FRONT?r["a"].STENCIL_PASS_DEPTH_FAIL:r["a"].STENCIL_BACK_PASS_DEPTH_FAIL,o),c(s,n===r["a"].FRONT?r["a"].STENCIL_PASS_DEPTH_PASS:r["a"].STENCIL_BACK_PASS_DEPTH_PASS,a),s))},viewport:function t(e,n,i,o,a){return e(c({},r["a"].VIEWPORT,new Int32Array([n,i,o,a])))}};function d(t,e){var n=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?undefined:arguments[0];if(!(e in t.state.cache)){t.state.cache[e]=n.apply(undefined,arguments)}return t.state.enable?t.state.cache[e]:n.apply(undefined,arguments)};Object.defineProperty(t[e],"name",{value:e+"-from-cache",configurable:false})}function v(t,e,n){var r=t[e].bind(t);t[e]=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++){o[a]=arguments[a]}var s=n.apply(undefined,[t.state._updateCache].concat(o)),u=s.valueChanged,l=s.oldValue;if(u){var c;(c=t.state).log.apply(c,["gl."+e].concat(o));r.apply(undefined,o)}return l};Object.defineProperty(t[e],"name",{value:e+"-to-cache",configurable:false})}var m=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.copyState,o=r===undefined?false:r,a=n.log,s=a===undefined?function(){}:a;l(this,t);this.gl=e;this.stateStack=[];this.enable=true;this.cache=o?Object(i["b"])(e):Object.assign({},i["a"]);this.log=s;this._updateCache=this._updateCache.bind(this);Object.seal(this)}u(t,[{key:"push",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.stateStack.push({})}},{key:"pop",value:function t(){s()(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(i["d"])(this.gl,e,this.cache);this.stateStack.pop()}},{key:"_updateCache",value:function t(e){var n=false;var r=void 0;var i=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var o in e){s()(o!==undefined);if(!h(e[o],this.cache[o])){n=true;r=this.cache[o];if(i&&!(o in i)){i[o]=this.cache[o]}this.cache[o]=e[o]}}return{valueChanged:n,oldValue:r}}}]);return t}();function g(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.enable,r=n===undefined?true:n,i=e.copyState;s()(i!==undefined);if(!t.state){Object(o["a"])(t);t.state=new m(t,{copyState:i,enable:r});for(var a in p){var u=p[a];v(t,a,u)}d(t,"getParameter");d(t,"isEnabled")}t.state.enable=r;return t}function y(t){s()(t.state);t.state.push()}function _(t){s()(t.state);t.state.pop()}},Aq0r:function(t,e){t.exports=function(){}},B5V0:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},BDpb:function(t,e){t.exports=n;function n(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);t[0]=o/n;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=o;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=(i+r)*a;t[11]=-1;t[12]=0;t[13]=0;t[14]=2*i*r*a;t[15]=0;return t}},BEQ0:function(t,e,n){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function a(t){if(t===null||t===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function s(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if(Object.getOwnPropertyNames(t)[0]==="5"){return false}var e={};for(var n=0;n<10;n++){e["_"+String.fromCharCode(n)]=n}var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if(r.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(t){return false}}t.exports=s()?Object.assign:function(t,e){var n;var s=a(t);var u;for(var l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n){if(i.call(n,c)){s[c]=n[c]}}if(r){u=r(n);for(var f=0;f<u.length;f++){if(o.call(n,u[f])){s[u[f]]=n[u[f]]}}}}return s}},BQO6:function(t,e,n){n("tz60");n("+3lO");t.exports=n("4DQ7").f("iterator")},C4MV:function(t,e,n){t.exports={default:n("rKx+"),__esModule:true}},Cjnd:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;return t}},CrXW:function(t,e){t.exports=n;function n(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);t[0]=-2*s;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=-2*u;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=2*l;t[11]=0;t[12]=(e+n)*s;t[13]=(i+r)*u;t[14]=(a+o)*l;t[15]=1;return t}},CrZV:function(t,e){t.exports=n;function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];if(e!==t){t[4]=e[4];t[5]=e[5];t[6]=e[6];t[7]=e[7];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[0]=o*i-l*r;t[1]=a*i-c*r;t[2]=s*i-f*r;t[3]=u*i-h*r;t[8]=o*r+l*i;t[9]=a*r+c*i;t[10]=s*r+f*i;t[11]=u*r+h*i;return t}},CvYh:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,p=i*s,d=i*u,v=o*a,m=o*s,g=o*u;t[0]=1-f-d;t[1]=c+g;t[2]=h-m;t[3]=0;t[4]=c-g;t[5]=1-l-d;t[6]=p+v;t[7]=0;t[8]=h+m;t[9]=p-v;t[10]=1-l-f;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t}},"D+Ee":function(t,e){t.exports=n;function n(t,e){t[0]=1/e[0];t[1]=1/e[1];t[2]=1/e[2];return t}},DVqJ:function(t,e){t.exports=n;function n(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];t[3]=e[3];return t}},Dd8w:function(t,e,n){"use strict";e.__esModule=true;var r=n("woOf");var i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t}},DqEI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.GESTURE_EVENT_ALIASES=e.EVENT_RECOGNIZER_MAP=e.INPUT_EVENT_TYPES=e.BASIC_EVENT_ALIASES=e.RECOGNIZER_FALLBACK_MAP=e.RECOGNIZER_COMPATIBLE_MAP=e.RECOGNIZERS=undefined;var r=n("c9c3");var i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=e.RECOGNIZERS=i.default?[[i.default.Rotate,{enable:false}],[i.default.Pinch,{enable:false}],[i.default.Swipe,{enable:false}],[i.default.Pan,{threshold:0,enable:false}],[i.default.Press,{enable:false}],[i.default.Tap,{event:"doubletap",taps:2,enable:false}],[i.default.Tap,{enable:false}]]:null;var s=e.RECOGNIZER_COMPATIBLE_MAP={rotate:["pinch"]};var u=e.RECOGNIZER_FALLBACK_MAP={doubletap:["tap"]};var l=e.BASIC_EVENT_ALIASES={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"};var c=e.INPUT_EVENT_TYPES={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel","DOMMouseScroll"]};var f=e.EVENT_RECOGNIZER_MAP={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"};var h=e.GESTURE_EVENT_ALIASES={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"}},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(t){if(typeof window==="object")n=window}t.exports=n},DvwR:function(t,e,n){var r=n("x//u");var i=n("ksFB");var o=n("PbQV")(false);var a=n("+SdG")("IE_PROTO");t.exports=function(t,e){var n=i(t);var s=0;var u=[];var l;for(l in n)if(l!=a)r(n,l)&&u.push(l);while(e.length>s)if(r(n,l=e[s++])){~o(u,l)||u.push(l)}return u}},ER4G:function(t,e,n){"use strict";var r=n("diIw");var i=n("7VzN");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function t(e){var n=e.id,o=e.display,a=o===undefined?true:o;u(this,t);this.position=new i["Vector3"];this.rotation=new i["Vector3"];this.scale=new i["Vector3"](1,1,1);this.matrix=new i["Matrix4"];this.id=n||Object(r["uid"])(this.constructor.name);this.display=true;this.userData={}}s(t,[{key:"setPosition",value:function t(e){a()(e.length===3,"setPosition requires vector argument");this.position=e;return this}},{key:"setRotation",value:function t(e){a()(e.length===3,"setRotation requires vector argument");this.rotation=e;return this}},{key:"setScale",value:function t(e){a()(e.length===3,"setScale requires vector argument");this.scale=e;return this}},{key:"setMatrixComponents",value:function t(e){var n=e.position,r=e.rotation,i=e.scale,o=e.update,a=o===undefined?true:o;if(n){this.setPosition(n)}if(r){this.setRotation(r)}if(i){this.setScale(i)}if(a){this.updateMatrix()}return this}},{key:"updateMatrix",value:function t(){var e=this.position;var n=this.rotation;var r=this.scale;this.matrix.identity();this.matrix.translate(e);this.matrix.rotateXYZ(n);this.matrix.scale(r);return this}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.position,r=e.rotation,i=e.scale;if(n){this.setPosition(n)}if(r){this.setRotation(r)}if(i){this.setScale(i)}this.updateMatrix();return this}},{key:"getCoordinateUniforms",value:function t(e,n){a()(e);n=n||this.matrix;var r=new i["Matrix4"](e).multiplyRight(n);var o=r.invert();var s=o.transpose();return{viewMatrix:e,modelMatrix:n,objectMatrix:n,worldMatrix:r,worldInverseMatrix:o,worldInverseTransposeMatrix:s}}},{key:"transform",value:function t(){if(!this.parent){this.endPosition.set(this.position);this.endRotation.set(this.rotation);this.endScale.set(this.scale)}else{var e=this.parent;this.endPosition.set(this.position.add(e.endPosition));this.endRotation.set(this.rotation.add(e.endRotation));this.endScale.set(this.scale.add(e.endScale))}var n=this.children;for(var r=0;r<n.length;++r){n[r].transform()}return this}}]);return t}();e["a"]=l},EgE0:function(t,e){t.exports=n;function n(t,e,n,r){var i=e[0],o=e[1];t[0]=i+r*(n[0]-i);t[1]=o+r*(n[1]-o);return t}},Eif7:function(t,e,n){n("JyN8");t.exports=n("iANj").Object.assign},FK0v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("KiH5");var i='// EXTERNAL CONSTANTS: these must match JavaScript constants in "src/lib/constants.js"\nconst float COORDINATE_SYSTEM_IDENTITY = 0.;\nconst float COORDINATE_SYSTEM_LNG_LAT = 1.;\nconst float COORDINATE_SYSTEM_METER_OFFSETS = 2.;\n\nuniform float project_uCoordinateSystem;\nuniform float project_uScale;\nuniform vec3 project_uPixelsPerUnit;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\n\n//\n// Scaling offsets - scales meters to "pixels"\n// Note the scalar version of project_scale is for scaling the z component only\n//\nfloat project_scale(float meters) {\n  return meters * project_uPixelsPerUnit.z;\n}\n\nvec2 project_scale(vec2 meters) {\n  return meters * project_uPixelsPerUnit.xy;\n}\n\nvec3 project_scale(vec3 meters) {\n  return vec3(project_scale(meters.xy), project_scale(meters.z));\n}\n\nvec4 project_scale(vec4 meters) {\n  return vec4(project_scale(meters.xyz), meters.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  return vec2(\n    radians(lnglat.x) + PI,\n    PI - log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\n//\n// Projects lnglats (or meter offsets, depending on mode) to pixels\n//\nvec4 project_position(vec4 position) {\n  // TODO - why not simply subtract center and fall through?\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT) {\n    return project_uModelMatrix * vec4(\n      project_mercator_(position.xy) * WORLD_SCALE * project_uScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  // Apply model matrix\n  vec4 position_modelspace = project_uModelMatrix * position;\n  return project_scale(position_modelspace);\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0));\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0));\n  return projected_position.xy;\n}\n\n//\n// Projects from "world" coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_to_clipspace(vec4 position) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_METER_OFFSETS) {\n    // Needs to be divided with project_uPixelsPerUnit\n    position.w *= project_uPixelsPerUnit.z;\n  }\n  return project_uViewProjectionMatrix * position + project_uCenter;\n}\n\n// Returns a clip space offset that corresponds to a given number of **non-device** pixels\nvec4 project_pixel_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio;\n  return vec4(offset * project_uFocalDistance, 0.0, 0.0);\n}\n';var o="// Backwards compatibility\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform vec3 projectionPixelsPerUnit;\nuniform float projectionScale; // This is the mercator scale (2 ** zoom)\n\n\nfloat scale(float position) {\n  return project_scale(position);\n}\n\nvec2 scale(vec2 position) {\n  return project_scale(position);\n}\n\nvec3 scale(vec3 position) {\n  return project_scale(position);\n}\n\nvec4 scale(vec4 position) {\n  return project_scale(position);\n}\n\nvec2 preproject(vec2 position) {\n  return project_position(position);\n}\n\nvec3 preproject(vec3 position) {\n  return project_position(position);\n}\n\nvec4 preproject(vec4 position) {\n  return project_position(position);\n}\n\nvec4 project(vec4 position) {\n  return project_to_clipspace(position);\n}\n";var a=n("w9vz");var s=n.n(a);var u=n("oI6O");var l=n.n(u);var c=n("40KB");var f=n("N+Om");var h=n.n(f);var p=n("TFCc");var d=n("Wtwh");var v=[0,0,0,0];var m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];var g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var r=Math.fround(t);var i=t-r;e[n]=r;e[n+1]=i;return e}function _(t){var e=new Float32Array(32);for(var n=0;n<4;++n){for(var r=0;r<4;++r){var i=n*4+r;y(t[r*4+n],e,i*2)}}return e}function b(t){var e=t.coordinateOrigin,n=t.coordinateZoom,r=t.viewProjectionMatrix;var i=Object(d["g"])(e,Math.pow(2,n));return l()([],[i[0],i[1],0,1],r)}function x(t){var e=t.viewport,n=t.modelMatrix,r=t.coordinateSystem,i=t.coordinateOrigin,o=t.coordinateZoom;var a=e.viewMatrixUncentered;var u=e.viewMatrix;var l=e.projectionMatrix;var c=e.viewProjectionMatrix;var f=void 0;switch(r){case p["a"].IDENTITY:case p["a"].LNGLAT:f=v;break;case p["a"].METER_OFFSETS:f=b({coordinateOrigin:i,coordinateZoom:o,viewProjectionMatrix:c});u=a||u;c=s()([],l,u);c=s()([],c,m);break;default:throw new Error("Unknown projection mode")}return{viewMatrix:u,viewProjectionMatrix:c,projectionCenter:f,cameraPos:e.cameraPosition}}function w(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.viewport,n=t.modelMatrix,r=n===undefined?null:n,i=t.coordinateSystem,o=i===undefined?p["a"].LNGLAT:i,a=t.coordinateOrigin,s=a===undefined?[0,0]:a,u=t.fp64,l=u===undefined?false:u,f=t.projectionMode,d=t.positionOrigin;h()(e);if(f!==undefined){o=f;c["a"].deprecated("projectionMode","coordinateSystem")}if(d!==undefined){s=d;c["a"].deprecated("positionOrigin","coordinateOrigin")}var v=e.zoom;h()(v>=0);var m=x({coordinateSystem:o,coordinateOrigin:s,coordinateZoom:v,modelMatrix:r,viewport:e}),y=m.projectionCenter,_=m.viewProjectionMatrix,b=m.cameraPos;h()(_,"Viewport missing modelViewProjectionMatrix");var w=e.getDistanceScales();var T=window&&window.devicePixelRatio||1;var I=[e.width*T,e.height*T];var C=r||g;var M={project_uCoordinateSystem:o,project_uCenter:y,project_uViewportSize:I,project_uDevicePixelRatio:T,project_uFocalDistance:e.focalDistance||1,project_uPixelsPerUnit:w.pixelsPerMeter,project_uScale:e.scale,project_uModelMatrix:C,project_uViewProjectionMatrix:_,project_uCameraPosition:b,projectionMode:o,projectionCenter:y,projectionOrigin:s,modelMatrix:C,viewMatrix:e.viewMatrix,projectionMatrix:_,projectionPixelsPerUnit:w.pixelsPerMeter,projectionScale:e.scale,viewportSize:I,devicePixelRatio:T,cameraPos:b};return l?E(M):M}function E(t){var e=_(t.project_uViewProjectionMatrix);var n=y(t.project_uScale);t.project_uViewProjectionMatrixFP64=e;t.project64_uViewProjectionMatrix=e;t.project64_uScale=n;t.projectionFP64=e;t.projectionScaleFP64=n;return t}var T={};function I(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:T;if(t.viewport){return w(t)}return{}}var C={name:"project",dependencies:[r["k"]],vs:""+i+o,getUniforms:I};var M="\nconst vec2 WORLD_SCALE_FP64 = vec2(81.4873275756836, 0.0000032873668232014097);\n\nuniform vec2 projectionScaleFP64;\nuniform vec2 projectionFP64[16];\n\n// longitude: lnglat_fp64.xy; latitude: lnglat_fp64.zw\nvoid mercatorProject_fp64(vec4 lnglat_fp64, out vec2 out_val[2]) {\n\n#if defined(NVIDIA_FP64_WORKAROUND)\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64 * ONE);\n#else\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64);\n#endif\n  out_val[1] = sub_fp64(PI_FP64,\n    log_fp64(tan_fp64(sum_fp64(PI_4_FP64, radians_fp64(lnglat_fp64.zw) / 2.0))));\n  return;\n}\n\nvoid project_position_fp64(vec4 position_fp64, out vec2 out_val[2]) {\n  vec2 pos_fp64[2];\n  mercatorProject_fp64(position_fp64, pos_fp64);\n  vec2 x_fp64 = mul_fp64(pos_fp64[0], projectionScaleFP64);\n  vec2 y_fp64 = mul_fp64(pos_fp64[1], projectionScaleFP64);\n  out_val[0] = mul_fp64(x_fp64, WORLD_SCALE_FP64);\n  out_val[1] = mul_fp64(y_fp64, WORLD_SCALE_FP64);\n\n  return;\n}\n\nvec4 project_to_clipspace_fp64(vec2 vertex_pos_modelspace[4]) {\n  vec2 vertex_pos_clipspace[4];\n  mat4_vec4_mul_fp64(projectionFP64, vertex_pos_modelspace, vertex_pos_clipspace);\n  return vec4(\n    vertex_pos_clipspace[0].x,\n    vertex_pos_clipspace[1].x,\n    vertex_pos_clipspace[2].x,\n    vertex_pos_clipspace[3].x\n    );\n}\n";var A={name:"project64",dependencies:[C,r["l"]],vs:M,getUniforms:R};var S={};function R(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:S;return{}}var L="// TODO - this is expected to be set by project module\nuniform vec3 cameraPos;\n\n#define NUM_OF_LIGHTS 2\n\n// TODO these should be using lighting_ prefix\nuniform vec3 lightsPosition[16];\nuniform vec2 lightsStrength[16];\nuniform float ambientRatio;\nuniform float diffuseRatio;\nuniform float specularRatio;\n\nfloat lighting_getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  float lightWeight = 0.0;\n\n  vec3 normals_worldspace_vec3 = normals_worldspace.xzy;\n\n  vec3 camera_pos_worldspace = cameraPos;\n  vec3 view_direction = normalize(camera_pos_worldspace - position_worldspace_vec3);\n\n  for (int i = 0; i < NUM_OF_LIGHTS; i++) {\n    vec3 light_position_worldspace = project_position(lightsPosition[i]);\n    vec3 light_direction = normalize(light_position_worldspace - position_worldspace_vec3);\n\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normals_worldspace_vec3);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normals_worldspace_vec3, halfway_direction), 0.0);\n      specular = pow(specular_angle, 32.0);\n    }\n    lambertian = max(lambertian, 0.0);\n    lightWeight += (ambientRatio + lambertian * diffuseRatio + specular * specularRatio) *\n      lightsStrength[i].x;\n\n  }\n\n  return lightWeight;\n}\n\n// DEPRECATED - Backwards compatibility\n\nfloat getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  return lighting_getLightWeight(position_worldspace_vec3, normals_worldspace);\n}\n";var k={name:"lighting",dependencies:[C],vs:L};e["initializeShaderModules"]=N;n.d(e,"fp32",function(){return r["k"]});n.d(e,"fp64",function(){return r["l"]});n.d(e,"picking",function(){return r["n"]});n.d(e,"project",function(){return C});n.d(e,"project64",function(){return A});n.d(e,"lighting",function(){return k});function N(){Object(r["o"])([r["k"],r["l"],C,A,k,r["n"]]);Object(r["p"])([C])}N()},FKWp:function(t,e,n){var r=n("8ANE");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"FZ+f":function(t,e){t.exports=function(t){var e=[];e.toString=function e(){return this.map(function(e){var r=n(e,t);if(e[2]){return"@media "+e[2]+"{"+r+"}"}else{return r}}).join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var r={};for(var i=0;i<this.length;i++){var o=this[i][0];if(typeof o==="number")r[o]=true}for(i=0;i<t.length;i++){var a=t[i];if(typeof a[0]!=="number"||!r[a[0]]){if(n&&!a[2]){a[2]=n}else if(n){a[2]="("+a[2]+") and ("+n+")"}e.push(a)}}};return e};function n(t,e){var n=t[1]||"";var i=t[3];if(!i){return n}if(e&&typeof btoa==="function"){var o=r(i);var a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+n+" */"}},FenM:function(t,e,n){"use strict";n.d(e,"a",function(){return f});e["d"]=E;e["b"]=I;e["c"]=M;var r=n("jpCA");var i=n("N+Om");var o=n.n(i);var a,s,u;function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function c(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var f=(a={},c(a,r["a"].BLEND,false),c(a,r["a"].BLEND_COLOR,new Float32Array([0,0,0,0])),c(a,r["a"].BLEND_EQUATION_RGB,r["a"].FUNC_ADD),c(a,r["a"].BLEND_EQUATION_ALPHA,r["a"].FUNC_ADD),c(a,r["a"].BLEND_SRC_RGB,r["a"].ONE),c(a,r["a"].BLEND_DST_RGB,r["a"].ZERO),c(a,r["a"].BLEND_SRC_ALPHA,r["a"].ONE),c(a,r["a"].BLEND_DST_ALPHA,r["a"].ZERO),c(a,r["a"].COLOR_CLEAR_VALUE,new Float32Array([0,0,0,0])),c(a,r["a"].COLOR_WRITEMASK,[true,true,true,true]),c(a,r["a"].CULL_FACE,false),c(a,r["a"].CULL_FACE_MODE,r["a"].BACK),c(a,r["a"].DEPTH_TEST,false),c(a,r["a"].DEPTH_CLEAR_VALUE,1),c(a,r["a"].DEPTH_FUNC,r["a"].LESS),c(a,r["a"].DEPTH_RANGE,new Float32Array([0,1])),c(a,r["a"].DEPTH_WRITEMASK,true),c(a,r["a"].DITHER,true),c(a,r["a"].FRAMEBUFFER_BINDING,null),c(a,r["a"].FRONT_FACE,r["a"].CCW),c(a,r["a"].GENERATE_MIPMAP_HINT,r["a"].DONT_CARE),c(a,r["a"].LINE_WIDTH,1),c(a,r["a"].POLYGON_OFFSET_FILL,false),c(a,r["a"].POLYGON_OFFSET_FACTOR,0),c(a,r["a"].POLYGON_OFFSET_UNITS,0),c(a,r["a"].SAMPLE_COVERAGE_VALUE,1),c(a,r["a"].SAMPLE_COVERAGE_INVERT,false),c(a,r["a"].SCISSOR_TEST,false),c(a,r["a"].SCISSOR_BOX,new Int32Array([0,0,1024,1024])),c(a,r["a"].STENCIL_TEST,false),c(a,r["a"].STENCIL_CLEAR_VALUE,0),c(a,r["a"].STENCIL_WRITEMASK,4294967295),c(a,r["a"].STENCIL_BACK_WRITEMASK,4294967295),c(a,r["a"].STENCIL_FUNC,r["a"].ALWAYS),c(a,r["a"].STENCIL_REF,0),c(a,r["a"].STENCIL_VALUE_MASK,4294967295),c(a,r["a"].STENCIL_BACK_FUNC,r["a"].ALWAYS),c(a,r["a"].STENCIL_BACK_REF,0),c(a,r["a"].STENCIL_BACK_VALUE_MASK,4294967295),c(a,r["a"].STENCIL_FAIL,r["a"].KEEP),c(a,r["a"].STENCIL_PASS_DEPTH_FAIL,r["a"].KEEP),c(a,r["a"].STENCIL_PASS_DEPTH_PASS,r["a"].KEEP),c(a,r["a"].STENCIL_BACK_FAIL,r["a"].KEEP),c(a,r["a"].STENCIL_BACK_PASS_DEPTH_FAIL,r["a"].KEEP),c(a,r["a"].STENCIL_BACK_PASS_DEPTH_PASS,r["a"].KEEP),c(a,r["a"].VIEWPORT,new Int32Array([0,0,1024,1024])),c(a,r["a"].PACK_ALIGNMENT,4),c(a,r["a"].UNPACK_ALIGNMENT,4),c(a,r["a"].UNPACK_FLIP_Y_WEBGL,false),c(a,r["a"].UNPACK_PREMULTIPLY_ALPHA_WEBGL,false),c(a,r["a"].UNPACK_COLORSPACE_CONVERSION_WEBGL,r["a"].BROWSER_DEFAULT_WEBGL),c(a,r["a"].FRAGMENT_SHADER_DERIVATIVE_HINT,r["a"].DONT_CARE),c(a,r["a"].READ_FRAMEBUFFER_BINDING,null),c(a,r["a"].RASTERIZER_DISCARD,false),c(a,r["a"].PACK_ROW_LENGTH,0),c(a,r["a"].PACK_SKIP_PIXELS,0),c(a,r["a"].PACK_SKIP_ROWS,0),c(a,r["a"].UNPACK_ROW_LENGTH,0),c(a,r["a"].UNPACK_IMAGE_HEIGHT,0),c(a,r["a"].UNPACK_SKIP_PIXELS,0),c(a,r["a"].UNPACK_SKIP_ROWS,0),c(a,r["a"].UNPACK_SKIP_IMAGES,0),a);var h=function t(e,n,r){return n?e.enable(r):e.disable(r)};var p=function t(e,n,r){return e.hint(r,n)};var d=function t(e,n,r){return e.pixelStorei(r,n)};var v=function t(e,n){return e.bindFramebuffer(r["a"].DRAW_FRAMEBUFFER,n)};var m=function t(e,n){return e.bindFramebuffer(r["a"].READ_FRAMEBUFFER,n)};var g=(s={},c(s,r["a"].BLEND,h),c(s,r["a"].BLEND_COLOR,function(t,e){return t.blendColor.apply(t,l(e))}),c(s,r["a"].BLEND_EQUATION_RGB,"blendEquation"),c(s,r["a"].BLEND_EQUATION_ALPHA,"blendEquation"),c(s,r["a"].BLEND_SRC_RGB,"blendFunc"),c(s,r["a"].BLEND_DST_RGB,"blendFunc"),c(s,r["a"].BLEND_SRC_ALPHA,"blendFunc"),c(s,r["a"].BLEND_DST_ALPHA,"blendFunc"),c(s,r["a"].COLOR_CLEAR_VALUE,function(t,e){return t.clearColor.apply(t,l(e))}),c(s,r["a"].COLOR_WRITEMASK,function(t,e){return t.colorMask.apply(t,l(e))}),c(s,r["a"].CULL_FACE,h),c(s,r["a"].CULL_FACE_MODE,function(t,e){return t.cullFace(e)}),c(s,r["a"].DEPTH_TEST,h),c(s,r["a"].DEPTH_CLEAR_VALUE,function(t,e){return t.clearDepth(e)}),c(s,r["a"].DEPTH_FUNC,function(t,e){return t.depthFunc(e)}),c(s,r["a"].DEPTH_RANGE,function(t,e){return t.depthRange.apply(t,l(e))}),c(s,r["a"].DEPTH_WRITEMASK,function(t,e){return t.depthMask(e)}),c(s,r["a"].DITHER,h),c(s,r["a"].FRAGMENT_SHADER_DERIVATIVE_HINT,p),c(s,r["a"].FRAMEBUFFER_BINDING,v),c(s,r["a"].FRONT_FACE,function(t,e){return t.frontFace(e)}),c(s,r["a"].GENERATE_MIPMAP_HINT,p),c(s,r["a"].LINE_WIDTH,function(t,e){return t.lineWidth(e)}),c(s,r["a"].POLYGON_OFFSET_FILL,h),c(s,r["a"].POLYGON_OFFSET_FACTOR,"polygonOffset"),c(s,r["a"].POLYGON_OFFSET_UNITS,"polygonOffset"),c(s,r["a"].RASTERIZER_DISCARD,h),c(s,r["a"].SAMPLE_COVERAGE_VALUE,"sampleCoverage"),c(s,r["a"].SAMPLE_COVERAGE_INVERT,"sampleCoverage"),c(s,r["a"].SCISSOR_TEST,h),c(s,r["a"].SCISSOR_BOX,function(t,e){return t.scissor.apply(t,l(e))}),c(s,r["a"].STENCIL_TEST,h),c(s,r["a"].STENCIL_CLEAR_VALUE,function(t,e){return t.clearStencil(e)}),c(s,r["a"].STENCIL_WRITEMASK,function(t,e){return t.stencilMaskSeparate(r["a"].FRONT,e)}),c(s,r["a"].STENCIL_BACK_WRITEMASK,function(t,e){return t.stencilMaskSeparate(r["a"].BACK,e)}),c(s,r["a"].STENCIL_FUNC,"stencilFuncFront"),c(s,r["a"].STENCIL_REF,"stencilFuncFront"),c(s,r["a"].STENCIL_VALUE_MASK,"stencilFuncFront"),c(s,r["a"].STENCIL_BACK_FUNC,"stencilFuncBack"),c(s,r["a"].STENCIL_BACK_REF,"stencilFuncBack"),c(s,r["a"].STENCIL_BACK_VALUE_MASK,"stencilFuncBack"),c(s,r["a"].STENCIL_FAIL,"stencilOpFront"),c(s,r["a"].STENCIL_PASS_DEPTH_FAIL,"stencilOpFront"),c(s,r["a"].STENCIL_PASS_DEPTH_PASS,"stencilOpFront"),c(s,r["a"].STENCIL_BACK_FAIL,"stencilOpBack"),c(s,r["a"].STENCIL_BACK_PASS_DEPTH_FAIL,"stencilOpBack"),c(s,r["a"].STENCIL_BACK_PASS_DEPTH_PASS,"stencilOpBack"),c(s,r["a"].VIEWPORT,function(t,e){return t.viewport.apply(t,l(e))}),c(s,r["a"].PACK_ALIGNMENT,d),c(s,r["a"].UNPACK_ALIGNMENT,d),c(s,r["a"].UNPACK_FLIP_Y_WEBGL,d),c(s,r["a"].UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),c(s,r["a"].UNPACK_COLORSPACE_CONVERSION_WEBGL,d),c(s,r["a"].PACK_ROW_LENGTH,d),c(s,r["a"].PACK_SKIP_PIXELS,d),c(s,r["a"].PACK_SKIP_ROWS,d),c(s,r["a"].READ_FRAMEBUFFER_BINDING,m),c(s,r["a"].UNPACK_ROW_LENGTH,d),c(s,r["a"].UNPACK_IMAGE_HEIGHT,d),c(s,r["a"].UNPACK_SKIP_PIXELS,d),c(s,r["a"].UNPACK_SKIP_ROWS,d),c(s,r["a"].UNPACK_SKIP_IMAGES,d),s);var y={blendEquation:function t(e,n){return e.blendEquationSeparate(n[r["a"].BLEND_EQUATION_RGB],n[r["a"].BLEND_EQUATION_ALPHA])},blendFunc:function t(e,n){return e.blendFuncSeparate(n[r["a"].BLEND_SRC_RGB],n[r["a"].BLEND_DST_RGB],n[r["a"].BLEND_SRC_ALPHA],n[r["a"].BLEND_DST_ALPHA])},polygonOffset:function t(e,n){return e.polygonOffset(n[r["a"].POLYGON_OFFSET_FACTOR],n[r["a"].POLYGON_OFFSET_UNITS])},sampleCoverage:function t(e,n){return e.sampleCoverage(n[r["a"].SAMPLE_COVERAGE_VALUE],n[r["a"].SAMPLE_COVERAGE_INVERT])},stencilFuncFront:function t(e,n){return e.stencilFuncSeparate(r["a"].FRONT,n[r["a"].STENCIL_FUNC],n[r["a"].STENCIL_REF],n[r["a"].STENCIL_VALUE_MASK])},stencilFuncBack:function t(e,n){return e.stencilFuncSeparate(r["a"].BACK,n[r["a"].STENCIL_BACK_FUNC],n[r["a"].STENCIL_BACK_REF],n[r["a"].STENCIL_BACK_VALUE_MASK])},stencilOpFront:function t(e,n){return e.stencilOpSeparate(r["a"].FRONT,n[r["a"].STENCIL_FAIL],n[r["a"].STENCIL_PASS_DEPTH_FAIL],n[r["a"].STENCIL_PASS_DEPTH_PASS])},stencilOpBack:function t(e,n){return e.stencilOpSeparate(r["a"].BACK,n[r["a"].STENCIL_BACK_FAIL],n[r["a"].STENCIL_BACK_PASS_DEPTH_FAIL],n[r["a"].STENCIL_BACK_PASS_DEPTH_PASS])}};var _=function t(e,n){return e.isEnabled(n)};var b=(u={},c(u,r["a"].BLEND,_),c(u,r["a"].CULL_FACE,_),c(u,r["a"].DEPTH_TEST,_),c(u,r["a"].DITHER,_),c(u,r["a"].POLYGON_OFFSET_FILL,_),c(u,r["a"].SAMPLE_ALPHA_TO_COVERAGE,_),c(u,r["a"].SAMPLE_COVERAGE,_),c(u,r["a"].SCISSOR_TEST,_),c(u,r["a"].STENCIL_TEST,_),c(u,r["a"].RASTERIZER_DISCARD,_),u);var x=function t(e,n){if(e===n){return true}var r=Array.isArray(e)||ArrayBuffer.isView(e);var i=Array.isArray(n)||ArrayBuffer.isView(n);if(r&&i&&e.length===n.length){for(var o=0;o<e.length;++o){if(e[o]!==n[o]){return false}}return true}return false};function w(t,e,n){var r=b[e];var i=r?r(t,Number(e)):t.getParameter(Number(e));var a=g[e];o()(typeof a==="function");a(t,n,Number(e));return i}function E(t,e){var n={};for(var r in e){var i=g[r];if(i){if(typeof i==="string"){n[i]=true}else{i(t,e[r],Number(r))}}}var o=t.state&&t.state.cache;if(o){var a=Object.assign({},o,e);for(var s in n){var u=y[s];u(t,a)}}}function T(t,e){var n=b[e];return n?n(t,Number(e)):t.getParameter(Number(e))}function I(t,e){e=e||f;var n=Array.isArray(e)?e:Object.keys(e);var r={};var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;r[l]=T(t,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return r}function C(t){return Object.assign({},f,{})}function M(t){E(t,C(t))}function A(t){var e=I(f);var n={};for(var r in f){if(!x(e[r],f[r])){n[r]=e[r]}}return n}},G4xS:function(t,e,n){t.exports=n("xam7")},GCs6:function(t,e,n){var r=n("FKWp");var i=n("LocR");var o=n("9MbE");var a=Object.defineProperty;e.f=n("qs+f")?Object.defineProperty:function t(e,n,s){r(e);n=o(n,true);r(s);if(i)try{return a(e,n,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)e[n]=s.value;return e}},GSIc:function(t,e){t.exports=n;function n(t,e,n){var r=n[0],i=n[1],o=n[2],a,s,u,l,c,f,h,p,d,v,m,g;if(e===t){t[12]=e[0]*r+e[4]*i+e[8]*o+e[12];t[13]=e[1]*r+e[5]*i+e[9]*o+e[13];t[14]=e[2]*r+e[6]*i+e[10]*o+e[14];t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]}else{a=e[0];s=e[1];u=e[2];l=e[3];c=e[4];f=e[5];h=e[6];p=e[7];d=e[8];v=e[9];m=e[10];g=e[11];t[0]=a;t[1]=s;t[2]=u;t[3]=l;t[4]=c;t[5]=f;t[6]=h;t[7]=p;t[8]=d;t[9]=v;t[10]=m;t[11]=g;t[12]=a*r+c*i+d*o+e[12];t[13]=s*r+f*i+v*o+e[13];t[14]=u*r+h*i+m*o+e[14];t[15]=l*r+p*i+g*o+e[15]}return t}},GhAV:function(t,e,n){var r=n("W6Rd");var i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},GiK3:function(t,e,n){"use strict";if(true){t.exports=n("vttU")}else{t.exports=require("./cjs/react.development.js")}},GmwO:function(t,e){var n=0;var r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++n+r).toString(36))}},HGpQ:function(t,e,n){"use strict";e["b"]=s;e["d"]=u;e["a"]=l;e["c"]=c;var r=n("N+Om");var i=n.n(r);var o={};var a=[];function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.ignoreMultipleRegistrations,r=n===undefined?false:n;var i=true;var o=false;var a=undefined;try{for(var s=t[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;p(l,{ignoreMultipleRegistrations:r})}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}}function u(t){a=t}function l(t){if(typeof t!=="string"){var e=t;i()(typeof e.name==="string");p(e,{ignoreMultipleRegistrations:true});return e}var n=o[t];if(!n){i()(false,"Unknown shader module "+t)}return n}function c(t){var e=t.map(function(t){if(typeof t!=="string"){s([t],{ignoreMultipleRegistrations:true});return t.name}return t});return f(e)}function f(t){t=t.concat(a);var e={};h({modules:t,level:0,result:e});return Object.keys(e).sort(function(t,n){return e[n]-e[t]})}function h(t){var e=t.modules,n=t.level,r=t.result;if(n>=5){throw new Error("Possible loop in shader dependency graph")}var i=true;var o=false;var a=undefined;try{for(var s=e[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var c=u.value;var f=l(c);if(r[f.name]===undefined||r[f.name]<n){r[f.name]=n}}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}var p=true;var d=false;var v=undefined;try{for(var m=e[Symbol.iterator](),g;!(p=(g=m.next()).done);p=true){var y=g.value;var _=l(y);if(_.dependencies){h({modules:_.dependencies,level:n+1,result:r})}}}catch(t){d=true;v=t}finally{try{if(!p&&m.return){m.return()}}finally{if(d){throw v}}}return r}function p(t,e){var n=e.ignoreMultipleRegistrations,r=n===undefined?false:n;i()(t.name,"shader module has no name");if(!r&&o[t.name]){throw new Error("shader module "+t.name+" already registered")}o[t.name]=t;t.dependencies=t.dependencies||[]}},HZVa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default="#define SHADER_NAME luma-default-vertex\n\n#define LIGHT_MAX 4\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec4 pickingColors;\nattribute vec2 texCoords;\n\n// camera and object matrices\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 viewInverseMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\n\n// objectMatrix * viewMatrix = worldMatrix\nuniform mat4 worldMatrix;\nuniform mat4 worldInverseMatrix;\nuniform mat4 worldInverseTransposeMatrix;\nuniform mat4 objectMatrix;\nuniform vec3 cameraPosition;\n\n// lighting configuration\nuniform bool enableLights;\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\n// point lights configuration\nuniform vec3 pointLocation[LIGHT_MAX];\nuniform vec3 pointColor[LIGHT_MAX];\nuniform int numberPoints;\n\n// reflection / refraction configuration\nuniform bool useReflection;\n\n// varyings\nvarying vec3 vReflection;\nvarying vec4 vColor;\nvarying vec4 vPickingColor;\nvarying vec2 vTexCoord;\nvarying vec4 vNormal;\nvarying vec3 lightWeighting;\n\nvoid main(void) {\n\n  vec4 mvPosition = worldMatrix * vec4(positions, 1.0);\n  vec4 transformedNormal = worldInverseTransposeMatrix * vec4(normals, 1.0);\n\n  // lighting code\n  if(!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 plightDirection;\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n    float directionalLightWeighting =\n      max(dot(transformedNormal.xyz, lightingDirection), 0.0);\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        plightDirection = normalize(\n          (viewMatrix * vec4(pointLocation[i], 1.0)).xyz - mvPosition.xyz);\n         pointWeight += max(\n          dot(transformedNormal.xyz, plightDirection), 0.0) * pointColor[i];\n       } else {\n         break;\n       }\n     }\n\n    lightWeighting = ambientColor +\n      (directionalColor * directionalLightWeighting) + pointWeight;\n  }\n\n  // refraction / reflection code\n  if (useReflection) {\n    vReflection =\n      (viewInverseMatrix[3] - (worldMatrix * vec4(positions, 1.0))).xyz;\n  } else {\n    vReflection = vec3(1.0, 1.0, 1.0);\n  }\n\n  // pass results to varyings\n  vColor = colors;\n  vPickingColor = pickingColors;\n  vTexCoord = texCoords;\n  // vNormal = transformedNormal;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(positions, 1.0);\n}\n"},I7B8:function(t,e,n){"use strict";var r=n("NZ8V");var i=n("YTz9");var o=n("LhDF");var a={};n("aLzV")(a,n("hgbu")("iterator"),function(){return this});t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)});o(t,e+" Iterator")}},IBoo:function(t,e){function n(t,e){e.jumpTo({center:t.getCenter(),zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch()})}function r(t,e){r();function r(){t.on("move",o);e.on("move",a)}function i(){t.off("move",o);e.off("move",a)}function o(){i();n(t,e);r()}function a(){i();n(e,t);r()}}t.exports=r},Imml:function(t,e,n){"use strict";var r=n("7puw");var i=n("fmJ1");var o=n("PeCl");var a=n("ER4G");var s=n("diIw");var u=n("zSCX");var l=n.n(u);var c="#define SHADER_NAME luma-default-vs\n\n#define LIGHT_MAX 4\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec4 color;\nattribute vec2 texCoord1;\n\nuniform mat4 worldMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 worldInverseTransposeMatrix;\n\nuniform bool enableLights;\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\nuniform vec3 pointLocation[LIGHT_MAX];\nuniform vec3 pointColor[LIGHT_MAX];\nuniform int numberPoints;\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\nvarying vec3 lightWeighting;\n\nvoid main(void) {\n  vec4 mvPosition = worldMatrix * vec4(position, 1.0);\n\n  if(!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 plightDirection;\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n    vec4 transformedNormal = worldInverseTransposeMatrix * vec4(normal, 1.0);\n    float directionalLightWeighting = max(dot(transformedNormal.xyz, lightingDirection), 0.0);\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        plightDirection =\n          normalize((viewMatrix * vec4(pointLocation[i], 1.0)).xyz - mvPosition.xyz);\n        pointWeight += max(dot(transformedNormal.xyz, plightDirection), 0.0) * pointColor[i];\n      } else {\n        break;\n      }\n    }\n\n    lightWeighting = ambientColor + (directionalColor * directionalLightWeighting) + pointWeight;\n  }\n\n  vColor = color;\n  vTexCoord = texCoord1;\n  gl_Position = projectionMatrix * worldMatrix * vec4(position, 1.0);\n}\n";var f="#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define SHADER_NAME luma-default-fs\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\nvarying vec3 lightWeighting;\n\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\n\nuniform bool enablePicking;\nuniform vec3 pickColor;\n\nuniform bool hasFog;\nuniform vec3 fogColor;\n\nuniform float fogNear;\nuniform float fogFar;\n\nvoid main() {\n  if(!hasTexture1) {\n    gl_FragColor = vec4(vColor.rgb * lightWeighting, vColor.a);\n  } else {\n    gl_FragColor =\n      vec4(texture2D(sampler1, vec2(vTexCoord.s, vTexCoord.t)).rgb * lightWeighting, 1.0);\n  }\n\n  if (enablePicking) {\n    gl_FragColor = vec4(pickColor, 1.0);\n  }\n\n  /* handle fog */\n  if (hasFog) {\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep(fogNear, fogFar, depth);\n    gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n  }\n}\n";var h="#define SHADER_NAME luma_modular_vertex\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec2 texCoords;\nattribute vec3 pickingColors;\n\nvoid main(void) {\n\n  // Set up position\n#ifdef MODULE_GEOMETRY\n  geometry_setPosition(positions);\n  geometry_setNormal(normals);\n#endif\n\n#ifdef MODULE_PROJECT\n  project_setPositionAndNormal_Model(positions, normals);\n  gl_Position = project_model_to_clipspace(positions);\n#endif\n\n  // Set up depth\n#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n\n#ifdef MODULE_DIFFUSE\n  diffuse_setTextureCoordinate(texCoords);\n#endif\n\n  // Set up color calculations\n#ifdef MODULE_MATERIAL\n  material_setDiffuseColor(colors);\n  material_setDiffuseTextureCoordinates(texCoords);\n#endif\n\n#ifdef MODULE_LIGHTING\n  lighting_setPositionAndNormal(positions, normals);\n  lighting_apply_light(positions);\n  lighting_apply_reflection(positions);\n#endif\n\n#ifdef MODULE_PICKING\n  picking_setPickingColor(pickingColors);\n#endif\n\n}\n";var p="#define SHADER_NAME luma-modular-fragment\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n// varyings\nvarying vec4 vColor;\n\nvoid main(){\n  gl_FragColor = vec4(1., 0., 1., 1.);\n\n#ifdef MODULE_DIFFUSE\n  gl_FragColor = diffuse_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth(gl_Position);\n#endif\n}\n";var d=n("NbtR");var v={vs:c,fs:f,defaultUniforms:d};var m={vs:h,fs:p,defaultUniforms:{}};var g=n("HGpQ");var y=n("0Om0");var _=n("6vbb");var b=n("8zbR");var x=n.n(b);var w=n("amPU");var E={};var T=function t(e){if(E[e.id]){return}E[e.id]=e;x.a.listItem("luma.gl",e.id)};var I=function t(e,n){if(!w["b"].__SEER_INITIALIZED__||x.a.throttle("luma.gl:"+e.id,1e3)){return}var r=Object.assign({},e.geometry.attributes,e.attributes);var i=Object.assign({},e.uniforms,n);x.a.multiUpdate("luma.gl",e.id,[{path:"objects.uniforms",data:i},{path:"objects.attributes",data:r}])};var C=function t(e){delete E[e];x.a.deleteItem("luma.gl",e)};var M=function t(e,n,r){if(!e){return}if(n.length>1){t(e[n[0]],n.slice(1),r)}else{e[n[0]]=r}};var A=new Map;var S=function t(e,n,r){if(!w["b"].__SEER_INITIALIZED__){return}if(!A.has(e)){A.set(e,new Map)}var i=A.get(e);i.set(n,r)};var R=function t(e,n){if(!w["b"].__SEER_INITIALIZED__||!e){return}var r=A.get(e);if(!r){return}r.forEach(function(t,e){M(n,e,t)})};x.a.listenFor("luma.gl",function(t){var e=E[t.itemKey];if(!e||t.type!=="edit"||t.valuePath[0]!=="uniforms"){return}var n=t.valuePath.slice(1);S(t.itemKey,n,t.value);var r=e.getUniforms();M(r,n,t.value);e.setUniforms(r)});var L=n("yO0j");var k=n("N+Om");var N=n.n(k);var F=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function O(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function B(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function P(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function U(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var D='Warning: Model constructor: parameter "instanced" renamed to "isInstanced".\nThis will become a hard error in a future version of luma.gl.';var z="Model needs drawMode and vertexCount";var j=2;var V=["renderPickingBuffer","pickingEnabled"];var G=function(t){U(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};B(this,e);var i=P(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));if(Object(r["isWebGL"])(t)){i.gl=t}else{s["log"].deprecated("Model({gl, ...opts})","Model(gl, {...opts}");n=Object.assign(t,n);i.gl=n.gl||n.program&&n.program.gl;N()(Object(r["isWebGL"])(i.gl),"Not a WebGL context")}i.init(n);return i}F(e,[{key:"init",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.vs,r=n===undefined?null:n,i=e.fs,a=i===undefined?null:i,s=e.modules,u=s===undefined?null:s,l=e.defines,c=l===undefined?{}:l,f=e.moduleSettings,h=f===undefined?{}:f,p=e.defaultUniforms,d=e.program,v=d===undefined?null:d,m=e.shaderCache,g=m===undefined?null:m,y=e.isInstanced,_=y===undefined?false:y,b=e.instanced,x=e.vertexCount,w=x===undefined?undefined:x,E=e.instanceCount,T=E===undefined?0:E,I=e.drawMode,C=e.uniforms,M=C===undefined?{}:C,A=e.attributes,S=A===undefined?{}:A,R=e.geometry,k=R===undefined?null:R,F=e.pickable,O=F===undefined?true:F,B=e.pick,P=B===undefined?null:B,U=e.render,j=U===undefined?null:U,V=e.onBeforeRender,G=V===undefined?function(){}:V,X=e.onAfterRender,W=X===undefined?function(){}:X,Z=e.timerQueryEnabled,Q=Z===undefined?false:Z;this._initializeProgram({vs:r,fs:a,modules:u,defines:c,moduleSettings:h,defaultUniforms:p,program:v,shaderCache:g});this.uniforms={};M=Object.assign({},this.program.defaultUniforms,M);this.setUniforms(M);this.setUniforms(this.getModuleUniforms());this.setUniforms(this.getModuleUniforms(h));if(b){console.warn(D);_=_||b}this.buffers={};this.userData={};this.drawParams={};this.dynamic=false;this.needsRedraw=true;this.setGeometry(k);this.attributes={};this.setAttributes(S);if(I!==undefined){this.drawMode=Object(o["b"])(I)}if(w!==undefined){this.vertexCount=w}this.isInstanced=_;this.instanceCount=T;this.pickable=Boolean(O);this.pick=P||function(){return false};this.onBeforeRender=G;this.onAfterRender=W;N()(this.drawMode!==undefined&&Number.isFinite(this.vertexCount),z);this.timerQueryEnabled=Q&&L["a"].isSupported(this.gl,{timer:true});this.timeElapsedQuery=undefined;this.lastQueryReturned=true;this.stats={accumulatedFrameTime:0,averageFrameTime:0,profileFrameCount:0}}},{key:"_initializeProgram",value:function t(e){var n=e.vs,i=e.fs,o=e.modules,a=e.defines,u=e.moduleSettings,c=e.defaultUniforms,f=e.program,h=e.shaderCache;this.getModuleUniforms=function(t){};if(!f){if(!n){n=m.vs}if(!i){i=m.fs}if(n===l.a.vs||i===l.a.fs){s["log"].warn("default shaders are deprecated and will be removed in a future version. Use shader modules instead.");c=c||l.a.defaultUniforms}var p=Object(y["a"])(this.gl,{vs:n,fs:i,modules:o,defines:a});n=p.vs;i=p.fs;if(h){f=h.getProgram(this.gl,{vs:n,fs:i,id:this.id})}else{f=new r["Program"](this.gl,{vs:n,fs:i})}var d=p.getUniforms;this.getModuleUniforms=d||function(t){}}this.program=f;N()(this.program instanceof r["Program"],"Model needs a program")}},{key:"destroy",value:function t(){this.delete()}},{key:"delete",value:function t(){this.program.delete();C(this.id)}},{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.needsRedraw=e;return this}},{key:"getNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?false:n;var i=false;i=i||this.needsRedraw;this.needsRedraw=this.needsRedraw&&!r;i=i||this.geometry.getNeedsRedraw({clearRedrawFlags:r});return i}},{key:"setDrawMode",value:function t(e){this.drawMode=Object(o["b"])(e);return this}},{key:"getDrawMode",value:function t(){return this.drawMode}},{key:"setVertexCount",value:function t(e){N()(Number.isFinite(e));this.vertexCount=e;return this}},{key:"getVertexCount",value:function t(){return this.vertexCount}},{key:"setInstanceCount",value:function t(e){N()(Number.isFinite(e));this.instanceCount=e;return this}},{key:"getInstanceCount",value:function t(){return this.instanceCount}},{key:"getProgram",value:function t(){return this.program}},{key:"setGeometry",value:function t(e){this.geometry=e;this.vertexCount=e.getVertexCount();this.drawMode=e.drawMode;this._createBuffersFromAttributeDescriptors(this.geometry.getAttributes());this.setNeedsRedraw();return this}},{key:"getAttributes",value:function t(){return this.attributes}},{key:"setAttributes",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.assign(this.attributes,e);this._createBuffersFromAttributeDescriptors(e);this.setNeedsRedraw();return this}},{key:"getUniforms",value:function t(){return this.uniforms}},{key:"setUniforms",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object(r["checkUniformValues"])(e,this.id);Object.assign(this.uniforms,e);this.setNeedsRedraw();return this}},{key:"updateModuleSettings",value:function t(e){var n=this.getModuleUniforms(e);return this.setUniforms(n)}},{key:"addViewUniforms",value:function t(e){var n=e.camera,r=e.viewMatrix,i=e.modelMatrix;var o=n?n.getUniforms():{};var a=r?this.getCoordinateUniforms(r,i):{};return Object.assign({},e,o,a)}},{key:"draw",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.moduleSettings,o=i===undefined?null:i,a=n.uniforms,u=a===undefined?{}:a,l=n.attributes,c=l===undefined?{}:l,f=n.samplers,h=f===undefined?{}:f,p=n.parameters,d=p===undefined?{}:p,v=n.settings,m=n.framebuffer,g=m===undefined?null:m;if(v){s["log"].deprecated("settings","parameters");d=v}if(o){this.updateModuleSettings(o)}var y=this.program.gl;if(g){d=Object.assign(d,{framebuffer:g})}Object(r["withParameters"])(y,d,function(){return e.render(u,c,h)});if(g){g.log({priority:j,message:"Rendered to "+g.id})}return this}},{key:"render",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};T(this);var o=this.addViewUniforms(e);R(this.id,o);this.setUniforms(o);s["log"].group(j,">>> RENDERING MODEL "+this.id,{collapsed:s["log"].priority<=2});this.setProgramState();this._logAttributesAndUniforms(2,o);this.onBeforeRender();var a=this.drawParams;if(a.isInstanced&&!this.isInstanced){s["log"].warn("Found instanced attributes on non-instanced model")}var u=a.isIndexed,l=a.indexType;var c=this.isInstanced,f=this.instanceCount;this._timerQueryStart();this.program.draw({drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),isIndexed:u,indexType:l,isInstanced:c,instanceCount:f});this._timerQueryEnd();this.onAfterRender();this.unsetProgramState();this.setNeedsRedraw(false);s["log"].groupEnd(j,">>> RENDERING MODEL "+this.id);return this}},{key:"setProgramState",value:function t(){var e=this.program;e.use();this.drawParams={};e.setBuffers(this.buffers,{drawParams:this.drawParams});e.setUniforms(this.uniforms,this.samplers);return this}},{key:"unsetProgramState",value:function t(){this.program.unsetBuffers();return this}},{key:"_checkForDeprecatedUniforms",value:function t(e){V.forEach(function(t){if(t in e){s["log"].deprecated(t,"use picking shader module and Model class updateModuleSettings()")}})}},{key:"_timerQueryStart",value:function t(){if(this.timerQueryEnabled===true){if(!this.timeElapsedQuery){this.timeElapsedQuery=new L["a"](this.gl)}if(this.lastQueryReturned){this.lastQueryReturned=false;this.timeElapsedQuery.beginTimeElapsedQuery()}}}},{key:"_timerQueryEnd",value:function t(){if(this.timerQueryEnabled===true){this.timeElapsedQuery.end();if(this.timeElapsedQuery.isResultAvailable()){this.lastQueryReturned=true;var e=this.timeElapsedQuery.getResult();this.stats.lastFrameTime=e;this.stats.accumulatedFrameTime+=e;this.stats.profileFrameCount++;this.stats.averageFrameTime=this.stats.accumulatedFrameTime/this.stats.profileFrameCount;s["log"].log(j,"GPU time "+this.program.id+": "+this.stats.lastFrameTime+"ms average "+this.stats.averageFrameTime+"ms accumulated: "+this.stats.accumulatedFrameTime+"ms count: "+this.stats.profileFrameCount)}}}},{key:"_createBuffersFromAttributeDescriptors",value:function t(e){var n=this.program.gl;for(var i in e){var o=e[i];if(o instanceof r["Buffer"]){this.buffers[i]=o}else{this.buffers[i]=this.buffers[i]||new r["Buffer"](n,{target:o.isIndexed?r["GL"].ELEMENT_ARRAY_BUFFER:r["GL"].ARRAY_BUFFER});var a=this.buffers[i];a.setData({data:o.value}).setDataLayout(o)}}return this}},{key:"_logAttributesAndUniforms",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(s["log"].priority>=e){var r=this._getAttributesTable({header:this.id+" attributes",program:this.program,attributes:Object.assign({},this.geometry.attributes,this.attributes)});s["log"].table(e,r);var o=Object(i["c"])({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.uniforms,n)}),a=o.table,u=o.unusedTable,l=o.unusedCount;s["log"].table(e,a);s["log"].log(e,(l||"No")+" unused uniforms ",u)}else{var c=Object(i["c"])({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.uniforms,n),undefinedOnly:true}),f=c.table,h=c.count;if(h>0){s["log"].table(e,f)}}I(this,n)}},{key:"_getAttributesTable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.attributes,r=e.header,i=r===undefined?"Attributes":r,o=e.instanced,a=e.program;N()(a);var s=a._attributeLocations;var u={};for(var l in s){var c=n[l];var f=s[l];u[l]=this._getAttributeEntry(c,f,i)}for(var h in n){var p=n[h];if(!u[h]){u[h]=this._getAttributeEntry(p,null,i)}}return u}},{key:"_getAttributeEntry",value:function t(e,n,i){var o=function t(e){return Math.round(e*10)/10};var a="NOT PROVIDED";var u=0;var l="N/A";var c="N/A";var f="N/A";var h="N/A";if(e&&n===null){n=e.isIndexed?"ELEMENT_ARRAY_BUFFER":"NOT USED"}if(e instanceof r["Buffer"]){var p=e;a=p.layout.type;u=p.layout.instanced;l=p.layout.size;c=o(p.data.length/p.layout.size);f=p.data.length*p.data.BYTES_PER_ELEMENT}else if(e){a=e.value.constructor.name;u=e.instanced;l=e.size;c=o(e.value.length/e.size);f=e.value.length*e.value.BYTES_PER_ELEMENT;h=e.value}a=String(a).replace("Array","");var d=a.indexOf("nt")!==-1;return O({"Inst/Verts/Comps/Bytes/Type/Loc":(u?"I ":"P ")+" "+c+" (x"+l+"="+f+" "+a+") loc="+n},i,Object(s["formatValue"])(h,{size:l,isInteger:d}))}},{key:"isPickable",value:function t(){return this.pickable}},{key:"setPickable",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.pickable=Boolean(e);return this}},{key:"getGeometry",value:function t(){return this.geometry}}]);return e}(a["a"]);var X=e["a"]=G},It3W:function(t,e,n){"use strict";t.exports=r;t.exports.default=r;function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,true),u=[];if(!s)return u;var l,c,h,p,d,v,m;if(r)s=f(t,e,s,n);if(t.length>80*n){l=h=t[0];c=p=t[1];for(var g=n;g<o;g+=n){d=t[g];v=t[g+1];if(d<l)l=d;if(v<c)c=v;if(d>h)h=d;if(v>p)p=v}m=Math.max(h-l,p-c);m=m!==0?1/m:0}a(s,u,n,l,c,m);return u}function i(t,e,n,r,i){var o,a;if(i===L(t,e,n,r)>0){for(o=e;o<n;o+=r)a=A(o,t[o],t[o+1],a)}else{for(o=n-r;o>=e;o-=r)a=A(o,t[o],t[o+1],a)}if(a&&w(a,a.next)){S(a);a=a.next}return a}function o(t,e){if(!t)return t;if(!e)e=t;var n=t,r;do{r=false;if(!n.steiner&&(w(n,n.next)||x(n.prev,n,n.next)===0)){S(n);n=e=n.prev;if(n===n.next)break;r=true}else{n=n.next}}while(r||n!==e);return e}function a(t,e,n,r,i,f,h){if(!t)return;if(!h&&f)v(t,r,i,f);var p=t,d,m;while(t.prev!==t.next){d=t.prev;m=t.next;if(f?u(t,r,i,f):s(t)){e.push(d.i/n);e.push(t.i/n);e.push(m.i/n);S(t);t=m.next;p=m.next;continue}t=m;if(t===p){if(!h){a(o(t),e,n,r,i,f,1)}else if(h===1){t=l(t,e,n);a(t,e,n,r,i,f,2)}else if(h===2){c(t,e,n,r,i,f)}break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return false;var i=t.next.next;while(i!==t.prev){if(_(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return false;i=i.next}return true}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return false;var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y;var f=g(s,u,e,n,r),h=g(l,c,e,n,r);var p=t.nextZ;while(p&&p.z<=h){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return false;p=p.nextZ}p=t.prevZ;while(p&&p.z>=f){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return false;p=p.prevZ}return true}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;if(!w(i,o)&&E(i,r,r.next,o)&&I(i,o)&&I(o,i)){e.push(i.i/n);e.push(r.i/n);e.push(o.i/n);S(r);S(r.next);r=t=o}r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&b(u,l)){var c=M(u,l);u=o(u,u.next);c=o(c,c.next);a(u,e,n,r,i,s);a(c,e,n,r,i,s);return}l=l.next}u=u.next}while(u!==t)}function f(t,e,n,r){var a=[],s,u,l,c,f;for(s=0,u=e.length;s<u;s++){l=e[s]*r;c=s<u-1?e[s+1]*r:t.length;f=i(t,l,c,r,false);if(f===f.next)f.steiner=true;a.push(y(f))}a.sort(h);for(s=0;s<a.length;s++){p(a[s],n);n=o(n,n.next)}return n}function h(t,e){return t.x-e.x}function p(t,e){e=d(t,e);if(e){var n=M(e,t);o(n,n.next)}}function d(t,e){var n=e,r=t.x,i=t.y,o=-Infinity,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o){o=s;if(s===r){if(i===n.y)return n;if(i===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!a)return null;if(r===o)return a.prev;var u=a,l=a.x,c=a.y,f=Infinity,h;n=a.next;while(n!==u){if(r>=n.x&&n.x>=l&&r!==n.x&&_(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){h=Math.abs(i-n.y)/(r-n.x);if((h<f||h===f&&n.x>a.x)&&I(n,t)){a=n;f=h}}n=n.next}return a}function v(t,e,n,r){var i=t;do{if(i.z===null)i.z=g(i.x,i.y,e,n,r);i.prevZ=i.prev;i.nextZ=i.next;i=i.next}while(i!==t);i.prevZ.nextZ=null;i.prevZ=null;m(i)}function m(t){var e,n,r,i,o,a,s,u,l=1;do{n=t;t=null;o=null;a=0;while(n){a++;r=n;s=0;for(e=0;e<l;e++){s++;r=r.nextZ;if(!r)break}u=l;while(s>0||u>0&&r){if(s!==0&&(u===0||!r||n.z<=r.z)){i=n;n=n.nextZ;s--}else{i=r;r=r.nextZ;u--}if(o)o.nextZ=i;else t=i;i.prevZ=o;o=i}n=r}o.nextZ=null;l*=2}while(a>1);return t}function g(t,e,n,r,i){t=32767*(t-n)*i;e=32767*(e-r)*i;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1}function y(t){var e=t,n=t;do{if(e.x<n.x)n=e;e=e.next}while(e!==t);return n}function _(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&I(t,e)&&I(e,t)&&C(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,r){if(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))return true;return x(t,e,n)>0!==x(t,e,r)>0&&x(n,r,t)>0!==x(n,r,e)>0}function T(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return true;n=n.next}while(n!==t);return false}function I(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function C(t,e){var n=t,r=false,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{if(n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x)r=!r;n=n.next}while(n!==t);return r}function M(t,e){var n=new R(t.i,t.x,t.y),r=new R(e.i,e.x,e.y),i=t.next,o=e.prev;t.next=e;e.prev=t;n.next=i;i.prev=n;r.next=n;n.prev=r;o.next=r;r.prev=o;return r}function A(t,e,n,r){var i=new R(t,e,n);if(!r){i.prev=i;i.next=i}else{i.next=r.next;i.prev=r;r.next.prev=i;r.next=i}return i}function S(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function R(t,e,n){this.i=t;this.x=e;this.y=n;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=false}r.deviation=function(t,e,n,r){var i=e&&e.length;var o=i?e[0]*n:t.length;var a=Math.abs(L(t,0,o,n));if(i){for(var s=0,u=e.length;s<u;s++){var l=e[s]*n;var c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(L(t,l,c,n))}}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n;var p=r[s+1]*n;var d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function L(t,e,n,r){var i=0;for(var o=e,a=n-r;o<n;o+=r){i+=(t[a]-t[o])*(t[o+1]+t[a+1]);a=o}return i}r.flatten=function(t){var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0;for(var i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++){for(var a=0;a<e;a++)n.vertices.push(t[i][o][a])}if(i>0){r+=t[i-1].length;n.holes.push(r)}}return n}},Iynp:function(t,e){t.exports=n;function n(t,e,n,r,i){t[0]=e;t[1]=n;t[2]=r;t[3]=i;return t}},JEgC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("PeCl");n.d(e,"Geometry",function(){return r["a"]});var i=n("y/u5");n.d(e,"ConeGeometry",function(){return i["a"]});var o=n("5BjH");n.d(e,"CubeGeometry",function(){return o["a"]});var a=n("al+/");n.d(e,"CylinderGeometry",function(){return a["a"]});var s=n("Okuy");n.d(e,"IcoSphereGeometry",function(){return s["a"]});var u=n("zuDh");n.d(e,"PlaneGeometry",function(){return u["a"]});var l=n("wo0b");n.d(e,"SphereGeometry",function(){return l["a"]});var c=n("LR+x");n.d(e,"TruncatedConeGeometry",function(){return c["a"]})},JyN8:function(t,e,n){var r=n("Wdy1");r(r.S+r.F,"Object",{assign:n("xVc6")})},KKJi:function(t,e,n){"use strict";e["c"]=l;e["a"]=c;var r=n("diIw");var i=n("3u7p");var o=n("7puw");var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t){return r["isBrowser"]?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function c(t){return r["isBrowser"]?window.cancelAnimationFrame(t):clearTimeout(t)}var f=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.onCreateContext,i=n===undefined?function(t){return Object(o["createGLContext"])(t)}:n,a=e.onDeleteContext,s=a===undefined?function(t){return Object(o["deleteGLContext"])(t)}:a,l=e.onInitialize,c=l===undefined?function(){}:l,f=e.onRender,h=f===undefined?function(){}:f,p=e.onFinalize,d=p===undefined?function(){}:p,v=e.gl,m=v===undefined?null:v,g=e.glOptions,y=g===undefined?{preserveDrawingBuffer:true}:g,_=e.width,b=_===undefined?null:_,x=e.height,w=x===undefined?null:x,E=e.createFramebuffer,T=E===undefined?false:E,I=e.autoResizeViewport,C=I===undefined?true:I,M=e.autoResizeCanvas,A=M===undefined?true:M,S=e.autoResizeDrawingBuffer,R=S===undefined?true:S,L=e.useDevicePixelRatio,k=L===undefined?null:L,N=e.useDevicePixels,F=N===undefined?true:N;u(this,t);this.start=this.start.bind(this);this.stop=this.stop.bind(this);this._renderFrame=this._renderFrame.bind(this);if(k!==null){r["log"].deprecated("useDevicePixelRatio","useDevicePixels");F=k}this.setViewParameters({autoResizeViewport:C,autoResizeCanvas:A,autoResizeDrawingBuffer:R,useDevicePixels:F});this._onCreateContext=i;this.glOptions=y;this._createFramebuffer=T;this._onInitialize=c;this._onRender=h;this._onFinalize=d;this.width=b;this.height=w;this.gl=m;return this}s(t,[{key:"setViewParameters",value:function t(e){var n=e.autoResizeDrawingBuffer,i=n===undefined?true:n,o=e.autoResizeCanvas,a=o===undefined?true:o,s=e.autoResizeViewport,u=s===undefined?true:s,l=e.useDevicePixels,c=l===undefined?true:l,f=e.useDevicePixelRatio,h=f===undefined?null:f;this.autoResizeViewport=u;this.autoResizeCanvas=a;this.autoResizeDrawingBuffer=i;this.useDevicePixels=c;if(h!==null){r["log"].deprecated("useDevicePixelRatio","useDevicePixels");this.useDevicePixels=h}return this}},{key:"start",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._stopped=false;if(!this._animationFrameId){this._startPromise=Object(i["d"])().then(function(){if(e._stopped){return null}e._createWebGLContext(n);e._initializeCallbackData();e._updateCallbackData();e._resizeCanvasDrawingBuffer();e._resizeViewport();return e._onInitialize(e._callbackData)}).then(function(t){if(!e._stopped){e._addCallbackData(t||{});if(t!==false&&!e._animationFrameId){e._animationFrameId=l(e._renderFrame)}}})}return this}},{key:"stop",value:function t(){if(this._animationFrameId){this._finalizeCallbackData();c(this._animationFrameId);this._animationFrameId=null;this._stopped=true}return this}},{key:"_setupFrame",value:function t(){if(this._onSetupFrame){this._onSetupFrame(this._callbackData)}else{this._resizeCanvasDrawingBuffer();this._resizeViewport();this._resizeFramebuffer()}}},{key:"_renderFrame",value:function t(){this._setupFrame();this._updateCallbackData();this._onRender(this._callbackData);this._callbackData.tick++;if(!this._stopped){this._animationFrameId=l(this._renderFrame)}}},{key:"_initializeCallbackData",value:function t(){this._callbackData={gl:this.gl,canvas:this.gl.canvas,framebuffer:this.framebuffer,stop:this.stop,tick:0,tock:0,useDevicePixels:this.useDevicePixels}}},{key:"_updateCallbackData",value:function t(){var e=this.gl.canvas;this._callbackData.width=e.width;this._callbackData.height=e.height;this._callbackData.aspect=e.width/e.height}},{key:"_finalizeCallbackData",value:function t(){this._onFinalize(this._callbackData)}},{key:"_addCallbackData",value:function t(e){if((typeof e==="undefined"?"undefined":a(e))==="object"&&e!==null){this._callbackData=Object.assign({},this._callbackData,e)}}},{key:"_createWebGLContext",value:function t(e){e=Object.assign({},e,this.glOptions);if(e.gl){this.gl=e.gl}else{this.gl=this._onCreateContext(e)}if(!Object(o["isWebGL"])(this.gl)){throw new Error("AnimationLoop.onCreateContext - illegal context returned")}if(this._createFramebuffer){this.framebuffer=new o["Framebuffer"](this.gl)}Object(o["resetParameters"])(this.gl)}},{key:"_resizeViewport",value:function t(){if(this.autoResizeViewport){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}}},{key:"_resizeFramebuffer",value:function t(){if(this.framebuffer){this.framebuffer.resize({width:this.gl.canvas.width,height:this.gl.canvas.height})}}},{key:"_resizeCanvasDrawingBuffer",value:function t(){if(this.autoResizeDrawingBuffer){Object(i["h"])(this.gl.canvas,{useDevicePixels:this.useDevicePixels})}}}]);return t}();e["b"]=f},KKYF:function(t,e){t.exports=n;function n(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}},KSGD:function(t,e,n){if(false){var r=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var i=function(t){return typeof t==="object"&&t!==null&&t.$$typeof===r};var o=true;t.exports=require("./factoryWithTypeCheckers")(i,o)}else{t.exports=n("Q4WQ")()}},KiH5:function(t,e,n){"use strict";var r=n("7k+L");var i=n("3u7p");var o=n("u/dy");var a=n("1Yfb");var s=n("bnoI");var u=n("+sAb");var l=n("ZN/I");var c=n("UiKI");var f=n("Rc6/");var h=n("jgbb");var p=n("nXN2");var d=n("RG0x");var v=n("uZnM");var m=n("v0R9");var g=n("iXdV");var y=n("tKKN");var _=n("fUho");var b=n("NcOI");var x=n("yO0j");var w=n("xF4I");var E=n("tLlS");var T=n("7+pg");var I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function C(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function M(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function A(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var S=function(t){A(e,t);I(e,null,[{key:"isSupported",value:function t(e){return Object(o["h"])(e)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};C(this,e);Object(o["c"])(t);var r=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{target:n.target||E["e"].TEXTURE_3D})));r.width=null;r.height=null;r.depth=null;Object.seal(r);r.setImageData(n);if(n.generateMipmap){r.generateMipmap()}return r}I(e,[{key:"initialize",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.opts=Object.assign({},this.opts,n);var r=this.opts,i=r.pixels,o=r.settings;if(o){Object(a["c"])(o,function(){if(i){e.setImage3D(e.opts)}});this.setParameters(n)}}},{key:"setImage3D",value:function t(e){var n=e.level,r=n===undefined?0:n,i=e.internalformat,o=i===undefined?E["e"].RGBA:i,a=e.width,s=e.height,u=e.depth,l=u===undefined?1:u,c=e.border,h=c===undefined?0:c,p=e.format,d=e.type,v=d===undefined?E["e"].UNSIGNED_BYTE:d,m=e.offset,g=m===undefined?0:m,y=e.pixels;if(ArrayBuffer.isView(y)){this.gl.texImage3D(this.target,r,o,a,s,l,h,p,v,y);return}if(y instanceof f["a"]){this.gl.bindBuffer(E["e"].PIXEL_UNPACK_BUFFER,y.handle);this.gl.texImage3D(this.target,r,o,a,s,l,h,p,v,g);this.gl.bindBuffer(E["e"].PIXEL_UNPACK_BUFFER,y.handle)}}}]);return e}(T["a"]);var R=S;var L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function k(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function N(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function F(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var O=function(t){F(e,t);L(e,null,[{key:"isSupported",value:function t(e){return Object(o["h"])(e)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};k(this,e);var r=N(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));throw new Error("Texture2DArray not yet implemented");return r}return e}(T["a"]);var B=O;var P=n("wnLj");var U=n("qBE+");var D=n("N+Om");var z=n.n(D);var j=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var V=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var G;function X(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function W(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var Z="UniformBufferLayout illegal argument";var Q=5124;var H=35667;var Y=35668;var J=35669;var q=5126;var K=35664;var $=35665;var tt=35666;var et=35670;var nt=35671;var rt=35672;var it=35673;var ot=5125;var at=36294;var st=36295;var ut=36296;var lt=35674;var ct=35675;var ft=35676;var ht=35685;var pt=35686;var dt=35687;var vt=35688;var mt=35689;var gt=35690;var yt=(G={},W(G,q,[q,1]),W(G,K,[q,2]),W(G,$,[q,3]),W(G,tt,[q,4]),W(G,Q,[Q,1]),W(G,H,[Q,2]),W(G,Y,[Q,3]),W(G,J,[Q,4]),W(G,ot,[ot,1]),W(G,at,[ot,2]),W(G,st,[ot,3]),W(G,ut,[ot,4]),W(G,et,[q,1]),W(G,nt,[q,2]),W(G,rt,[q,3]),W(G,it,[q,4]),W(G,lt,[q,8]),W(G,ht,[q,8]),W(G,pt,[q,8]),W(G,ct,[q,12]),W(G,dt,[q,12]),W(G,vt,[q,12]),W(G,ft,[q,16]),W(G,mt,[q,16]),W(G,gt,[q,16]),G);var _t=function(){function t(e){var n;X(this,t);this.layout={};this.size=0;for(var r in e){this._addUniform(r,e[r])}var i=new Float32Array(this.size);this.typedArray=(n={},W(n,q,i),W(n,Q,new Int32Array(i.buffer)),W(n,ot,new Uint32Array(i.buffer)),n)}V(t,[{key:"getBytes",value:function t(){return this.size*4}},{key:"getData",value:function t(){return this.typedArray[q]}},{key:"getSubData",value:function t(e){var n=void 0;var r=void 0;if(e===undefined){n=this.data;r=0}else{var i=this.offsets[e];var o=i+this.sizes[e];n=this.data.subarray(i,o);r=i*4}return{data:n,offset:r}}},{key:"setUniforms",value:function t(e){for(var n in e){this._setValue(n,e[n])}return this}},{key:"_setValue",value:function t(e,n){var r=this.layout[e];z()(r,"UniformLayoutStd140 illegal argument");var i=this.typedArray[r.type];if(r.size===1){i[r.offset]=n}else{i.set(n,r.offset)}}},{key:"_addUniform",value:function t(e,n){var r=yt[n];z()(r,Z);var i=j(r,2),o=i[0],a=i[1];var s=this.size;this.size=this._alignTo(this.size,a);this.size+=a;this.layout[e]={type:o,size:a,offset:s}}},{key:"_alignTo",value:function t(e,n){switch(n){case 1:return e;case 2:return e+e%2;default:return e+(4-e%4)%4}}}]);return t}();var bt=_t;var xt=n("Imml");var wt=n("KKJi");var Et=n("a3gu");var Tt=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var It=new Uint8Array([0,0,0]);function Ct(t){return[t+1&255,t+1>>8&255,t+1>>16&255]}function Mt(t){var e=Tt(t,3),n=e[0],r=e[1],i=e[2];var o=n+r*256+i*65536-1;return o}function At(){return It}var St=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Rt(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Lt(){}var kt={enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,delete:46};function Nt(t){return t!==true?t:false}function Ft(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top,bbox:e}}function Ot(t,e){e=e||window;return t||e.event}function Bt(t){return t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3}function Pt(t){var e=t.which||t.keyCode;var n=Xt(e);var r=e-111;if(r>0&&r<13){n="f"+r}n=n||String.fromCharCode(e).toLowerCase();return{code:e,key:n,shift:t.shiftKey,control:t.ctrlKey,alt:t.altKey,meta:t.metaKey}}function Ut(t){return t.which===3||t.button===2}function Dt(t,e){e=e||window;t=t||e.event;var n=e.document;n=n.documentElement||n.body;if(t.touches&&t.touches.length){var r=[];var i=t.touches.length;var o=void 0;for(var a=0;a<i;++a){o=t.touches[a];r.push({x:o.pageX||o.clientX+n.scrollLeft,y:o.pageY||o.clientY+n.scrollTop})}return r}var s={x:t.pageX||t.clientX+n.scrollLeft,y:t.pageY||t.clientY+n.scrollTop};return[s]}function zt(t){if(t.stopPropagation){t.stopPropagation()}t.cancelBubble=true;if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}}var jt=function(){function t(e,n){Rt(this,t);this.scene=n.scene;this.domElem=e;this.pos=Ft(e);this.opt=this.callbacks=n;this.size={width:e.width||e.offsetWidth,height:e.height||e.offsetHeight};this.attachEvents()}St(t,[{key:"attachEvents",value:function t(){var e=this;var n=this.domElem;var r=this.opt;if(r.disableContextMenu){n.oncontextmenu=function(){return false}}if(r.enableMouse){["mouseup","mousedown","mousemove","mouseover","mouseout"].forEach(function(t){n.addEventListener(t,function(n,r){e[t](e.eventInfo(t,n,r))},false)});var i="";if(!document.getBoxObjectFor&&window.mozInnerScreenX===null){i="mousewheel"}else{i="DOMMouseScroll"}n.addEventListener(i,function(t,n){e["mousewheel"](e.eventInfo("mousewheel",t,n))},false)}if(r.enableTouch){["touchstart","touchmove","touchend"].forEach(function(t){n.addEventListener(t,function(n,r){e[t](e.eventInfo(t,n,r))},false)})}if(r.enableKeyboard){["keydown","keyup"].forEach(function(t){document.addEventListener(t,function(n,r){e[t](e.eventInfo(t,n,r))},false)})}}},{key:"eventInfo",value:function t(e,n,r){var i=this.domElem;var o=this.scene;var a=this.opt;var s=this.getSize();var u=a.relative;var l=a.centerOrigin;var c=a.cachePosition&&this.pos||Ft(i);var f=Ot(n,r);var h=Dt(n,r);var p={x:h[0].x,y:h[0].y};var d={};var v=void 0;var m=void 0;for(var g=0,y=h.length;g<y;++g){v=h[g].x;m=h[g].y;if(u){v-=c.x;m-=c.y;if(l){v-=s.width/2;m-=s.height/2;m*=-1}}h[g].x=v;h[g].y=m}switch(e){case"mousewheel":d.wheel=Bt(f);break;case"keydown":case"keyup":Object.assign(d,Pt(f));break;case"mouseup":d.isRightClick=Ut(f);break;default:break}var _=void 0;Object.assign(d,{x:h[0].x,y:h[0].y,posArray:h,cache:false,stop:function t(){zt(f)},getTarget:function t(){if(_){return _}return _=a.picking&&o.pick(p.x-c.x,p.y-c.y)||true}});d.event=f;return d}},{key:"getSize",value:function t(){if(this.cacheSize){return this.size}var e=this.domElem;return{width:e.width||e.offsetWidth,height:e.height||e.offsetHeight}}},{key:"mouseup",value:function t(e){if(!this.moved){if(e.isRightClick){this.callbacks.onRightClick(e,this.hovered)}else{this.callbacks.onClick(e,Nt(this.pressed))}}if(this.pressed){if(this.moved){this.callbacks.onDragEnd(e,Nt(this.pressed))}else{this.callbacks.onDragCancel(e,Nt(this.pressed))}this.pressed=this.moved=false}}},{key:"mouseout",value:function t(e){var n=e.relatedTarget;var r=this.domElem;while(n&&n.parentNode){if(r===n.parentNode){return}n=n.parentNode}if(this.hovered){this.callbacks.onMouseLeave(e,this.hovered);this.hovered=false}if(this.pressed&&this.moved){this.callbacks.onDragEnd(e);this.pressed=this.moved=false}}},{key:"mouseover",value:function t(e){}},{key:"mousemove",value:function t(e){if(this.pressed){this.moved=true;this.callbacks.onDragMove(e,Nt(this.pressed));return}if(this.hovered){var n=Nt(e.getTarget());if(!n||n.hash!==this.hash){this.callbacks.onMouseLeave(e,this.hovered);this.hovered=n;this.hash=n;if(n){this.hash=n.hash;this.callbacks.onMouseEnter(e,this.hovered)}}else{this.callbacks.onMouseMove(e,this.hovered)}}else{this.hovered=Nt(e.getTarget());this.hash=this.hovered;if(this.hovered){this.hash=this.hovered.hash;this.callbacks.onMouseEnter(e,this.hovered)}}if(!this.opt.picking){this.callbacks.onMouseMove(e)}}},{key:"mousewheel",value:function t(e){this.callbacks.onMouseWheel(e)}},{key:"mousedown",value:function t(e){this.pressed=e.getTarget();this.callbacks.onDragStart(e,Nt(this.pressed))}},{key:"touchstart",value:function t(e){this.touched=e.getTarget();this.touchedLastPosition={x:e.x,y:e.y};this.callbacks.onTouchStart(e,Nt(this.touched))}},{key:"touchmove",value:function t(e){if(this.touched){this.touchMoved=true;this.callbacks.onTouchMove(e,Nt(this.touched))}}},{key:"touchend",value:function t(e){if(this.touched){if(this.touchMoved){this.callbacks.onTouchEnd(e,Nt(this.touched))}else{e.x=isNaN(e.x)?this.touchedLastPosition.x:e.x;e.y=isNaN(e.y)?this.touchedLastPosition.y:e.y;this.callbacks.onTap(e,Nt(this.touched));this.callbacks.onTouchCancel(e,Nt(this.touched))}this.touched=this.touchMoved=false}}},{key:"keydown",value:function t(e){this.callbacks.onKeyDown(e)}},{key:"keyup",value:function t(e){this.callbacks.onKeyUp(e)}}]);return t}();Object.assign(jt.prototype,{hovered:false,pressed:false,touched:false,touchedLastPosition:{x:0,y:0},touchMoved:false,moved:false});var Vt={cachePosition:true,cacheSize:true,relative:true,centerOrigin:true,disableContextMenu:true,bind:false,picking:false,enableTouch:true,enableMouse:true,enableKeyboard:true,onClick:Lt,onRightClick:Lt,onDragStart:Lt,onDragMove:Lt,onDragEnd:Lt,onDragCancel:Lt,onTouchStart:Lt,onTouchMove:Lt,onTouchEnd:Lt,onTouchCancel:Lt,onTap:Lt,onMouseMove:Lt,onMouseEnter:Lt,onMouseLeave:Lt,onMouseWheel:Lt,onKeyDown:Lt,onKeyUp:Lt};var Gt=kt;function Xt(t){var e=Gt;for(var n in e){if(e[n]===t){return n}}return null}function Wt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=Object.assign({},Vt,e);var n=e.bind;if(n){for(var r in e){if(r.match(/^on[a-zA-Z0-9]+$/)){(function(t,r){e[t]=function t(){r.apply(n,Array.prototype.slice.call(arguments))}})(r,e[r])}}}return new jt(t,e)}function Zt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=Object.assign({},Vt,e);var n=e.bind;if(n){for(var r in e){if(r.match(/^on[a-zA-Z0-9]+$/)){(function(t,r){e[t]=function t(){r.apply(n,Array.prototype.slice.call(arguments))}})(r,e[r])}}}return new jt(t,e)}var Qt=n("PeCl");var Ht=n("y/u5");var Yt=n("5BjH");var Jt=n("al+/");var qt=n("Okuy");var Kt=n("zuDh");var $t=n("wo0b");var te=n("LR+x");var ee=n("JEgC");var ne=n("VDqB");function re(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ie(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function oe(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ae=function(t){oe(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};re(this,e);return ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{geometry:new ee["ConeGeometry"](n)})))}return e}(ne["Model"]);var se=ae;var ue=n("diIw");function le(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ce(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function fe(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var he=function(t){fe(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};le(this,e);var r=n.id,i=r===undefined?Object(ue["uid"])("cube"):r;return ce(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{id:i,geometry:new ee["CubeGeometry"](n)})))}return e}(ne["Model"]);var pe=he;function de(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ve(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function me(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ge=function(t){me(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};de(this,e);return ve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{geometry:new ee["CylinderGeometry"](n)})))}return e}(xt["a"]);var ye=ge;function _e(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function be(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function xe(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var we=function(t){xe(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_e(this,e);return be(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{geometry:new ee["IcoSphereGeometry"](n)})))}return e}(ne["Model"]);var Ee=we;function Te(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ie(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ce(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Me=function(t){Ce(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Te(this,e);var r=n.id,i=r===undefined?Object(ue["uid"])("plane"):r;return Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{id:i,geometry:new ee["PlaneGeometry"](n)})))}return e}(xt["a"]);var Ae=Me;function Se(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Re(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Le(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ke=function(t){Le(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Se(this,e);var r=n.id,i=r===undefined?Object(ue["uid"])("sphere"):r;return Re(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{id:i,geometry:new ee["SphereGeometry"](n)})))}return e}(ne["Model"]);var Ne=ke;function Fe(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Oe(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Be(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pe=function(t){Be(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Fe(this,e);return Oe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{geometry:new ee["TruncatedConeGeometry"](n)})))}return e}(ne["Model"]);var Ue=Pe;var De=n("7puw");function ze(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function je(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ve(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ge="attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n";var Xe=[-1,-1,1,-1,-1,1,1,1];var We=function(t){Ve(e,t);function e(t,n){ze(this,e);var r=Xe.map(function(t){return t===-1?0:t});var i=je(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{vs:Ge,geometry:new ee["Geometry"]({drawMode:De["GL"].TRIANGLE_STRIP,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(Xe)},aTexCoord:{size:2,value:new Float32Array(r)},aCoordinate:{size:2,value:new Float32Array(r)}}})})));i.setVertexCount(4);return i}return e}(ne["Model"]);var Ze=We;var Qe=n("1HiQ");var He=n.n(Qe);var Ye=n("6vbb");var Je=n("0Om0");var qe=n("HGpQ");var Ke="#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n\n// All these functions are for substituting tan() function from Intel GPU only\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n\n    // 2pi range reduction\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n";var $e={name:"fp32",vs:Ke,fs:null};function tn(t){var e=Math.fround(t);var n=t-e;return[e,n]}var en="uniform float ONE;\n\n/*\nAbout LUMA_FP64_CODE_ELIMINATION_WORKAROUND\n\nThe purpose of this workaround is to prevent shader compilers from\noptimizing away necessary arithmetic operations by swapping their sequences\nor transform the equation to some 'equivalent' from.\n\nThe method is to multiply an artifical variable, ONE, which will be known to\nthe compiler to be 1 only at runtime. The whole expression is then represented\nas a polynomial with respective to ONE. In the coefficients of all terms, only one a\nand one b should appear\n\nerr = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE\n*/\n\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\n\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\n\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  // y component is for the error\n  prod.y += a.x * b.y;\n  prod.y += a.y * b.x;\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n  vec2 yn = a * xn;\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n  return sum_fp64(vec2(yn, 0.0), prod);\n}\n";var nn="const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09); // 1/3!\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09); // 1/4!\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10); // 1/5!\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11); // 1/6!\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12); // 1/7!\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13); // 1/8!\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14); // 1/9!\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15); // 1/10!\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\n/* k_power controls how much range reduction we would like to have\nRange reduction uses the following method:\nassume a = k_power * r + m * log(2), k and m being integers.\nSet k_power = 4 (we can choose other k to trade accuracy with performance.\nwe only need to calculate exp(r) and using exp(a) = 2^m * exp(r)^k_power;\n*/\n\nvec2 exp_fp64(vec2 a) {\n  // We need to make sure these two numbers match\n  // as bit-wise shift is not available in GLSL 1.0\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_6_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_7_FP64);\n\n  s = sum_fp64(s, t);\n\n\n  // At this point, s = exp(r) - 1; but after following 4 recursions, we will get exp(r) ^ 512 - 1.\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n//   return r;\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_7_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_9_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_8_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_10_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    // We just can't get PI/16 * 3.0 very accurately.\n    // so let's just store it\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\n// Vector functions\n// vec2 functions\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\n\n// vec3 functions\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\n\n// vec4 functions\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n";var rn=en+"\n"+nn;var on={name:"fp64",vs:rn,fs:null};var an={name:"fp64-arithmetic",vs:""+en,fs:null};var sn={name:"fp64-fs",vs:null,fs:rn};var un=n("7VzN");var ln=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var cn={modelMatrix:ln,viewMatrix:ln,projectionMatrix:ln,cameraPositionWorld:[0,0,0]};function fn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:cn;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={};if(t.modelMatrix!==undefined){n.modelMatrix=t.modelMatrix}if(t.viewMatrix!==undefined){n.viewMatrix=t.viewMatrix}if(t.projectionMatrix!==undefined){n.projectionMatrix=t.projectionMatrix}if(t.cameraPositionWorld!==undefined){n.cameraPositionWorld=t.cameraPositionWorld}if(t.projectionMatrix!==undefined||t.viewMatrix!==undefined){n.viewProjectionMatrix=new un["Matrix4"](t.projectionMatrix).multiplyRight(t.viewMatrix)}return n}var hn="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n";var pn=hn+"\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n";var dn="\n"+hn;var vn={name:"project",getUniforms:fn,vs:pn,fs:dn};var mn="  // empty\n";var gn="#define LIGHT_MAX 4\n\n/*\n// lighting configuration\nuniform bool enableLights;\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\n// point lights configuration\nuniform vec3 pointLocation[LIGHT_MAX];\nuniform vec3 pointColor[LIGHT_MAX];\nuniform int numberPoints;\n\n// reflection / refraction configuration\nuniform bool useReflection;\n*/\n\nuniform bool lighting_uEnableLights;\nuniform vec3 lighting_uAmbientColor;\nuniform vec3 lighting_uDirection;\nuniform vec3 lighting_uDirectionalColor;\n\n// point lights configuration\nuniform int  lighting_uPointCount;\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\n\n// reflection / refraction configuration\nuniform bool lighting_uEnableReflections;\n\n// varyings\nvarying vec4 lighting_vPosition;\nvarying vec4 lighting_vNormal;\nvarying vec3 lighting_vColor;\nvarying vec3 lighting_vLightWeighting;\nvarying vec3 lighting_vReflection;\n\nvoid lighting_setPositionAndNormal(vec3 position, vec3 normal) {\n  lighting_vPosition = worldMatrix * vec4(position, 1.);\n  lighting_vNormal = worldInverseTransposeMatrix * vec4(normal, 1.);;\n}\n\nvoid lighting__getLightWeigting() {\n  float directionalLightWeighting = max(dot(lighting_vNormal.xyz, lighting_uDirection), 0.);\n  vec3 pointWeight = vec3(0., 0., 0.);\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec4 mvLightPosition = viewMatrix * vec4(lighting_uPointLocation[i], 1.);\n      vec3 pointLightDirection = normalize(mvLightPosition.xyz - lighting_vPosition.xyz);\n      pointWeight += max(dot(lighting_vNormal.xyz, pointLightDirection), 0.) * pointColor[i];\n     } else {\n       break;\n     }\n   }\n   return ambientColor + (directionalColor * directionalLightWeighting) + pointWeight;\n}\n\nvoid lighting_apply(vec3 position, vec3 normal) {\n  lighting_setPositionAndNormal(position, normal);\n\n  // lighting code\n  if(!lighting_uEnableLights) {\n    lighting_vLightWeighting = vec3(1., 1., 1.);\n  } else {\n    lighting_vLightWeighting = lighting__getLightWeighting();\n  }\n}\n\nvoid lighting_set_reflection(vec3 position) {\n    // refraction / reflection code\n  if (lighting_uEnableReflections) {\n    lighting_vReflection = (viewInverseMatrix[3] - (worldMatrix * vec4(position, 1.))).xyz;\n  } else {\n    lighting_vReflection = vec3(1., 1., 1.);\n  }\n}\n";var yn="#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define LIGHT_MAX 4\n\nvarying vec3 lighting_vLightWeighting;\n\nvec4 lighting_apply(vec4 color) {\n  // set color from texture\n  return vec4(color.rgb * lighting_vLightWeighting, color.a);\n}\n\n// spec-map.fs\n\nuniform mat4 viewMatrix;\n\n\nvarying vec4 lighting_vColor;\nvarying vec4 lighting_vTransformedNormal;\nvarying vec4 lighting_vPosition;\n\nuniform float shininess;\nuniform bool enableSpecularMap;\nuniform bool enableLights;\n\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform float lighting_uPointSpecularEnable[LIGHT_MAX];\nuniform vec3 lighting_uPointSpecularColor[LIGHT_MAX];\nuniform int numberPoints;\n\n\nvec3 lighting__calculate_light_weighting() {\n\treturn lighting__calculate_light_weighting(shininess);\n}\n\nvec3 lighting__calculate_light_weighting(shininess) {\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0., 0., 0.);\n  vec3 diffuseLight = vec3(0., 0., 0.);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(lighting_uPointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (lighting_uPointSpecularEnable > 0.) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininessVal);\n        specularLight += specularLightWeighting * lighting_uPointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * lighting_uPointColor[i];\n    } else {\n      break;\n    }\n  }\n\n  return ambientColor + diffuseLight + specularLight;\n}\n\nvoid lighting_filterColor(fragmentColor) {\n  if (!lighting_enable) {\n  \treturn fragmentColor;\n  } else {\n  \tvec3 lightWeighting = lighting__calculate_light_weighting();\n  \treturn vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n  }\n}\n\n// render-tex.fs\n\nuniform vec3 material_uAmbientColor;\nuniform vec3 material_uDiffuseColor;\nuniform vec3 material_uSpecularColor;\nuniform vec3 material_uEmissiveColor;\n\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\n\nuniform mat4 viewMatrix;\n\nvoid apply_lighting(color) {\n  vec3 ambientLightWeighting = ambientColor;\n\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (enableSpecularHighlights) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n        specularLight += specularLightWeighting * pointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * pointColor[i];\n    } else {\n        break;\n    }\n  }\n\n  vec3 matAmbientColor = material_uAmbientColor * color.rgb;\n  vec3 matDiffuseColor = material_uDiffuseColor * color.rgb;\n  vec3 matSpecularColor = material_uSpecularColor * color.rgb;\n  vec3 matEmissiveColor = material_uEmissiveColor * color.rgb;\n  gl_FragColor = vec4(\n    matAmbientColor * ambientLightWeighting\n    + matDiffuseColor * diffuseLightWeighting\n    + matSpecularColor * specularLightWeighting\n    + matEmissiveColor,\n    color.a\n  );\n}\n\n/// frag-lighting\n\n  vec3 lightWeighting;\n  if (!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 lightDirection;\n    float specularLightWeighting = 0.0;\n    float diffuseLightWeighting = 0.0;\n    vec3  specularLight = vec3(0.0, 0.0, 0.0);\n    vec3  diffuseLight = vec3(0.0, 0.0, 0.0);\n\n    vec3 transformedPointLocation;\n    vec3 normal = vTransformedNormal.xyz;\n\n    vec3 eyeDirection = normalize(-vPosition.xyz);\n    vec3 reflectionDirection;\n\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n        lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n        if (enableSpecular[i] > 0.0) {\n          reflectionDirection = reflect(-lightDirection, normal);\n          specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n          specularLight += specularLightWeighting * pointSpecularColor[i];\n        }\n\n        diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        diffuseLight += diffuseLightWeighting * pointColor[i];\n      } else {\n        break;\n      }\n    }\n\n    lightWeighting = ambientColor + diffuseLight + specularLight;\n  }\n\n// reflection / refraction configs\nuniform float reflection;\nuniform float refraction;\n\n///\n  // has cube texture then apply reflection\n  // if (hasTextureCube1) {\n  //   vec3 nReflection = normalize(vReflection);\n  //   vec3 reflectionValue;\n  //   if (refraction > 0.0) {\n  //    reflectionValue = refract(nReflection, vNormal.xyz, refraction);\n  //   } else {\n  //    reflectionValue = -reflect(nReflection, vNormal.xyz);\n  //   }\n\n  //   // TODO(nico): check whether this is right.\n  //   vec4 cubeColor = textureCube(samplerCube1,\n  //       vec3(-reflectionValue.x, -reflectionValue.y, reflectionValue.z));\n  //   gl_FragColor = vec4(mix(gl_FragColor.xyz, cubeColor.xyz, reflection), 1.0);\n  // }\n";var _n=mn+"\n"+gn+"\n";var bn=mn+"\n"+yn+"\n";var xn="lighting";var wn={MAX_POINT_LIGHTS:4};function En(t){var e=t.lightingEnable,n=e===undefined?false:e,r=t.lightingAmbientColor,i=r===undefined?[.2,.2,.2]:r,o=t.lightingDirection,a=o===undefined?[1,1,1]:o,s=t.lightingDirectionalColor,u=s===undefined?[0,0,0]:s,l=t.lightingPointLights,c=l===undefined?[]:l;return Object.assign({lightingEnable:n,lightingAmbientColor:i},Tn(a),In(c))}function Tn(t){var e=t.color,n=t.direction;var r=new un["Vector3"](n.x,n.y,n.z).normalize().scale(-1,-1,-1);return{directionalColor:[e.r,e.g,e.b],lightingDirection:[r.x,r.y,r.z]}}function In(t){t=t instanceof Array?t:[t];var e=t.length;var n=[];var r=[];var i=[];var o=[];var a=true;var s=false;var u=undefined;try{for(var l=t[Symbol.iterator](),c;!(a=(c=l.next()).done);a=true){var f=c.value;var h=f.position,p=f.color,d=f.diffuse,v=f.specular;var m=p||d;n.push(h.x,h.y,h.z);r.push(m.r,m.g,m.b);i.push(Number(Boolean(v)));if(v){o.push(v.r,v.g,v.b)}else{o.push(0,0,0)}}}catch(t){s=true;u=t}finally{try{if(!a&&l.return){l.return()}}finally{if(s){throw u}}}return{numberPoints:e,pointLocation:n,pointColor:r,enableSpecular:i,pointSpecularColor:o}}var Cn=new Float32Array([1,1,2]);var Mn={lightDirection:Cn};function An(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Mn;var e={};if(t.lightDirection){e.dirlight_uLightDirection=t.lightDirection}return e}var Sn=null;var Rn="uniform vec3 dirlight_uLightDirection;\n\n/*\n * Returns color attenuated by angle from light source\n */\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n";var Ln={name:"dirlight",vs:Sn,fs:Rn,getUniforms:An,dependencies:[vn]};var kn=new Uint8Array([0,255,255,255]);var Nn={pickingSelectedColor:null,pickingHighlightColor:kn,pickingThreshold:1,pickingActive:false,pickingSelectedColorValid:false};function Fn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Nn;var e={};if(t.pickingValid!==undefined){e.picking_uSelectedColorValid=t.pickingValid?1:0;ue["log"].deprecated("pickingValid","set pickingSelectedColor to null")}if(t.pickingSelectedColor!==undefined){if(t.pickingSelectedColor===null){e.picking_uSelectedColorValid=0}else{var n=[t.pickingSelectedColor[0],t.pickingSelectedColor[1],t.pickingSelectedColor[2]];e.picking_uSelectedColorValid=1;e.picking_uSelectedColor=n}}if(t.pickingHighlightColor!==undefined){e.picking_uHighlightColor=t.pickingHighlightColor}if(t.pickingThreshold!==undefined){e.picking_uThreshold=t.pickingThreshold}if(t.pickingActive!==undefined){e.picking_uActive=t.pickingActive?1:0}return e}var On="uniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  // Do the comparison with selected item color in vertex shader as it should mean fewer compares\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n";var Bn="uniform bool picking_uActive; // true during rendering to offscreen picking buffer\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n  return selected ? (picking_uHighlightColor * COLOR_SCALE) : color;\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\n";var Pn={name:"picking",vs:On,fs:Bn,getUniforms:Fn};var Un={diffuseTexture:null,diffuseColor:[.5,.5,.5,1]};function Dn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Un;var e={};if(t.diffuseTexture!==undefined){e.diffuse_uHasTexture=Boolean(t.diffuseTexture);e.diffuse_uTexture=t.diffuseTexture}if(t.diffuseColor!==undefined){e.diffuse_uColor=t.diffuseColor}return e}var zn="varying vec2 diffuse_vTexCoord;\n\n/* Set the UV coordinate from attributes */\nvoid diffuse_setTextureCoordinate(vec2 uv) {\n  diffuse_vTexCoord = uv;\n}\n";var jn="uniform vec4 diffuse_uColor;\nuniform bool diffuse_uHasTexture;\nuniform sampler2D diffuse_uTexture;\n\nvarying vec2 diffuse_vTexCoord;\n\n// Gets diffuse color of material from uniform\n// If we have a standard (diffuse) texture, set color to texture\n// return (vec4) - rgba\n//\nvec4 diffuse_getColor() {\n  vec2 texCoord = diffuse_vTexCoord;\n  return diffuse_uHasTexture ?\n    texture2D(diffuse_uTexture, vec2(texCoord.s, texCoord.t)) :\n    diffuse_uColor;\n}\n\nvec4 diffuse_filterColor(vec4 color) {\n  return diffuse_getColor();\n}\n";var Vn={name:"diffuse",getUniforms:Dn,vs:zn,fs:jn};var Gn=n("jNv1");var Xn=n.n(Gn);var Wn=n("zSCX");var Zn=n.n(Wn);var Qn=n("3EVR");n.d(e,"e",function(){return r["b"]});n.d(e,false,function(){return r["c"]});n.d(e,false,function(){return r["d"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return o["g"]});n.d(e,false,function(){return o["h"]});n.d(e,false,function(){return undefined});n.d(e,"j",function(){return o["e"]});n.d(e,false,function(){return o["f"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return a["a"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,"q",function(){return a["b"]});n.d(e,"r",function(){return a["c"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return s["a"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return s["b"]});n.d(e,false,function(){return u["a"]});n.d(e,false,function(){return u["c"]});n.d(e,false,function(){return u["d"]});n.d(e,false,function(){return u["b"]});n.d(e,false,function(){return l["a"]});n.d(e,false,function(){return c["a"]});n.d(e,false,function(){return f["a"]});n.d(e,false,function(){return h["default"]});n.d(e,false,function(){return h["b"]});n.d(e,false,function(){return h["a"]});n.d(e,false,function(){return p["a"]});n.d(e,"d",function(){return d["a"]});n.d(e,false,function(){return v["a"]});n.d(e,"i",function(){return m["a"]});n.d(e,false,function(){return g["a"]});n.d(e,false,function(){return y["a"]});n.d(e,false,function(){return _["a"]});n.d(e,false,function(){return _["b"]});n.d(e,false,function(){return b["a"]});n.d(e,false,function(){return x["a"]});n.d(e,false,function(){return w["a"]});n.d(e,false,function(){return R});n.d(e,false,function(){return B});n.d(e,false,function(){return undefined});n.d(e,false,function(){return U["a"]});n.d(e,false,function(){return bt});n.d(e,"g",function(){return xt["a"]});n.d(e,"a",function(){return wt["b"]});n.d(e,false,function(){return Et["default"]});n.d(e,false,function(){return Ct});n.d(e,false,function(){return Mt});n.d(e,false,function(){return At});n.d(e,false,function(){return Wt});n.d(e,"f",function(){return Qt["a"]});n.d(e,false,function(){return Ht["a"]});n.d(e,"b",function(){return Yt["a"]});n.d(e,"c",function(){return Jt["a"]});n.d(e,false,function(){return qt["a"]});n.d(e,false,function(){return Kt["a"]});n.d(e,false,function(){return $t["a"]});n.d(e,false,function(){return te["a"]});n.d(e,false,function(){return se});n.d(e,false,function(){return pe});n.d(e,false,function(){return ye});n.d(e,false,function(){return Ee});n.d(e,false,function(){return Ae});n.d(e,false,function(){return Ne});n.d(e,false,function(){return Ue});n.d(e,false,function(){return Ze});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,"m",function(){return Qe["loadTextures"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,"h",function(){return Ye["a"]});n.d(e,false,function(){return Je["a"]});n.d(e,"o",function(){return qe["b"]});n.d(e,"p",function(){return qe["d"]});n.d(e,"k",function(){return $e});n.d(e,"l",function(){return on});n.d(e,false,function(){return vn});n.d(e,false,function(){return undefined});n.d(e,false,function(){return Ln});n.d(e,"n",function(){return Pn});n.d(e,false,function(){return Vn});n.d(e,false,function(){return un["radians"]});n.d(e,false,function(){return un["degrees"]});n.d(e,false,function(){return un["Vector2"]});n.d(e,false,function(){return un["Vector3"]});n.d(e,false,function(){return un["Vector4"]});n.d(e,false,function(){return un["Matrix4"]});n.d(e,false,function(){return un["Quaternion"]});n.d(e,false,function(){return un["Euler"]});n.d(e,false,function(){return un["SphericalCoordinates"]});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return undefined});n.d(e,false,function(){return Zn.a});n.d(e,false,function(){return Qn["a"]});n.d(e,false,function(){return d["a"]});n("9xiO");var Hn={clearBuffer:_["b"]}},KoGk:function(t,e,n){"use strict";(function(e,r){var i=n("pFYg");var o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=(typeof e==="undefined"?"undefined":(0,o.default)(e))!=="object"||String(e)!=="[object process]"||e.browser;var u=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";t.exports={window:typeof window!=="undefined"?window:r,global:typeof r!=="undefined"?r:window,document:typeof document!=="undefined"?document:{},isBrowser:s,userAgent:u}}).call(e,n("W2nU"),n("DuR2"))},L4CO:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n[0];t[1]=e[1]*n[1];t[2]=e[2]*n[2];t[3]=e[3]*n[3];return t}},"LR+x":function(t,e,n){"use strict";var r=n("PeCl");function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var s=function(t){a(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,e);var n=t.bottomRadius,r=n===undefined?0:n,a=t.topRadius,s=a===undefined?0:a,u=t.height,l=u===undefined?1:u,c=t.nradial,f=c===undefined?10:c,h=t.nvertical,p=h===undefined?10:h,d=t.topCap,v=d===undefined?false:d,m=t.bottomCap,g=m===undefined?false:m;var y=(v?2:0)+(g?2:0);var _=(f+1)*(p+1+y);var b=Math.atan2(r-s,l);var x=Math.sin;var w=Math.cos;var E=Math.PI;var T=w(b);var I=x(b);var C=v?-2:0;var M=p+(g?2:0);var A=f+1;var S=new Float32Array(_*3);var R=new Float32Array(_*3);var L=new Float32Array(_*2);var k=new Uint16Array(f*(p+y)*6);var N=0;var F=0;for(var O=C;O<=M;O++){var B=O/p;var P=l*B;var U=void 0;if(O<0){P=0;B=1;U=r}else if(O>p){P=l;B=1;U=s}else{U=r+(s-r)*(O/p)}if(O===-2||O===p+2){U=0;B=0}P-=l/2;for(var D=0;D<A;D++){var z=x(D*E*2/f);var j=w(D*E*2/f);S[N+0]=z*U;S[N+1]=P;S[N+2]=j*U;R[N+0]=O<0||O>p?0:z*T;R[N+1]=O<0?-1:O>p?1:I;R[N+2]=O<0||O>p?0:j*T;L[F+0]=D/f;L[F+1]=B;F+=2;N+=3}}for(var V=0;V<p+y;V++){for(var G=0;G<f;G++){var X=(V*f+G)*6;k[X+0]=A*(V+0)+0+G;k[X+1]=A*(V+0)+1+G;k[X+2]=A*(V+1)+1+G;k[X+3]=A*(V+0)+0+G;k[X+4]=A*(V+1)+1+G;k[X+5]=A*(V+1)+0+G}}return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{attributes:{positions:S,normals:R,texCoords:L,indices:k}})))}return e}(r["a"]);e["a"]=s},LhDF:function(t,e,n){var r=n("GCs6").f;var i=n("x//u");var o=n("hgbu")("toStringTag");t.exports=function(t,e,n){if(t&&!i(t=n?t:t.prototype,o))r(t,o,{configurable:true,value:e})}},LocR:function(t,e,n){t.exports=!n("qs+f")&&!n("zyKz")(function(){return Object.defineProperty(n("PY1i")("div"),"a",{get:function(){return 7}}).a!=7})},M4fF:function(t,e,n){(function(t,r){var i;(function(){var o;var a="4.17.4";var s=200;var u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function";var c="__lodash_hash_undefined__";var f=500;var h="__lodash_placeholder__";var p=1,d=2,v=4;var m=1,g=2;var y=1,_=2,b=4,x=8,w=16,E=32,T=64,I=128,C=256,M=512;var A=30,S="...";var R=800,L=16;var k=1,N=2,F=3;var O=1/0,B=9007199254740991,P=1.7976931348623157e308,U=0/0;var D=4294967295,z=D-1,j=D>>>1;var V=[["ary",I],["bind",y],["bindKey",_],["curry",x],["curryRight",w],["flip",M],["partial",E],["partialRight",T],["rearg",C]];var G="[object Arguments]",X="[object Array]",W="[object AsyncFunction]",Z="[object Boolean]",Q="[object Date]",H="[object DOMException]",Y="[object Error]",J="[object Function]",q="[object GeneratorFunction]",K="[object Map]",$="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",rt="[object Proxy]",it="[object RegExp]",ot="[object Set]",at="[object String]",st="[object Symbol]",ut="[object Undefined]",lt="[object WeakMap]",ct="[object WeakSet]";var ft="[object ArrayBuffer]",ht="[object DataView]",pt="[object Float32Array]",dt="[object Float64Array]",vt="[object Int8Array]",mt="[object Int16Array]",gt="[object Int32Array]",yt="[object Uint8Array]",_t="[object Uint8ClampedArray]",bt="[object Uint16Array]",xt="[object Uint32Array]";var wt=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var It=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Mt=RegExp(It.source),At=RegExp(Ct.source);var St=/<%-([\s\S]+?)%>/g,Rt=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g;var kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Ft=/^\./,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Bt=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Bt.source);var Ut=/^\s+|\s+$/g,Dt=/^\s+/,zt=/\s+$/;var jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /;var Xt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Wt=/\\(\\)?/g;var Zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var Qt=/\w*$/;var Ht=/^[-+]0x[0-9a-f]+$/i;var Yt=/^0b[01]+$/i;var Jt=/^\[object .+?Constructor\]$/;var qt=/^0o[0-7]+$/i;var Kt=/^(?:0|[1-9]\d*)$/;var $t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var te=/($^)/;var ee=/['\n\r\u2028\u2029\\]/g;var ne="\\ud800-\\udfff",re="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",oe="\\u20d0-\\u20ff",ae=re+ie+oe,se="\\u2700-\\u27bf",ue="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fe="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",ve=le+ce+fe+he;var me="['’]",ge="["+ne+"]",ye="["+ve+"]",_e="["+ae+"]",be="\\d+",xe="["+se+"]",we="["+ue+"]",Ee="[^"+ne+ve+be+se+ue+pe+"]",Te="\\ud83c[\\udffb-\\udfff]",Ie="(?:"+_e+"|"+Te+")",Ce="[^"+ne+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="["+pe+"]",Re="\\u200d";var Le="(?:"+we+"|"+Ee+")",ke="(?:"+Se+"|"+Ee+")",Ne="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Fe="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",Oe=Ie+"?",Be="["+de+"]?",Pe="(?:"+Re+"(?:"+[Ce,Me,Ae].join("|")+")"+Be+Oe+")*",Ue="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",De="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",ze=Be+Oe+Pe,je="(?:"+[xe,Me,Ae].join("|")+")"+ze,Ve="(?:"+[Ce+_e+"?",_e,Me,Ae,ge].join("|")+")";var Ge=RegExp(me,"g");var Xe=RegExp(_e,"g");var We=RegExp(Te+"(?="+Te+")|"+Ve+ze,"g");var Ze=RegExp([Se+"?"+we+"+"+Ne+"(?="+[ye,Se,"$"].join("|")+")",ke+"+"+Fe+"(?="+[ye,Se+Le,"$"].join("|")+")",Se+"?"+Le+"+"+Ne,Se+"+"+Fe,De,Ue,be,je].join("|"),"g");var Qe=RegExp("["+Re+ne+ae+de+"]");var He=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Je=-1;var qe={};qe[pt]=qe[dt]=qe[vt]=qe[mt]=qe[gt]=qe[yt]=qe[_t]=qe[bt]=qe[xt]=true;qe[G]=qe[X]=qe[ft]=qe[Z]=qe[ht]=qe[Q]=qe[Y]=qe[J]=qe[K]=qe[$]=qe[et]=qe[it]=qe[ot]=qe[at]=qe[lt]=false;var Ke={};Ke[G]=Ke[X]=Ke[ft]=Ke[ht]=Ke[Z]=Ke[Q]=Ke[pt]=Ke[dt]=Ke[vt]=Ke[mt]=Ke[gt]=Ke[K]=Ke[$]=Ke[et]=Ke[it]=Ke[ot]=Ke[at]=Ke[st]=Ke[yt]=Ke[_t]=Ke[bt]=Ke[xt]=true;Ke[Y]=Ke[J]=Ke[lt]=false;var $e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var rn=parseFloat,on=parseInt;var an=typeof t=="object"&&t&&t.Object===Object&&t;var sn=typeof self=="object"&&self&&self.Object===Object&&self;var un=an||sn||Function("return this")();var ln=typeof e=="object"&&e&&!e.nodeType&&e;var cn=ln&&typeof r=="object"&&r&&!r.nodeType&&r;var fn=cn&&cn.exports===ln;var hn=fn&&an.process;var pn=function(){try{return hn&&hn.binding&&hn.binding("util")}catch(t){}}();var dn=pn&&pn.isArrayBuffer,vn=pn&&pn.isDate,mn=pn&&pn.isMap,gn=pn&&pn.isRegExp,yn=pn&&pn.isSet,_n=pn&&pn.isTypedArray;function bn(t,e){t.set(e[0],e[1]);return t}function xn(t,e){t.add(e);return t}function wn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function En(t,e,n,r){var i=-1,o=t==null?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function Tn(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)===false){break}}return t}function In(t,e){var n=t==null?0:t.length;while(n--){if(e(t[n],n,t)===false){break}}return t}function Cn(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(!e(t[n],n,t)){return false}}return true}function Mn(t,e){var n=-1,r=t==null?0:t.length,i=0,o=[];while(++n<r){var a=t[n];if(e(a,n,t)){o[i++]=a}}return o}function An(t,e){var n=t==null?0:t.length;return!!n&&zn(t,e,0)>-1}function Sn(t,e,n){var r=-1,i=t==null?0:t.length;while(++r<i){if(n(e,t[r])){return true}}return false}function Rn(t,e){var n=-1,r=t==null?0:t.length,i=Array(r);while(++n<r){i[n]=e(t[n],n,t)}return i}function Ln(t,e){var n=-1,r=e.length,i=t.length;while(++n<r){t[i+n]=e[n]}return t}function kn(t,e,n,r){var i=-1,o=t==null?0:t.length;if(r&&o){n=t[++i]}while(++i<o){n=e(n,t[i],i,t)}return n}function Nn(t,e,n,r){var i=t==null?0:t.length;if(r&&i){n=t[--i]}while(i--){n=e(n,t[i],i,t)}return n}function Fn(t,e){var n=-1,r=t==null?0:t.length;while(++n<r){if(e(t[n],n,t)){return true}}return false}var On=Xn("length");function Bn(t){return t.split("")}function Pn(t){return t.match(Xt)||[]}function Un(t,e,n){var r;n(t,function(t,n,i){if(e(t,n,i)){r=n;return false}});return r}function Dn(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i){if(e(t[o],o,t)){return o}}return-1}function zn(t,e,n){return e===e?vr(t,e,n):Dn(t,Vn,n)}function jn(t,e,n,r){var i=n-1,o=t.length;while(++i<o){if(r(t[i],e)){return i}}return-1}function Vn(t){return t!==t}function Gn(t,e){var n=t==null?0:t.length;return n?Hn(t,e)/n:U}function Xn(t){return function(e){return e==null?o:e[t]}}function Wn(t){return function(e){return t==null?o:t[e]}}function Zn(t,e,n,r,i){i(t,function(t,i,o){n=r?(r=false,t):e(n,t,i,o)});return n}function Qn(t,e){var n=t.length;t.sort(e);while(n--){t[n]=t[n].value}return t}function Hn(t,e){var n,r=-1,i=t.length;while(++r<i){var a=e(t[r]);if(a!==o){n=n===o?a:n+a}}return n}function Yn(t,e){var n=-1,r=Array(t);while(++n<t){r[n]=e(n)}return r}function Jn(t,e){return Rn(e,function(e){return[e,t[e]]})}function qn(t){return function(e){return t(e)}}function Kn(t,e){return Rn(e,function(e){return t[e]})}function $n(t,e){return t.has(e)}function tr(t,e){var n=-1,r=t.length;while(++n<r&&zn(e,t[n],0)>-1){}return n}function er(t,e){var n=t.length;while(n--&&zn(e,t[n],0)>-1){}return n}function nr(t,e){var n=t.length,r=0;while(n--){if(t[n]===e){++r}}return r}var rr=Wn($e);var ir=Wn(tn);function or(t){return"\\"+nn[t]}function ar(t,e){return t==null?o:t[e]}function sr(t){return Qe.test(t)}function ur(t){return He.test(t)}function lr(t){var e,n=[];while(!(e=t.next()).done){n.push(e.value)}return n}function cr(t){var e=-1,n=Array(t.size);t.forEach(function(t,r){n[++e]=[r,t]});return n}function fr(t,e){return function(n){return t(e(n))}}function hr(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];if(a===e||a===h){t[n]=h;o[i++]=n}}return o}function pr(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=t});return n}function dr(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=[t,t]});return n}function vr(t,e,n){var r=n-1,i=t.length;while(++r<i){if(t[r]===e){return r}}return-1}function mr(t,e,n){var r=n+1;while(r--){if(t[r]===e){return r}}return r}function gr(t){return sr(t)?br(t):On(t)}function yr(t){return sr(t)?xr(t):Bn(t)}var _r=Wn(en);function br(t){var e=We.lastIndex=0;while(We.test(t)){++e}return e}function xr(t){return t.match(We)||[]}function wr(t){return t.match(Ze)||[]}var Er=function t(e){e=e==null?un:Tr.defaults(un.Object(),e,Tr.pick(un,Ye));var n=e.Array,r=e.Date,i=e.Error,Xt=e.Function,ne=e.Math,re=e.Object,ie=e.RegExp,oe=e.String,ae=e.TypeError;var se=n.prototype,ue=Xt.prototype,le=re.prototype;var ce=e["__core-js_shared__"];var fe=ue.toString;var he=le.hasOwnProperty;var pe=0;var de=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ve=le.toString;var me=fe.call(re);var ge=un._;var ye=ie("^"+fe.call(he).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _e=fn?e.Buffer:o,be=e.Symbol,xe=e.Uint8Array,we=_e?_e.allocUnsafe:o,Ee=fr(re.getPrototypeOf,re),Te=re.create,Ie=le.propertyIsEnumerable,Ce=se.splice,Me=be?be.isConcatSpreadable:o,Ae=be?be.iterator:o,Se=be?be.toStringTag:o;var Re=function(){try{var t=Ja(re,"defineProperty");t({},"",{});return t}catch(t){}}();var Le=e.clearTimeout!==un.clearTimeout&&e.clearTimeout,ke=r&&r.now!==un.Date.now&&r.now,Ne=e.setTimeout!==un.setTimeout&&e.setTimeout;var Fe=ne.ceil,Oe=ne.floor,Be=re.getOwnPropertySymbols,Pe=_e?_e.isBuffer:o,Ue=e.isFinite,De=se.join,ze=fr(re.keys,re),je=ne.max,Ve=ne.min,We=r.now,Ze=e.parseInt,Qe=ne.random,He=se.reverse;var $e=Ja(e,"DataView"),tn=Ja(e,"Map"),en=Ja(e,"Promise"),nn=Ja(e,"Set"),an=Ja(e,"WeakMap"),sn=Ja(re,"create");var ln=an&&new an;var cn={};var hn=Fs($e),pn=Fs(tn),On=Fs(en),Bn=Fs(nn),Wn=Fs(an);var vr=be?be.prototype:o,br=vr?vr.valueOf:o,xr=vr?vr.toString:o;function Er(t){if(Mc(t)&&!cc(t)&&!(t instanceof Ar)){if(t instanceof Mr){return t}if(he.call(t,"__wrapped__")){return Bs(t)}}return new Mr(t)}var Ir=function(){function t(){}return function(e){if(!Cc(e)){return{}}if(Te){return Te(e)}t.prototype=e;var n=new t;t.prototype=o;return n}}();function Cr(){}function Mr(t,e){this.__wrapped__=t;this.__actions__=[];this.__chain__=!!e;this.__index__=0;this.__values__=o}Er.templateSettings={escape:St,evaluate:Rt,interpolate:Lt,variable:"",imports:{_:Er}};Er.prototype=Cr.prototype;Er.prototype.constructor=Er;Mr.prototype=Ir(Cr.prototype);Mr.prototype.constructor=Mr;function Ar(t){this.__wrapped__=t;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=D;this.__views__=[]}function Sr(){var t=new Ar(this.__wrapped__);t.__actions__=sa(this.__actions__);t.__dir__=this.__dir__;t.__filtered__=this.__filtered__;t.__iteratees__=sa(this.__iteratees__);t.__takeCount__=this.__takeCount__;t.__views__=sa(this.__views__);return t}function Rr(){if(this.__filtered__){var t=new Ar(this);t.__dir__=-1;t.__filtered__=true}else{t=this.clone();t.__dir__*=-1}return t}function Lr(){var t=this.__wrapped__.value(),e=this.__dir__,n=cc(t),r=e<0,i=n?t.length:0,o=es(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,p=Ve(u,this.__takeCount__);if(!n||!r&&i==u&&p==u){return zo(t,this.__actions__)}var d=[];t:while(u--&&h<p){l+=e;var v=-1,m=t[l];while(++v<f){var g=c[v],y=g.iteratee,_=g.type,b=y(m);if(_==N){m=b}else if(!b){if(_==k){continue t}else{break t}}}d[h++]=m}return d}Ar.prototype=Ir(Cr.prototype);Ar.prototype.constructor=Ar;function kr(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Nr(){this.__data__=sn?sn(null):{};this.size=0}function Fr(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Or(t){var e=this.__data__;if(sn){var n=e[t];return n===c?o:n}return he.call(e,t)?e[t]:o}function Br(t){var e=this.__data__;return sn?e[t]!==o:he.call(e,t)}function Pr(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=sn&&e===o?c:e;return this}kr.prototype.clear=Nr;kr.prototype["delete"]=Fr;kr.prototype.get=Or;kr.prototype.has=Br;kr.prototype.set=Pr;function Ur(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dr(){this.__data__=[];this.size=0}function zr(t){var e=this.__data__,n=fi(e,t);if(n<0){return false}var r=e.length-1;if(n==r){e.pop()}else{Ce.call(e,n,1)}--this.size;return true}function jr(t){var e=this.__data__,n=fi(e,t);return n<0?o:e[n][1]}function Vr(t){return fi(this.__data__,t)>-1}function Gr(t,e){var n=this.__data__,r=fi(n,t);if(r<0){++this.size;n.push([t,e])}else{n[r][1]=e}return this}Ur.prototype.clear=Dr;Ur.prototype["delete"]=zr;Ur.prototype.get=jr;Ur.prototype.has=Vr;Ur.prototype.set=Gr;function Xr(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Wr(){this.size=0;this.__data__={hash:new kr,map:new(tn||Ur),string:new kr}}function Zr(t){var e=Ha(this,t)["delete"](t);this.size-=e?1:0;return e}function Qr(t){return Ha(this,t).get(t)}function Hr(t){return Ha(this,t).has(t)}function Yr(t,e){var n=Ha(this,t),r=n.size;n.set(t,e);this.size+=n.size==r?0:1;return this}Xr.prototype.clear=Wr;Xr.prototype["delete"]=Zr;Xr.prototype.get=Qr;Xr.prototype.has=Hr;Xr.prototype.set=Yr;function Jr(t){var e=-1,n=t==null?0:t.length;this.__data__=new Xr;while(++e<n){this.add(t[e])}}function qr(t){this.__data__.set(t,c);return this}function Kr(t){return this.__data__.has(t)}Jr.prototype.add=Jr.prototype.push=qr;Jr.prototype.has=Kr;function $r(t){var e=this.__data__=new Ur(t);this.size=e.size}function ti(){this.__data__=new Ur;this.size=0}function ei(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function ni(t){return this.__data__.get(t)}function ri(t){return this.__data__.has(t)}function ii(t,e){var n=this.__data__;if(n instanceof Ur){var r=n.__data__;if(!tn||r.length<s-1){r.push([t,e]);this.size=++n.size;return this}n=this.__data__=new Xr(r)}n.set(t,e);this.size=n.size;return this}$r.prototype.clear=ti;$r.prototype["delete"]=ei;$r.prototype.get=ni;$r.prototype.has=ri;$r.prototype.set=ii;function oi(t,e){var n=cc(t),r=!n&&lc(t),i=!n&&!r&&vc(t),o=!n&&!r&&!i&&Vc(t),a=n||r||i||o,s=a?Yn(t.length,oe):[],u=s.length;for(var l in t){if((e||he.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ls(l,u)))){s.push(l)}}return s}function ai(t){var e=t.length;return e?t[_o(0,e-1)]:o}function si(t,e){return Ls(sa(t),gi(e,0,t.length))}function ui(t){return Ls(sa(t))}function li(t,e,n){if(n!==o&&!ac(t[e],n)||n===o&&!(e in t)){vi(t,e,n)}}function ci(t,e,n){var r=t[e];if(!(he.call(t,e)&&ac(r,n))||n===o&&!(e in t)){vi(t,e,n)}}function fi(t,e){var n=t.length;while(n--){if(ac(t[n][0],e)){return n}}return-1}function hi(t,e,n,r){Ei(t,function(t,i,o){e(r,t,n(t),o)});return r}function pi(t,e){return t&&ua(e,If(e),t)}function di(t,e){return t&&ua(e,Cf(e),t)}function vi(t,e,n){if(e=="__proto__"&&Re){Re(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}function mi(t,e){var r=-1,i=e.length,a=n(i),s=t==null;while(++r<i){a[r]=s?o:_f(t,e[r])}return a}function gi(t,e,n){if(t===t){if(n!==o){t=t<=n?t:n}if(e!==o){t=t>=e?t:e}}return t}function yi(t,e,n,r,i,a){var s,u=e&p,l=e&d,c=e&v;if(n){s=i?n(t,r,i,a):n(t)}if(s!==o){return s}if(!Cc(t)){return t}var f=cc(t);if(f){s=is(t);if(!u){return sa(t,s)}}else{var h=ts(t),m=h==J||h==q;if(vc(t)){return Yo(t,u)}if(h==et||h==G||m&&!i){s=l||m?{}:os(t);if(!u){return l?ca(t,di(s,t)):la(t,pi(s,t))}}else{if(!Ke[h]){return i?t:{}}s=as(t,h,yi,u)}}a||(a=new $r);var g=a.get(t);if(g){return g}a.set(t,s);var y=c?l?Ga:Va:l?Cf:If;var _=f?o:y(t);Tn(_||t,function(r,i){if(_){i=r;r=t[i]}ci(s,i,yi(r,e,n,i,t,a))});return s}function _i(t){var e=If(t);return function(n){return bi(n,t,e)}}function bi(t,e,n){var r=n.length;if(t==null){return!r}t=re(t);while(r--){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s)){return false}}return true}function xi(t,e,n){if(typeof t!="function"){throw new ae(l)}return Ms(function(){t.apply(o,n)},e)}function wi(t,e,n,r){var i=-1,o=An,a=true,u=t.length,l=[],c=e.length;if(!u){return l}if(n){e=Rn(e,qn(n))}if(r){o=Sn;a=false}else if(e.length>=s){o=$n;a=false;e=new Jr(e)}t:while(++i<u){var f=t[i],h=n==null?f:n(f);f=r||f!==0?f:0;if(a&&h===h){var p=c;while(p--){if(e[p]===h){continue t}}l.push(f)}else if(!o(e,h,r)){l.push(f)}}return l}var Ei=pa(ki);var Ti=pa(Ni,true);function Ii(t,e){var n=true;Ei(t,function(t,r,i){n=!!e(t,r,i);return n});return n}function Ci(t,e,n){var r=-1,i=t.length;while(++r<i){var a=t[r],s=e(a);if(s!=null&&(u===o?s===s&&!jc(s):n(s,u))){var u=s,l=a}}return l}function Mi(t,e,n,r){var i=t.length;n=Jc(n);if(n<0){n=-n>i?0:i+n}r=r===o||r>i?i:Jc(r);if(r<0){r+=i}r=n>r?0:qc(r);while(n<r){t[n++]=e}return t}function Ai(t,e){var n=[];Ei(t,function(t,r,i){if(e(t,r,i)){n.push(t)}});return n}function Si(t,e,n,r,i){var o=-1,a=t.length;n||(n=us);i||(i=[]);while(++o<a){var s=t[o];if(e>0&&n(s)){if(e>1){Si(s,e-1,n,r,i)}else{Ln(i,s)}}else if(!r){i[i.length]=s}}return i}var Ri=da();var Li=da(true);function ki(t,e){return t&&Ri(t,e,If)}function Ni(t,e){return t&&Li(t,e,If)}function Fi(t,e){return Mn(e,function(e){return Ec(t[e])})}function Oi(t,e){e=Wo(e,t);var n=0,r=e.length;while(t!=null&&n<r){t=t[Ns(e[n++])]}return n&&n==r?t:o}function Bi(t,e,n){var r=e(t);return cc(t)?r:Ln(r,n(t))}function Pi(t){if(t==null){return t===o?ut:tt}return Se&&Se in re(t)?qa(t):ws(t)}function Ui(t,e){return t>e}function Di(t,e){return t!=null&&he.call(t,e)}function zi(t,e){return t!=null&&e in re(t)}function ji(t,e,n){return t>=Ve(e,n)&&t<je(e,n)}function Vi(t,e,r){var i=r?Sn:An,a=t[0].length,s=t.length,u=s,l=n(s),c=Infinity,f=[];while(u--){var h=t[u];if(u&&e){h=Rn(h,qn(e))}c=Ve(h.length,c);l[u]=!r&&(e||a>=120&&h.length>=120)?new Jr(u&&h):o}h=t[0];var p=-1,d=l[0];t:while(++p<a&&f.length<c){var v=h[p],m=e?e(v):v;v=r||v!==0?v:0;if(!(d?$n(d,m):i(f,m,r))){u=s;while(--u){var g=l[u];if(!(g?$n(g,m):i(t[u],m,r))){continue t}}if(d){d.push(m)}f.push(v)}}return f}function Gi(t,e,n,r){ki(t,function(t,i,o){e(r,n(t),i,o)});return r}function Xi(t,e,n){e=Wo(e,t);t=Ts(t,e);var r=t==null?t:t[Ns(su(e))];return r==null?o:wn(r,t,n)}function Wi(t){return Mc(t)&&Pi(t)==G}function Zi(t){return Mc(t)&&Pi(t)==ft}function Qi(t){return Mc(t)&&Pi(t)==Q}function Hi(t,e,n,r,i){if(t===e){return true}if(t==null||e==null||!Mc(t)&&!Mc(e)){return t!==t&&e!==e}return Yi(t,e,n,r,Hi,i)}function Yi(t,e,n,r,i,o){var a=cc(t),s=cc(e),u=a?X:ts(t),l=s?X:ts(e);u=u==G?et:u;l=l==G?et:l;var c=u==et,f=l==et,h=u==l;if(h&&vc(t)){if(!vc(e)){return false}a=true;c=false}if(h&&!c){o||(o=new $r);return a||Vc(t)?Ua(t,e,n,r,i,o):Da(t,e,u,n,r,i,o)}if(!(n&m)){var p=c&&he.call(t,"__wrapped__"),d=f&&he.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,g=d?e.value():e;o||(o=new $r);return i(v,g,n,r,o)}}if(!h){return false}o||(o=new $r);return za(t,e,n,r,i,o)}function Ji(t){return Mc(t)&&ts(t)==K}function qi(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null){return!a}t=re(t);while(i--){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t)){return false}}while(++i<a){u=n[i];var l=u[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t)){return false}}else{var h=new $r;if(r){var p=r(c,f,l,t,e,h)}if(!(p===o?Hi(f,c,m|g,r,h):p)){return false}}}return true}function Ki(t){if(!Cc(t)||ds(t)){return false}var e=Ec(t)?ye:Jt;return e.test(Fs(t))}function $i(t){return Mc(t)&&Pi(t)==it}function to(t){return Mc(t)&&ts(t)==ot}function eo(t){return Mc(t)&&Ic(t.length)&&!!qe[Pi(t)]}function no(t){if(typeof t=="function"){return t}if(t==null){return Nh}if(typeof t=="object"){return cc(t)?uo(t[0],t[1]):so(t)}return Zh(t)}function ro(t){if(!ms(t)){return ze(t)}var e=[];for(var n in re(t)){if(he.call(t,n)&&n!="constructor"){e.push(n)}}return e}function io(t){if(!Cc(t)){return xs(t)}var e=ms(t),n=[];for(var r in t){if(!(r=="constructor"&&(e||!he.call(t,r)))){n.push(r)}}return n}function oo(t,e){return t<e}function ao(t,e){var r=-1,i=hc(t)?n(t.length):[];Ei(t,function(t,n,o){i[++r]=e(t,n,o)});return i}function so(t){var e=Ya(t);if(e.length==1&&e[0][2]){return ys(e[0][0],e[0][1])}return function(n){return n===t||qi(n,t,e)}}function uo(t,e){if(fs(t)&&gs(e)){return ys(Ns(t),e)}return function(n){var r=_f(n,t);return r===o&&r===e?xf(n,t):Hi(e,r,m|g)}}function lo(t,e,n,r,i){if(t===e){return}Ri(e,function(a,s){if(Cc(a)){i||(i=new $r);co(t,e,s,n,lo,r,i)}else{var u=r?r(t[s],a,s+"",t,e,i):o;if(u===o){u=a}li(t,s,u)}},Cf)}function co(t,e,n,r,i,a,s){var u=t[n],l=e[n],c=s.get(l);if(c){li(t,n,c);return}var f=a?a(u,l,n+"",t,e,s):o;var h=f===o;if(h){var p=cc(l),d=!p&&vc(l),v=!p&&!d&&Vc(l);f=l;if(p||d||v){if(cc(u)){f=u}else if(pc(u)){f=sa(u)}else if(d){h=false;f=Yo(l,true)}else if(v){h=false;f=na(l,true)}else{f=[]}}else if(Bc(l)||lc(l)){f=u;if(lc(u)){f=$c(u)}else if(!Cc(u)||r&&Ec(u)){f=os(l)}}else{h=false}}if(h){s.set(l,f);i(f,l,r,a,s);s["delete"](l)}li(t,n,f)}function fo(t,e){var n=t.length;if(!n){return}e+=e<0?n:0;return ls(e,n)?t[e]:o}function ho(t,e,n){var r=-1;e=Rn(e.length?e:[Nh],qn(Qa()));var i=ao(t,function(t,n,i){var o=Rn(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return Qn(i,function(t,e){return ia(t,e,n)})}function po(t,e){return vo(t,e,function(e,n){return xf(t,n)})}function vo(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],s=Oi(t,a);if(n(s,a)){Io(o,Wo(a,t),s)}}return o}function mo(t){return function(e){return Oi(e,t)}}function go(t,e,n,r){var i=r?jn:zn,o=-1,a=e.length,s=t;if(t===e){e=sa(e)}if(n){s=Rn(t,qn(n))}while(++o<a){var u=0,l=e[o],c=n?n(l):l;while((u=i(s,c,u,r))>-1){if(s!==t){Ce.call(s,u,1)}Ce.call(t,u,1)}}return t}function yo(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;if(ls(i)){Ce.call(t,i,1)}else{Po(t,i)}}}return t}function _o(t,e){return t+Oe(Qe()*(e-t+1))}function bo(t,e,r,i){var o=-1,a=je(Fe((e-t)/(r||1)),0),s=n(a);while(a--){s[i?a:++o]=t;t+=r}return s}function xo(t,e){var n="";if(!t||e<1||e>B){return n}do{if(e%2){n+=t}e=Oe(e/2);if(e){t+=t}}while(e);return n}function wo(t,e){return As(Es(t,e,Nh),t+"")}function Eo(t){return ai(Xf(t))}function To(t,e){var n=Xf(t);return Ls(n,gi(e,0,n.length))}function Io(t,e,n,r){if(!Cc(t)){return t}e=Wo(e,t);var i=-1,a=e.length,s=a-1,u=t;while(u!=null&&++i<a){var l=Ns(e[i]),c=n;if(i!=s){var f=u[l];c=r?r(f,l,u):o;if(c===o){c=Cc(f)?f:ls(e[i+1])?[]:{}}}ci(u,l,c);u=u[l]}return t}var Co=!ln?Nh:function(t,e){ln.set(t,e);return t};var Mo=!Re?Nh:function(t,e){return Re(t,"toString",{configurable:true,enumerable:false,value:Sh(e),writable:true})};function Ao(t){return Ls(Xf(t))}function So(t,e,r){var i=-1,o=t.length;if(e<0){e=-e>o?0:o+e}r=r>o?o:r;if(r<0){r+=o}o=e>r?0:r-e>>>0;e>>>=0;var a=n(o);while(++i<o){a[i]=t[i+e]}return a}function Ro(t,e){var n;Ei(t,function(t,r,i){n=e(t,r,i);return!n});return!!n}function Lo(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=j){while(r<i){var o=r+i>>>1,a=t[o];if(a!==null&&!jc(a)&&(n?a<=e:a<e)){r=o+1}else{i=o}}return i}return ko(t,e,Nh,n)}function ko(t,e,n,r){e=n(e);var i=0,a=t==null?0:t.length,s=e!==e,u=e===null,l=jc(e),c=e===o;while(i<a){var f=Oe((i+a)/2),h=n(t[f]),p=h!==o,d=h===null,v=h===h,m=jc(h);if(s){var g=r||v}else if(c){g=v&&(r||p)}else if(u){g=v&&p&&(r||!d)}else if(l){g=v&&p&&!d&&(r||!m)}else if(d||m){g=false}else{g=r?h<=e:h<e}if(g){i=f+1}else{a=f}}return Ve(a,z)}function No(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],s=e?e(a):a;if(!n||!ac(s,u)){var u=s;o[i++]=a===0?0:a}}return o}function Fo(t){if(typeof t=="number"){return t}if(jc(t)){return U}return+t}function Oo(t){if(typeof t=="string"){return t}if(cc(t)){return Rn(t,Oo)+""}if(jc(t)){return xr?xr.call(t):""}var e=t+"";return e=="0"&&1/t==-O?"-0":e}function Bo(t,e,n){var r=-1,i=An,o=t.length,a=true,u=[],l=u;if(n){a=false;i=Sn}else if(o>=s){var c=e?null:ka(t);if(c){return pr(c)}a=false;i=$n;l=new Jr}else{l=e?[]:u}t:while(++r<o){var f=t[r],h=e?e(f):f;f=n||f!==0?f:0;if(a&&h===h){var p=l.length;while(p--){if(l[p]===h){continue t}}if(e){l.push(h)}u.push(f)}else if(!i(l,h,n)){if(l!==u){l.push(h)}u.push(f)}}return u}function Po(t,e){e=Wo(e,t);t=Ts(t,e);return t==null||delete t[Ns(su(e))]}function Uo(t,e,n,r){return Io(t,e,n(Oi(t,e)),r)}function Do(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t)){}return n?So(t,r?0:o,r?o+1:i):So(t,r?o+1:0,r?i:o)}function zo(t,e){var n=t;if(n instanceof Ar){n=n.value()}return kn(e,function(t,e){return e.func.apply(e.thisArg,Ln([t],e.args))},n)}function jo(t,e,r){var i=t.length;if(i<2){return i?Bo(t[0]):[]}var o=-1,a=n(i);while(++o<i){var s=t[o],u=-1;while(++u<i){if(u!=o){a[o]=wi(a[o]||s,t[u],e,r)}}}return Bo(Si(a,1),e,r)}function Vo(t,e,n){var r=-1,i=t.length,a=e.length,s={};while(++r<i){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function Go(t){return pc(t)?t:[]}function Xo(t){return typeof t=="function"?t:Nh}function Wo(t,e){if(cc(t)){return t}return fs(t,e)?[t]:ks(ef(t))}var Zo=wo;function Qo(t,e,n){var r=t.length;n=n===o?r:n;return!e&&n>=r?t:So(t,e,n)}var Ho=Le||function(t){return un.clearTimeout(t)};function Yo(t,e){if(e){return t.slice()}var n=t.length,r=we?we(n):new t.constructor(n);t.copy(r);return r}function Jo(t){var e=new t.constructor(t.byteLength);new xe(e).set(new xe(t));return e}function qo(t,e){var n=e?Jo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ko(t,e,n){var r=e?n(cr(t),p):cr(t);return kn(r,bn,new t.constructor)}function $o(t){var e=new t.constructor(t.source,Qt.exec(t));e.lastIndex=t.lastIndex;return e}function ta(t,e,n){var r=e?n(pr(t),p):pr(t);return kn(r,xn,new t.constructor)}function ea(t){return br?re(br.call(t)):{}}function na(t,e){var n=e?Jo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ra(t,e){if(t!==e){var n=t!==o,r=t===null,i=t===t,a=jc(t);var s=e!==o,u=e===null,l=e===e,c=jc(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i){return 1}if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l){return-1}}return 0}function ia(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;while(++r<a){var u=ra(i[r],o[r]);if(u){if(r>=s){return u}var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}function oa(t,e,r,i){var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=je(a-s,0),f=n(l+c),h=!i;while(++u<l){f[u]=e[u]}while(++o<s){if(h||o<a){f[r[o]]=t[o]}}while(c--){f[u++]=t[o++]}return f}function aa(t,e,r,i){var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,f=je(a-u,0),h=n(f+c),p=!i;while(++o<f){h[o]=t[o]}var d=o;while(++l<c){h[d+l]=e[l]}while(++s<u){if(p||o<a){h[d+r[s]]=t[o++]}}return h}function sa(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i){e[r]=t[r]}return e}function ua(t,e,n,r){var i=!n;n||(n={});var a=-1,s=e.length;while(++a<s){var u=e[a];var l=r?r(n[u],t[u],u,n,t):o;if(l===o){l=t[u]}if(i){vi(n,u,l)}else{ci(n,u,l)}}return n}function la(t,e){return ua(t,Ka(t),e)}function ca(t,e){return ua(t,$a(t),e)}function fa(t,e){return function(n,r){var i=cc(n)?En:hi,o=e?e():{};return i(n,t,Qa(r,2),o)}}function ha(t){return wo(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;a=t.length>3&&typeof a=="function"?(i--,a):o;if(s&&cs(n[0],n[1],s)){a=i<3?o:a;i=1}e=re(e);while(++r<i){var u=n[r];if(u){t(e,u,r,a)}}return e})}function pa(t,e){return function(n,r){if(n==null){return n}if(!hc(n)){return t(n,r)}var i=n.length,o=e?i:-1,a=re(n);while(e?o--:++o<i){if(r(a[o],o,a)===false){break}}return n}}function da(t){return function(e,n,r){var i=-1,o=re(e),a=r(e),s=a.length;while(s--){var u=a[t?s:++i];if(n(o[u],u,o)===false){break}}return e}}function va(t,e,n){var r=e&y,i=ya(t);function o(){var e=this&&this!==un&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function ma(t){return function(e){e=ef(e);var n=sr(e)?yr(e):o;var r=n?n[0]:e.charAt(0);var i=n?Qo(n,1).join(""):e.slice(1);return r[t]()+i}}function ga(t){return function(e){return kn(Th(qf(e).replace(Ge,"")),t,"")}}function ya(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ir(t.prototype),r=t.apply(n,e);return Cc(r)?r:n}}function _a(t,e,r){var i=ya(t);function a(){var s=arguments.length,u=n(s),l=s,c=Za(a);while(l--){u[l]=arguments[l]}var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:hr(u,c);s-=f.length;if(s<r){return Ra(t,e,wa,a.placeholder,o,u,f,o,o,r-s)}var h=this&&this!==un&&this instanceof a?i:t;return wn(h,this,u)}return a}function ba(t){return function(e,n,r){var i=re(e);if(!hc(e)){var a=Qa(n,3);e=If(e);n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function xa(t){return ja(function(e){var n=e.length,r=n,i=Mr.prototype.thru;if(t){e.reverse()}while(r--){var a=e[r];if(typeof a!="function"){throw new ae(l)}if(i&&!s&&Wa(a)=="wrapper"){var s=new Mr([],true)}}r=s?r:n;while(++r<n){a=e[r];var u=Wa(a),c=u=="wrapper"?Xa(a):o;if(c&&ps(c[0])&&c[1]==(I|x|E|C)&&!c[4].length&&c[9]==1){s=s[Wa(c[0])].apply(s,c[3])}else{s=a.length==1&&ps(a)?s[u]():s.thru(a)}}return function(){var t=arguments,r=t[0];if(s&&t.length==1&&cc(r)){return s.plant(r).value()}var i=0,o=n?e[i].apply(this,t):r;while(++i<n){o=e[i].call(this,o)}return o}})}function wa(t,e,r,i,a,s,u,l,c,f){var h=e&I,p=e&y,d=e&_,v=e&(x|w),m=e&M,g=d?o:ya(t);function b(){var o=arguments.length,y=n(o),_=o;while(_--){y[_]=arguments[_]}if(v){var x=Za(b),w=nr(y,x)}if(i){y=oa(y,i,a,v)}if(s){y=aa(y,s,u,v)}o-=w;if(v&&o<f){var E=hr(y,x);return Ra(t,e,wa,b.placeholder,r,y,E,l,c,f-o)}var T=p?r:this,I=d?T[t]:t;o=y.length;if(l){y=Is(y,l)}else if(m&&o>1){y.reverse()}if(h&&c<o){y.length=c}if(this&&this!==un&&this instanceof b){I=g||ya(I)}return I.apply(T,y)}return b}function Ea(t,e){return function(n,r){return Gi(n,t,e(r),{})}}function Ta(t,e){return function(n,r){var i;if(n===o&&r===o){return e}if(n!==o){i=n}if(r!==o){if(i===o){return r}if(typeof n=="string"||typeof r=="string"){n=Oo(n);r=Oo(r)}else{n=Fo(n);r=Fo(r)}i=t(n,r)}return i}}function Ia(t){return ja(function(e){e=Rn(e,qn(Qa()));return wo(function(n){var r=this;return t(e,function(t){return wn(t,r,n)})})})}function Ca(t,e){e=e===o?" ":Oo(e);var n=e.length;if(n<2){return n?xo(e,t):e}var r=xo(e,Fe(t/gr(e)));return sr(e)?Qo(yr(r),0,t).join(""):r.slice(0,t)}function Ma(t,e,r,i){var o=e&y,a=ya(t);function s(){var e=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==un&&this instanceof s?a:t;while(++l<c){f[l]=i[l]}while(u--){f[l++]=arguments[++e]}return wn(h,o?r:this,f)}return s}function Aa(t){return function(e,n,r){if(r&&typeof r!="number"&&cs(e,n,r)){n=r=o}e=Yc(e);if(n===o){n=e;e=0}else{n=Yc(n)}r=r===o?e<n?1:-1:Yc(r);return bo(e,n,r,t)}}function Sa(t){return function(e,n){if(!(typeof e=="string"&&typeof n=="string")){e=Kc(e);n=Kc(n)}return t(e,n)}}function Ra(t,e,n,r,i,a,s,u,l,c){var f=e&x,h=f?s:o,p=f?o:s,d=f?a:o,v=f?o:a;e|=f?E:T;e&=~(f?T:E);if(!(e&b)){e&=~(y|_)}var m=[t,e,i,d,h,v,p,u,l,c];var g=n.apply(o,m);if(ps(t)){Cs(g,m)}g.placeholder=r;return Ss(g,t,e)}function La(t){var e=ne[t];return function(t,n){t=Kc(t);n=n==null?0:Ve(Jc(n),292);if(n){var r=(ef(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));r=(ef(i)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return e(t)}}var ka=!(nn&&1/pr(new nn([,-0]))[1]==O)?jh:function(t){return new nn(t)};function Na(t){return function(e){var n=ts(e);if(n==K){return cr(e)}if(n==ot){return dr(e)}return Jn(e,t(e))}}function Fa(t,e,n,r,i,a,s,u){var c=e&_;if(!c&&typeof t!="function"){throw new ae(l)}var f=r?r.length:0;if(!f){e&=~(E|T);r=i=o}s=s===o?s:je(Jc(s),0);u=u===o?u:Jc(u);f-=i?i.length:0;if(e&T){var h=r,p=i;r=i=o}var d=c?o:Xa(t);var v=[t,e,n,r,i,h,p,a,s,u];if(d){bs(v,d)}t=v[0];e=v[1];n=v[2];r=v[3];i=v[4];u=v[9]=v[9]===o?c?0:t.length:je(v[9]-f,0);if(!u&&e&(x|w)){e&=~(x|w)}if(!e||e==y){var m=va(t,e,n)}else if(e==x||e==w){m=_a(t,e,u)}else if((e==E||e==(y|E))&&!i.length){m=Ma(t,e,n,r)}else{m=wa.apply(o,v)}var g=d?Co:Cs;return Ss(g(m,v),t,e)}function Oa(t,e,n,r){if(t===o||ac(t,le[n])&&!he.call(r,n)){return e}return t}function Ba(t,e,n,r,i,a){if(Cc(t)&&Cc(e)){a.set(e,t);lo(t,e,o,Ba,a);a["delete"](e)}return t}function Pa(t){return Bc(t)?o:t}function Ua(t,e,n,r,i,a){var s=n&m,u=t.length,l=e.length;if(u!=l&&!(s&&l>u)){return false}var c=a.get(t);if(c&&a.get(e)){return c==e}var f=-1,h=true,p=n&g?new Jr:o;a.set(t,e);a.set(e,t);while(++f<u){var d=t[f],v=e[f];if(r){var y=s?r(v,d,f,e,t,a):r(d,v,f,t,e,a)}if(y!==o){if(y){continue}h=false;break}if(p){if(!Fn(e,function(t,e){if(!$n(p,e)&&(d===t||i(d,t,n,r,a))){return p.push(e)}})){h=false;break}}else if(!(d===v||i(d,v,n,r,a))){h=false;break}}a["delete"](t);a["delete"](e);return h}function Da(t,e,n,r,i,o,a){switch(n){case ht:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case ft:if(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e))){return false}return true;case Z:case Q:case $:return ac(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case it:case at:return t==e+"";case K:var s=cr;case ot:var u=r&m;s||(s=pr);if(t.size!=e.size&&!u){return false}var l=a.get(t);if(l){return l==e}r|=g;a.set(t,e);var c=Ua(s(t),s(e),r,i,o,a);a["delete"](t);return c;case st:if(br){return br.call(t)==br.call(e)}}return false}function za(t,e,n,r,i,a){var s=n&m,u=Va(t),l=u.length,c=Va(e),f=c.length;if(l!=f&&!s){return false}var h=l;while(h--){var p=u[h];if(!(s?p in e:he.call(e,p))){return false}}var d=a.get(t);if(d&&a.get(e)){return d==e}var v=true;a.set(t,e);a.set(e,t);var g=s;while(++h<l){p=u[h];var y=t[p],_=e[p];if(r){var b=s?r(_,y,p,e,t,a):r(y,_,p,t,e,a)}if(!(b===o?y===_||i(y,_,n,r,a):b)){v=false;break}g||(g=p=="constructor")}if(v&&!g){var x=t.constructor,w=e.constructor;if(x!=w&&("constructor"in t&&"constructor"in e)&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)){v=false}}a["delete"](t);a["delete"](e);return v}function ja(t){return As(Es(t,o,Js),t+"")}function Va(t){return Bi(t,If,Ka)}function Ga(t){return Bi(t,Cf,$a)}var Xa=!ln?jh:function(t){return ln.get(t)};function Wa(t){var e=t.name+"",n=cn[e],r=he.call(cn,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(o==null||o==t){return i.name}}return e}function Za(t){var e=he.call(Er,"placeholder")?Er:t;return e.placeholder}function Qa(){var t=Er.iteratee||Fh;t=t===Fh?no:t;return arguments.length?t(arguments[0],arguments[1]):t}function Ha(t,e){var n=t.__data__;return hs(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ya(t){var e=If(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,gs(i)]}return e}function Ja(t,e){var n=ar(t,e);return Ki(n)?n:o}function qa(t){var e=he.call(t,Se),n=t[Se];try{t[Se]=o;var r=true}catch(t){}var i=ve.call(t);if(r){if(e){t[Se]=n}else{delete t[Se]}}return i}var Ka=!Be?Jh:function(t){if(t==null){return[]}t=re(t);return Mn(Be(t),function(e){return Ie.call(t,e)})};var $a=!Be?Jh:function(t){var e=[];while(t){Ln(e,Ka(t));t=Ee(t)}return e};var ts=Pi;if($e&&ts(new $e(new ArrayBuffer(1)))!=ht||tn&&ts(new tn)!=K||en&&ts(en.resolve())!=nt||nn&&ts(new nn)!=ot||an&&ts(new an)!=lt){ts=function(t){var e=Pi(t),n=e==et?t.constructor:o,r=n?Fs(n):"";if(r){switch(r){case hn:return ht;case pn:return K;case On:return nt;case Bn:return ot;case Wn:return lt}}return e}}function es(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ve(e,t+a);break;case"takeRight":t=je(t,e-a);break}}return{start:t,end:e}}function ns(t){var e=t.match(Vt);return e?e[1].split(Gt):[]}function rs(t,e,n){e=Wo(e,t);var r=-1,i=e.length,o=false;while(++r<i){var a=Ns(e[r]);if(!(o=t!=null&&n(t,a))){break}t=t[a]}if(o||++r!=i){return o}i=t==null?0:t.length;return!!i&&Ic(i)&&ls(a,i)&&(cc(t)||lc(t))}function is(t){var e=t.length,n=t.constructor(e);if(e&&typeof t[0]=="string"&&he.call(t,"index")){n.index=t.index;n.input=t.input}return n}function os(t){return typeof t.constructor=="function"&&!ms(t)?Ir(Ee(t)):{}}function as(t,e,n,r){var i=t.constructor;switch(e){case ft:return Jo(t);case Z:case Q:return new i(+t);case ht:return qo(t,r);case pt:case dt:case vt:case mt:case gt:case yt:case _t:case bt:case xt:return na(t,r);case K:return Ko(t,r,n);case $:case at:return new i(t);case it:return $o(t);case ot:return ta(t,r,n);case st:return ea(t)}}function ss(t,e){var n=e.length;if(!n){return t}var r=n-1;e[r]=(n>1?"& ":"")+e[r];e=e.join(n>2?", ":" ");return t.replace(jt,"{\n/* [wrapped with "+e+"] */\n")}function us(t){return cc(t)||lc(t)||!!(Me&&t&&t[Me])}function ls(t,e){e=e==null?B:e;return!!e&&(typeof t=="number"||Kt.test(t))&&(t>-1&&t%1==0&&t<e)}function cs(t,e,n){if(!Cc(n)){return false}var r=typeof e;if(r=="number"?hc(n)&&ls(e,n.length):r=="string"&&e in n){return ac(n[e],t)}return false}function fs(t,e){if(cc(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||jc(t)){return true}return Nt.test(t)||!kt.test(t)||e!=null&&t in re(e)}function hs(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ps(t){var e=Wa(t),n=Er[e];if(typeof n!="function"||!(e in Ar.prototype)){return false}if(t===n){return true}var r=Xa(n);return!!r&&t===r[0]}function ds(t){return!!de&&de in t}var vs=ce?Ec:qh;function ms(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||le;return t===n}function gs(t){return t===t&&!Cc(t)}function ys(t,e){return function(n){if(n==null){return false}return n[t]===e&&(e!==o||t in re(n))}}function _s(t){var e=Vl(t,function(t){if(n.size===f){n.clear()}return t});var n=e.cache;return e}function bs(t,e){var n=t[1],r=e[1],i=n|r,o=i<(y|_|I);var a=r==I&&n==x||r==I&&n==C&&t[7].length<=e[8]||r==(I|C)&&e[7].length<=e[8]&&n==x;if(!(o||a)){return t}if(r&y){t[2]=e[2];i|=n&y?0:b}var s=e[3];if(s){var u=t[3];t[3]=u?oa(u,s,e[4]):s;t[4]=u?hr(t[3],h):e[4]}s=e[5];if(s){u=t[5];t[5]=u?aa(u,s,e[6]):s;t[6]=u?hr(t[5],h):e[6]}s=e[7];if(s){t[7]=s}if(r&I){t[8]=t[8]==null?e[8]:Ve(t[8],e[8])}if(t[9]==null){t[9]=e[9]}t[0]=e[0];t[1]=i;return t}function xs(t){var e=[];if(t!=null){for(var n in re(t)){e.push(n)}}return e}function ws(t){return ve.call(t)}function Es(t,e,r){e=je(e===o?t.length-1:e,0);return function(){var i=arguments,o=-1,a=je(i.length-e,0),s=n(a);while(++o<a){s[o]=i[e+o]}o=-1;var u=n(e+1);while(++o<e){u[o]=i[o]}u[e]=r(s);return wn(t,this,u)}}function Ts(t,e){return e.length<2?t:Oi(t,So(e,0,-1))}function Is(t,e){var n=t.length,r=Ve(e.length,n),i=sa(t);while(r--){var a=e[r];t[r]=ls(a,n)?i[a]:o}return t}var Cs=Rs(Co);var Ms=Ne||function(t,e){return un.setTimeout(t,e)};var As=Rs(Mo);function Ss(t,e,n){var r=e+"";return As(t,ss(r,Os(ns(r),n)))}function Rs(t){var e=0,n=0;return function(){var r=We(),i=L-(r-n);n=r;if(i>0){if(++e>=R){return arguments[0]}}else{e=0}return t.apply(o,arguments)}}function Ls(t,e){var n=-1,r=t.length,i=r-1;e=e===o?r:e;while(++n<e){var a=_o(n,i),s=t[a];t[a]=t[n];t[n]=s}t.length=e;return t}var ks=_s(function(t){var e=[];if(Ft.test(t)){e.push("")}t.replace(Ot,function(t,n,r,i){e.push(r?i.replace(Wt,"$1"):n||t)});return e});function Ns(t){if(typeof t=="string"||jc(t)){return t}var e=t+"";return e=="0"&&1/t==-O?"-0":e}function Fs(t){if(t!=null){try{return fe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Os(t,e){Tn(V,function(n){var r="_."+n[0];if(e&n[1]&&!An(t,r)){t.push(r)}});return t.sort()}function Bs(t){if(t instanceof Ar){return t.clone()}var e=new Mr(t.__wrapped__,t.__chain__);e.__actions__=sa(t.__actions__);e.__index__=t.__index__;e.__values__=t.__values__;return e}function Ps(t,e,r){if(r?cs(t,e,r):e===o){e=1}else{e=je(Jc(e),0)}var i=t==null?0:t.length;if(!i||e<1){return[]}var a=0,s=0,u=n(Fe(i/e));while(a<i){u[s++]=So(t,a,a+=e)}return u}function Us(t){var e=-1,n=t==null?0:t.length,r=0,i=[];while(++e<n){var o=t[e];if(o){i[r++]=o}}return i}function Ds(){var t=arguments.length;if(!t){return[]}var e=n(t-1),r=arguments[0],i=t;while(i--){e[i-1]=arguments[i]}return Ln(cc(r)?sa(r):[r],Si(e,1))}var zs=wo(function(t,e){return pc(t)?wi(t,Si(e,1,pc,true)):[]});var js=wo(function(t,e){var n=su(e);if(pc(n)){n=o}return pc(t)?wi(t,Si(e,1,pc,true),Qa(n,2)):[]});var Vs=wo(function(t,e){var n=su(e);if(pc(n)){n=o}return pc(t)?wi(t,Si(e,1,pc,true),o,n):[]});function Gs(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===o?1:Jc(e);return So(t,e<0?0:e,r)}function Xs(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===o?1:Jc(e);e=r-e;return So(t,0,e<0?0:e)}function Ws(t,e){return t&&t.length?Do(t,Qa(e,3),true,true):[]}function Zs(t,e){return t&&t.length?Do(t,Qa(e,3),true):[]}function Qs(t,e,n,r){var i=t==null?0:t.length;if(!i){return[]}if(n&&typeof n!="number"&&cs(t,e,n)){n=0;r=i}return Mi(t,e,n,r)}function Hs(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=n==null?0:Jc(n);if(i<0){i=je(r+i,0)}return Dn(t,Qa(e,3),i)}function Ys(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=r-1;if(n!==o){i=Jc(n);i=n<0?je(r+i,0):Ve(i,r-1)}return Dn(t,Qa(e,3),i,true)}function Js(t){var e=t==null?0:t.length;return e?Si(t,1):[]}function qs(t){var e=t==null?0:t.length;return e?Si(t,O):[]}function Ks(t,e){var n=t==null?0:t.length;if(!n){return[]}e=e===o?1:Jc(e);return Si(t,e)}function $s(t){var e=-1,n=t==null?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function tu(t){return t&&t.length?t[0]:o}function eu(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=n==null?0:Jc(n);if(i<0){i=je(r+i,0)}return zn(t,e,i)}function nu(t){var e=t==null?0:t.length;return e?So(t,0,-1):[]}var ru=wo(function(t){var e=Rn(t,Go);return e.length&&e[0]===t[0]?Vi(e):[]});var iu=wo(function(t){var e=su(t),n=Rn(t,Go);if(e===su(n)){e=o}else{n.pop()}return n.length&&n[0]===t[0]?Vi(n,Qa(e,2)):[]});var ou=wo(function(t){var e=su(t),n=Rn(t,Go);e=typeof e=="function"?e:o;if(e){n.pop()}return n.length&&n[0]===t[0]?Vi(n,o,e):[]});function au(t,e){return t==null?"":De.call(t,e)}function su(t){var e=t==null?0:t.length;return e?t[e-1]:o}function uu(t,e,n){var r=t==null?0:t.length;if(!r){return-1}var i=r;if(n!==o){i=Jc(n);i=i<0?je(r+i,0):Ve(i,r-1)}return e===e?mr(t,e,i):Dn(t,Vn,i,true)}function lu(t,e){return t&&t.length?fo(t,Jc(e)):o}var cu=wo(fu);function fu(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function hu(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Qa(n,2)):t}function pu(t,e,n){return t&&t.length&&e&&e.length?go(t,e,o,n):t}var du=ja(function(t,e){var n=t==null?0:t.length,r=mi(t,e);yo(t,Rn(e,function(t){return ls(t,n)?+t:t}).sort(ra));return r});function vu(t,e){var n=[];if(!(t&&t.length)){return n}var r=-1,i=[],o=t.length;e=Qa(e,3);while(++r<o){var a=t[r];if(e(a,r,t)){n.push(a);i.push(r)}}yo(t,i);return n}function mu(t){return t==null?t:He.call(t)}function gu(t,e,n){var r=t==null?0:t.length;if(!r){return[]}if(n&&typeof n!="number"&&cs(t,e,n)){e=0;n=r}else{e=e==null?0:Jc(e);n=n===o?r:Jc(n)}return So(t,e,n)}function yu(t,e){return Lo(t,e)}function _u(t,e,n){return ko(t,e,Qa(n,2))}function bu(t,e){var n=t==null?0:t.length;if(n){var r=Lo(t,e);if(r<n&&ac(t[r],e)){return r}}return-1}function xu(t,e){return Lo(t,e,true)}function wu(t,e,n){return ko(t,e,Qa(n,2),true)}function Eu(t,e){var n=t==null?0:t.length;if(n){var r=Lo(t,e,true)-1;if(ac(t[r],e)){return r}}return-1}function Tu(t){return t&&t.length?No(t):[]}function Iu(t,e){return t&&t.length?No(t,Qa(e,2)):[]}function Cu(t){var e=t==null?0:t.length;return e?So(t,1,e):[]}function Mu(t,e,n){if(!(t&&t.length)){return[]}e=n||e===o?1:Jc(e);return So(t,0,e<0?0:e)}function Au(t,e,n){var r=t==null?0:t.length;if(!r){return[]}e=n||e===o?1:Jc(e);e=r-e;return So(t,e<0?0:e,r)}function Su(t,e){return t&&t.length?Do(t,Qa(e,3),false,true):[]}function Ru(t,e){return t&&t.length?Do(t,Qa(e,3)):[]}var Lu=wo(function(t){return Bo(Si(t,1,pc,true))});var ku=wo(function(t){var e=su(t);if(pc(e)){e=o}return Bo(Si(t,1,pc,true),Qa(e,2))});var Nu=wo(function(t){var e=su(t);e=typeof e=="function"?e:o;return Bo(Si(t,1,pc,true),o,e)});function Fu(t){return t&&t.length?Bo(t):[]}function Ou(t,e){return t&&t.length?Bo(t,Qa(e,2)):[]}function Bu(t,e){e=typeof e=="function"?e:o;return t&&t.length?Bo(t,o,e):[]}function Pu(t){if(!(t&&t.length)){return[]}var e=0;t=Mn(t,function(t){if(pc(t)){e=je(t.length,e);return true}});return Yn(e,function(e){return Rn(t,Xn(e))})}function Uu(t,e){if(!(t&&t.length)){return[]}var n=Pu(t);if(e==null){return n}return Rn(n,function(t){return wn(e,o,t)})}var Du=wo(function(t,e){return pc(t)?wi(t,e):[]});var zu=wo(function(t){return jo(Mn(t,pc))});var ju=wo(function(t){var e=su(t);if(pc(e)){e=o}return jo(Mn(t,pc),Qa(e,2))});var Vu=wo(function(t){var e=su(t);e=typeof e=="function"?e:o;return jo(Mn(t,pc),o,e)});var Gu=wo(Pu);function Xu(t,e){return Vo(t||[],e||[],ci)}function Wu(t,e){return Vo(t||[],e||[],Io)}var Zu=wo(function(t){var e=t.length,n=e>1?t[e-1]:o;n=typeof n=="function"?(t.pop(),n):o;return Uu(t,n)});function Qu(t){var e=Er(t);e.__chain__=true;return e}function Hu(t,e){e(t);return t}function Yu(t,e){return e(t)}var Ju=ja(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return mi(e,t)};if(e>1||this.__actions__.length||!(r instanceof Ar)||!ls(n)){return this.thru(i)}r=r.slice(n,+n+(e?1:0));r.__actions__.push({func:Yu,args:[i],thisArg:o});return new Mr(r,this.__chain__).thru(function(t){if(e&&!t.length){t.push(o)}return t})});function qu(){return Qu(this)}function Ku(){return new Mr(this.value(),this.__chain__)}function $u(){if(this.__values__===o){this.__values__=Hc(this.value())}var t=this.__index__>=this.__values__.length,e=t?o:this.__values__[this.__index__++];return{done:t,value:e}}function tl(){return this}function el(t){var e,n=this;while(n instanceof Cr){var r=Bs(n);r.__index__=0;r.__values__=o;if(e){i.__wrapped__=r}else{e=r}var i=r;n=n.__wrapped__}i.__wrapped__=t;return e}function nl(){var t=this.__wrapped__;if(t instanceof Ar){var e=t;if(this.__actions__.length){e=new Ar(this)}e=e.reverse();e.__actions__.push({func:Yu,args:[mu],thisArg:o});return new Mr(e,this.__chain__)}return this.thru(mu)}function rl(){return zo(this.__wrapped__,this.__actions__)}var il=fa(function(t,e,n){if(he.call(t,n)){++t[n]}else{vi(t,n,1)}});function ol(t,e,n){var r=cc(t)?Cn:Ii;if(n&&cs(t,e,n)){e=o}return r(t,Qa(e,3))}function al(t,e){var n=cc(t)?Mn:Ai;return n(t,Qa(e,3))}var sl=ba(Hs);var ul=ba(Ys);function ll(t,e){return Si(yl(t,e),1)}function cl(t,e){return Si(yl(t,e),O)}function fl(t,e,n){n=n===o?1:Jc(n);return Si(yl(t,e),n)}function hl(t,e){var n=cc(t)?Tn:Ei;return n(t,Qa(e,3))}function pl(t,e){var n=cc(t)?In:Ti;return n(t,Qa(e,3))}var dl=fa(function(t,e,n){if(he.call(t,n)){t[n].push(e)}else{vi(t,n,[e])}});function vl(t,e,n,r){t=hc(t)?t:Xf(t);n=n&&!r?Jc(n):0;var i=t.length;if(n<0){n=je(i+n,0)}return zc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&zn(t,e,n)>-1}var ml=wo(function(t,e,r){var i=-1,o=typeof e=="function",a=hc(t)?n(t.length):[];Ei(t,function(t){a[++i]=o?wn(e,t,r):Xi(t,e,r)});return a});var gl=fa(function(t,e,n){vi(t,n,e)});function yl(t,e){var n=cc(t)?Rn:ao;return n(t,Qa(e,3))}function _l(t,e,n,r){if(t==null){return[]}if(!cc(e)){e=e==null?[]:[e]}n=r?o:n;if(!cc(n)){n=n==null?[]:[n]}return ho(t,e,n)}var bl=fa(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function xl(t,e,n){var r=cc(t)?kn:Zn,i=arguments.length<3;return r(t,Qa(e,4),n,i,Ei)}function wl(t,e,n){var r=cc(t)?Nn:Zn,i=arguments.length<3;return r(t,Qa(e,4),n,i,Ti)}function El(t,e){var n=cc(t)?Mn:Ai;return n(t,Gl(Qa(e,3)))}function Tl(t){var e=cc(t)?ai:Eo;return e(t)}function Il(t,e,n){if(n?cs(t,e,n):e===o){e=1}else{e=Jc(e)}var r=cc(t)?si:To;return r(t,e)}function Cl(t){var e=cc(t)?ui:Ao;return e(t)}function Ml(t){if(t==null){return 0}if(hc(t)){return zc(t)?gr(t):t.length}var e=ts(t);if(e==K||e==ot){return t.size}return ro(t).length}function Al(t,e,n){var r=cc(t)?Fn:Ro;if(n&&cs(t,e,n)){e=o}return r(t,Qa(e,3))}var Sl=wo(function(t,e){if(t==null){return[]}var n=e.length;if(n>1&&cs(t,e[0],e[1])){e=[]}else if(n>2&&cs(e[0],e[1],e[2])){e=[e[0]]}return ho(t,Si(e,1),[])});var Rl=ke||function(){return un.Date.now()};function Ll(t,e){if(typeof e!="function"){throw new ae(l)}t=Jc(t);return function(){if(--t<1){return e.apply(this,arguments)}}}function kl(t,e,n){e=n?o:e;e=t&&e==null?t.length:e;return Fa(t,I,o,o,o,o,e)}function Nl(t,e){var n;if(typeof e!="function"){throw new ae(l)}t=Jc(t);return function(){if(--t>0){n=e.apply(this,arguments)}if(t<=1){e=o}return n}}var Fl=wo(function(t,e,n){var r=y;if(n.length){var i=hr(n,Za(Fl));r|=E}return Fa(t,r,e,n,i)});var Ol=wo(function(t,e,n){var r=y|_;if(n.length){var i=hr(n,Za(Ol));r|=E}return Fa(e,r,t,n,i)});function Bl(t,e,n){e=n?o:e;var r=Fa(t,x,o,o,o,o,o,e);r.placeholder=Bl.placeholder;return r}function Pl(t,e,n){e=n?o:e;var r=Fa(t,w,o,o,o,o,o,e);r.placeholder=Pl.placeholder;return r}function Ul(t,e,n){var r,i,a,s,u,c,f=0,h=false,p=false,d=true;if(typeof t!="function"){throw new ae(l)}e=Kc(e)||0;if(Cc(n)){h=!!n.leading;p="maxWait"in n;a=p?je(Kc(n.maxWait)||0,e):a;d="trailing"in n?!!n.trailing:d}function v(e){var n=r,a=i;r=i=o;f=e;s=t.apply(a,n);return s}function m(t){f=t;u=Ms(_,e);return h?v(t):s}function g(t){var n=t-c,r=t-f,i=e-n;return p?Ve(i,a-r):i}function y(t){var n=t-c,r=t-f;return c===o||n>=e||n<0||p&&r>=a}function _(){var t=Rl();if(y(t)){return b(t)}u=Ms(_,g(t))}function b(t){u=o;if(d&&r){return v(t)}r=i=o;return s}function x(){if(u!==o){Ho(u)}f=0;r=c=i=u=o}function w(){return u===o?s:b(Rl())}function E(){var t=Rl(),n=y(t);r=arguments;i=this;c=t;if(n){if(u===o){return m(c)}if(p){u=Ms(_,e);return v(c)}}if(u===o){u=Ms(_,e)}return s}E.cancel=x;E.flush=w;return E}var Dl=wo(function(t,e){return xi(t,1,e)});var zl=wo(function(t,e,n){return xi(t,Kc(e)||0,n)});function jl(t){return Fa(t,M)}function Vl(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new ae(l)}var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i)){return o.get(i)}var a=t.apply(this,r);n.cache=o.set(i,a)||o;return a};n.cache=new(Vl.Cache||Xr);return n}Vl.Cache=Xr;function Gl(t){if(typeof t!="function"){throw new ae(l)}return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Xl(t){return Nl(2,t)}var Wl=Zo(function(t,e){e=e.length==1&&cc(e[0])?Rn(e[0],qn(Qa())):Rn(Si(e,1),qn(Qa()));var n=e.length;return wo(function(r){var i=-1,o=Ve(r.length,n);while(++i<o){r[i]=e[i].call(this,r[i])}return wn(t,this,r)})});var Zl=wo(function(t,e){var n=hr(e,Za(Zl));return Fa(t,E,o,e,n)});var Ql=wo(function(t,e){var n=hr(e,Za(Ql));return Fa(t,T,o,e,n)});var Hl=ja(function(t,e){return Fa(t,C,o,o,o,e)});function Yl(t,e){if(typeof t!="function"){throw new ae(l)}e=e===o?e:Jc(e);return wo(t,e)}function Jl(t,e){if(typeof t!="function"){throw new ae(l)}e=e==null?0:je(Jc(e),0);return wo(function(n){var r=n[e],i=Qo(n,0,e);if(r){Ln(i,r)}return wn(t,this,i)})}function ql(t,e,n){var r=true,i=true;if(typeof t!="function"){throw new ae(l)}if(Cc(n)){r="leading"in n?!!n.leading:r;i="trailing"in n?!!n.trailing:i}return Ul(t,e,{leading:r,maxWait:e,trailing:i})}function Kl(t){return kl(t,1)}function $l(t,e){return Zl(Xo(e),t)}function tc(){if(!arguments.length){return[]}var t=arguments[0];return cc(t)?t:[t]}function ec(t){return yi(t,v)}function nc(t,e){e=typeof e=="function"?e:o;return yi(t,v,e)}function rc(t){return yi(t,p|v)}function ic(t,e){e=typeof e=="function"?e:o;return yi(t,p|v,e)}function oc(t,e){return e==null||bi(t,e,If(e))}function ac(t,e){return t===e||t!==t&&e!==e}var sc=Sa(Ui);var uc=Sa(function(t,e){return t>=e});var lc=Wi(function(){return arguments}())?Wi:function(t){return Mc(t)&&he.call(t,"callee")&&!Ie.call(t,"callee")};var cc=n.isArray;var fc=dn?qn(dn):Zi;function hc(t){return t!=null&&Ic(t.length)&&!Ec(t)}function pc(t){return Mc(t)&&hc(t)}function dc(t){return t===true||t===false||Mc(t)&&Pi(t)==Z}var vc=Pe||qh;var mc=vn?qn(vn):Qi;function gc(t){return Mc(t)&&t.nodeType===1&&!Bc(t)}function yc(t){if(t==null){return true}if(hc(t)&&(cc(t)||typeof t=="string"||typeof t.splice=="function"||vc(t)||Vc(t)||lc(t))){return!t.length}var e=ts(t);if(e==K||e==ot){return!t.size}if(ms(t)){return!ro(t).length}for(var n in t){if(he.call(t,n)){return false}}return true}function _c(t,e){return Hi(t,e)}function bc(t,e,n){n=typeof n=="function"?n:o;var r=n?n(t,e):o;return r===o?Hi(t,e,o,n):!!r}function xc(t){if(!Mc(t)){return false}var e=Pi(t);return e==Y||e==H||typeof t.message=="string"&&typeof t.name=="string"&&!Bc(t)}function wc(t){return typeof t=="number"&&Ue(t)}function Ec(t){if(!Cc(t)){return false}var e=Pi(t);return e==J||e==q||e==W||e==rt}function Tc(t){return typeof t=="number"&&t==Jc(t)}function Ic(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=B}function Cc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Mc(t){return t!=null&&typeof t=="object"}var Ac=mn?qn(mn):Ji;function Sc(t,e){return t===e||qi(t,e,Ya(e))}function Rc(t,e,n){n=typeof n=="function"?n:o;return qi(t,e,Ya(e),n)}function Lc(t){return Oc(t)&&t!=+t}function kc(t){if(vs(t)){throw new i(u)}return Ki(t)}function Nc(t){return t===null}function Fc(t){return t==null}function Oc(t){return typeof t=="number"||Mc(t)&&Pi(t)==$}function Bc(t){if(!Mc(t)||Pi(t)!=et){return false}var e=Ee(t);if(e===null){return true}var n=he.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&fe.call(n)==me}var Pc=gn?qn(gn):$i;function Uc(t){return Tc(t)&&t>=-B&&t<=B}var Dc=yn?qn(yn):to;function zc(t){return typeof t=="string"||!cc(t)&&Mc(t)&&Pi(t)==at}function jc(t){return typeof t=="symbol"||Mc(t)&&Pi(t)==st}var Vc=_n?qn(_n):eo;function Gc(t){return t===o}function Xc(t){return Mc(t)&&ts(t)==lt}function Wc(t){return Mc(t)&&Pi(t)==ct}var Zc=Sa(oo);var Qc=Sa(function(t,e){return t<=e});function Hc(t){if(!t){return[]}if(hc(t)){return zc(t)?yr(t):sa(t)}if(Ae&&t[Ae]){return lr(t[Ae]())}var e=ts(t),n=e==K?cr:e==ot?pr:Xf;return n(t)}function Yc(t){if(!t){return t===0?t:0}t=Kc(t);if(t===O||t===-O){var e=t<0?-1:1;return e*P}return t===t?t:0}function Jc(t){var e=Yc(t),n=e%1;return e===e?n?e-n:e:0}function qc(t){return t?gi(Jc(t),0,D):0}function Kc(t){if(typeof t=="number"){return t}if(jc(t)){return U}if(Cc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cc(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(Ut,"");var n=Yt.test(t);return n||qt.test(t)?on(t.slice(2),n?2:8):Ht.test(t)?U:+t}function $c(t){return ua(t,Cf(t))}function tf(t){return t?gi(Jc(t),-B,B):t===0?t:0}function ef(t){return t==null?"":Oo(t)}var nf=ha(function(t,e){if(ms(e)||hc(e)){ua(e,If(e),t);return}for(var n in e){if(he.call(e,n)){ci(t,n,e[n])}}});var rf=ha(function(t,e){ua(e,Cf(e),t)});var of=ha(function(t,e,n,r){ua(e,Cf(e),t,r)});var af=ha(function(t,e,n,r){ua(e,If(e),t,r)});var sf=ja(mi);function uf(t,e){var n=Ir(t);return e==null?n:pi(n,e)}var lf=wo(function(t){t.push(o,Oa);return wn(of,o,t)});var cf=wo(function(t){t.push(o,Ba);return wn(Rf,o,t)});function ff(t,e){return Un(t,Qa(e,3),ki)}function hf(t,e){return Un(t,Qa(e,3),Ni)}function pf(t,e){return t==null?t:Ri(t,Qa(e,3),Cf)}function df(t,e){return t==null?t:Li(t,Qa(e,3),Cf)}function vf(t,e){return t&&ki(t,Qa(e,3))}function mf(t,e){return t&&Ni(t,Qa(e,3))}function gf(t){return t==null?[]:Fi(t,If(t))}function yf(t){return t==null?[]:Fi(t,Cf(t))}function _f(t,e,n){var r=t==null?o:Oi(t,e);return r===o?n:r}function bf(t,e){return t!=null&&rs(t,e,Di)}function xf(t,e){return t!=null&&rs(t,e,zi)}var wf=Ea(function(t,e,n){t[e]=n},Sh(Nh));var Ef=Ea(function(t,e,n){if(he.call(t,e)){t[e].push(n)}else{t[e]=[n]}},Qa);var Tf=wo(Xi);function If(t){return hc(t)?oi(t):ro(t)}function Cf(t){return hc(t)?oi(t,true):io(t)}function Mf(t,e){var n={};e=Qa(e,3);ki(t,function(t,r,i){vi(n,e(t,r,i),t)});return n}function Af(t,e){var n={};e=Qa(e,3);ki(t,function(t,r,i){vi(n,r,e(t,r,i))});return n}var Sf=ha(function(t,e,n){lo(t,e,n)});var Rf=ha(function(t,e,n,r){lo(t,e,n,r)});var Lf=ja(function(t,e){var n={};if(t==null){return n}var r=false;e=Rn(e,function(e){e=Wo(e,t);r||(r=e.length>1);return e});ua(t,Ga(t),n);if(r){n=yi(n,p|d|v,Pa)}var i=e.length;while(i--){Po(n,e[i])}return n});function kf(t,e){return Ff(t,Gl(Qa(e)))}var Nf=ja(function(t,e){return t==null?{}:po(t,e)});function Ff(t,e){if(t==null){return{}}var n=Rn(Ga(t),function(t){return[t]});e=Qa(e);return vo(t,n,function(t,n){return e(t,n[0])})}function Of(t,e,n){e=Wo(e,t);var r=-1,i=e.length;if(!i){i=1;t=o}while(++r<i){var a=t==null?o:t[Ns(e[r])];if(a===o){r=i;a=n}t=Ec(a)?a.call(t):a}return t}function Bf(t,e,n){return t==null?t:Io(t,e,n)}function Pf(t,e,n,r){r=typeof r=="function"?r:o;return t==null?t:Io(t,e,n,r)}var Uf=Na(If);var Df=Na(Cf);function zf(t,e,n){var r=cc(t),i=r||vc(t)||Vc(t);e=Qa(e,4);if(n==null){var o=t&&t.constructor;if(i){n=r?new o:[]}else if(Cc(t)){n=Ec(o)?Ir(Ee(t)):{}}else{n={}}}(i?Tn:ki)(t,function(t,r,i){return e(n,t,r,i)});return n}function jf(t,e){return t==null?true:Po(t,e)}function Vf(t,e,n){return t==null?t:Uo(t,e,Xo(n))}function Gf(t,e,n,r){r=typeof r=="function"?r:o;return t==null?t:Uo(t,e,Xo(n),r)}function Xf(t){return t==null?[]:Kn(t,If(t))}function Wf(t){return t==null?[]:Kn(t,Cf(t))}function Zf(t,e,n){if(n===o){n=e;e=o}if(n!==o){n=Kc(n);n=n===n?n:0}if(e!==o){e=Kc(e);e=e===e?e:0}return gi(Kc(t),e,n)}function Qf(t,e,n){e=Yc(e);if(n===o){n=e;e=0}else{n=Yc(n)}t=Kc(t);return ji(t,e,n)}function Hf(t,e,n){if(n&&typeof n!="boolean"&&cs(t,e,n)){e=n=o}if(n===o){if(typeof e=="boolean"){n=e;e=o}else if(typeof t=="boolean"){n=t;t=o}}if(t===o&&e===o){t=0;e=1}else{t=Yc(t);if(e===o){e=t;t=0}else{e=Yc(e)}}if(t>e){var r=t;t=e;e=r}if(n||t%1||e%1){var i=Qe();return Ve(t+i*(e-t+rn("1e-"+((i+"").length-1))),e)}return _o(t,e)}var Yf=ga(function(t,e,n){e=e.toLowerCase();return t+(n?Jf(e):e)});function Jf(t){return Eh(ef(t).toLowerCase())}function qf(t){t=ef(t);return t&&t.replace($t,rr).replace(Xe,"")}function Kf(t,e,n){t=ef(t);e=Oo(e);var r=t.length;n=n===o?r:gi(Jc(n),0,r);var i=n;n-=e.length;return n>=0&&t.slice(n,i)==e}function $f(t){t=ef(t);return t&&At.test(t)?t.replace(Ct,ir):t}function th(t){t=ef(t);return t&&Pt.test(t)?t.replace(Bt,"\\$&"):t}var eh=ga(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});var nh=ga(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()});var rh=ma("toLowerCase");function ih(t,e,n){t=ef(t);e=Jc(e);var r=e?gr(t):0;if(!e||r>=e){return t}var i=(e-r)/2;return Ca(Oe(i),n)+t+Ca(Fe(i),n)}function oh(t,e,n){t=ef(t);e=Jc(e);var r=e?gr(t):0;return e&&r<e?t+Ca(e-r,n):t}function ah(t,e,n){t=ef(t);e=Jc(e);var r=e?gr(t):0;return e&&r<e?Ca(e-r,n)+t:t}function sh(t,e,n){if(n||e==null){e=0}else if(e){e=+e}return Ze(ef(t).replace(Dt,""),e||0)}function uh(t,e,n){if(n?cs(t,e,n):e===o){e=1}else{e=Jc(e)}return xo(ef(t),e)}function lh(){var t=arguments,e=ef(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ch=ga(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function fh(t,e,n){if(n&&typeof n!="number"&&cs(t,e,n)){e=n=o}n=n===o?D:n>>>0;if(!n){return[]}t=ef(t);if(t&&(typeof e=="string"||e!=null&&!Pc(e))){e=Oo(e);if(!e&&sr(t)){return Qo(yr(t),0,n)}}return t.split(e,n)}var hh=ga(function(t,e,n){return t+(n?" ":"")+Eh(e)});function ph(t,e,n){t=ef(t);n=n==null?0:gi(Jc(n),0,t.length);e=Oo(e);return t.slice(n,n+e.length)==e}function dh(t,e,n){var r=Er.templateSettings;if(n&&cs(t,e,n)){e=o}t=ef(t);e=of({},e,r,Oa);var i=of({},e.imports,r.imports,Oa),a=If(i),s=Kn(i,a);var u,l,c=0,f=e.interpolate||te,h="__p += '";var p=ie((e.escape||te).source+"|"+f.source+"|"+(f===Lt?Zt:te).source+"|"+(e.evaluate||te).source+"|$","g");var d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Je+"]")+"\n";t.replace(p,function(e,n,r,i,o,a){r||(r=i);h+=t.slice(c,a).replace(ee,or);if(n){u=true;h+="' +\n__e("+n+") +\n'"}if(o){l=true;h+="';\n"+o+";\n__p += '"}if(r){h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}c=a+e.length;return e});h+="';\n";var v=e.variable;if(!v){h="with (obj) {\n"+h+"\n}\n"}h=(l?h.replace(wt,""):h).replace(Et,"$1").replace(Tt,"$1;");h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ih(function(){return Xt(a,d+"return "+h).apply(o,s)});m.source=h;if(xc(m)){throw m}return m}function vh(t){return ef(t).toLowerCase()}function mh(t){return ef(t).toUpperCase()}function gh(t,e,n){t=ef(t);if(t&&(n||e===o)){return t.replace(Ut,"")}if(!t||!(e=Oo(e))){return t}var r=yr(t),i=yr(e),a=tr(r,i),s=er(r,i)+1;return Qo(r,a,s).join("")}function yh(t,e,n){t=ef(t);if(t&&(n||e===o)){return t.replace(zt,"")}if(!t||!(e=Oo(e))){return t}var r=yr(t),i=er(r,yr(e))+1;return Qo(r,0,i).join("")}function _h(t,e,n){t=ef(t);if(t&&(n||e===o)){return t.replace(Dt,"")}if(!t||!(e=Oo(e))){return t}var r=yr(t),i=tr(r,yr(e));return Qo(r,i).join("")}function bh(t,e){var n=A,r=S;if(Cc(e)){var i="separator"in e?e.separator:i;n="length"in e?Jc(e.length):n;r="omission"in e?Oo(e.omission):r}t=ef(t);var a=t.length;if(sr(t)){var s=yr(t);a=s.length}if(n>=a){return t}var u=n-gr(r);if(u<1){return r}var l=s?Qo(s,0,u).join(""):t.slice(0,u);if(i===o){return l+r}if(s){u+=l.length-u}if(Pc(i)){if(t.slice(u).search(i)){var c,f=l;if(!i.global){i=ie(i.source,ef(Qt.exec(i))+"g")}i.lastIndex=0;while(c=i.exec(f)){var h=c.index}l=l.slice(0,h===o?u:h)}}else if(t.indexOf(Oo(i),u)!=u){var p=l.lastIndexOf(i);if(p>-1){l=l.slice(0,p)}}return l+r}function xh(t){t=ef(t);return t&&Mt.test(t)?t.replace(It,_r):t}var wh=ga(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});var Eh=ma("toUpperCase");function Th(t,e,n){t=ef(t);e=n?o:e;if(e===o){return ur(t)?wr(t):Pn(t)}return t.match(e)||[]}var Ih=wo(function(t,e){try{return wn(t,o,e)}catch(t){return xc(t)?t:new i(t)}});var Ch=ja(function(t,e){Tn(e,function(e){e=Ns(e);vi(t,e,Fl(t[e],t))});return t});function Mh(t){var e=t==null?0:t.length,n=Qa();t=!e?[]:Rn(t,function(t){if(typeof t[1]!="function"){throw new ae(l)}return[n(t[0]),t[1]]});return wo(function(n){var r=-1;while(++r<e){var i=t[r];if(wn(i[0],this,n)){return wn(i[1],this,n)}}})}function Ah(t){return _i(yi(t,p))}function Sh(t){return function(){return t}}function Rh(t,e){return t==null||t!==t?e:t}var Lh=xa();var kh=xa(true);function Nh(t){return t}function Fh(t){return no(typeof t=="function"?t:yi(t,p))}function Oh(t){return so(yi(t,p))}function Bh(t,e){return uo(t,yi(e,p))}var Ph=wo(function(t,e){return function(n){return Xi(n,t,e)}});var Uh=wo(function(t,e){return function(n){return Xi(t,n,e)}});function Dh(t,e,n){var r=If(e),i=Fi(e,r);if(n==null&&!(Cc(e)&&(i.length||!r.length))){n=e;e=t;t=this;i=Fi(e,If(e))}var o=!(Cc(n)&&"chain"in n)||!!n.chain,a=Ec(t);Tn(i,function(n){var r=e[n];t[n]=r;if(a){t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=sa(this.__actions__);i.push({func:r,args:arguments,thisArg:t});n.__chain__=e;return n}return r.apply(t,Ln([this.value()],arguments))}}});return t}function zh(){if(un._===this){un._=ge}return this}function jh(){}function Vh(t){t=Jc(t);return wo(function(e){return fo(e,t)})}var Gh=Ia(Rn);var Xh=Ia(Cn);var Wh=Ia(Fn);function Zh(t){return fs(t)?Xn(Ns(t)):mo(t)}function Qh(t){return function(e){return t==null?o:Oi(t,e)}}var Hh=Aa();var Yh=Aa(true);function Jh(){return[]}function qh(){return false}function Kh(){return{}}function $h(){return""}function tp(){return true}function ep(t,e){t=Jc(t);if(t<1||t>B){return[]}var n=D,r=Ve(t,D);e=Qa(e);t-=D;var i=Yn(r,e);while(++n<t){e(n)}return i}function np(t){if(cc(t)){return Rn(t,Ns)}return jc(t)?[t]:sa(ks(ef(t)))}function rp(t){var e=++pe;return ef(t)+e}var ip=Ta(function(t,e){return t+e},0);var op=La("ceil");var ap=Ta(function(t,e){return t/e},1);var sp=La("floor");function up(t){return t&&t.length?Ci(t,Nh,Ui):o}function lp(t,e){return t&&t.length?Ci(t,Qa(e,2),Ui):o}function cp(t){return Gn(t,Nh)}function fp(t,e){return Gn(t,Qa(e,2))}function hp(t){return t&&t.length?Ci(t,Nh,oo):o}function pp(t,e){return t&&t.length?Ci(t,Qa(e,2),oo):o}var dp=Ta(function(t,e){return t*e},1);var vp=La("round");var mp=Ta(function(t,e){return t-e},0);function gp(t){return t&&t.length?Hn(t,Nh):0}function yp(t,e){return t&&t.length?Hn(t,Qa(e,2)):0}Er.after=Ll;Er.ary=kl;Er.assign=nf;Er.assignIn=rf;Er.assignInWith=of;Er.assignWith=af;Er.at=sf;Er.before=Nl;Er.bind=Fl;Er.bindAll=Ch;Er.bindKey=Ol;Er.castArray=tc;Er.chain=Qu;Er.chunk=Ps;Er.compact=Us;Er.concat=Ds;Er.cond=Mh;Er.conforms=Ah;Er.constant=Sh;Er.countBy=il;Er.create=uf;Er.curry=Bl;Er.curryRight=Pl;Er.debounce=Ul;Er.defaults=lf;Er.defaultsDeep=cf;Er.defer=Dl;Er.delay=zl;Er.difference=zs;Er.differenceBy=js;Er.differenceWith=Vs;Er.drop=Gs;Er.dropRight=Xs;Er.dropRightWhile=Ws;Er.dropWhile=Zs;Er.fill=Qs;Er.filter=al;Er.flatMap=ll;Er.flatMapDeep=cl;Er.flatMapDepth=fl;Er.flatten=Js;Er.flattenDeep=qs;Er.flattenDepth=Ks;Er.flip=jl;Er.flow=Lh;Er.flowRight=kh;Er.fromPairs=$s;Er.functions=gf;Er.functionsIn=yf;Er.groupBy=dl;Er.initial=nu;Er.intersection=ru;Er.intersectionBy=iu;Er.intersectionWith=ou;Er.invert=wf;Er.invertBy=Ef;Er.invokeMap=ml;Er.iteratee=Fh;Er.keyBy=gl;Er.keys=If;Er.keysIn=Cf;Er.map=yl;Er.mapKeys=Mf;Er.mapValues=Af;Er.matches=Oh;Er.matchesProperty=Bh;Er.memoize=Vl;Er.merge=Sf;Er.mergeWith=Rf;Er.method=Ph;Er.methodOf=Uh;Er.mixin=Dh;Er.negate=Gl;Er.nthArg=Vh;Er.omit=Lf;Er.omitBy=kf;Er.once=Xl;Er.orderBy=_l;Er.over=Gh;Er.overArgs=Wl;Er.overEvery=Xh;Er.overSome=Wh;Er.partial=Zl;Er.partialRight=Ql;Er.partition=bl;Er.pick=Nf;Er.pickBy=Ff;Er.property=Zh;Er.propertyOf=Qh;Er.pull=cu;Er.pullAll=fu;Er.pullAllBy=hu;Er.pullAllWith=pu;Er.pullAt=du;Er.range=Hh;Er.rangeRight=Yh;Er.rearg=Hl;Er.reject=El;Er.remove=vu;Er.rest=Yl;Er.reverse=mu;Er.sampleSize=Il;Er.set=Bf;Er.setWith=Pf;Er.shuffle=Cl;Er.slice=gu;Er.sortBy=Sl;Er.sortedUniq=Tu;Er.sortedUniqBy=Iu;Er.split=fh;Er.spread=Jl;Er.tail=Cu;Er.take=Mu;Er.takeRight=Au;Er.takeRightWhile=Su;Er.takeWhile=Ru;Er.tap=Hu;Er.throttle=ql;Er.thru=Yu;Er.toArray=Hc;Er.toPairs=Uf;Er.toPairsIn=Df;Er.toPath=np;Er.toPlainObject=$c;Er.transform=zf;Er.unary=Kl;Er.union=Lu;Er.unionBy=ku;Er.unionWith=Nu;Er.uniq=Fu;Er.uniqBy=Ou;Er.uniqWith=Bu;Er.unset=jf;Er.unzip=Pu;Er.unzipWith=Uu;Er.update=Vf;Er.updateWith=Gf;Er.values=Xf;Er.valuesIn=Wf;Er.without=Du;Er.words=Th;Er.wrap=$l;Er.xor=zu;Er.xorBy=ju;Er.xorWith=Vu;Er.zip=Gu;Er.zipObject=Xu;Er.zipObjectDeep=Wu;Er.zipWith=Zu;Er.entries=Uf;Er.entriesIn=Df;Er.extend=rf;Er.extendWith=of;Dh(Er,Er);Er.add=ip;Er.attempt=Ih;Er.camelCase=Yf;Er.capitalize=Jf;Er.ceil=op;Er.clamp=Zf;Er.clone=ec;Er.cloneDeep=rc;Er.cloneDeepWith=ic;Er.cloneWith=nc;Er.conformsTo=oc;Er.deburr=qf;Er.defaultTo=Rh;Er.divide=ap;Er.endsWith=Kf;Er.eq=ac;Er.escape=$f;Er.escapeRegExp=th;Er.every=ol;Er.find=sl;Er.findIndex=Hs;Er.findKey=ff;Er.findLast=ul;Er.findLastIndex=Ys;Er.findLastKey=hf;Er.floor=sp;Er.forEach=hl;Er.forEachRight=pl;Er.forIn=pf;Er.forInRight=df;Er.forOwn=vf;Er.forOwnRight=mf;Er.get=_f;Er.gt=sc;Er.gte=uc;Er.has=bf;Er.hasIn=xf;Er.head=tu;Er.identity=Nh;Er.includes=vl;Er.indexOf=eu;Er.inRange=Qf;Er.invoke=Tf;Er.isArguments=lc;Er.isArray=cc;Er.isArrayBuffer=fc;Er.isArrayLike=hc;Er.isArrayLikeObject=pc;Er.isBoolean=dc;Er.isBuffer=vc;Er.isDate=mc;Er.isElement=gc;Er.isEmpty=yc;Er.isEqual=_c;Er.isEqualWith=bc;Er.isError=xc;Er.isFinite=wc;Er.isFunction=Ec;Er.isInteger=Tc;Er.isLength=Ic;Er.isMap=Ac;Er.isMatch=Sc;Er.isMatchWith=Rc;Er.isNaN=Lc;Er.isNative=kc;Er.isNil=Fc;Er.isNull=Nc;Er.isNumber=Oc;Er.isObject=Cc;Er.isObjectLike=Mc;Er.isPlainObject=Bc;Er.isRegExp=Pc;Er.isSafeInteger=Uc;Er.isSet=Dc;Er.isString=zc;Er.isSymbol=jc;Er.isTypedArray=Vc;Er.isUndefined=Gc;Er.isWeakMap=Xc;Er.isWeakSet=Wc;Er.join=au;Er.kebabCase=eh;Er.last=su;Er.lastIndexOf=uu;Er.lowerCase=nh;Er.lowerFirst=rh;Er.lt=Zc;Er.lte=Qc;Er.max=up;Er.maxBy=lp;Er.mean=cp;Er.meanBy=fp;Er.min=hp;Er.minBy=pp;Er.stubArray=Jh;Er.stubFalse=qh;Er.stubObject=Kh;Er.stubString=$h;Er.stubTrue=tp;Er.multiply=dp;Er.nth=lu;Er.noConflict=zh;Er.noop=jh;Er.now=Rl;Er.pad=ih;Er.padEnd=oh;Er.padStart=ah;Er.parseInt=sh;Er.random=Hf;Er.reduce=xl;Er.reduceRight=wl;Er.repeat=uh;Er.replace=lh;Er.result=Of;Er.round=vp;Er.runInContext=t;Er.sample=Tl;Er.size=Ml;Er.snakeCase=ch;Er.some=Al;Er.sortedIndex=yu;Er.sortedIndexBy=_u;Er.sortedIndexOf=bu;Er.sortedLastIndex=xu;Er.sortedLastIndexBy=wu;Er.sortedLastIndexOf=Eu;Er.startCase=hh;Er.startsWith=ph;Er.subtract=mp;Er.sum=gp;Er.sumBy=yp;Er.template=dh;Er.times=ep;Er.toFinite=Yc;Er.toInteger=Jc;Er.toLength=qc;Er.toLower=vh;Er.toNumber=Kc;Er.toSafeInteger=tf;Er.toString=ef;Er.toUpper=mh;Er.trim=gh;Er.trimEnd=yh;Er.trimStart=_h;Er.truncate=bh;Er.unescape=xh;Er.uniqueId=rp;Er.upperCase=wh;Er.upperFirst=Eh;Er.each=hl;Er.eachRight=pl;Er.first=tu;Dh(Er,function(){var t={};ki(Er,function(e,n){if(!he.call(Er.prototype,n)){t[n]=e}});return t}(),{chain:false});Er.VERSION=a;Tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Er[t].placeholder=Er});Tn(["drop","take"],function(t,e){Ar.prototype[t]=function(n){n=n===o?1:je(Jc(n),0);var r=this.__filtered__&&!e?new Ar(this):this.clone();if(r.__filtered__){r.__takeCount__=Ve(n,r.__takeCount__)}else{r.__views__.push({size:Ve(n,D),type:t+(r.__dir__<0?"Right":"")})}return r};Ar.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}});Tn(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==k||n==F;Ar.prototype[t]=function(t){var e=this.clone();e.__iteratees__.push({iteratee:Qa(t,3),type:n});e.__filtered__=e.__filtered__||r;return e}});Tn(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ar.prototype[t]=function(){return this[n](1).value()[0]}});Tn(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ar.prototype[t]=function(){return this.__filtered__?new Ar(this):this[n](1)}});Ar.prototype.compact=function(){return this.filter(Nh)};Ar.prototype.find=function(t){return this.filter(t).head()};Ar.prototype.findLast=function(t){return this.reverse().find(t)};Ar.prototype.invokeMap=wo(function(t,e){if(typeof t=="function"){return new Ar(this)}return this.map(function(n){return Xi(n,t,e)})});Ar.prototype.reject=function(t){return this.filter(Gl(Qa(t)))};Ar.prototype.slice=function(t,e){t=Jc(t);var n=this;if(n.__filtered__&&(t>0||e<0)){return new Ar(n)}if(t<0){n=n.takeRight(-t)}else if(t){n=n.drop(t)}if(e!==o){e=Jc(e);n=e<0?n.dropRight(-e):n.take(e-t)}return n};Ar.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};Ar.prototype.toArray=function(){return this.take(D)};ki(Ar.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Er[r?"take"+(e=="last"?"Right":""):e],a=r||/^find/.test(e);if(!i){return}Er.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Ar,l=s[0],c=u||cc(e);var f=function(t){var e=i.apply(Er,Ln([t],s));return r&&h?e[0]:e};if(c&&n&&typeof l=="function"&&l.length!=1){u=c=false}var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,v=u&&!p;if(!a&&c){e=v?e:new Ar(this);var m=t.apply(e,s);m.__actions__.push({func:Yu,args:[f],thisArg:o});return new Mr(m,h)}if(d&&v){return t.apply(this,s)}m=this.thru(f);return d?r?m.value()[0]:m.value():m}});Tn(["pop","push","shift","sort","splice","unshift"],function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Er.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(cc(i)?i:[],t)}return this[n](function(n){return e.apply(cc(n)?n:[],t)})}});ki(Ar.prototype,function(t,e){var n=Er[e];if(n){var r=n.name+"",i=cn[r]||(cn[r]=[]);i.push({name:e,func:n})}});cn[wa(o,_).name]=[{name:"wrapper",func:o}];Ar.prototype.clone=Sr;Ar.prototype.reverse=Rr;Ar.prototype.value=Lr;Er.prototype.at=Ju;Er.prototype.chain=qu;Er.prototype.commit=Ku;Er.prototype.next=$u;Er.prototype.plant=el;Er.prototype.reverse=nl;Er.prototype.toJSON=Er.prototype.valueOf=Er.prototype.value=rl;Er.prototype.first=Er.prototype.head;if(Ae){Er.prototype[Ae]=tl}return Er};var Tr=Er();if(true){un._=Tr;!(i=function(){return Tr}.call(e,n,e,r),i!==o&&(r.exports=i))}else if(cn){(cn.exports=Tr)._=Tr;ln._=Tr}else{un._=Tr}}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},Mufk:function(t,e){t.exports=n;function n(t,e,n){var r=e[0]*n[1]-e[1]*n[0];t[0]=t[1]=0;t[2]=r;return t}},"N+Om":function(t,e,n){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(t,e){if(t===e){return 0}var n=t.length;var r=e.length;for(var i=0,o=Math.min(n,r);i<o;++i){if(t[i]!==e[i]){n=t[i];r=e[i];break}}if(n<r){return-1}if(r<n){return 1}return 0}function i(t){if(e.Buffer&&typeof e.Buffer.isBuffer==="function"){return e.Buffer.isBuffer(t)}return!!(t!=null&&t._isBuffer)}var o=n("OMJi");var a=Object.prototype.hasOwnProperty;var s=Array.prototype.slice;var u=function(){return function t(){}.name==="foo"}();function l(t){return Object.prototype.toString.call(t)}function c(t){if(i(t)){return false}if(typeof e.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(t)}if(!t){return false}if(t instanceof DataView){return true}if(t.buffer&&t.buffer instanceof ArrayBuffer){return true}return false}var f=t.exports=y;var h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(!o.isFunction(t)){return}if(u){return t.name}var e=t.toString();var n=e.match(h);return n&&n[1]}f.AssertionError=function t(e){this.name="AssertionError";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;if(e.message){this.message=e.message;this.generatedMessage=false}else{this.message=m(this);this.generatedMessage=true}var n=e.stackStartFunction||g;if(Error.captureStackTrace){Error.captureStackTrace(this,n)}else{var r=new Error;if(r.stack){var i=r.stack;var o=p(n);var a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}};o.inherits(f.AssertionError,Error);function d(t,e){if(typeof t==="string"){return t.length<e?t:t.slice(0,e)}else{return t}}function v(t){if(u||!o.isFunction(t)){return o.inspect(t)}var e=p(t);var n=e?": "+e:"";return"[Function"+n+"]"}function m(t){return d(v(t.actual),128)+" "+t.operator+" "+d(v(t.expected),128)}function g(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}f.fail=g;function y(t,e){if(!t)g(t,true,e,"==",f.ok)}f.ok=y;f.equal=function t(e,n,r){if(e!=n)g(e,n,r,"==",f.equal)};f.notEqual=function t(e,n,r){if(e==n){g(e,n,r,"!=",f.notEqual)}};f.deepEqual=function t(e,n,r){if(!_(e,n,false)){g(e,n,r,"deepEqual",f.deepEqual)}};f.deepStrictEqual=function t(e,n,r){if(!_(e,n,true)){g(e,n,r,"deepStrictEqual",f.deepStrictEqual)}};function _(t,e,n,a){if(t===e){return true}else if(i(t)&&i(e)){return r(t,e)===0}else if(o.isDate(t)&&o.isDate(e)){return t.getTime()===e.getTime()}else if(o.isRegExp(t)&&o.isRegExp(e)){return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase}else if((t===null||typeof t!=="object")&&(e===null||typeof e!=="object")){return n?t===e:t==e}else if(c(t)&&c(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array)){return r(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0}else if(i(t)!==i(e)){return false}else{a=a||{actual:[],expected:[]};var s=a.actual.indexOf(t);if(s!==-1){if(s===a.expected.indexOf(e)){return true}}a.actual.push(t);a.expected.push(e);return x(t,e,n,a)}}function b(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function x(t,e,n,r){if(t===null||t===undefined||e===null||e===undefined)return false;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return false;var i=b(t);var a=b(e);if(i&&!a||!i&&a)return false;if(i){t=s.call(t);e=s.call(e);return _(t,e,n)}var u=C(t);var l=C(e);var c,f;if(u.length!==l.length)return false;u.sort();l.sort();for(f=u.length-1;f>=0;f--){if(u[f]!==l[f])return false}for(f=u.length-1;f>=0;f--){c=u[f];if(!_(t[c],e[c],n,r))return false}return true}f.notDeepEqual=function t(e,n,r){if(_(e,n,false)){g(e,n,r,"notDeepEqual",f.notDeepEqual)}};f.notDeepStrictEqual=w;function w(t,e,n){if(_(t,e,true)){g(t,e,n,"notDeepStrictEqual",w)}}f.strictEqual=function t(e,n,r){if(e!==n){g(e,n,r,"===",f.strictEqual)}};f.notStrictEqual=function t(e,n,r){if(e===n){g(e,n,r,"!==",f.notStrictEqual)}};function E(t,e){if(!t||!e){return false}if(Object.prototype.toString.call(e)=="[object RegExp]"){return e.test(t)}try{if(t instanceof e){return true}}catch(t){}if(Error.isPrototypeOf(e)){return false}return e.call({},t)===true}function T(t){var e;try{t()}catch(t){e=t}return e}function I(t,e,n,r){var i;if(typeof e!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof n==="string"){r=n;n=null}i=T(e);r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:".");if(t&&!i){g(i,n,"Missing expected exception"+r)}var a=typeof r==="string";var s=!t&&o.isError(i);var u=!t&&i&&!n;if(s&&a&&E(i,n)||u){g(i,n,"Got unwanted exception"+r)}if(t&&i&&n&&!E(i,n)||!t&&i){throw i}}f.throws=function(t,e,n){I(true,t,e,n)};f.doesNotThrow=function(t,e,n){I(false,t,e,n)};f.ifError=function(t){if(t)throw t};var C=Object.keys||function(t){var e=[];for(var n in t){if(a.call(t,n))e.push(n)}return e}}).call(e,n("DuR2"))},NAGG:function(t,e){t.exports=n;function n(t,e,n){n=n*.5;var r=Math.sin(n);t[0]=r*e[0];t[1]=r*e[1];t[2]=r*e[2];t[3]=Math.cos(n);return t}},NClK:function(t,e,n){n("ueJt");t.exports=n("iANj").Number.isFinite},NU0k:function(t,e,n){var r=n("NZra");t.exports=Array.isArray||function t(e){return r(e)=="Array"}},NZ8V:function(t,e,n){var r=n("FKWp");var i=n("r3+g");var o=n("B5V0");var a=n("+SdG")("IE_PROTO");var s=function(){};var u="prototype";var l=function(){var t=n("PY1i")("iframe");var e=o.length;var r="<";var i=">";var a;t.style.display="none";n("+iDZ").appendChild(t);t.src="javascript:";a=t.contentWindow.document;a.open();a.write(r+"script"+i+"document.F=Object"+r+"/script"+i);a.close();l=a.F;while(e--)delete l[u][o[e]];return l()};t.exports=Object.create||function t(e,n){var o;if(e!==null){s[u]=r(e);o=new s;s[u]=null;o[a]=e}else o=l();return n===undefined?o:i(o,n)}},NZra:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},NbtR:function(t,e){t.exports={hasTexture1:false,hasTextureCube1:false,enableLights:false,useReflection:false,enablePicking:false,hasPickingColors:false,hasFog:false}},NcOI:function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("4MLn");var a=n("wPGR");var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){c(e,t);function e(t,n){u(this,e);Object(i["c"])(t);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.promise=null;Object.seal(r);return r}s(e,[{key:"wait",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.flags,i=n===undefined?0:n,o=e.timeout,a=o===undefined?r["e"].TIMEOUT_IGNORED:o;this.gl.waitSync(this.handle,i,a);return this}},{key:"clientWait",value:function t(e){var n=e.flags,i=n===undefined?r["e"].SYNC_FLUSH_COMMANDS_BIT:n,o=e.timeout;var a=this.gl.clientWaitSync(this.handle,i,o);switch(a){case r["e"].ALREADY_SIGNALED:break;case r["e"].TIMEOUT_EXPIRED:break;case r["e"].CONDITION_SATISFIED:break;case r["e"].WAIT_FAILED:break;default:}return a}},{key:"cancel",value:function t(){a["a"].cancelQuery(this)}},{key:"isSignaled",value:function t(){return this.getParameter(r["e"].SYNC_STATUS)===r["e"].SIGNALED}},{key:"isResultAvailable",value:function t(){return this.isSignaled()}},{key:"getResult",value:function t(){return this.isSignaled()}},{key:"getParameter",value:function t(e){return this.gl.getSyncParameter(this.handle,e)}},{key:"_createHandle",value:function t(){return this.gl.fenceSync(r["e"].SYNC_GPU_COMMANDS_COMPLETE,0)}},{key:"_deleteHandle",value:function t(){a["a"].deleteQuery(this);this.gl.deleteSync(this.handle)}}]);return e}(o["a"]);e["a"]=f},Ntt2:function(t,e,n){var r=n("YjQv");var i=n("iANj");var o=n("c8Kh");var a=n("4DQ7");var s=n("GCs6").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});if(t.charAt(0)!="_"&&!(t in e))s(e,t,{value:a.f(t)})}},OMJi:function(t,e,n){(function(t,r){var i=/%[sdj%]/g;e.format=function(t){if(!w(t)){var e=[];for(var n=0;n<arguments.length;n++){e.push(s(arguments[n]))}return e.join(" ")}var n=1;var r=arguments;var o=r.length;var a=String(t).replace(i,function(t){if(t==="%%")return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}});for(var u=r[n];n<o;u=r[++n]){if(_(u)||!C(u)){a+=" "+u}else{a+=" "+s(u)}}return a};e.deprecate=function(n,i){if(T(t.process)){return function(){return e.deprecate(n,i).apply(this,arguments)}}if(r.noDeprecation===true){return n}var o=false;function a(){if(!o){if(r.throwDeprecation){throw new Error(i)}else if(r.traceDeprecation){console.trace(i)}else{console.error(i)}o=true}return n.apply(this,arguments)}return a};var o={};var a;e.debuglog=function(t){if(T(a))a=Object({NODE_ENV:"production"}).NODE_DEBUG||"";t=t.toUpperCase();if(!o[t]){if(new RegExp("\\b"+t+"\\b","i").test(a)){var n=r.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else{o[t]=function(){}}}return o[t]};function s(t,n){var r={seen:[],stylize:l};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(y(n)){r.showHidden=n}else if(n){e._extend(r,n)}if(T(r.showHidden))r.showHidden=false;if(T(r.depth))r.depth=2;if(T(r.colors))r.colors=false;if(T(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=u;return f(r,t,r.depth)}e.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(t,e){var n=s.styles[e];if(n){return"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m"}else{return t}}function l(t,e){return t}function c(t){var e={};t.forEach(function(t,n){e[t]=true});return e}function f(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i=n.inspect(r,t);if(!w(i)){i=f(t,i,r)}return i}var o=h(t,n);if(o){return o}var a=Object.keys(n);var s=c(a);if(t.showHidden){a=Object.getOwnPropertyNames(n)}if(A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0)){return p(n)}if(a.length===0){if(S(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(I(n)){return t.stylize(RegExp.prototype.toString.call(n),"regexp")}if(M(n)){return t.stylize(Date.prototype.toString.call(n),"date")}if(A(n)){return p(n)}}var l="",y=false,_=["{","}"];if(g(n)){y=true;_=["[","]"]}if(S(n)){var b=n.name?": "+n.name:"";l=" [Function"+b+"]"}if(I(n)){l=" "+RegExp.prototype.toString.call(n)}if(M(n)){l=" "+Date.prototype.toUTCString.call(n)}if(A(n)){l=" "+p(n)}if(a.length===0&&(!y||n.length==0)){return _[0]+l+_[1]}if(r<0){if(I(n)){return t.stylize(RegExp.prototype.toString.call(n),"regexp")}else{return t.stylize("[Object]","special")}}t.seen.push(n);var x;if(y){x=d(t,n,r,s,a)}else{x=a.map(function(e){return v(t,n,r,s,e,y)})}t.seen.pop();return m(x,l,_)}function h(t,e){if(T(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(x(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(_(e))return t.stylize("null","null")}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,i){var o=[];for(var a=0,s=e.length;a<s;++a){if(O(e,String(a))){o.push(v(t,e,n,r,String(a),true))}else{o.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){o.push(v(t,e,n,r,i,true))}});return o}function v(t,e,n,r,i,o){var a,s,u;u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]};if(u.get){if(u.set){s=t.stylize("[Getter/Setter]","special")}else{s=t.stylize("[Getter]","special")}}else{if(u.set){s=t.stylize("[Setter]","special")}}if(!O(r,i)){a="["+i+"]"}if(!s){if(t.seen.indexOf(u.value)<0){if(_(n)){s=f(t,u.value,null)}else{s=f(t,u.value,n-1)}if(s.indexOf("\n")>-1){if(o){s=s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")}}}else{s=t.stylize("[Circular]","special")}}if(T(a)){if(o&&i.match(/^\d+$/)){return s}a=JSON.stringify(""+i);if(a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){a=a.substr(1,a.length-2);a=t.stylize(a,"name")}else{a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");a=t.stylize(a,"string")}}return a+": "+s}function m(t,e,n){var r=0;var i=t.reduce(function(t,e){r++;if(e.indexOf("\n")>=0)r++;return t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return n[0]+(e===""?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]}return n[0]+e+" "+t.join(", ")+" "+n[1]}function g(t){return Array.isArray(t)}e.isArray=g;function y(t){return typeof t==="boolean"}e.isBoolean=y;function _(t){return t===null}e.isNull=_;function b(t){return t==null}e.isNullOrUndefined=b;function x(t){return typeof t==="number"}e.isNumber=x;function w(t){return typeof t==="string"}e.isString=w;function E(t){return typeof t==="symbol"}e.isSymbol=E;function T(t){return t===void 0}e.isUndefined=T;function I(t){return C(t)&&L(t)==="[object RegExp]"}e.isRegExp=I;function C(t){return typeof t==="object"&&t!==null}e.isObject=C;function M(t){return C(t)&&L(t)==="[object Date]"}e.isDate=M;function A(t){return C(t)&&(L(t)==="[object Error]"||t instanceof Error)}e.isError=A;function S(t){return typeof t==="function"}e.isFunction=S;function R(t){return t===null||typeof t==="boolean"||typeof t==="number"||typeof t==="string"||typeof t==="symbol"||typeof t==="undefined"}e.isPrimitive=R;e.isBuffer=n("fC4T");function L(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var t=new Date;var e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}e.log=function(){console.log("%s - %s",F(),e.format.apply(e,arguments))};e.inherits=n("ONRY");e._extend=function(t,e){if(!e||!C(e))return t;var n=Object.keys(e);var r=n.length;while(r--){t[n[r]]=e[n[r]]}return t};function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}).call(e,n("DuR2"),n("W2nU"))},ONRY:function(t,e){if(typeof Object.create==="function"){t.exports=function t(e,n){e.super_=n;e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function t(e,n){e.super_=n;var r=function(){};r.prototype=n.prototype;e.prototype=new r;e.prototype.constructor=e}}},Okuy:function(t,e,n){"use strict";var r=n("PeCl");var i=n("7VzN");function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var u=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0];var l=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1];var c=function(t){s(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o(this,e);var n=t.iterations,r=n===undefined?0:n;var s=Math.PI;var c=s*2;var f=[].concat(u);var h=[].concat(l);f.push();h.push();var p=function(){var t={};return function(e,n){e*=3;n*=3;var r=e<n?e:n;var i=e>n?e:n;var o=r+"|"+i;if(o in t){return t[o]}var a=f[e];var s=f[e+1];var u=f[e+2];var l=f[n];var c=f[n+1];var h=f[n+2];var p=(a+l)/2;var d=(s+c)/2;var v=(u+h)/2;var m=Math.sqrt(p*p+d*d+v*v);p/=m;d/=m;v/=m;f.push(p,d,v);return t[o]=f.length/3-1}}();for(var d=0;d<r;d++){var v=[];for(var m=0;m<h.length;m+=3){var g=p(h[m+0],h[m+1]);var y=p(h[m+1],h[m+2]);var _=p(h[m+2],h[m+0]);v.push(_,h[m+0],g,g,h[m+1],y,y,h[m+2],_,g,y,_)}h=v}var b=new Array(h.length*3);var x=new Array(h.length*2);var w=h.length;for(var E=w-3;E>=0;E-=3){var T=h[E+0];var I=h[E+1];var C=h[E+2];var M=T*3;var A=I*3;var S=C*3;var R=T*2;var L=I*2;var k=C*2;var N=f[M+0];var F=f[M+1];var O=f[M+2];var B=Math.acos(O/Math.sqrt(N*N+F*F+O*O));var P=Math.atan2(F,N)+s;var U=B/s;var D=1-P/c;var z=f[A+0];var j=f[A+1];var V=f[A+2];var G=Math.acos(V/Math.sqrt(z*z+j*j+V*V));var X=Math.atan2(j,z)+s;var W=G/s;var Z=1-X/c;var Q=f[S+0];var H=f[S+1];var Y=f[S+2];var J=Math.acos(Y/Math.sqrt(Q*Q+H*H+Y*Y));var q=Math.atan2(H,Q)+s;var K=J/s;var $=1-q/c;var tt=[Q-z,H-j,Y-V];var et=[N-z,F-j,O-V];var nt=new i["Vector3"](tt).cross(et).normalize();var rt=void 0;if((D===0||Z===0||$===0)&&(D===0||D>.5)&&(Z===0||Z>.5)&&($===0||$>.5)){f.push(f[M+0],f[M+1],f[M+2]);rt=f.length/3-1;h.push(rt);x[rt*2+0]=1;x[rt*2+1]=U;b[rt*3+0]=nt.x;b[rt*3+1]=nt.y;b[rt*3+2]=nt.z;f.push(f[A+0],f[A+1],f[A+2]);rt=f.length/3-1;h.push(rt);x[rt*2+0]=1;x[rt*2+1]=W;b[rt*3+0]=nt.x;b[rt*3+1]=nt.y;b[rt*3+2]=nt.z;f.push(f[S+0],f[S+1],f[S+2]);rt=f.length/3-1;h.push(rt);x[rt*2+0]=1;x[rt*2+1]=K;b[rt*3+0]=nt.x;b[rt*3+1]=nt.y;b[rt*3+2]=nt.z}b[M+0]=b[A+0]=b[S+0]=nt.x;b[M+1]=b[A+1]=b[S+1]=nt.y;b[M+2]=b[A+2]=b[S+2]=nt.z;x[R+0]=D;x[R+1]=U;x[L+0]=Z;x[L+1]=W;x[k+0]=$;x[k+1]=K}return a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{attributes:{positions:new Float32Array(f),normals:new Float32Array(b),texCoords:new Float32Array(x),indices:new Uint16Array(h)}})))}return e}(r["a"]);e["a"]=c},OoWg:function(t,e,n){n("Ntt2")("observable")},PY1i:function(t,e,n){var r=n("8ANE");var i=n("YjQv").document;var o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},PYrt:function(t,e){t.exports=n;function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);t[0]=r*u+a*s;t[1]=i*u+o*s;t[2]=o*u-i*s;t[3]=a*u-r*s;return t}},PbQV:function(t,e,n){var r=n("ksFB");var i=n("GhAV");var o=n("+VX5");t.exports=function(t){return function(e,n,a){var s=r(e);var u=i(s.length);var l=o(a,u);var c;if(t&&n!=n)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if(t||l in s){if(s[l]===n)return t||l||0}return!t&&-1}}},PeCl:function(t,e,n){"use strict";e["b"]=l;var r=n("diIw");var i=n("N+Om");var o=n.n(i);var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};function l(t){var e=typeof t==="string"?u[t]||u.TRIANGLES:t;o()(e>=0&&e<=u.TRIANGLE_FAN,"Illegal drawMode");return e}var c=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};s(this,t);var n=e.id,i=e.drawMode,o=i===undefined?u.TRIANGLES:i,a=e.vertexCount,c=a===undefined?undefined:a,f=e.attributes;this.id=n||Object(r["uid"])(this.constructor.name);this.drawMode=l(o);this.vertexCount=c;this.attributes={};this.needsRedraw=true;this.userData={};Object.seal(this);if(f){this.setAttributes(f)}else{var h={};for(var p in e){if(ArrayBuffer.isView(e[p])){h[p]={value:e[p]}}}if(Object.keys(h).length>0){r["log"].deprecated("inline attributes","attributes parameter");this.setAttributes(h)}}}a(t,[{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.needsRedraw=e;return this}},{key:"getNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?false:n;var i=false;i=i||this.needsRedraw;this.needsRedraw=this.needsRedraw&&!r;return i}},{key:"setVertexCount",value:function t(e){this.vertexCount=e}},{key:"getVertexCount",value:function t(){if(this.vertexCount!==undefined){return this.vertexCount}else if(this.attributes.indices){return this.attributes.indices.value.length}else if(this.attributes.vertices){return this.attributes.vertices.value.length/3}else if(this.attributes.positions){return this.attributes.positions.value.length/3}return false}},{key:"hasAttribute",value:function t(e){return Boolean(this.attributes[e])}},{key:"getAttribute",value:function t(e){var n=this.attributes[e];o()(n);return n.value}},{key:"getArray",value:function t(e){var n=this.attributes[e];o()(n);return n.value}},{key:"getAttributes",value:function t(){return this.attributes}},{key:"setAttributes",value:function t(e){for(var n in e){var r=e[n];r=ArrayBuffer.isView(r)?{value:r}:r;o()(ArrayBuffer.isView(r.value),this._print(n)+": must be typed array or object with value as typed array");this._autoDetectAttribute(n,r);this.attributes[n]=Object.assign({},r,{instanced:r.instanced||0})}this.setNeedsRedraw();return this}},{key:"_autoDetectAttribute",value:function t(e,n){var r=void 0;switch(e){case"indices":r=r||"indices";break;case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors";break}switch(r){case"vectors":n.size=n.size||3;break;case"uvs":n.size=n.size||2;break;case"indices":n.size=n.size||1;n.isIndexed=n.isIndexed||true;o()(n.value instanceof Uint16Array||n.value instanceof Uint32Array,'attribute array for "indices" must be of integer type');break}o()(n.size,"attribute "+e+" needs size")}},{key:"_print",value:function t(e){return"Geometry "+this.id+" attribute "+e}}]);return t}();e["a"]=c},Pitb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("woOf");var i=c(r);var o=n("Zrlr");var a=c(o);var s=n("wxAW");var u=c(s);var l=n("DqEI");function c(t){return t&&t.__esModule?t:{default:t}}var f=l.INPUT_EVENT_TYPES.KEY_EVENTS;var h="keydown";var p="keyup";var d=function(){function t(e,n){var r=this;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};(0,a.default)(this,t);this.element=e;this.callback=n;this.options=(0,i.default)({enable:true},o);this.enableDownEvent=this.options.enable;this.enableUpEvent=this.options.enable;this.events=f.concat(o.events||[]);this.handleEvent=this.handleEvent.bind(this);e.tabIndex=1;e.style.outline="none";this.events.forEach(function(t){return e.addEventListener(t,r.handleEvent)})}(0,u.default)(t,[{key:"destroy",value:function t(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function t(e,n){if(e===h){this.enableDownEvent=n}if(e===p){this.enableUpEvent=n}}},{key:"handleEvent",value:function t(e){var n=e.target||e.srcElement;if(n.tagName==="INPUT"&&n.type==="text"||n.tagName==="TEXTAREA"){return}if(this.enableDownEvent&&e.type==="keydown"){this.callback({type:h,srcEvent:e,key:e.key,target:e.target})}if(this.enableUpEvent&&e.type==="keyup"){this.callback({type:p,srcEvent:e,key:e.key,target:e.target})}}}]);return t}();e.default=d},"Q/3u":function(t,e){t.exports=n;function n(t,e,n,r){t[0]=e[0]+n[0]*r;t[1]=e[1]+n[1]*r;t[2]=e[2]+n[2]*r;t[3]=e[3]+n[3]*r;return t}},Q4WQ:function(t,e,n){"use strict";var r=n("e6+Q");var i=n("cxPT");var o=n("gt/O");t.exports=function(){function t(t,e,n,r,a,s){if(s===o){return}i(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types")}t.isRequired=t;function e(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};n.checkPropTypes=r;n.PropTypes=n;return n}},Qc9b:function(t,e,n){"use strict";var r=n("e6Rv");var i=n.n(r);var o=n("40KB");var a=true?"4.2.0-alpha.31":global.DECK_VERSION||"untranspiled source";var s="set deck.log.priority=1 (or higher) to trace attribute updates";if(r["global"].deck&&r["global"].deck.VERSION!==a){throw new Error("deck.gl - multiple versions detected: "+r["global"].deck.VERSION+" vs "+a)}if(!r["global"].deck){console.log("deck.gl "+a+" - "+s);r["global"].deck=r["global"].deck||{VERSION:a,version:a,log:o["a"]}}if(!console.table){console.table=function(){}}n("FK0v");var u=n("FK0v");var l=n("TFCc");var c=n("N+Om");var f=n.n(c);var h=n("KiH5");var p=n("8zbR");var d=n.n(p);var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function m(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function t(e){var n=e.id;m(this,t);this.id=n;this.time=0;this.total=0;this.average=0;this.count=0;this._time=0}v(t,[{key:"timeStart",value:function t(){this._time=this.timestampMs()}},{key:"timeEnd",value:function t(){this.time=this.timestampMs()-this._time;this.total+=this.time;this.count++;this.average=this.total/this.count}},{key:"timestampMs",value:function t(){return typeof window!=="undefined"&&window.performance?window.performance.now():Date.now()}},{key:"getTimeString",value:function t(){return this.id+":"+_(this.time)+"("+this.count+")"}}]);return t}();var y=g;function _(t){var e=void 0;if(t<10){e=t.toFixed(2)+"ms"}else if(t<100){e=t.toFixed(1)+"ms"}else if(t<1e3){e=t.toFixed(0)+"ms"}else{e=(t/1e3).toFixed(2)+"s"}return e}function b(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;while(t.length<e){t=" "+t}return t}var x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function w(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var E=1;var T=2;function I(){}function C(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.clamped,r=n===undefined?true:n;switch(t){case h["e"].FLOAT:return Float32Array;case h["e"].UNSIGNED_SHORT:case h["e"].UNSIGNED_SHORT_5_6_5:case h["e"].UNSIGNED_SHORT_4_4_4_4:case h["e"].UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case h["e"].UNSIGNED_INT:return Uint32Array;case h["e"].UNSIGNED_BYTE:return r?Uint8ClampedArray:Uint8Array;case h["e"].BYTE:return Int8Array;case h["e"].SHORT:return Int16Array;case h["e"].INT:return Int32Array;default:throw new Error("Failed to deduce type from array")}}var M={savedMessages:null,timeStart:null,onLog:function t(e){var n=e.level,r=e.message;o["a"].log(n,r)},onUpdateStart:function t(e){var n=e.level,r=e.id,i=e.numInstances;M.savedMessages=[];M.timeStart=new Date},onUpdate:function t(e){var n=e.level,r=e.message;if(M.savedMessages){M.savedMessages.push(r)}},onUpdateEnd:function t(e){var n=e.level,r=e.id,i=e.numInstances;var a=Math.round(new Date-M.timeStart);var s=a+"ms";o["a"].group(n,"Updated attributes for "+i+" instances in "+r+" in "+s,{collapsed:true});var u=true;var l=false;var c=undefined;try{for(var f=M.savedMessages[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;o["a"].log(n,p)}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}o["a"].groupEnd(n,"Updated attributes for "+i+" instances in "+r+" in "+s);M.savedMessages=null}};var A=function(){x(t,null,[{key:"setDefaultLogFunctions",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.onLog,r=e.onUpdateStart,i=e.onUpdate,o=e.onUpdateEnd;if(n!==undefined){M.onLog=n||I}if(r!==undefined){M.onUpdateStart=r||I}if(i!==undefined){M.onUpdate=i||I}if(o!==undefined){M.onUpdateEnd=o||I}}}]);function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.id,r=n===undefined?"attribute-manager":n;w(this,t);this.id=r;this.attributes={};this.updateTriggers={};this.accessors={};this.allocedInstances=-1;this.needsRedraw=true;this.userData={};this.stats=new y({id:"attr"});Object.seal(this)}x(t,[{key:"add",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._add(e,n)}},{key:"remove",value:function t(e){for(var n=0;n<e.length;n++){var r=e[n];if(this.attributes[r]!==undefined){delete this.attributes[r]}}}},{key:"invalidate",value:function t(e){var n=this._invalidateTrigger(e);M.onLog({level:T,message:"invalidated attributes "+n+" ("+e+") for "+this.id,id:this.identifier})}},{key:"invalidateAll",value:function t(){for(var e in this.attributes){this.attributes[e].needsUpdate=true}M.onLog({level:T,message:"invalidated all attributes for "+this.id,id:this.identifier})}},{key:"_invalidateTrigger",value:function t(e){var n=this.attributes,r=this.updateTriggers;var i=r[e];if(!i){var a="invalidating non-existent trigger "+e+" for "+this.id+"\n";a+="Valid triggers: "+Object.keys(n).join(", ");o["a"].warn(a,i)}else{i.forEach(function(t){var e=n[t];if(e){e.needsUpdate=true}})}return i}},{key:"update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.data,r=e.numInstances,i=e.props,o=i===undefined?{}:i,a=e.buffers,s=a===undefined?{}:a,u=e.context,l=u===undefined?{}:u,c=e.ignoreUnknownAttributes,f=c===undefined?false:c;this._checkExternalBuffers({buffers:s,ignoreUnknownAttributes:f});this._setExternalBuffers(s);if(this._analyzeBuffers({numInstances:r})){M.onUpdateStart({level:E,id:this.id,numInstances:r});this.stats.timeStart();this._updateBuffers({numInstances:r,data:n,props:o,context:l});this.stats.timeEnd();M.onUpdateEnd({level:E,id:this.id,numInstances:r})}}},{key:"getAttributes",value:function t(){return this.attributes}},{key:"getChangedAttributes",value:function t(e){var n=e.clearChangedFlags,r=n===undefined?false:n;var i=this.attributes;var o={};for(var a in i){var s=i[a];if(s.changed){s.changed=s.changed&&!r;o[a]=s}}return o}},{key:"getNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?false:n;var i=this.needsRedraw;this.needsRedraw=this.needsRedraw&&!r;return i&&this.id}},{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.needsRedraw=true;return this}},{key:"addInstanced",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._add(e,n,{instanced:1})}},{key:"getAccessors",value:function t(){return this.updateTriggers}},{key:"_add",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i={};for(var o in e){if(o in n){e[o]=Object.assign({},e[o],n[o])}var a=e[o];var s=a.isIndexed||a.elements;var u=a.elements&&1||a.size;var l=a.value||null;var c=Object.assign({target:undefined,userData:{}},a,{isExternalBuffer:false,needsAlloc:false,needsUpdate:false,changed:false,isIndexed:s,size:u,value:l},r);Object.seal(c);this._validateAttributeDefinition(o,c);i[o]=c}Object.assign(this.attributes,i);this._mapUpdateTriggersToAttributes()}},{key:"_mapUpdateTriggersToAttributes",value:function t(){var e=this;var n={};var r=function t(r){var i=e.attributes[r];var o=i.accessor;n[r]=[r];if(typeof o==="string"){o=[o]}if(Array.isArray(o)){o.forEach(function(t){if(!n[t]){n[t]=[]}n[t].push(r)})}};for(var i in this.attributes){r(i)}this.updateTriggers=n}},{key:"_validateAttributeDefinition",value:function t(e,n){f()(n.size>=1&&n.size<=4,"Attribute definition for "+e+" invalid size");var r=n.noAlloc||typeof n.update==="function"||typeof n.accessor==="string";if(!r){throw new Error("Attribute "+e+" missing update or accessor")}}},{key:"_checkExternalBuffers",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.buffers,r=n===undefined?{}:n,i=e.ignoreUnknownAttributes,o=i===undefined?false:i;var a=this.attributes;for(var s in r){var u=a[s];if(!u&&!o){throw new Error("Unknown attribute prop "+s)}}}},{key:"_setExternalBuffers",value:function t(e){var n=this.attributes,r=this.numInstances;for(var i in n){var o=n[i];var a=e[i];o.isExternalBuffer=false;if(a){var s=C(o.type||h["e"].FLOAT);if(!(a instanceof s)){throw new Error("Attribute "+i+" must be of type "+s.name)}if(o.auto&&a.length<=r*o.size){throw new Error("Attribute prop array must match length and size")}o.isExternalBuffer=true;o.needsUpdate=false;if(o.value!==a){o.value=a;o.changed=true;this.needsRedraw=true}}}}},{key:"_analyzeBuffers",value:function t(e){var n=e.numInstances;var r=this.attributes;f()(n!==undefined,"numInstances not defined");var i=false;for(var o in r){var a=r[o];if(!a.isExternalBuffer){var s=a.value===null||a.value.length/a.size<n;if(s&&(a.update||a.accessor)){a.needsAlloc=true;i=true}if(a.needsUpdate){i=true}}}return i}},{key:"_updateBuffers",value:function t(e){var n=e.numInstances,r=e.data,i=e.props,o=e.context;var a=this.attributes;var s=Math.max(n,1);for(var u in a){var l=a[u];if(l.needsAlloc){var c=C(l.type||h["e"].FLOAT);l.value=new c(l.size*s);M.onUpdate({level:T,message:u+" allocated "+s,id:this.id});l.needsAlloc=false;l.needsUpdate=true}}for(var f in a){var p=a[f];if(p.needsUpdate){this._updateBuffer({attribute:p,attributeName:f,numInstances:n,data:r,props:i,context:o})}}this.allocedInstances=s}},{key:"_updateBuffer",value:function t(e){var n=e.attribute,r=e.attributeName,i=e.numInstances,o=e.data,a=e.props,s=e.context;var u=n.update,l=n.accessor;var c=new Date;if(u){u.call(s,n,{data:o,props:a,numInstances:i});this._checkAttributeArray(n,r)}else if(l){this._updateBufferViaStandardAccessor({attribute:n,data:o,props:a});this._checkAttributeArray(n,r)}else{M.onUpdate({level:T,message:r+" missing update function",id:this.id})}var f=Math.round(new Date-c);var h=f+"ms";M.onUpdate({level:T,message:r+" updated "+i+" "+h,id:this.id});n.needsUpdate=false;n.changed=true;this.needsRedraw=true}},{key:"_updateBufferViaStandardAccessor",value:function t(e){var n=e.attribute,r=e.data,i=e.props;var o=n.accessor,a=n.value,s=n.size;var u=i[o];f()(typeof u==="function",'accessor "'+o+'" is not a function');var l=n.defaultValue,c=l===undefined?[0,0,0,0]:l;c=Array.isArray(c)?c:[c];var h=0;var p=true;var d=false;var v=undefined;try{for(var m=r[Symbol.iterator](),g;!(p=(g=m.next()).done);p=true){var y=g.value;var _=u(y);_=Array.isArray(_)?_:[_];switch(s){case 4:a[h+3]=Number.isFinite(_[3])?_[3]:c[3];case 3:a[h+2]=Number.isFinite(_[2])?_[2]:c[2];case 2:a[h+1]=Number.isFinite(_[1])?_[1]:c[1];case 1:a[h+0]=Number.isFinite(_[0])?_[0]:c[0]}h+=s}}catch(t){d=true;v=t}finally{try{if(!p&&m.return){m.return()}}finally{if(d){throw v}}}}},{key:"_checkAttributeArray",value:function t(e,n){var r=e.value;if(r&&r.length>=4){var i=Number.isFinite(r[0])&&Number.isFinite(r[1])&&Number.isFinite(r[2])&&Number.isFinite(r[3]);if(!i){throw new Error("Illegal attribute generated for "+n)}}}}]);return t}();var S=A;var R=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function L(t,e){var n=k({newProps:t,oldProps:e,ignoreProps:{data:null,updateTriggers:null}});var r=N(t,e);var i=false;if(!r){i=F(t,e)}return{dataChanged:r,propsChanged:n,updateTriggersChanged:i}}function k(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.newProps,n=t.oldProps,r=t.ignoreProps,i=r===undefined?{}:r,o=t.shallowCompareProps,a=o===undefined?{}:o,s=t.triggerName,u=s===undefined?"props":s;f()(n!==undefined&&e!==undefined,"compareProps args");if(n===e){return null}if((typeof e==="undefined"?"undefined":R(e))!=="object"||e===null){return u+" changed shallowly"}if((typeof n==="undefined"?"undefined":R(n))!=="object"||n===null){return u+" changed shallowly"}for(var l in n){if(!(l in i)){if(!e.hasOwnProperty(l)){return u+"."+l+" dropped: "+n[l]+" -> undefined"}var c=e[l]&&n[l]&&e[l].equals;if(c&&!c.call(e[l],n[l])){return u+"."+l+" changed deeply: "+n[l]+" -> "+e[l]}if(l in a){var h=R(e[l]);if(h==="function"&&typeof n[l]==="function"){c=true}}if(!c&&n[l]!==e[l]){return u+"."+l+" changed shallowly: "+n[l]+" -> "+e[l]}}}for(var p in e){if(!(p in i)){if(!n.hasOwnProperty(p)){return u+"."+p+" added: undefined -> "+e[p]}}}return null}function N(t,e){if(e===null){return"oldProps is null, initial diff"}var n=t.dataComparator;if(n){if(!n(t.data,e.data)){return"Data comparator detected a change"}}else if(t.data!==e.data){return"A new data container was supplied"}return null}function F(t,e){if(e===null){return"oldProps is null, initial diff"}if("all"in t.updateTriggers){var n=O(e,t,"all");if(n){return{all:true}}}var r={};var i=false;for(var o in t.updateTriggers){if(o!=="all"){var a=O(e,t,o);if(a){r[o]=true;i=r}}}return i}function O(t,e,n){var r=t.updateTriggers[n]||{};var i=e.updateTriggers[n]||{};var o=k({oldProps:i,newProps:r,triggerName:n});return o}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]}function P(t){var e=B(t.constructor,"mergedDefaultProps");if(e){return e}return U(t)}function U(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"layerName";var n=t.constructor;var r=B(n,e);if(!r){o["a"].once(0,t.constructor.name+" does not specify a "+e)}var i={id:r||t.constructor.name};while(t){var a=B(t.constructor,"defaultProps");Object.freeze(a);if(a){i=Object.assign({},a,i)}t=Object.getPrototypeOf(t)}Object.freeze(i);n.mergedDefaultProps=i;f()(U);return i}var D=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var z="count(): argument not an object";var j="count(): argument not a container";function V(t){if(!X(t)){throw new Error(z)}if(typeof t.count==="function"){return t.count()}if(Number.isFinite(t.size)){return t.size}if(Number.isFinite(t.length)){return t.length}if(G(t)){var e=0;for(var n in t){e++}return e}throw new Error(j)}function G(t){return t!==null&&(typeof t==="undefined"?"undefined":D(t))==="object"&&t.constructor===Object}function X(t){return t!==null&&(typeof t==="undefined"?"undefined":D(t))==="object"}function W(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var Z=function t(e,n,r){if(!e){return}if(n.length>1){t(e[n[0]],n.slice(1),r)}else{e[n[0]]=r}};var Q=new Map;var H=function t(e,n,r){if(!d.a.isReady()){return}if(!Q.has(e)){Q.set(e,new Map)}var i=Q.get(e);i.set(n,r)};var Y=function t(e){if(!d.a.isReady()||!e.id){return}var n=Q.get(e.id);if(!n){return}n.forEach(function(t,n){Z(e,n,t);if(n[0]==="data"){e.data=[].concat(W(e.data))}})};var J=function t(e){if(!d.a.isReady()){return}d.a.listenFor("deck.gl",e)};var q=function t(e){if(!d.a.isReady()){return}d.a.listenFor("init",e)};var K=function t(e){if(!d.a.isReady()||!e){return}var n=[e.constructor.layerName];d.a.listItem("deck.gl",e.id,{badges:n,links:e.state&&e.state.model?["luma.gl:"+e.state.model.id]:undefined,parent:e.parentLayer?e.parentLayer.id:undefined})};var $=function t(e){if(!d.a.isReady()||d.a.throttle("deck.gl:"+e.id,1e3)){return}var n=et(e);d.a.multiUpdate("deck.gl",e.id,n)};var tt=function t(e){if(!d.a.isReady()||!e){return}d.a.deleteItem("deck.gl",e)};function et(t){var e=[{path:"objects.props",data:t.props}];var n=[t.constructor.layerName];if(t.state){if(t.state.attributeManager){var r=t.state.attributeManager.getAttributes();e.push({path:"objects.attributes",data:r});n.push(t.state.attributeManager.stats.getTimeString())}if(t.state.model){t.state.model.timerQueryEnabled=true;var i=t.state.model.stats.lastFrameTime;if(i){n.push((i*1e3).toFixed(0)+"μs")}}}e.push({path:"badges",data:n});return e}var nt=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var rt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function it(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ot=1;var at=[];var st={};Object.freeze(st);var ut=function t(){};var lt={dataComparator:null,updateTriggers:{},numInstances:undefined,visible:true,pickable:false,opacity:.8,onHover:ut,onClick:ut,coordinateSystem:l["a"].LNGLAT,coordinateOrigin:[0,0,0],parameters:{},uniforms:{},framebuffer:null,animation:null,getPolygonOffset:function t(e){var n=e.layerIndex;return[0,-n*100]},highlightedObjectIndex:-1,autoHighlight:false,highlightColor:[0,0,128,128]};var ct=0;var ft=function(){function t(e){it(this,t);this.props=this._normalizeProps(e);this.id=this.props.id;this.oldProps=st;this.count=ct++;this.lifecycle=l["b"].NO_STATE;this.state=null;this.context=null;this.parentLayer=null;this.internalState=null;Object.seal(this)}rt(t,[{key:"toString",value:function t(){var e=this.constructor.layerName||this.constructor.name;return e+"({id: '"+this.props.id+"'})"}},{key:"needsUpdate",value:function t(){return this.shouldUpdateState(this._getUpdateParams())}},{key:"getNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?false:n;return this._getNeedsRedraw(r)}},{key:"initializeState",value:function t(){throw new Error("Layer "+this+" has not defined initializeState")}},{key:"shouldUpdateState",value:function t(e){var n=e.oldProps,r=e.props,i=e.oldContext,o=e.context,a=e.changeFlags;return a.propsOrDataChanged}},{key:"updateState",value:function t(e){var n=e.oldProps,r=e.props,i=e.oldContext,o=e.context,a=e.changeFlags;var s=this.state.attributeManager;if(a.dataChanged&&s){s.invalidateAll()}}},{key:"finalizeState",value:function t(){}},{key:"draw",value:function t(e){var n=true;var r=false;var i=undefined;try{for(var o=this.getModels()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;s.draw(e)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}},{key:"getPickingInfo",value:function t(e){var n=e.info,r=e.mode;var i=n.color,o=n.index;if(o>=0){if(Array.isArray(this.props.data)){n.object=this.props.data[o]}}if(r==="hover"){var a=i||new Float32Array([0,0,0]);var s=true;var u=false;var l=undefined;try{for(var c=this.getModels()[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;h.setUniforms({selectedPickingColor:a})}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}return n}},{key:"isPickable",value:function t(){return this.props.pickable&&this.props.visible}},{key:"invalidateAttribute",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"all";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=this.state.attributeManager;if(!r){return}if(e==="all"){o["a"].log(ot,"updateTriggers invalidating all attributes: "+n);r.invalidateAll()}else{o["a"].log(ot,"updateTriggers invalidating attribute "+e+": "+n);r.invalidate(e)}}},{key:"updateAttributes",value:function t(e){var n=this.state.attributeManager;if(!n){return}var r=this.getNumInstances(e);n.update({data:e.data,numInstances:r,props:e,buffers:e,context:this,ignoreUnknownAttributes:true});var i=this.state.model;if(i){var o=n.getChangedAttributes({clearChangedFlags:true});i.setAttributes(o)}}},{key:"setState",value:function t(e){Object.assign(this.state,e);this.state.needsRedraw=true}},{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this.state){this.state.needsRedraw=e}}},{key:"getModels",value:function t(){return this.state.models||(this.state.model?[this.state.model]:[])}},{key:"project",value:function t(e){var n=this.context.viewport;f()(Array.isArray(e),"Layer.project needs [lng,lat]");return n.project(e)}},{key:"unproject",value:function t(e){var n=this.context.viewport;f()(Array.isArray(e),"Layer.unproject needs [x,y]");return n.unproject(e)}},{key:"projectFlat",value:function t(e){var n=this.context.viewport;f()(Array.isArray(e),"Layer.project needs [lng,lat]");return n.projectFlat(e)}},{key:"unprojectFlat",value:function t(e){var n=this.context.viewport;f()(Array.isArray(e),"Layer.unproject needs [x,y]");return n.unprojectFlat(e)}},{key:"screenToDevicePixels",value:function t(e){o["a"].deprecated("screenToDevicePixels","DeckGL prop useDevicePixels for conversion");var n=typeof window!=="undefined"?window.devicePixelRatio:1;return e*n}},{key:"nullPickingColor",value:function t(){return[0,0,0]}},{key:"encodePickingColor",value:function t(e){f()((e+1>>24&255)===0,"index out of picking color range");return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}},{key:"decodePickingColor",value:function t(e){f()(e instanceof Uint8Array);var n=nt(e,3),r=n[0],i=n[1],o=n[2];var a=r+i*256+o*65536-1;return a}},{key:"calculateInstancePickingColors",value:function t(e,n){var r=n.numInstances;var i=e.value,o=e.size;for(var a=0;a<r;a++){var s=this.encodePickingColor(a);i[a*o+0]=s[0];i[a*o+1]=s[1];i[a*o+2]=s[2]}}},{key:"getFirstObject",value:function t(){var e=this.props.data;var n=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;return s}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}return null}},{key:"getNumInstances",value:function t(e){e=e||this.props;if(this.state&&this.state.numInstances!==undefined){return this.state.numInstances}if(e.numInstances!==undefined){return e.numInstances}var n=e,r=n.data;return V(r)}},{key:"clone",value:function t(e){return new this.constructor(Object.assign({},this.props,e))}},{key:"_initialize",value:function t(){f()(arguments.length===0);f()(this.context.gl);f()(!this.state);var e=new S({id:this.props.id});e.addInstanced({instancePickingColors:{type:h["e"].UNSIGNED_BYTE,size:3,update:this.calculateInstancePickingColors}});this.internalState={subLayers:null,stats:new y({id:"draw"})};this.state={attributeManager:e,model:null,needsRedraw:true};this.initializeState(this.context);this.setChangeFlags({dataChanged:true,propsChanged:true,viewportChanged:true});this._updateState(this._getUpdateParams());if(this.isComposite){this._renderLayers(true)}var n=this.state.model;if(n){n.id=this.props.id;n.program.id=this.props.id+"-program";n.geometry.id=this.props.id+"-geometry";n.setAttributes(e.getAttributes())}if(this.isComposite){this._renderLayers()}this.clearChangeFlags()}},{key:"_update",value:function t(){f()(arguments.length===0);var e=this.needsUpdate();var n={props:this.props,oldProps:this.oldProps,context:this.context,oldContext:this.oldContext,changeFlags:this.internalState.changeFlags};if(e){this._updateState(n)}if(this.isComposite){this._renderLayers(e)}this.clearChangeFlags()}},{key:"_updateState",value:function t(e){this.updateState(e);this.updateAttributes(this.props);this._updateBaseUniforms();this._updateModuleSettings();if(this.state.model){this.state.model.setInstanceCount(this.getNumInstances())}}},{key:"_finalize",value:function t(){f()(arguments.length===0);this.finalizeState(this.context);tt(this.id)}},{key:"drawLayer",value:function t(e){var n=this;var r=e.moduleParameters,i=r===undefined?null:r,o=e.uniforms,a=o===undefined?{}:o,s=e.parameters,u=s===undefined?{}:s;if(i){var l=true;var c=false;var f=undefined;try{for(var p=this.getModels()[Symbol.iterator](),d;!(l=(d=p.next()).done);l=true){var v=d.value;v.updateModuleSettings(i)}}catch(t){c=true;f=t}finally{try{if(!l&&p.return){p.return()}}finally{if(c){throw f}}}}var m=this.props.getPolygonOffset;var g=m&&m(a)||[0,0];u.polygonOffset=g;Object(h["r"])(this.context.gl,u,function(){n.draw({moduleParameters:i,uniforms:a,parameters:u,context:n.context})})}},{key:"pickLayer",value:function t(e){return this.getPickingInfo(e)}},{key:"getChangeFlags",value:function t(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function t(e){var n=this;this.internalState.changeFlags=this.internalState.changeFlags||{};var r=this.internalState.changeFlags;if(e.dataChanged&&!r.dataChanged){r.dataChanged=e.dataChanged;o["a"].log(ot+1,function(){return"dataChanged: "+e.dataChanged+" in "+n.id})}if(e.updateTriggersChanged&&!r.updateTriggersChanged){r.updateTriggersChanged=r.updateTriggersChanged&&e.updateTriggersChanged?Object.assign({},e.updateTriggersChanged,r.updateTriggersChanged):e.updateTriggersChanged||r.updateTriggersChanged;o["a"].log(ot+1,function(){return"updateTriggersChanged: "+(Object.keys(e.updateTriggersChanged).join(", ")+" in "+n.id)})}if(e.propsChanged&&!r.propsChanged){r.propsChanged=e.propsChanged;o["a"].log(ot+1,function(){return"propsChanged: "+e.propsChanged+" in "+n.id})}if(e.viewportChanged&&!r.viewportChanged){r.viewportChanged=e.viewportChanged;o["a"].log(ot+2,function(){return"viewportChanged: "+e.viewportChanged+" in "+n.id})}var i=e.dataChanged||e.updateTriggersChanged||e.propsChanged;r.propsOrDataChanged=r.propsOrDataChanged||i;r.somethingChanged=r.somethingChanged||i||e.viewportChanged}},{key:"clearChangeFlags",value:function t(){this.internalState.changeFlags={dataChanged:false,propsChanged:false,updateTriggersChanged:false,viewportChanged:false,propsOrDataChanged:false,somethingChanged:false}}},{key:"printChangeFlags",value:function t(){var e=this.internalState.changeFlags;return""+(e.dataChanged?"data ":"")+(e.propsChanged?"props ":"")+(e.updateTriggersChanged?"triggers ":"")+(e.viewportChanged?"viewport":"")}},{key:"diffProps",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.oldProps;var r=L(e,n);if(r.updateTriggersChanged){for(var i in r.updateTriggersChanged){if(r.updateTriggersChanged[i]){this._activeUpdateTrigger(i)}}}return this.setChangeFlags(r)}},{key:"_getUpdateParams",value:function t(){return{props:this.props,oldProps:this.oldProps,context:this.context,oldContext:this.oldContext||{},changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function t(e){if(!this.state){return false}var n=false;n=n||this.state.needsRedraw&&this.id;this.state.needsRedraw=this.state.needsRedraw&&!e;var r=this.state.attributeManager;var i=r&&r.getNeedsRedraw({clearRedrawFlags:e});n=n||i;var o=true;var a=false;var s=undefined;try{for(var u=this.getModels()[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;var f=c.getNeedsRedraw({clearRedrawFlags:e});if(f&&typeof f!=="string"){f="model "+c.id}n=n||f}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return n}},{key:"_normalizeProps",value:function t(e){var n=P(this);e=Object.assign({},n,e);e.data=e.data||at;Y(e);Object.freeze(e);return e}},{key:"_transferState",value:function t(e){var n=e.state,r=e.internalState,i=e.props;f()(n&&r);n.layer=this;this.state=n;this.internalState=r;this.oldProps=i;var o=true;var a=false;var s=undefined;try{for(var u=this.getModels()[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;c.userData.layer=this}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}this.diffProps()}},{key:"_activeUpdateTrigger",value:function t(e){this.invalidateAttribute(e)}},{key:"_checkRequiredProp",value:function t(e,n){var r=this.props[e];if(r===undefined){throw new Error("Property "+e+" undefined in layer "+this)}if(n&&!n(r)){throw new Error("Bad property "+e+" in layer "+this)}}},{key:"_checkRemovedProp",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.props[e]!==undefined){var r=this.constructor;var i=r+" no longer accepts props."+e+" in this version of deck.gl.";if(n){i+="\nPlease use props."+n+" instead."}o["a"].once(0,i)}}},{key:"_updateBaseUniforms",value:function t(){var e={opacity:Math.pow(this.props.opacity,1/2.2),ONE:1};var n=true;var r=false;var i=undefined;try{for(var o=this.getModels()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;s.setUniforms(e)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}this.state.needsRedraw=true}},{key:"_updateModuleSettings",value:function t(){var e={pickingHighlightColor:this.props.highlightColor};var n=true;var r=false;var i=undefined;try{for(var o=this.getModels()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;s.updateModuleSettings(e)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}},{key:"setUniforms",value:function t(e){var n=true;var r=false;var i=undefined;try{for(var a=this.getModels()[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;u.setUniforms(e)}}catch(t){r=true;i=t}finally{try{if(!n&&a.return){a.return()}}finally{if(r){throw i}}}this.state.needsRedraw=true;o["a"].deprecated("layer.setUniforms","model.setUniforms")}},{key:"stats",get:function t(){return this.internalState.stats}}]);return t}();var ht=ft;ft.layerName="Layer";ft.propTypes=lt;ft.defaultProps=lt;var pt=2;var dt=0;var vt=function t(e){var n=e.useDevicePixels;f()(typeof n==="boolean","Invalid useDevicePixels");return n&&typeof window!=="undefined"?window.devicePixelRatio:1};var mt=function t(e,n){var r=n.viewport,i=n.pixelRatio;var o=e.canvas?e.canvas.clientHeight:100;var a=r;return[a.x*i,(o-a.y-a.height)*i,a.width*i,a.height*i]};function gt(t,e){var n=e.useDevicePixels;var r=t.drawingBufferWidth;var i=t.drawingBufferHeight;Object(h["r"])(t,{viewport:[0,0,r,i]},function(){t.clear(h["e"].COLOR_BUFFER_BIT|h["e"].DEPTH_BUFFER_BIT)})}function yt(t,e){var n=e.layers,r=e.viewports,i=e.onViewportActive,o=e.useDevicePixels,a=e.drawPickingColors,s=a===undefined?false:a,u=e.deviceRect,l=u===undefined?null:u,c=e.parameters,f=c===undefined?{}:c,h=e.layerFilter,p=h===undefined?null:h,d=e.pass,v=d===undefined?"draw":d,m=e.redrawReason,g=m===undefined?"":m;gt(t,{useDevicePixels:o});r.forEach(function(e,r){var a=Et(e);i(a);bt(t,{layers:n,viewport:a,useDevicePixels:o,drawPickingColors:s,deviceRect:l,parameters:f,layerFilter:p,pass:v,redrawReason:g})})}function _t(t,e){var n=e.layers,r=e.viewports,i=e.onViewportActive,o=e.useDevicePixels,a=e.pickingFBO,s=e.deviceRect,u=s.x,l=s.y,c=s.width,f=s.height,p=e.layerFilter,d=p===undefined?null:p,v=e.redrawReason,m=v===undefined?"":v;return Object(h["r"])(t,{framebuffer:a,scissorTest:true,scissor:[u,l,c,f],clearColor:[0,0,0,0]},function(){yt(t,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:o,drawPickingColors:true,layerFilter:d,pass:"picking",redrawReason:m,parameters:{blend:true,blendFunc:[t.ONE,t.ZERO,t.CONSTANT_ALPHA,t.ZERO],blendEquation:t.FUNC_ADD,blendColor:[0,0,0,0]}})})}function bt(t,e){var n=e.layers,r=e.viewport,i=e.useDevicePixels,o=e.drawPickingColors,a=o===undefined?false:o,s=e.deviceRect,u=s===undefined?null:s,l=e.parameters,c=l===undefined?{}:l,f=e.layerFilter,p=e.pass,d=p===undefined?"draw":p,v=e.redrawReason,m=v===undefined?"":v;var g=vt({useDevicePixels:i});var y=mt(t,{viewport:r,pixelRatio:g});var _={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};Object(h["q"])(t,c||{});n.forEach(function(e,n){var i=e.props.visible;if(a){i=i&&e.props.pickable}if(i&&f){i=f({layer:e,viewport:r,isPicking:a})}if(i&&e.props.pickable){_.pickableCount++}if(e.isComposite){_.compositeCount++}if(i){if(!e.isComposite){_.visibleCount++}xt({gl:t,layer:e,layerIndex:n,drawPickingColors:a,glViewport:y,parameters:c})}});dt++;wt({renderStats:_,pass:d,redrawReason:m})}function xt(t){var e=t.gl,n=t.layer,r=t.layerIndex,i=t.drawPickingColors,o=t.glViewport,a=t.parameters;var s=Object.assign({},n.props,{viewport:n.context.viewport,pickingActive:i?1:0});var u={renderPickingBuffer:i?1:0,pickingEnabled:i?1:0};var l=Object.assign(u,n.context.uniforms,{layerIndex:r});var c=Object.assign({},n.props.parameters||{},a);Object.assign(c,{viewport:o});if(i){Object.assign(c,{blendColor:[0,0,0,(r+1)/255]})}else{Object.assign(s,Tt(n))}n.drawLayer({moduleParameters:s,uniforms:l,parameters:c})}function wt(t){var e=t.renderStats,n=t.pass,r=t.redrawReason;if(o["a"].priority>=pt){var i=e.totalCount,a=e.visibleCount,s=e.compositeCount,u=e.pickableCount;var l=i-s;var c=l-a;var f="";f+="RENDER #"+dt+" "+a+" (of "+i+" layers) to "+n+" because "+r+" ";if(o["a"].priority>pt){f+="("+c+" hidden, "+s+" composite "+u+" unpickable)"}o["a"].log(pt,f)}}function Et(t){return t.viewport?t.viewport:t}function Tt(t){if(t.props.highlightedObjectIndex>=0){var e=t.encodePickingColor(t.props.highlightedObjectIndex);return{pickingSelectedColor:e}}return null}var It={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function Ct(t,e){var n=e.layers,r=e.viewports,i=e.x,o=e.y,a=e.radius,s=e.layerFilter,u=e.mode,l=e.onViewportActive,c=e.pickingFBO,f=e.lastPickedInfo,h=e.useDevicePixels;var p=vt({useDevicePixels:h});var d=Math.round(i*p);var v=Math.round(t.canvas.height-o*p);var m=Math.round(a*p);var g=Rt({deviceX:d,deviceY:v,deviceRadius:m,deviceWidth:c.width,deviceHeight:c.height});var y=g&&At(t,{layers:n,viewports:r,onViewportActive:l,useDevicePixels:h,pickingFBO:c,deviceRect:g,layerFilter:s,redrawReason:u});var _=y&&Nt(t,{pickedColors:y,layers:n,deviceX:d,deviceY:v,deviceRadius:m,deviceRect:g})||It;return Lt({pickInfo:_,lastPickedInfo:f,mode:u,layers:n,viewports:r,x:i,y:o,deviceX:d,deviceY:v,pixelRatio:p})}function Mt(t,e){var n=e.layers,r=e.viewports,i=e.x,o=e.y,a=e.width,s=e.height,u=e.mode,l=e.layerFilter,c=e.onViewportActive,f=e.pickingFBO,h=e.useDevicePixels;var p=vt({useDevicePixels:h});var d=Math.round(i*p);var v=Math.round(t.canvas.height-o*p);var m=Math.round((i+a)*p);var g=Math.round(t.canvas.height-(o+s)*p);var y={x:d,y:g,width:m-d,height:v-g};var _=At(t,{layers:n,viewports:r,onViewportActive:c,pickingFBO:f,useDevicePixels:h,deviceRect:y,layerFilter:l,redrawReason:u});var b=Ft(t,{pickedColors:_,layers:n});var x=new Map;b.forEach(function(t){var e=St({viewports:r});var n=Ot([t.x/p,t.y/p],e);n.devicePixel=[t.x,t.y];n.pixelRatio=p;n.color=t.pickedColor;n.index=t.pickedObjectIndex;n.picked=true;n=Bt({layer:t.pickedLayer,info:n,mode:u});if(!x.has(n.object)){x.set(n.object,n)}});return Array.from(x.values())}function At(t,e){var n=e.layers,r=e.viewports,i=e.onViewportActive,o=e.useDevicePixels,a=e.pickingFBO,s=e.deviceRect,u=e.layerFilter,l=e.redrawReason;f()(s);f()(Number.isFinite(s.width)&&s.width>0,"`width` must be > 0");f()(Number.isFinite(s.height)&&s.height>0,"`height` must be > 0");var c=n.filter(function(t){return t.isPickable()});if(c.length<1){return null}_t(t,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:o,pickingFBO:a,deviceRect:s,layerFilter:u,redrawReason:l});var h=s.x,p=s.y,d=s.width,v=s.height;var m=new Uint8Array(d*v*4);a.readPixels({x:h,y:p,width:d,height:v,pixelArray:m});return m}function St(t){var e=t.viewports;var n=e[0];return n}function Rt(t){var e=t.deviceX,n=t.deviceY,r=t.deviceRadius,i=t.deviceWidth,o=t.deviceHeight;var a=e>=0&&n>=0&&e<i&&n<o;if(!a){return null}var s=Math.max(0,e-r);var u=Math.max(0,n-r);var l=Math.min(i,e+r)-s+1;var c=Math.min(o,n+r)-u+1;return{x:s,y:u,width:l,height:c}}function Lt(t){var e=t.pickInfo,n=t.lastPickedInfo,r=t.mode,i=t.layers,o=t.viewports,a=t.x,s=t.y,u=t.deviceX,l=t.deviceY,c=t.pixelRatio;var f=e.pickedColor,h=e.pickedLayer,p=e.pickedObjectIndex;var d=h?[h]:[];if(r==="hover"){var v=n.index;var m=n.layerId;var g=h&&h.props.id;if(g!==m||p!==v){if(g!==m){var y=i.find(function(t){return t.props.id===m});if(y){d.unshift(y)}}n.layerId=g;n.index=p}}var _=St({viewports:o});var b=Ot([a,s],_);b.devicePixel=[u,l];b.pixelRatio=c;var x=new Map;d.forEach(function(t){var e=Object.assign({},b);if(t===h){e.color=f;e.index=p;e.picked=true}e=Bt({layer:t,info:e,mode:r});if(e){x.set(e.layer.id,e)}var n=t.props.autoHighlight&&h===t?f:null;var i={pickingSelectedColor:n};var o=true;var a=false;var s=undefined;try{for(var u=t.getModels()[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;c.updateModuleSettings(i)}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}});var w=kt(x,r);return w}function kt(t,e){var n=[];t.forEach(function(t){var r=false;switch(e){case"click":r=t.layer.props.onClick(t);break;case"hover":r=t.layer.props.onHover(t);break;case"query":break;default:throw new Error("unknown pick type")}if(!r){n.push(t)}});return n}function Nt(t,e){var n=e.pickedColors,r=e.layers,i=e.deviceX,a=e.deviceY,s=e.deviceRadius,u=e.deviceRect;f()(n);var l=u.x,c=u.y,h=u.width,p=u.height;var d=s*s;var v=-1;var m=0;for(var g=0;g<p;g++){var y=g+c-a;var _=y*y;if(_>d){m+=4*h}else{for(var b=0;b<h;b++){var x=n[m+3]-1;if(x>=0){var w=b+l-i;var E=w*w+_;if(E<=d){d=E;v=m}}m+=4}}}if(v>=0){var T=n[v+3]-1;var I=n.slice(v,v+4);var C=r[T];if(C){var M=C.decodePickingColor(I);return{pickedColor:I,pickedLayer:C,pickedObjectIndex:M}}o["a"].error("Picked non-existent layer. Is picking buffer corrupt?")}return It}function Ft(t,e){var n=e.pickedColors,r=e.layers;var i=new Map;if(n){for(var a=0;a<n.length;a+=4){var s=n[a+3]-1;if(s>=0){var u=n.slice(a,a+4);var l=u.join(",");if(!i.has(l)){var c=r[s];if(c){i.set(l,{pickedColor:u,pickedLayer:c,pickedObjectIndex:c.decodePickingColor(u)})}else{o["a"].error("Picked non-existent layer. Is picking buffer corrupt?")}}}}}return Array.from(i.values())}function Ot(t,e){return{color:null,layer:null,index:-1,picked:false,x:t[0],y:t[1],pixel:t,lngLat:e.unproject(t)}}function Bt(t){var e=t.layer,n=t.info,r=t.mode;while(e&&n){var i=n.layer||e;n.layer=e;n=e.pickLayer({info:n,mode:r,sourceLayer:i});e=e.parentLayer}return n}var Pt=n("L4CO");var Ut=n.n(Pt);var Dt=n("oI6O");var zt=n.n(Dt);function jt(t,e){if(!t){return null}var n=zt()([0,0,0,0],e,t);var r=1/n[3];Ut()(n,n,[r,r,r,r]);return n}function Vt(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Gt(t){var e=t.viewMatrix,n=t.viewMatrixInverse;return{eye:[n[12],n[13],n[14]],direction:[e[2],e[6],e[10]],up:[e[1],e[5],e[9]]}}function Xt(t,e){f()(Number.isFinite(t)&&Number.isFinite(e));var n=t%e;return n<0?e+n:n}var Wt=n("7VzN");var Zt=n("1x6x");var Qt=n.n(Zt);var Ht=n("GSIc");var Yt=n.n(Ht);var Jt=n("w9vz");var qt=n.n(Jt);var Kt=n("tYfZ");var $t=n.n(Kt);var te=n("BDpb");var ee=n.n(te);var ne=n("EgE0");var re=n.n(ne);var ie=n("Wtwh");var oe=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var ae=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function se(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ue=[0,0,0];var le=Vt();var ce={pixelsPerMeter:[1,1,1],metersPerPixel:[1,1,1],pixelsPerDegree:[1,1,1],degreesPerPixel:[1,1,1]};var fe=0;var he="Illegal argument to Viewport";var pe=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};se(this,t);var n=e.id,r=n===undefined?null:n,i=e.x,o=i===undefined?0:i,a=e.y,s=a===undefined?0:a,u=e.width,l=u===undefined?1:u,c=e.height,h=c===undefined?1:c,p=e.viewMatrix,d=p===undefined?le:p,v=e.projectionMatrix,m=v===undefined?null:v,g=e.fovy,y=g===undefined?75:g,_=e.near,b=_===undefined?.1:_,x=e.far,w=x===undefined?1e3:x,E=e.longitude,T=E===undefined?null:E,I=e.latitude,C=I===undefined?null:I,M=e.zoom,A=M===undefined?null:M,S=e.position,R=S===undefined?null:S,L=e.modelMatrix,k=L===undefined?null:L,N=e.distanceScales,F=N===undefined?null:N;this.id=r||this.constructor.displayName||"viewport";this.isGeospatial=Number.isFinite(C)&&Number.isFinite(T);this.x=o;this.y=s;this.width=l||1;this.height=h||1;this.zoom=A;if(!Number.isFinite(this.zoom)){this.zoom=this.isGeospatial?Object(ie["c"])({latitude:C}):fe}this.scale=Math.pow(2,this.zoom);this.distanceScales=this.isGeospatial?Object(ie["b"])({latitude:C,longitude:T,scale:this.scale}):F||ce;this.focalDistance=e.focalDistance||1;this.distanceScales.metersPerPixel=new Wt["Vector3"](this.distanceScales.metersPerPixel);this.distanceScales.pixelsPerMeter=new Wt["Vector3"](this.distanceScales.pixelsPerMeter);this.position=ue;this.meterOffset=ue;if(R){this.position=R;this.modelMatrix=k;this.meterOffset=k?k.transformVector(R):R}this.viewMatrixUncentered=d;if(this.isGeospatial){this.center=Object(ie["f"])({longitude:T,latitude:C,zoom:this.zoom,meterOffset:this.meterOffset});this.viewMatrix=(new Wt["Matrix4"]).multiplyRight(this.viewMatrixUncentered).scale([1,-1,1]).translate(new Wt["Vector3"](this.center||ue).negate())}else{this.center=R;this.viewMatrix=d}if(m){this.projectionMatrix=m}else{f()(Number.isFinite(y));var O=Math.PI/180;var B=y*O;var P=this.width/this.height;this.projectionMatrix=ee()([],B,P,b,w)}this._initMatrices();this.equals=this.equals.bind(this);this.project=this.project.bind(this);this.unproject=this.unproject.bind(this);this.projectFlat=this.projectFlat.bind(this);this.unprojectFlat=this.unprojectFlat.bind(this);this.getMatrices=this.getMatrices.bind(this)}ae(t,[{key:"equals",value:function e(n){if(!(n instanceof t)){return false}return n.width===this.width&&n.height===this.height&&Object(Wt["equals"])(n.projectionMatrix,this.projectionMatrix)&&Object(Wt["equals"])(n.viewMatrix,this.viewMatrix)}},{key:"project",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?true:r;var o=oe(e,3),a=o[0],s=o[1],u=o[2],l=u===undefined?0:u;f()(Number.isFinite(a)&&Number.isFinite(s)&&Number.isFinite(l),he);var c=this.projectFlat([a,s]),h=oe(c,2),p=h[0],d=h[1];var v=jt(this.pixelProjectionMatrix,[p,d,l,1]);var m=oe(v,2),g=m[0],y=m[1];var _=i?y:this.height-y;return e.length===2?[g,_]:[g,_,0]}},{key:"unproject",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?true:r;var o=oe(e,3),a=o[0],s=o[1],u=o[2],l=u===undefined?0:u;var c=i?s:this.height-s;var f=jt(this.pixelUnprojectionMatrix,[a,c,0,1]);var h=jt(this.pixelUnprojectionMatrix,[a,c,1,1]);if(!f||!h){return null}var p=f[2];var d=h[2];var v=p===d?0:(l-p)/(d-p);var m=re()([],f,h,v);var g=this.unprojectFlat(m);return e.length===2?g:[g[0],g[1],0]}},{key:"projectFlat",value:function t(e){var n=oe(e,2),r=n[0],i=n[1];var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return this._projectFlat.apply(this,arguments)}},{key:"unprojectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return this._unprojectFlat.apply(this,arguments)}},{key:"_projectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return e}},{key:"_unprojectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return e}},{key:"getMercatorParams",value:function t(){var e=this._addMetersToLngLat([this.longitude||0,this.latitude||0],this.meterOffset);return{longitude:e[0],latitude:e[1]}}},{key:"isMapSynched",value:function t(){return false}},{key:"getDistanceScales",value:function t(){return this.distanceScales}},{key:"getMatrices",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.modelMatrix,r=n===undefined?null:n;var i=this.viewProjectionMatrix;var o=this.pixelProjectionMatrix;var a=this.pixelUnprojectionMatrix;if(r){i=qt()([],this.viewProjectionMatrix,r);o=qt()([],this.pixelProjectionMatrix,r);a=$t()([],o)}var s=Object.assign({modelViewProjectionMatrix:i,viewProjectionMatrix:this.viewProjectionMatrix,viewMatrix:this.viewMatrix,projectionMatrix:this.projectionMatrix,pixelProjectionMatrix:o,pixelUnprojectionMatrix:a,width:this.width,height:this.height,scale:this.scale});return s}},{key:"getCameraPosition",value:function t(){return this.cameraPosition}},{key:"getCameraDirection",value:function t(){return this.cameraDirection}},{key:"getCameraUp",value:function t(){return this.cameraUp}},{key:"_addMetersToLngLat",value:function t(e,n){var r=oe(e,3),i=r[0],o=r[1],a=r[2],s=a===undefined?0:a;var u=this._metersToLngLatDelta(n),l=oe(u,3),c=l[0],f=l[1],h=l[2],p=h===undefined?0:h;return e.length===2?[i+c,o+f]:[i+c,o+f,s+p]}},{key:"_metersToLngLatDelta",value:function t(e){var n=oe(e,3),r=n[0],i=n[1],o=n[2],a=o===undefined?0:o;f()(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a),he);var s=this.distanceScales,u=s.pixelsPerMeter,l=s.degreesPerPixel;var c=r*u[0]*l[0];var h=i*u[1]*l[1];return e.length===2?[c,h]:[c,h,a]}},{key:"_initMatrices",value:function t(){var e=Vt();qt()(e,e,this.projectionMatrix);qt()(e,e,this.viewMatrix);this.viewProjectionMatrix=e;this.viewMatrixInverse=$t()([],this.viewMatrix)||this.viewMatrix;var n=Gt({viewMatrix:this.viewMatrix,viewMatrixInverse:this.viewMatrixInverse}),r=n.eye,i=n.direction,a=n.up;this.cameraPosition=r;this.cameraDirection=i;this.cameraUp=a;var s=Vt();Qt()(s,s,[this.width/2,-this.height/2,1]);Yt()(s,s,[1,-1,0]);qt()(s,s,this.viewProjectionMatrix);this.pixelProjectionMatrix=s;this.pixelUnprojectionMatrix=$t()(Vt(),this.pixelProjectionMatrix);if(!this.pixelUnprojectionMatrix){o["a"].warn("Pixel project matrix not invertible")}}}]);return t}();var de=pe;pe.displayName="Viewport";var ve=n("7Mv9");var me=n.n(ve);var ge=n("fWKP");var ye=n.n(ge);var _e=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var be=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function xe(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function we(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ee(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Te="Illegal argument to WebMercatorViewport";var Ie=function(t){Ee(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};xe(this,e);var n=t.latitude,r=n===undefined?0:n,i=t.longitude,o=i===undefined?0:i,a=t.zoom,s=a===undefined?11:a,u=t.pitch,l=u===undefined?0:u,c=t.bearing,f=c===undefined?0:c,h=t.farZMultiplier,p=h===undefined?10:h;var d=t.width,v=t.height,m=t.altitude,g=m===undefined?1.5:m;d=d||1;v=v||1;g=Math.max(.75,g);var y=Object(ie["d"])({width:d,height:v,pitch:l,altitude:g,farZMultiplier:p});var _=Object(ie["e"])({height:v,pitch:l,bearing:f,altitude:g});var b=we(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{position:t.position&&[t.position[0],t.position[1],0],width:d,height:v,viewMatrix:_,longitude:o,latitude:r,zoom:s,projectionMatrix:y,focalDistance:1})));b.latitude=r;b.longitude=o;b.zoom=s;b.pitch=l;b.bearing=f;b.altitude=g;b.metersToLngLatDelta=b.metersToLngLatDelta.bind(b);b.lngLatDeltaToMeters=b.lngLatDeltaToMeters.bind(b);b.addMetersToLngLat=b.addMetersToLngLat.bind(b);Object.freeze(b);return b}be(e,[{key:"_projectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return Object(ie["g"])(e,n)}},{key:"_unprojectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return Object(ie["h"])(e,n)}},{key:"metersToLngLatDelta",value:function t(e){var n=_e(e,3),r=n[0],i=n[1],o=n[2],a=o===undefined?0:o;f()(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a),Te);var s=this.distanceScales,u=s.pixelsPerMeter,l=s.degreesPerPixel;var c=r*u[0]*l[0];var h=i*u[1]*l[1];return e.length===2?[c,h]:[c,h,a]}},{key:"lngLatDeltaToMeters",value:function t(e){var n=_e(e,3),r=n[0],i=n[1],o=n[2],a=o===undefined?0:o;f()(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a),Te);var s=this.distanceScales,u=s.pixelsPerDegree,l=s.metersPerPixel;var c=r*u[0]*l[0];var h=i*u[1]*l[1];return e.length===2?[c,h]:[c,h,a]}},{key:"addMetersToLngLat",value:function t(e,n){var r=_e(e,3),i=r[0],o=r[1],a=r[2],s=a===undefined?0:a;var u=this.metersToLngLatDelta(n),l=_e(u,3),c=l[0],f=l[1],h=l[2],p=h===undefined?0:h;return e.length===2?[i+c,o+f]:[i+c,o+f,s+p]}},{key:"getLocationAtPoint",value:function t(e){var n=e.lngLat,r=e.pos;var i=this.projectFlat(this.unproject(r));var o=this.projectFlat(n);var a=this.projectFlat([this.longitude,this.latitude]);var s=me()([],o,ye()([],i));var u=me()([],a,s);return this.unprojectFlat(u)}},{key:"fitBounds",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this.width,o=this.height;var a=Object(ie["a"])(Object.assign({width:i,height:o,bounds:n},r)),s=a.longitude,u=a.latitude,l=a.zoom;return new e({width:i,height:o,longitude:s,latitude:u,zoom:l})}},{key:"isMapSynched",value:function t(){var e=1e-6;var n={pitch:60,zoom:40};var r=this.pitch,i=this.zoom;return r<=n.pitch+e&&i<=n.zoom+e}}]);return e}(de);var Ce=Ie;Ie.displayName="WebMercatorViewport";function Me(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.filter,r=n===undefined?function(){return true}:n,i=e.map,o=i===undefined?function(t){return t}:i,a=e.result,s=a===undefined?[]:a;if(!Array.isArray(t)){return r(t)?[o(t)]:[]}return Ae(t,r,o,s)}function Ae(t,e,n,r){var i=-1;while(++i<t.length){var o=t[i];if(Array.isArray(o)){Ae(o,e,n,r)}else if(e(o)){r.push(n(o))}}return r}function Se(t){var e=0;var n=-1;while(++n<t.length){var r=t[n];if(Array.isArray(r)||ArrayBuffer.isView(r)){e+=Se(r)}else{e++}}return e}function Re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.result,r=n===undefined?[]:n,i=e.dimensions,o=i===undefined?3:i;var a=-1;var s=0;while(++a<t.length){var u=t[a];if(Array.isArray(u)||ArrayBuffer.isView(u)){Re(u,{result:r,dimensions:o})}else{if(s<o){r.push(u);s++}}}if(s>0&&s<o){r.push(0)}return r}function Le(t){var e=t.target,n=t.source,r=t.start,i=r===undefined?0:r,o=t.count,a=o===undefined?1:o;var s=n.length;var u=a*s;var l=0;for(var c=i;l<s;l++){e[c++]=n[l]}while(l<u){if(l<u-l){e.copyWithin(i+l,i,i+l);l*=2}else{e.copyWithin(i+l,i,i+u-l);l=u}}return e}var ke=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Ne(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Fe=2;var Oe=4;var Be={uniforms:{},viewports:[],viewport:null,layerFilter:null,viewportChanged:true,pickingFBO:null,useDevicePixels:true,lastPickedInfo:{index:-1,layerId:null}};var Pe=function t(e){return e instanceof ht?""+e:!e?"null":"invalid"};var Ue=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.eventManager;Ne(this,t);this.lastRenderedLayers=[];this.prevLayers=[];this.layers=[];this.oldContext={};this.context=Object.assign({},Be,{gl:e,shaderCache:new h["h"]({gl:e,_cachePrograms:true})});this.width=100;this.height=100;this.viewDescriptors=[];this.viewDescriptorsChanged=true;this.viewports=[];this._needsRedraw="Initial render";this._pickingRadius=0;this._eventManager=null;this._onLayerClick=null;this._onLayerHover=null;this._onClick=this._onClick.bind(this);this._onPointerMove=this._onPointerMove.bind(this);this._onPointerLeave=this._onPointerLeave.bind(this);this._pickAndCallback=this._pickAndCallback.bind(this);this._initSeer=this._initSeer.bind(this);this._editSeer=this._editSeer.bind(this);q(this._initSeer);J(this._editSeer);Object.seal(this);if(r){this._initEventHandling(r)}this.setViewports([new Ce({width:1,height:1,latitude:0,longitude:0,zoom:1})])}ke(t,[{key:"finalize",value:function t(){d.a.removeListener(this._initSeer);d.a.removeListener(this._editSeer)}},{key:"needsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?true:n;return this._checkIfNeedsRedraw(r)}},{key:"setNeedsRedraw",value:function t(e){this._needsRedraw=this._needsRedraw||e}},{key:"getLayers",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.layerIds,r=n===undefined?null:n;return r?this.layers.filter(function(t){return r.find(function(e){return t.id.indexOf(e)===0})}):this.layers}},{key:"getViewports",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.width,r=e.height;if(n!==this.width||r!==this.height||this.viewDescriptorsChanged){this._rebuildViewportsFromViews({viewDescriptors:this.viewDescriptors,width:n,height:r});this.width=n;this.height=r}return this.viewports}},{key:"setParameters",value:function t(e){if("eventManager"in e){this._initEventHandling(e.eventManager)}if("pickingRadius"in e||"onLayerClick"in e||"onLayerHover"in e){this._setEventHandlingParameters(e)}if("layers"in e){this.setLayers(e.layers)}if("viewports"in e){this.setViewports(e.viewports)}if("layerFilter"in e){this.context.layerFilter=e.layerFilter;if(this.context.layerFilter!==e.layerFilter){this.setNeedsRedraw("layerFilter changed")}}if("drawPickingColors"in e){if(this.context.drawPickingColors!==e.drawPickingColors){this.setNeedsRedraw("drawPickingColors changed")}}Object.assign(this.context,e)}},{key:"setViewports",value:function t(e){var n=Me(e,{filter:Boolean}).map(function(t){return t instanceof de?{viewport:t}:t});this.viewDescriptorsChanged=this.viewDescriptorsChanged||this._diffViews(n,this.viewDescriptors);if(this.viewDescriptorsChanged){this.viewDescriptors=n;this._rebuildViewportsFromViews({viewDescriptors:this.viewDescriptors});this.viewDescriptorsChanged=false}}},{key:"setLayers",value:function t(e){f()(this.context.viewport,"LayerManager.updateLayers: viewport not set");if(e===this.lastRenderedLayers){o["a"].log(3,"Ignoring layer update due to layer array not changed");return this}this.lastRenderedLayers=e;e=Me(e,{filter:Boolean});var n=true;var r=false;var i=undefined;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;u.context=this.context}}catch(t){r=true;i=t}finally{try{if(!n&&a.return){a.return()}}finally{if(r){throw i}}}this.prevLayers=this.layers;var l=this._updateLayers({oldLayers:this.prevLayers,newLayers:e}),c=l.error,h=l.generatedLayers;this.layers=h;if(c){throw c}return this}},{key:"drawLayers",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.pass,r=n===undefined?"render to screen":n,i=e.redrawReason,o=i===undefined?"unknown reason":i;var a=this.context,s=a.gl,u=a.useDevicePixels,l=a.drawPickingColors;yt(s,{layers:this.layers,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),useDevicePixels:u,drawPickingColors:l,pass:r,layerFilter:this.context.layerFilter,redrawReason:o})}},{key:"pickObject",value:function t(e){var n=e.x,r=e.y,i=e.mode,o=e.radius,a=o===undefined?0:o,s=e.layerIds,u=e.layerFilter;var l=this.context,c=l.gl,f=l.useDevicePixels;var h=this.getLayers({layerIds:s});return Ct(c,{x:n,y:r,radius:a,layers:h,mode:i,layerFilter:u,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),lastPickedInfo:this.context.lastPickedInfo,useDevicePixels:f})}},{key:"pickObjects",value:function t(e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.layerIds,s=e.layerFilter;var u=this.context,l=u.gl,c=u.useDevicePixels;var f=this.getLayers({layerIds:a});return Mt(l,{x:n,y:r,width:i,height:o,layers:f,layerFilter:s,mode:"pickObjects",viewport:this.context.viewport,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),useDevicePixels:c})}},{key:"updateLayers",value:function t(e){var n=e.newLayers;o["a"].deprecated("updateLayers","setLayers");this.setLayers(n)}},{key:"setViewport",value:function t(e){o["a"].deprecated("setViewport","setViewports");this.setViewports([e]);return this}},{key:"_checkIfNeedsRedraw",value:function t(e){var n=this._needsRedraw;if(e){this._needsRedraw=false}var r=true;var i=false;var o=undefined;try{for(var a=this.layers[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var u=s.value;var l=u.getNeedsRedraw({clearRedrawFlags:e});n=n||l}}catch(t){i=true;o=t}finally{try{if(!r&&a.return){a.return()}}finally{if(i){throw o}}}return n}},{key:"_rebuildViewportsFromViews",value:function t(e){var n=this;var r=e.viewDescriptors,i=e.width,o=e.height;var a=r.map(function(t){return t.viewport instanceof de?t.viewport:n._makeViewportFromViewDescriptor({viewDescriptor:t,width:i,height:o})});this.setNeedsRedraw("Viewport(s) changed");var s=a[0];f()(s instanceof de,"Invalid viewport");this.context.viewports=a;this._activateViewport(s);this.viewports=a;this.viewDescriptorsChanged=false}},{key:"_makeViewportFromViewDescriptor",value:function t(e){var n=e.viewDescriptor,r=e.width,i=e.height;var o=n.type,a=n.viewState;var s=this._getViewDimensions({viewDescriptor:n});return new o(Object.assign({},n,s,a))}},{key:"_diffViews",value:function t(e,n){var r=this;if(e.length!==n.length){return true}return e.some(function(t,i){return r._diffView(e[i],n[i])})}},{key:"_diffView",value:function t(e,n){if(e.viewport){return!n.viewport||!e.viewport.equals(n.viewport)}return e!==n}},{key:"_getViewDimensions",value:function t(e){var n=e.viewDescriptor,r=e.width,i=e.height;var o=function t(e,n){return e};return{x:o(n.x,r),y:o(n.y,i),width:o(n.width,r),height:o(n.height,i)}}},{key:"_initEventHandling",value:function t(e){this._eventManager=e;this._eventManager.on({click:this._onClick,pointermove:this._onPointerMove,pointerleave:this._onPointerLeave})}},{key:"_setEventHandlingParameters",value:function t(e){var n=e.pickingRadius,r=e.onLayerClick,i=e.onLayerHover;if(!isNaN(n)){this._pickingRadius=n}if(typeof r!=="undefined"){this._onLayerClick=r}if(typeof i!=="undefined"){this._onLayerHover=i}this._validateEventHandling()}},{key:"_activateViewport",value:function t(e){var n=true;if(n){Object.assign(this.oldContext,this.context);this.context.viewport=e;this.context.viewportChanged=true;this.context.uniforms={};Object(o["a"])(4,e);if(this.context.viewportChanged){var r=true;var i=false;var a=undefined;try{for(var s=this.layers[Symbol.iterator](),u;!(r=(u=s.next()).done);r=true){var l=u.value;l.setChangeFlags({viewportChanged:"Viewport changed"});this._updateLayer(l)}}catch(t){i=true;a=t}finally{try{if(!r&&s.return){s.return()}}finally{if(i){throw a}}}}}f()(this.context.viewport,"LayerManager: viewport not set");return this}},{key:"_getPickingBuffer",value:function t(){var e=this.context.gl;this.context.pickingFBO=this.context.pickingFBO||new h["d"](e);this.context.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height});return this.context.pickingFBO}},{key:"_updateLayers",value:function t(e){var n=e.oldLayers,r=e.newLayers;var i={};var a=true;var s=false;var u=undefined;try{for(var l=n[Symbol.iterator](),c;!(a=(c=l.next()).done);a=true){var f=c.value;if(i[f.id]){o["a"].warn("Multiple old layers with same id "+Pe(f))}else{i[f.id]=f}}}catch(t){s=true;u=t}finally{try{if(!a&&l.return){l.return()}}finally{if(s){throw u}}}var h=[];var p=this._updateSublayersRecursively({newLayers:r,oldLayerMap:i,generatedLayers:h});var d=this._finalizeOldLayers(i);var v=p||d;return{error:v,generatedLayers:h}}},{key:"_updateSublayersRecursively",value:function t(e){var n=e.newLayers,r=e.oldLayerMap,i=e.generatedLayers;var a=null;var s=true;var u=false;var l=undefined;try{for(var c=n[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;h.context=this.context;var p=r[h.id];if(p===null){o["a"].warn("Multiple new layers with same id "+Pe(h))}r[h.id]=null;var d=null;try{if(!p){this._initializeLayer(h);K(h)}else{this._transferLayerState(p,h);this._updateLayer(h);$(h)}i.push(h);d=h.isComposite&&h.getSubLayers()}catch(t){o["a"].warn("error during matching of "+Pe(h),t);a=a||t}if(d){this._updateSublayersRecursively({newLayers:d,oldLayerMap:r,generatedLayers:i})}}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}return a}},{key:"_finalizeOldLayers",value:function t(e){var n=null;for(var r in e){var i=e[r];if(i){n=n||this._finalizeLayer(i)}}return n}},{key:"_initializeLayer",value:function t(e){f()(!e.state);Object(o["a"])(Fe,"initializing "+Pe(e));var n=null;try{e._initialize();e.lifecycle=l["b"].INITIALIZED}catch(t){o["a"].warn("error while initializing "+Pe(e)+"\n",t);n=n||t}f()(e.state);e.state.layer=e;var r=true;var i=false;var a=undefined;try{for(var s=e.getModels()[Symbol.iterator](),u;!(r=(u=s.next()).done);r=true){var c=u.value;c.userData.layer=e}}catch(t){i=true;a=t}finally{try{if(!r&&s.return){s.return()}}finally{if(i){throw a}}}return n}},{key:"_transferLayerState",value:function t(e,n){if(n!==e){Object(o["a"])(Oe,"matched "+Pe(n),e,"->",n);n.lifecycle=l["b"].MATCHED;e.lifecycle=l["b"].AWAITING_GC;n._transferState(e)}else{o["a"].log(Oe,"Matching layer is unchanged "+n.id);n.lifecycle=l["b"].MATCHED;n.oldProps=n.props}}},{key:"_updateLayer",value:function t(e){o["a"].log(Oe,"updating "+e+" because: "+e.printChangeFlags());var n=null;try{e._update()}catch(t){o["a"].warn("error during update of "+Pe(e),t);n=t}return n}},{key:"_finalizeLayer",value:function t(e){f()(e.state);f()(e.lifecycle!==l["b"].AWAITING_FINALIZATION);e.lifecycle=l["b"].AWAITING_FINALIZATION;var n=null;this.setNeedsRedraw("finalized "+Pe(e));try{e._finalize()}catch(t){o["a"].warn("error during finalization of "+Pe(e),t);n=t}e.lifecycle=l["b"].FINALIZED;Object(o["a"])(Fe,"finalizing "+Pe(e));return n}},{key:"_validateEventHandling",value:function t(){if(this.onLayerClick||this.onLayerHover){if(this.layers.length&&!this.layers.some(function(t){return t.props.pickable})){o["a"].warn("You have supplied a top-level input event handler (e.g. `onLayerClick`), "+"but none of your layers have set the `pickable` flag.")}}}},{key:"_onClick",value:function t(e){if(!e.offsetCenter){return}this._pickAndCallback({callback:this._onLayerClick,event:e,mode:"click"})}},{key:"_onPointerMove",value:function t(e){if(e.isDown){return}this._pickAndCallback({callback:this._onLayerHover,event:e,mode:"hover"})}},{key:"_onPointerLeave",value:function t(e){this.pickObject({x:-1,y:-1,radius:this._pickingRadius,mode:"hover"})}},{key:"_pickAndCallback",value:function t(e){var n=e.event.offsetCenter;var r=this._pickingRadius;var i=this.pickObject({x:n.x,y:n.y,radius:r,mode:e.mode});if(e.callback){var o=i.find(function(t){return t.index>=0})||null;e.callback(o,i,e.event.srcEvent)}}},{key:"_initSeer",value:function t(){this.layers.forEach(function(t){K(t);$(t)})}},{key:"_editSeer",value:function t(e){if(e.type!=="edit"||e.valuePath[0]!=="props"){return}H(e.itemKey,e.valuePath.slice(1),e.value);var n=this.layers.map(function(t){return new t.constructor(t.props)});this.updateLayers({newLayers:n})}}]);return t}();var De=Ue;var ze=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function je(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ve(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ge(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Xe=function(t){Ge(e,t);function e(t){je(this,e);return Ve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}ze(e,[{key:"getSubLayers",value:function t(){return this.internalState.subLayers||[]}},{key:"initializeState",value:function t(){}},{key:"getPickingInfo",value:function t(e){var n=e.info;return n}},{key:"renderLayers",value:function t(){return null}},{key:"getSubLayerProps",value:function t(e){var n=this.props,r=n.opacity,i=n.pickable,o=n.visible,a=n.parameters,s=n.getPolygonOffset,u=n.highlightedObjectIndex,l=n.autoHighlight,c=n.highlightColor,f=n.coordinateSystem,h=n.coordinateOrigin,p=n.modelMatrix;var d={opacity:r,pickable:i,visible:o,parameters:a,getPolygonOffset:s,highlightedObjectIndex:u,autoHighlight:l,highlightColor:c,coordinateSystem:f,coordinateOrigin:h,modelMatrix:p};if(e){Object.assign(d,e,{id:this.props.id+"-"+e.id,updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers)})}return d}},{key:"_renderLayers",value:function t(){var e=this.internalState.subLayers;if(e&&!this.needsUpdate()){o["a"].log(3,"Composite layer reused subLayers "+this,this.internalState.subLayers)}else{e=this.renderLayers();e=Me(e,{filter:Boolean});this.internalState.subLayers=e;o["a"].log(2,"Composite layer rendered new subLayers "+this,e)}var n=true;var r=false;var i=undefined;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var u=s.value;u.parentLayer=this}}catch(t){r=true;i=t}finally{try{if(!n&&a.return){a.return()}}finally{if(r){throw i}}}}},{key:"isComposite",get:function t(){return true}}]);return e}(ht);var We=Xe;var Ze=n("g4SV");var Qe=n.n(Ze);function He(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ye(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Je(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var qe=Math.PI/180;var Ke=function(t){Je(e,t);function e(t){var n=t.width,r=t.height,i=t.eye,o=t.lookAt,a=o===undefined?[0,0,0]:o,s=t.up,u=s===undefined?[0,1,0]:s,l=t.fovy,c=l===undefined?75:l,f=t.near,h=f===undefined?1:f,p=t.far,d=p===undefined?100:p,v=t.aspect,m=v===undefined?null:v;He(this,e);var g=c*qe;m=Number.isFinite(m)?m:n/r;return Ye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{viewMatrix:Qe()([],i,a,u),projectionMatrix:ee()([],g,m,h,d),width:n,height:r}))}return e}(de);var $e=Ke;var tn=n("CrXW");var en=n.n(tn);function nn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function rn(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function on(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var an=function(t){on(e,t);function e(t){var n=t.width,r=t.height,i=t.eye,o=i===undefined?[0,0,1]:i,a=t.lookAt,s=a===undefined?[0,0,0]:a,u=t.up,l=u===undefined?[0,1,0]:u,c=t.near,f=c===undefined?1:c,h=t.far,p=h===undefined?100:h,d=t.left,v=t.top,m=t.right,g=m===undefined?null:m,y=t.bottom,_=y===undefined?null:y;nn(this,e);g=Number.isFinite(g)?g:d+n;_=Number.isFinite(_)?_:v+r;return rn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{viewMatrix:Qe()([],o,s,l),projectionMatrix:en()([],d,g,_,v,f,p),width:n,height:r}))}return e}(de);var sn=an;var un=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function ln(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var cn=Wt["experimental"].SphericalCoordinates;var fn={position:[0,0,0],lookAt:[0,0,0],up:[0,0,1],rotationX:0,rotationY:0,fov:50,near:1,far:100};function hn(t,e){return Number.isFinite(t)?t:e}var pn=[0,0,0];var dn=function(){function t(e){ln(this,t);var n=e.width,r=e.height,i=e.position,o=i===undefined?pn:i,a=e.bearing,s=e.pitch,u=e.longitude,l=e.latitude,c=e.zoom;f()(Number.isFinite(n),"`width` must be supplied");f()(Number.isFinite(r),"`height` must be supplied");this._viewportProps=this._applyConstraints(Object.assign({},e,{width:n,height:r,position:new Wt["Vector3"](hn(o&&o[0],fn.position[0]),hn(o&&o[1],fn.position[1]),hn(o&&o[2],fn.position[2])),bearing:hn(a,fn.bearing),pitch:hn(s,fn.pitch),longitude:u,latitude:l,zoom:c}))}un(t,[{key:"getViewportProps",value:function t(){return this._viewportProps}},{key:"getDirection",value:function t(){var e=new cn({bearing:this._viewportProps.bearing,pitch:this._viewportProps.pitch});var n=e.toVector3().normalize();return n}},{key:"getDirectionFromBearing",value:function t(e){var n=new cn({bearing:e,pitch:90});var r=n.toVector3().normalize();return r}},{key:"_applyConstraints",value:function t(e){return e}}]);return t}();var vn=dn;var mn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var gn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function yn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _n(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function bn(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xn=1;var wn=2;function En(t,e,n){return t<e?e:t>n?n:t}function Tn(t,e){return Number.isFinite(t)?t:e}var In=function(t){bn(e,t);function e(t){var n=t.width,r=t.height,i=t.position,o=t.bearing,a=t.pitch,s=t.longitude,u=t.latitude,l=t.zoom,c=t.syncBearing,f=c===undefined?true:c,h=t.bounds,p=t.startPanEventPosition,d=t.startPanPosition,v=t.startRotateCenter,m=t.startRotateViewport,g=t.startZoomPos,y=t.startZoom;yn(this,e);var _=_n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{width:n,height:r,position:i,bearing:o,pitch:a,longitude:s,latitude:u,zoom:l}));_._interactiveState={startPanEventPosition:p,startPanPosition:d,startRotateCenter:v,startRotateViewport:m,startZoomPos:g,startZoom:y};return _}gn(e,[{key:"getInteractiveState",value:function t(){return this._interactiveState}},{key:"panStart",value:function t(e){var n=e.pos;var r=this._viewportProps,i=r.translationX,o=r.translationY;return this._getUpdatedState({startPanPosition:[i,o],startPanEventPosition:n})}},{key:"pan",value:function t(e){var n=e.pos,r=e.startPos;var i=this._interactiveState.startPanEventPosition||r;f()(i,"`startPanEventPosition` props is required");var o=this._interactiveState.startPanPosition||[],a=mn(o,2),s=a[0],u=a[1];s=Tn(s,this._viewportProps.translationX);u=Tn(u,this._viewportProps.translationY);var l=n[0]-i[0];var c=n[1]-i[1];return this._getUpdatedState({translationX:s+l,translationY:u-c})}},{key:"panEnd",value:function t(){return this._getUpdatedState({startPanPosition:null,startPanPos:null})}},{key:"rotateStart",value:function t(e){var n=e.pos;return this._getUpdatedState({startRotateCenter:this._viewportProps.position,startRotateViewport:this._viewportProps})}},{key:"rotate",value:function t(e){var n=e.deltaScaleX,r=e.deltaScaleY;var i=this._viewportProps,o=i.bearing,a=i.pitch;return this._getUpdatedState({bearing:o+n*10,pitch:a-r*10})}},{key:"rotateEnd",value:function t(){return this._getUpdatedState({startRotateCenter:null,startRotateViewport:null})}},{key:"zoomStart",value:function t(e){var n=e.pos;return this._getUpdatedState({startZoomPos:n,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function t(e){var n=e.pos,r=e.startPos,i=e.scale;var o=this._viewportProps,t=o.zoom,a=o.minZoom,s=o.maxZoom,u=o.width,l=o.height,c=o.translationX,f=o.translationY;var h=this._interactiveState.startZoomPos||r||n;var p=En(t*i,a,s);var d=n[0]-h[0];var v=n[1]-h[1];var m=h[0]-u/2;var g=l/2-h[1];var y=m-(m-c)*p/t+d;var _=g-(g-f)*p/t-v;return p/t<1?this.moveBackward():this.moveForward()}},{key:"zoomEnd",value:function t(){return this._getUpdatedState({startZoomPos:null,startZoom:null})}},{key:"moveLeft",value:function t(){var e=this._viewportProps.bearing;var n=e-wn;return this._getUpdatedState({bearing:n})}},{key:"moveRight",value:function t(){var e=this._viewportProps.bearing;var n=e+wn;return this._getUpdatedState({bearing:n})}},{key:"moveForward",value:function t(){var e=this._viewportProps.position;var n=this.getDirection();var r=new Wt["Vector3"](n).normalize().scale(xn);return this._getUpdatedState({position:new Wt["Vector3"](e).add(r)})}},{key:"moveBackward",value:function t(){var e=this._viewportProps.position;var n=this.getDirection();var r=new Wt["Vector3"](n).normalize().scale(-xn);return this._getUpdatedState({position:new Wt["Vector3"](e).add(r)})}},{key:"moveUp",value:function t(){var e=this._viewportProps.position;var n=[0,0,1];return this._getUpdatedState({position:new Wt["Vector3"](e).add(n)})}},{key:"moveDown",value:function t(){var e=this._viewportProps.position;var n=e[2]>=1?[0,0,-1]:[0,0,0];return this._getUpdatedState({position:new Wt["Vector3"](e).add(n)})}},{key:"zoomIn",value:function t(){return this._getUpdatedState({zoom:this._viewportProps.zoom+.2})}},{key:"zoomOut",value:function t(){return this._getUpdatedState({zoom:this._viewportProps.zoom-.2})}},{key:"_getUpdatedState",value:function t(n){return new e(Object.assign({},this._viewportProps,this._interactiveState,n))}}]);return e}(vn);var Cn=In;var Mn=n("7sUI");var An=n.n(Mn);var Sn=n("CrZV");var Rn=n.n(Sn);var Ln=n("SO7G");var kn=n.n(Ln);var Nn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Fn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function On(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function Bn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Pn(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Un(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Dn=Math.PI/180;var zn=function(t){Un(e,t);function e(t){var n=t.id,r=n===undefined?"orbit-viewport":n,i=t.width,o=t.height,a=t.distance,s=t.rotationX,u=s===undefined?0:s,l=t.rotationOrbit,c=l===undefined?0:l,f=t.orbitAxis,h=f===undefined?"Z":f,p=t.lookAt,d=p===undefined?[0,0,0]:p,v=t.up,m=v===undefined?[0,1,0]:v,g=t.fov,y=g===undefined?75:g,_=t.near,b=_===undefined?1:_,x=t.far,w=x===undefined?100:x,E=t.zoom,T=E===undefined?1:E;Bn(this,e);var I=An()([],Vt(),-u/180*Math.PI);if(h==="Z"){kn()(I,I,-c/180*Math.PI)}else{Rn()(I,I,-c/180*Math.PI)}var C=Vt();Qt()(C,C,[T,T,T]);Yt()(C,C,[-d[0],-d[1],-d[2]]);var M=Qe()([],[0,0,a],[0,0,0],m);var A=y*Dn;var S=i/o;var R=ee()([],A,S,b,w);var L=Pn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{id:r,viewMatrix:qt()(M,M,qt()(I,I,C)),projectionMatrix:R,width:i,height:o}));L.width=i;L.height=o;L.distance=a;L.rotationX=u;L.rotationOrbit=c;L.orbitAxis=h;L.lookAt=d;L.up=m;L.fov=y;L.near=b;L.far=w;L.zoom=T;return L}Fn(e,[{key:"project",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?false:r;var o=jt(this.pixelProjectionMatrix,[].concat(On(e),[1]));var a=Nn(o,3),s=a[0],u=a[1],l=a[2];var c=i?this.height-u:u;return[s,c,l]}},{key:"unproject",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?false:r;var o=Nn(e,3),a=o[0],s=o[1],u=o[2];var l=i?this.height-s:s;return jt(this.pixelUnprojectionMatrix,[a,l,u,1])}},{key:"fitBounds",value:function t(n){var r=this.width,i=this.height,o=this.rotationX,a=this.rotationOrbit,s=this.orbitAxis,u=this.lookAt,l=this.up,c=this.fov,f=this.near,h=this.far,p=this.zoom;var d=Math.max(n[0],n[1],n[2])/2;var v=d/Math.tan(c/180*Math.PI/2);return new e({width:r,height:i,rotationX:o,rotationOrbit:a,orbitAxis:s,up:l,fov:c,near:f,far:h,zoom:p,lookAt:u,distance:v})}}]);return e}(de);var jn=zn;zn.displayName="OrbitViewport";var Vn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Gn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Xn={lookAt:[0,0,0],rotationX:0,rotationOrbit:0,fov:50,near:1,far:100,translationX:0,translationY:0,zoom:1};var Wn={minZoom:0,maxZoom:Infinity};function Zn(t,e,n){return t<e?e:t>n?n:t}function Qn(t,e){return Number.isFinite(t)?t:e}var Hn=function(){function t(e){var n=e.width,r=e.height,i=e.distance,o=e.rotationX,a=e.rotationOrbit,s=e.orbitAxis,u=e.bounds,l=e.lookAt,c=e.fov,h=e.near,p=e.far,d=e.translationX,v=e.translationY,m=e.zoom,g=e.minZoom,y=e.maxZoom,_=e.startPanViewport,b=e.startPanPos,x=e.isPanning,w=e.startRotateViewport,E=e.isRotating,T=e.startZoomViewport,I=e.startZoomPos;Gn(this,t);f()(Number.isFinite(n),"`width` must be supplied");f()(Number.isFinite(r),"`height` must be supplied");f()(Number.isFinite(i),"`distance` must be supplied");this._viewportProps=this._applyConstraints({width:n,height:r,distance:i,rotationX:Qn(o,Xn.rotationX),rotationOrbit:Qn(a,Xn.rotationOrbit),orbitAxis:s,bounds:u,lookAt:l||Xn.lookAt,fov:Qn(c,Xn.fov),near:Qn(h,Xn.near),far:Qn(p,Xn.far),translationX:Qn(d,Xn.translationX),translationY:Qn(v,Xn.translationY),zoom:Qn(m,Xn.zoom),minZoom:Qn(g,Wn.minZoom),maxZoom:Qn(y,Wn.maxZoom)});this._interactiveState={startPanViewport:_,startPanPos:b,isPanning:x,startRotateViewport:w,isRotating:E,startZoomViewport:T,startZoomPos:I}}Vn(t,[{key:"getViewportProps",value:function t(){return this._viewportProps}},{key:"getInteractiveState",value:function t(){return this._interactiveState}},{key:"panStart",value:function t(e){var n=e.pos;var r=new jn(this._viewportProps);return this._getUpdatedOrbitState({startPanPos:n,startPanViewport:r})}},{key:"pan",value:function t(e){var n=e.pos,r=e.startPos;if(this._interactiveState.isRotating){return this._getUpdatedOrbitState()}var i=this._interactiveState.startPanPos||r;f()(i,"`startPanPos` props is required");var o=this._interactiveState.startPanViewport||new jn(this._viewportProps);var a=n[0]-i[0];var s=n[1]-i[1];var u=o.project(o.lookAt);var l=o.unproject([u[0]-a,u[1]-s,u[2]]);return this._getUpdatedOrbitState({lookAt:l,isPanning:true})}},{key:"panEnd",value:function t(){return this._getUpdatedOrbitState({startPanViewport:null,startPanPos:null,isPanning:null})}},{key:"rotateStart",value:function t(e){var n=e.pos;var r=new jn(this._viewportProps);return this._getUpdatedOrbitState({startRotateViewport:r})}},{key:"rotate",value:function t(e){var n=e.deltaScaleX,r=e.deltaScaleY;if(this._interactiveState.isPanning){return this._getUpdatedOrbitState()}var i=this._interactiveState.startRotateViewport;var o=i||{},a=o.rotationX,s=o.rotationOrbit;a=Qn(a,this._viewportProps.rotationX);s=Qn(s,this._viewportProps.rotationOrbit);var u=Zn(a-r*180,-89.999,89.999);var l=(s-n*180)%360;return this._getUpdatedOrbitState({rotationX:u,rotationOrbit:l,isRotating:true})}},{key:"rotateEnd",value:function t(){return this._getUpdatedOrbitState({startRotateViewport:null,isRotating:null})}},{key:"zoomStart",value:function t(e){var n=e.pos;var r=new jn(this._viewportProps);return this._getUpdatedOrbitState({startZoomViewport:r,startZoomPos:n})}},{key:"zoom",value:function t(e){var n=e.pos,r=e.startPos,i=e.scale;var o=this._viewportProps,t=o.zoom,a=o.minZoom,s=o.maxZoom,u=o.width,l=o.height;var c=this._interactiveState.startZoomPos||r||n;var f=this._interactiveState.startZoomViewport||new jn(this._viewportProps);var h=Zn(t*i,a,s);var p=n[0]-c[0];var d=n[1]-c[1];var v=c[0]-u/2;var m=l/2-c[1];var g=f.project(f.lookAt);var y=g[0]-v+v*h/t+p;var _=g[1]+m-m*h/t-d;var b=f.unproject([y,_,g[2]]);return this._getUpdatedOrbitState({lookAt:b,zoom:h})}},{key:"zoomEnd",value:function t(){return this._getUpdatedOrbitState({startZoomPos:null})}},{key:"_getUpdatedOrbitState",value:function e(n){return new t(Object.assign({},this._viewportProps,this._interactiveState,n))}},{key:"_applyConstraints",value:function t(e){var n=e.maxZoom,r=e.minZoom,i=e.zoom;e.zoom=i>n?n:i;e.zoom=i<r?r:i;return e}}]);return t}();var Yn=Hn;var Jn=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var qn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Kn(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function $n(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function tr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var er={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60};var nr={pitch:0,bearing:0,altitude:1.5};function rr(t,e){return Number.isFinite(t)?t:e}var ir=function(t){tr(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.width,r=t.height,i=t.latitude,o=t.longitude,a=t.zoom,s=t.bearing,u=t.pitch,l=t.altitude,c=t.maxZoom,h=t.minZoom,p=t.maxPitch,d=t.minPitch,v=t.startPanLngLat,m=t.startZoomLngLat,g=t.startBearing,y=t.startPitch,_=t.startZoom;Kn(this,e);f()(Number.isFinite(o),"`longitude` must be supplied");f()(Number.isFinite(i),"`latitude` must be supplied");f()(Number.isFinite(a),"`zoom` must be supplied");var b=$n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:s,pitch:u,altitude:rr(l,nr.altitude),maxZoom:rr(c,er.maxZoom),minZoom:rr(h,er.minZoom),maxPitch:rr(p,er.maxPitch),minPitch:rr(d,er.minPitch)}));b._interactiveState={startPanLngLat:v,startZoomLngLat:m,startBearing:g,startPitch:y,startZoom:_};return b}qn(e,[{key:"getInteractiveState",value:function t(){return this._interactiveState}},{key:"panStart",value:function t(e){var n=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(n)})}},{key:"pan",value:function t(e){var n=e.pos,r=e.startPos;var i=this._interactiveState.startPanLngLat||this._unproject(r);f()(i,"`startPanLngLat` prop is required "+"for mouse pan behavior to calculate where to position the map.");var o=this._calculateNewLngLat({startPanLngLat:i,pos:n}),a=Jn(o,2),s=a[0],u=a[1];return this._getUpdatedState({longitude:s,latitude:u})}},{key:"panEnd",value:function t(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function t(e){var n=e.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function t(e){var n=e.deltaScaleX,r=e.deltaScaleY;f()(n>=-1&&n<=1,"`deltaScaleX` must be a number between [-1, 1]");f()(r>=-1&&r<=1,"`deltaScaleY` must be a number between [-1, 1]");var i=this._interactiveState,o=i.startBearing,a=i.startPitch;if(!Number.isFinite(o)){o=this._viewportProps.bearing}if(!Number.isFinite(a)){a=this._viewportProps.pitch}var s=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:r,startBearing:o,startPitch:a}),u=s.pitch,l=s.bearing;return this._getUpdatedState({bearing:l,pitch:u})}},{key:"rotateEnd",value:function t(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function t(e){var n=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(n),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function t(e){var n=e.pos,r=e.startPos,i=e.scale;f()(i>0,"`scale` must be a positive number");var o=this._interactiveState.startZoomLngLat||this._unproject(r)||this._unproject(n);var a=this._interactiveState.startZoom;if(!Number.isFinite(a)){a=this._viewportProps.zoom}f()(o,"`startZoomLngLat` prop is required "+"for zoom behavior to calculate where to position the map.");var t=this._calculateNewZoom({scale:i,startZoom:a});var s=new Ce(Object.assign({},this._viewportProps,{zoom:t}));var u=s.getLocationAtPoint({lngLat:o,pos:n}),l=Jn(u,2),c=l[0],h=l[1];return this._getUpdatedState({zoom:t,longitude:c,latitude:h})}},{key:"zoomEnd",value:function t(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"moveLeft",value:function t(){return this._getUpdatedState({bearing:this._viewportProps.bearing-3})}},{key:"moveRight",value:function t(){return this._getUpdatedState({bearing:this._viewportProps.bearing+3})}},{key:"moveForward",value:function t(){return this._getUpdatedState({pitch:this._viewportProps.pitch+3})}},{key:"moveBackward",value:function t(){return this._getUpdatedState({pitch:this._viewportProps.pitch-3})}},{key:"zoomIn",value:function t(){return this._getUpdatedState({zoom:this._viewportProps.zoom+.2})}},{key:"zoomOut",value:function t(){return this._getUpdatedState({zoom:this._viewportProps.zoom-.2})}},{key:"_getUpdatedState",value:function t(n){return new e(Object.assign({},this._viewportProps,this._interactiveState,n))}},{key:"_applyConstraints",value:function t(e){e.longitude=Xt(e.longitude+180,360)-180;e.bearing=Xt(e.bearing+180,360)-180;var n=e.maxZoom,r=e.minZoom,i=e.zoom;e.zoom=i>n?n:i;e.zoom=e.zoom<r?r:e.zoom;var o=e.maxPitch,a=e.minPitch,s=e.pitch;e.pitch=s>o?o:s;e.pitch=e.pitch<a?a:e.pitch;return e}},{key:"_unproject",value:function t(e){var n=new Ce(this._viewportProps);return e&&n.unproject(e,{topLeft:true})}},{key:"_calculateNewLngLat",value:function t(e){var n=e.startPanLngLat,r=e.pos;var i=new Ce(this._viewportProps);return i.getLocationAtPoint({lngLat:n,pos:r})}},{key:"_calculateNewZoom",value:function t(e){var n=e.scale,r=e.startZoom;var i=this._viewportProps,o=i.maxZoom,a=i.minZoom;var s=r+Math.log2(n);s=s>o?o:s;s=s<a?a:s;return s}},{key:"_calculateNewPitchAndBearing",value:function t(e){var n=e.deltaScaleX,r=e.deltaScaleY,i=e.startBearing,o=e.startPitch;var a=this._viewportProps,s=a.minPitch,u=a.maxPitch;var l=i+180*n;var c=o;if(r>0){c=o+r*(u-o)}else if(r<0){c=o-r*(s-o)}return{pitch:c,bearing:l}}}]);return e}(vn);var or=ir;var ar=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var sr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function ur(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var lr=.01;var cr=5;var fr=1.2;var hr={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown","keyup"]};var pr=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};ur(this,t);f()(e);this.ViewportState=e;this.viewportState=null;this.viewportStateProps=null;this.eventManager=null;this._events=null;this._state={isDragging:false};this.handleEvent=this.handleEvent.bind(this);this.setOptions(n);if(this.constructor===t){Object.seal(this)}}sr(t,[{key:"handleEvent",value:function t(e){var n=this.ViewportState;this.viewportState=new n(Object.assign({},this.viewportStateProps,this._state));switch(e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinch":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);case"keyup":return this._onKeyUp(e);default:return false}}},{key:"getCenter",value:function t(e){var n=e.offsetCenter,r=n.x,i=n.y;return[r,i]}},{key:"isFunctionKeyPressed",value:function t(e){var n=e.srcEvent;return Boolean(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}},{key:"isDragging",value:function t(){return this._state.isDragging}},{key:"setOptions",value:function t(e){var n=e.onViewportChange,r=e.onStateChange,i=r===undefined?this.onStateChange:r,o=e.eventManager,a=o===undefined?this.eventManager:o,s=e.scrollZoom,u=s===undefined?true:s,l=e.dragPan,c=l===undefined?true:l,f=e.dragRotate,h=f===undefined?true:f,p=e.doubleClickZoom,d=p===undefined?true:p,v=e.touchZoomRotate,m=v===undefined?true:v,g=e.keyboard,y=g===undefined?true:g;this.onViewportChange=n;this.onStateChange=i;this.viewportStateProps=e;if(this.eventManager!==a){this.eventManager=a;this._events={}}var _=Boolean(this.onViewportChange);this.toggleEvents(hr.WHEEL,_&&u);this.toggleEvents(hr.PAN,_&&(c||h));this.toggleEvents(hr.PINCH,_&&m);this.toggleEvents(hr.DOUBLE_TAP,_&&d);this.toggleEvents(hr.KEYBOARD,_&&y);this.scrollZoom=u;this.dragPan=c;this.dragRotate=h;this.doubleClickZoom=d;this.touchZoomRotate=m}},{key:"toggleEvents",value:function t(e,n){var r=this;if(this.eventManager){e.forEach(function(t){if(r._events[t]!==n){r._events[t]=n;if(n){r.eventManager.on(t,r.handleEvent)}else{r.eventManager.off(t,r.handleEvent)}}})}}},{key:"setState",value:function t(e){Object.assign(this._state,e);if(this.onStateChange){this.onStateChange(this._state)}}},{key:"updateViewport",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=this.viewportState.getViewportProps();var i=e.getViewportProps();if(this.onViewportChange&&Object.keys(i).some(function(t){return r[t]!==i[t]})){var o=this.viewportState.getViewport?this.viewportState.getViewport():null;this.onViewportChange(i,o)}this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"_onPanStart",value:function t(e){var n=this.getCenter(e);var r=this.viewportState.panStart({pos:n}).rotateStart({pos:n});return this.updateViewport(r,{isDragging:true})}},{key:"_onPan",value:function t(e){return this.isFunctionKeyPressed(e)?this._onPanMove(e):this._onPanRotate(e)}},{key:"_onPanEnd",value:function t(e){var n=this.viewportState.panEnd().rotateEnd();return this.updateViewport(n,{isDragging:false})}},{key:"_onPanMove",value:function t(e){if(!this.dragPan){return false}var n=this.getCenter(e);var r=this.viewportState.pan({pos:n});return this.updateViewport(r)}},{key:"_onPanRotate",value:function t(e){return this.viewportState instanceof or?this._onPanRotateMap(e):this._onPanRotateStandard(e)}},{key:"_onPanRotateStandard",value:function t(e){if(!this.dragRotate){return false}var n=e.deltaX,r=e.deltaY;var i=this.viewportState.getViewportProps(),o=i.width,a=i.height;var s=n/o;var u=r/a;var l=this.viewportState.rotate({deltaScaleX:s,deltaScaleY:u});return this.updateViewport(l)}},{key:"_onPanRotateMap",value:function t(e){if(!this.dragRotate){return false}var n=e.deltaX,r=e.deltaY;var i=this.getCenter(e),o=ar(i,2),a=o[1];var s=a-r;var u=this.viewportState.getViewportProps(),l=u.width,c=u.height;var f=n/l;var h=0;if(r>0){if(Math.abs(c-s)>cr){h=r/(s-c)*fr}}else if(r<0){if(s>cr){h=1-a/s}}h=Math.min(1,Math.max(-1,h));var p=this.viewportState.rotate({deltaScaleX:f,deltaScaleY:h});return this.updateViewport(p)}},{key:"_onWheel",value:function t(e){if(!this.scrollZoom){return false}e.srcEvent.preventDefault();var n=this.getCenter(e);var r=e.delta;var i=2/(1+Math.exp(-Math.abs(r*lr)));if(r<0&&i!==0){i=1/i}var o=this.viewportState.zoom({pos:n,scale:i});return this.updateViewport(o)}},{key:"_onPinchStart",value:function t(e){var n=this.getCenter(e);var r=this.viewportState.zoomStart({pos:n});return this.updateViewport(r,{isDragging:true})}},{key:"_onPinch",value:function t(e){if(!this.touchZoomRotate){return false}var n=this.getCenter(e);var r=e.scale;var i=this.viewportState.zoom({pos:n,scale:r});return this.updateViewport(i)}},{key:"_onPinchEnd",value:function t(e){var n=this.viewportState.zoomEnd();return this.updateViewport(n,{isDragging:false})}},{key:"_onDoubleTap",value:function t(e){if(!this.doubleClickZoom){return false}var n=this.getCenter(e);var r=this.isFunctionKeyPressed(e);var i=this.viewportState.zoom({pos:n,scale:r?.5:2});return this.updateViewport(i)}},{key:"_onKeyDown",value:function t(e){if(this.viewportState.isDragging){return}var n={w:"moveForward",W:"moveForward",ArrowUp:"moveForward",s:"moveBackward",S:"moveBackward",ArrowDown:"moveBackward",a:"moveLeft",A:"moveLeft",ArrowLeft:"moveLeft",d:"moveRight",D:"moveRight",ArrowRight:"moveRight","=":"zoomIn","+":"zoomIn","-":"zoomOut","[":"moveDown","]":"moveUp"};var r=e.key;var i=n[r];if(this.viewportState[i]){var o=this.viewportState[i]();this.updateViewport(o)}}},{key:"_onKeyUp",value:function t(e){}}]);return t}();var dr=pr;var vr=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var mr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function gr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function yr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _r(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var br=5;var xr=1.2;var wr=function(t){_r(e,t);function e(t){gr(this,e);return yr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,or,t))}mr(e,[{key:"_onPan",value:function t(e){return this.isFunctionKeyPressed(e)?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanRotate",value:function t(e){if(!this.dragRotate){return false}var n=e.deltaX,r=e.deltaY;var i=this.getCenter(e),o=vr(i,2),a=o[1];var s=a-r;var u=this.viewportState.getViewportProps(),l=u.width,c=u.height;var f=n/l;var h=0;if(r>0){if(Math.abs(c-s)>br){h=r/(s-c)*xr}}else if(r<0){if(s>br){h=1-a/s}}h=Math.min(1,Math.max(-1,h));var p=this.viewportState.rotate({deltaScaleX:f,deltaScaleY:h});return this.updateViewport(p)}}]);return e}(dr);var Er=wr;function Tr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ir(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Cr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Mr=Wt["experimental"].SphericalCoordinates;function Ar(t){var e=t.bearing,n=t.pitch;var r=new Mr({bearing:e,pitch:n});var i=r.toVector3().normalize();return i}var Sr=function(t){Cr(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Tr(this,e);var n=t.modelMatrix,r=n===undefined?null:n,i=t.bearing,o=t.up,a=o===undefined?[0,0,1]:o;var s=Ar({bearing:i,pitch:89});var u=r?r.transformDirection(s):s;var l=(new Wt["Matrix4"]).lookAt({eye:[0,0,0],center:u,up:a});return Ir(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{zoom:null,viewMatrix:l})))}return e}(de);var Rr=Sr;Sr.displayName="FirstPersonViewport";function Lr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function kr(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Nr(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Fr=Wt["experimental"].SphericalCoordinates;function Or(t){var e=t.bearing,n=t.pitch;var r=new Fr({bearing:e,pitch:n});return r.toVector3().normalize()}var Br=function(t){Nr(e,t);function e(t){Lr(this,e);var n=t.bearing,r=t.pitch,i=t.position,o=t.up,a=t.zoom;var s=Or({bearing:n,pitch:r});var u=a*50;var l=s.scale(-u).multiply(new Wt["Vector3"](1,1,-1));var c=(new Wt["Matrix4"]).multiplyRight((new Wt["Matrix4"]).lookAt({eye:l,center:i,up:o}));return kr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{zoom:null,viewMatrix:c})))}return e}(de);var Pr=Br;Br.displayName="ThirdPersonViewport";var Ur=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Dr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var zr=function(){function t(e){var n=e.gl,r=e.layerManager;Dr(this,t);this.gl=n;this.layerManager=r;this._effects=[]}Ur(t,[{key:"addEffect",value:function t(e){this._effects.push(e);this._sortEffects();e.initialize({gl:this.gl,layerManager:this.layerManager})}},{key:"removeEffect",value:function t(e){var n=this._effects.indexOf(e);if(n>=0){e.finalize({gl:this.gl,layerManager:this.layerManager});this._effects.splice(n,1);return true}return false}},{key:"preDraw",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=this._effects[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;if(a.needsRedraw){a.preDraw({gl:this.gl,layerManager:this.layerManager})}}}catch(t){n=true;r=t}finally{try{if(!e&&i.return){i.return()}}finally{if(n){throw r}}}}},{key:"draw",value:function t(){var e=true;var n=false;var r=undefined;try{for(var i=this._effects[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var a=o.value;if(a.needsRedraw){a.draw({gl:this.gl,layerManager:this.layerManager})}}}catch(t){n=true;r=t}finally{try{if(!e&&i.return){i.return()}}finally{if(n){throw r}}}}},{key:"_sortEffects",value:function t(){this._effects.sort(function(t,e){if(t.priority>e.priority){return-1}else if(t.priority<e.priority){return 1}return t.count-e.count})}}]);return t}();var jr=zr;var Vr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Gr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Xr=0;var Wr=function(){function t(){Gr(this,t);this.id="effect";this.count=Xr++;this.visible=true;this.priority=0;this.needsRedraw=false}Vr(t,[{key:"initialize",value:function t(e){var n=e.gl,r=e.layerManager}},{key:"finalize",value:function t(e){var n=e.gl,r=e.layerManager}},{key:"preDraw",value:function t(e){var n=e.gl,r=e.layerManager}},{key:"draw",value:function t(e){var n=e.gl,r=e.layerManager}},{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.needsRedraw=e}}]);return t}();var Zr=Wr;var Qr=n("TfOo");var Hr=n.n(Qr);var Yr=n("KSGD");var Jr=n.n(Yr);var qr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Kr(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function $r(){}var ti={id:Jr.a.string,width:Jr.a.number.isRequired,height:Jr.a.number.isRequired,layers:Jr.a.array.isRequired,viewports:Jr.a.array,effects:Jr.a.arrayOf(Jr.a.instanceOf(Zr)),layerFilter:Jr.a.func,glOptions:Jr.a.object,gl:Jr.a.object,pickingRadius:Jr.a.number,initWebGLParameters:Jr.a.bool,onWebGLInitialized:Jr.a.func,onBeforeRender:Jr.a.func,onAfterRender:Jr.a.func,onLayerClick:Jr.a.func,onLayerHover:Jr.a.func,useDevicePixels:Jr.a.bool,debug:Jr.a.bool,drawPickingColors:Jr.a.bool};var ei={id:"deckgl-overlay",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,effects:[],initWebGLParameters:false,onWebGLInitialized:$r,onBeforeRender:$r,onAfterRender:$r,onLayerClick:null,onLayerHover:null,useDevicePixels:true,debug:false,drawPickingColors:false};var ni=function(){function t(e){var n=this;Kr(this,t);e=Object.assign({},ei,e);this.state={};this.needsRedraw=true;this.layerManager=null;this.effectManager=null;this.viewports=[];this._onRendererInitialized=this._onRendererInitialized.bind(this);this._onRenderFrame=this._onRenderFrame.bind(this);this.canvas=this._createCanvas(e);var r=e,i=r.width,o=r.height,a=r.gl,s=r.glOptions,u=r.debug,l=r.useDevicePixels;this.animationLoop=new h["a"]({width:i,height:o,useDevicePixels:l,onCreateContext:function t(e){return a||Object(h["j"])(Object.assign({},s,{canvas:n.canvas,debug:u}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:e.onBeforeRender,onAfterRender:e.onAfterRender});this.animationLoop.start();this.setProps(e)}qr(t,[{key:"setProps",value:function t(e){e=Object.assign({},this.props,e);this.props=e;if(!this.layerManager){return}var n=e,r=n.layers,i=n.pickingRadius,o=n.onLayerClick,a=n.onLayerHover,s=n.useDevicePixels,u=n.drawPickingColors,l=n.layerFilter;var c=e.viewports||e.viewport;if(!c){var f=e,h=f.width,p=f.height,d=f.latitude,v=f.longitude,m=f.zoom,g=f.pitch,y=f.bearing;c=[new Ce({width:h,height:p,latitude:d,longitude:v,zoom:m,pitch:g,bearing:y})]}this.layerManager.setParameters({layers:r,viewports:c,useDevicePixels:s,drawPickingColors:u,layerFilter:l,pickingRadius:i,onLayerClick:o,onLayerHover:a});this.animationLoop.setViewParameters({useDevicePixels:s})}},{key:"finalize",value:function t(){this.animationLoop.stop();this.animationLoop=null;if(this.layerManager){this.layerManager.finalize();this.layerManager=null}}},{key:"pickObject",value:function t(e){var n=e.x,r=e.y,i=e.radius,o=i===undefined?0:i,a=e.layerIds,s=a===undefined?null:a;var u=this.layerManager.pickObject({x:n,y:r,radius:o,layerIds:s,mode:"query"});return u.length?u[0]:null}},{key:"pickObjects",value:function t(e){var n=e.x,r=e.y,i=e.width,o=i===undefined?1:i,a=e.height,s=a===undefined?1:a,u=e.layerIds,l=u===undefined?null:u;return this.layerManager.pickObjects({x:n,y:r,width:o,height:s,layerIds:l})}},{key:"getViewports",value:function t(){return this.layerManager?this.layerManager.getViewports():[]}},{key:"_createCanvas",value:function t(e){if(e.canvas){return e.canvas}var n=e.id,r=e.width,i=e.height,o=e.style;var a=document.createElement("canvas");a.id=n;a.width=r;a.height=i;a.style=o;var s=e.parent||document.body;s.appendChild(a);return a}},{key:"_onRendererInitialized",value:function t(e){var n=e.gl,r=e.canvas;Object(h["q"])(n,{blend:true,blendFuncSeparate:[h["e"].SRC_ALPHA,h["e"].ONE_MINUS_SRC_ALPHA,h["e"].ONE,h["e"].ONE_MINUS_SRC_ALPHA],polygonOffsetFill:true,depthTest:true,depthFunc:h["e"].LEQUAL});this.props.onWebGLInitialized(n);this.layerManager=new De(n,{eventManager:new Qr["EventManager"](r)});this.effectManager=new jr({gl:n,layerManager:this.layerManager});var i=true;var o=false;var a=undefined;try{for(var s=this.props.effects[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;this.effectManager.addEffect(l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}this.setProps(this.props)}},{key:"_onRenderFrame",value:function t(e){var n=e.gl;var r=this.layerManager.needsRedraw({clearRedrawFlags:true});if(!r){return}this.props.onBeforeRender({gl:n});this.layerManager.drawLayers({pass:"screen",redrawReason:r,drawPickingColors:this.props.drawPickingColors});this.props.onAfterRender({gl:n})}}]);return t}();var ri=ni;ni.propTypes=ti;ni.defaultProps=ei;var ii=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function oi(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ai="-webkit-";var si={GRABBING:ai+"grabbing",GRAB:ai+"grab",POINTER:"pointer"};var ui={width:Jr.a.number.isRequired,height:Jr.a.number.isRequired,longitude:Jr.a.number.isRequired,latitude:Jr.a.number.isRequired,zoom:Jr.a.number.isRequired,bearing:Jr.a.number,pitch:Jr.a.number,altitude:Jr.a.number,maxZoom:Jr.a.number,minZoom:Jr.a.number,maxPitch:Jr.a.number,minPitch:Jr.a.number,onViewportChange:Jr.a.func,scrollZoom:Jr.a.bool,dragPan:Jr.a.bool,dragRotate:Jr.a.bool,doubleClickZoom:Jr.a.bool,touchZoomRotate:Jr.a.bool,getCursor:Jr.a.func,controls:Jr.a.shape({events:Jr.a.arrayOf(Jr.a.string),handleEvent:Jr.a.func})};var li=function t(e){var n=e.isDragging;return n?si.GRABBING:si.GRAB};var ci=Object.assign({},er,{onViewportChange:null,scrollZoom:true,dragPan:true,dragRotate:true,doubleClickZoom:true,touchZoomRotate:true,getCursor:li});var fi=function(){function t(e){oi(this,t);e=Object.assign({},ci,e);this.props=e;this.state={isDragging:false};this.canvas=e.canvas;var n=new Qr["EventManager"](this.canvas);this._eventManager=n;this._controls=this.props.controls||new Er;this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:n}))}ii(t,[{key:"setProps",value:function t(e){e=Object.assign({},this.props,e);this.props=e;this._controls.setOptions(e)}},{key:"finalize",value:function t(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function t(e){var n=e.isDragging,r=n===undefined?false:n;if(r!==this.state.isDragging){this.state.isDragging=r;var i=this.props.getCursor;this.canvas.style.cursor=i(this.state)}}}]);return t}();var hi=fi;fi.displayName="MapController";fi.propTypes=ui;fi.defaultProps=ci;var pi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function di(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var vi="-webkit-";var mi={GRABBING:vi+"grabbing",GRAB:vi+"grab",POINTER:"pointer"};var gi={lookAt:Jr.a.arrayOf(Jr.a.number),distance:Jr.a.number,rotationX:Jr.a.number,rotationY:Jr.a.number,translationX:Jr.a.number,translationY:Jr.a.number,zoom:Jr.a.number,minZoom:Jr.a.number,maxZoom:Jr.a.number,fov:Jr.a.number,near:Jr.a.number,far:Jr.a.number,width:Jr.a.number.isRequired,height:Jr.a.number.isRequired,bounds:Jr.a.object,onViewportChange:Jr.a.func.isRequired,getCursor:Jr.a.func,orbitControls:Jr.a.object};var yi=function t(e){var n=e.isDragging;return n?mi.GRABBING:mi.GRAB};var _i={lookAt:[0,0,0],rotationX:0,rotationY:0,translationX:0,translationY:0,distance:10,zoom:1,minZoom:0,maxZoom:Infinity,fov:50,near:1,far:1e3,getCursor:yi};var bi=function(){pi(t,null,[{key:"getViewport",value:function t(e){return new jn(e)}}]);function t(e){di(this,t);e=Object.assign({},_i,e);this.props=e;this.state={isDragging:false};this.canvas=e.canvas;var n=new Qr["EventManager"](this.canvas);this._eventManager=n;this._controls=e.orbitControls||new dr(Yn);this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:n}))}pi(t,[{key:"setProps",value:function t(e){e=Object.assign({},this.props,e);this.props=e;this._controls.setOptions(e)}},{key:"finalize",value:function t(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function t(e){var n=e.isDragging,r=n===undefined?false:n;if(r!==this.state.isDragging){this.state.isDragging=r;var i=this.props.getCursor;this.canvas.style.cursor=i(this.state)}}}]);return t}();var xi=bi;bi.displayName="OrbitController";bi.propTypes=gi;bi.defaultProps=_i;var wi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Ei(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Ti=function(){function t(){Ei(this,t)}wi(t,[{key:"arePropsEqual",value:function t(e,n){var r=true;var i=false;var o=undefined;try{for(var a=(this.propNames||[])[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var u=s.value;if(!Object(Wt["equals"])(e[u],n[u])){return false}}}catch(t){i=true;o=t}finally{try{if(!r&&a.return){a.return()}}finally{if(i){throw o}}}return true}},{key:"initializeProps",value:function t(e,n){return{start:e,end:n}}},{key:"interpolateProps",value:function t(e,n,r){f()(false,"interpolateProps is not implemented")}}]);return t}();var Ii=Ti;var Ci=["width","height","longitude","latitude","zoom","bearing","pitch","position"];var Mi={longitude:1,bearing:1};function Ai(t,e,n){if(Array.isArray(t)){return t.map(function(t,r){return Ai(t,e[r],n)})}return n*e+(1-n)*t}function Si(t){return Number.isFinite(t)||Array.isArray(t)}function Ri(t){return Mi[t]}function Li(t,e,n){if(Ri(t)&&Math.abs(n-e)>180){n=n<0?n+360:n-360}return n}function ki(t){var e={};Ci.forEach(function(n){var r=t[n];if(Si(r)){e[n]=r;if(Ri(n)){e[n]=Xt(r+180,360)-180}}});return e}var Ni=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Fi(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Oi(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Bi(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Pi=["longitude","latitude","zoom","bearing","pitch"];var Ui=function(t){Bi(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Pi;Fi(this,e);var n=Oi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.propNames=t;return n}Ni(e,[{key:"initializeProps",value:function t(e,n){var r={};var i={};var o=true;var a=false;var s=undefined;try{for(var u=this.propNames[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;var h=e[c];var p=n[c];f()(Si(h)&&Si(p),c+" must be supplied for transition");r[c]=h;i[c]=Li(c,h,p)}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return{start:r,end:i}}},{key:"interpolateProps",value:function t(e,n,r){var i={};var o=true;var a=false;var s=undefined;try{for(var u=this.propNames[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;i[c]=Ai(e[c],n[c],r)}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return i}}]);return e}(Ii);var Di=Ui;var zi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function ji(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Vi=function t(){};var Gi={BREAK:1,SNAP_TO_END:2,IGNORE:3};var Xi={transitionDuration:0,transitionEasing:function t(e){return e},transitionInterpolator:new Di,transitionInterruption:Gi.BREAK,onTransitionStart:Vi,onTransitionInterrupt:Vi,onTransitionEnd:Vi};var Wi={animation:null,propsInTransition:null,startProps:null,endProps:null};var Zi=function(){function t(e){ji(this,t);this.props=e;this.state=Wi;this._onTransitionFrame=this._onTransitionFrame.bind(this)}zi(t,[{key:"getViewportInTransition",value:function t(){return this.state.propsInTransition}},{key:"processViewportChange",value:function t(e){var n=false;var r=this.props;this.props=e;if(this._shouldIgnoreViewportChange(r,e)){return n}var i=this._isTransitionInProgress();if(this._isTransitionEnabled(e)){var o=Object.assign({},r,this.state.interruption===Gi.SNAP_TO_END?this.state.endProps:this.state.propsInTransition||r);if(i){r.onTransitionInterrupt()}e.onTransitionStart();this._triggerTransition(o,e);n=true}else if(i){r.onTransitionInterrupt();this._endTransition()}return n}},{key:"_isTransitionInProgress",value:function t(){return this.state.propsInTransition}},{key:"_isTransitionEnabled",value:function t(e){return e.transitionDuration>0&&e.transitionInterpolator}},{key:"_isUpdateDueToCurrentTransition",value:function t(e){if(this.state.propsInTransition){return this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}return false}},{key:"_shouldIgnoreViewportChange",value:function t(e,n){if(this._isTransitionInProgress()){return this.state.interruption===Gi.IGNORE||this._isUpdateDueToCurrentTransition(n)}else if(this._isTransitionEnabled(n)){return n.transitionInterpolator.arePropsEqual(e,n)}return true}},{key:"_triggerTransition",value:function t(e,n){f()(this._isTransitionEnabled(n),"Transition is not enabled");cancelAnimationFrame(this.state.animation);var r=n.transitionInterpolator.initializeProps(e,n);this.state={duration:n.transitionDuration,easing:n.transitionEasing,interpolator:n.transitionInterpolator,interruption:n.transitionInterruption,startTime:Date.now(),startProps:r.start,endProps:r.end,animation:null,propsInTransition:{}};this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function t(){this.state.animation=requestAnimationFrame(this._onTransitionFrame);this._updateViewport()}},{key:"_endTransition",value:function t(){cancelAnimationFrame(this.state.animation);this.state=Wi}},{key:"_updateViewport",value:function t(){var e=Date.now();var n=this.state,r=n.startTime,i=n.duration,o=n.easing,a=n.interpolator,s=n.startProps,u=n.endProps;var l=false;var c=(e-r)/i;if(c>=1){c=1;l=true}c=o(c);var f=a.interpolateProps(s,u,c);this.state.propsInTransition=ki(Object.assign({},this.props,f));if(this.props.onViewportChange){this.props.onViewportChange(this.state.propsInTransition,{inTransition:true})}if(l){this._endTransition();this.props.onTransitionEnd()}}}]);return t}();var Qi=Zi;Zi.defaultProps=Xi;var Hi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Yi(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ji(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function qi(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ki=.01;var $i=["longitude","latitude","zoom","bearing","pitch"];var to=["latitude","longitude","zoom","width","height"];var eo=["bearing","pitch"];var no=["latitude","longitude","zoom"];var ro=function(t){qi(e,t);function e(){Yi(this,e);var t=Ji(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.propNames=$i;return t}Hi(e,[{key:"initializeProps",value:function t(e,n){var r={};var i={};var o=true;var a=false;var s=undefined;try{for(var u=to[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;var h=e[c];var p=n[c];f()(Si(h)&&Si(p),c+" must be supplied for transition");r[c]=h;i[c]=Li(c,h,p)}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}var d=true;var v=false;var m=undefined;try{for(var g=eo[Symbol.iterator](),y;!(d=(y=g.next()).done);d=true){var _=y.value;var b=e[_]||0;var x=n[_]||0;r[_]=b;i[_]=Li(_,b,x)}}catch(t){v=true;m=t}finally{try{if(!d&&g.return){g.return()}}finally{if(v){throw m}}}return{start:r,end:i}}},{key:"interpolateProps",value:function t(e,n,r){return so(e,n,r)}}]);return e}(Ii);var io=ro;function oo(t){return Math.pow(2,t)}function ao(t){return Math.log2(t)}function so(t,e,n){var r={};var i=1.414;var o=t.zoom;var a=[t.longitude,t.latitude];var s=oo(o);var u=e.zoom;var l=[e.longitude,e.latitude];var c=oo(u-o);var f=new Wt["Vector2"](Object(ie["g"])(a,s));var h=new Wt["Vector2"](Object(ie["g"])(l,s));var p=h.subtract(f);var d=Math.max(t.width,t.height);var v=d/c;var m=Math.sqrt(p.x*p.x+p.y*p.y);var g=true;var y=false;var _=undefined;try{for(var b=eo[Symbol.iterator](),x;!(g=(x=b.next()).done);g=true){var w=x.value;r[w]=Ai(t[w],e[w],n)}}catch(t){y=true;_=t}finally{try{if(!g&&b.return){b.return()}}finally{if(y){throw _}}}if(Math.abs(m)<Ki){var E=true;var T=false;var I=undefined;try{for(var C=no[Symbol.iterator](),M;!(E=(M=C.next()).done);E=true){var A=M.value;var S=t[A];var R=e[A];r[A]=Ai(S,R,n)}}catch(t){T=true;I=t}finally{try{if(!E&&C.return){C.return()}}finally{if(T){throw I}}}return r}var L=i*i;var k=(v*v-d*d+L*L*m*m)/(2*d*L*m);var N=(v*v-d*d-L*L*m*m)/(2*v*L*m);var F=Math.log(Math.sqrt(k*k+1)-k);var O=Math.log(Math.sqrt(N*N+1)-N);var B=(O-F)/i;var P=n*B;var U=Math.cosh(F)/Math.cosh(F+i*P);var D=d*((Math.cosh(F)*Math.tanh(F+i*P)-Math.sinh(F))/L)/m;var z=1/U;var j=o+ao(z);var V=Object(ie["h"])(f.add(p.scale(D)).scale(z),oo(j));r.longitude=V[0];r.latitude=V[1];r.zoom=j;return r}var uo=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function lo(t,e){var n=mo(e);var r=t;var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;if(!co(r)){return undefined}var c=vo(r);r=c(r,l)}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return r}function co(t){return t!==null&&(typeof t==="undefined"?"undefined":uo(t))==="object"}var fo=function t(e,n){return e[n]};var ho=function t(e,n){return e.get(n)};var po={};function vo(t){var e=Object.getPrototypeOf(t);return e.get?ho:fo}function mo(t){if(typeof t==="string"){var e=po[t];if(!e){e=t.split(".");po[t]=e}return e}return Array.isArray(t)?t:[t]}var go=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var yo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function _o(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function bo(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function xo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var wo=function t(e){return e.length};var Eo=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:wo;xo(this,t);this.sortedBins=this.getSortedBins(e,n);this.maxCount=this.getMaxCount();this.binMap=this.getBinMap()}yo(t,[{key:"getSortedBins",value:function t(e,n){return e.reduce(function(t,e,r){var i=n(e.points);if(i!==null&&i!==undefined){t.push({i:Number.isFinite(e.index)?e.index:r,value:i,counts:e.points.length})}return t},[]).sort(function(t,e){return t.value-e.value})}},{key:"getValueRange",value:function t(e){var n=go(e,2),r=n[0],i=n[1];var o=this.sortedBins.length;if(!o){return[0,0]}var a=Math.ceil(r/100*(o-1));var s=Math.floor(i/100*(o-1));return[this.sortedBins[a].value,this.sortedBins[s].value]}},{key:"getMaxCount",value:function t(){return Math.max.apply(Math,bo(this.sortedBins.map(function(t){return t.counts})))}},{key:"getBinMap",value:function t(){return this.sortedBins.reduce(function(t,e){return Object.assign(t,_o({},e.i,e))},{})}}]);return t}();var To=Eo;var Io=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];var Co=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function Mo(t,e,n){return(n-t[0])/(t[1]-t[0])*(e[1]-e[0])+e[0]}function Ao(t,e,n){var r=(t[1]-t[0])/e.length;var i=Math.floor((n-t[0])/r);var o=Math.max(Math.min(i,e.length-1),0);return e[o]}function So(t,e){return function(n){var r=(t[1]-t[0])/e.length;var i=Math.floor((n-t[0])/r);var o=Math.max(Math.min(i,e.length-1),0);return e[o]}}function Ro(t,e){return function(n){return(n-t[0])/(t[1]-t[0])*(e[1]-e[0])+e[0]}}function Lo(t,e){var n=Co(t,2),r=n[0],i=n[1];return Math.min(i,Math.max(r,e))}function ko(t){var e=Math.fround(t);var n=t-Math.fround(t);return[e,n]}function No(t){if(t.fp64){if(t.coordinateSystem===l["a"].LNGLAT){return true}o["a"].once(0,"64-bit mode only works with coordinateSystem set to\n      COORDINATE_SYSTEM.LNGLAT. Rendering in 32-bit mode instead")}return false}var Fo={ViewportControls:dr,FirstPersonState:Cn,OrbitState:Yn,MapState:or,Controller:dr,MapController:Er,FirstPersonViewport:Rr,ThirdPersonViewport:Pr,OrbitViewport:jn,DeckGLJS:ri,MapControllerJS:hi,OrbitControllerJS:xi,EffectManager:jr,Effect:Zr,TRANSITION_EVENTS:Gi,LinearInterpolator:Di,ViewportFlyToInterpolator:io,TransitionManager:Qi,extractViewportFrom:ki,BinSorter:To,linearScale:Mo,getLinearScale:Ro,quantizeScale:Ao,getQuantizeScale:So,clamp:Lo,defaultColorRange:Io,log:o["a"],get:lo,count:V,flatten:Me,countVertices:Se,flattenVertices:Re,fillArray:Le,enable64bitSupport:No,fp64ify:ko};var Oo="#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec4 instancePositions;\nattribute vec3 instancePickingColors;\n\nuniform float numSegments;\nuniform vec2 viewportSize;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * viewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = offset_screenspace / viewportSize * 2.0;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\n\nvoid main(void) {\n  vec2 source = project_position(instancePositions.xy);\n  vec2 target = project_position(instancePositions.zw);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec3 currPos = getPos(source, target, segmentRatio);\n  vec3 nextPos = getPos(source, target, nextSegmentRatio);\n  vec4 curr = project_to_clipspace(vec4(currPos, 1.0));\n  vec4 next = project_to_clipspace(vec4(nextPos, 1.0));\n\n  // extrude\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y);\n  gl_Position = curr + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Bo="#define SHADER_NAME arc-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\n\nattribute vec4 instancePositions;\nattribute vec4 instancePositions64Low;\n\nattribute vec3 instancePickingColors;\n\nuniform float numSegments;\nuniform vec2 viewportSize;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvec2 paraboloid_fp64(vec2 source[2], vec2 target[2], float ratio) {\n\n  vec2 x[2];\n  vec2_mix_fp64(source, target, ratio, x);\n  vec2 center[2];\n  vec2_mix_fp64(source, target, 0.5, center);\n\n  vec2 dSourceCenter = vec2_distance_fp64(source, center);\n  vec2 dXCenter = vec2_distance_fp64(x, center);\n  return mul_fp64(sum_fp64(dSourceCenter, dXCenter), sub_fp64(dSourceCenter, dXCenter));\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * viewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = offset_screenspace / viewportSize * 2.0;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvoid get_pos_fp64(vec2 source[2], vec2 target[2], float segmentRatio, out vec2 position[4]) {\n\n  vec2 vertex_height = paraboloid_fp64(source, target, segmentRatio);\n\n  vec2 position_temp[2];\n\n  vec2_mix_fp64(source, target, segmentRatio, position_temp);\n\n  position[0] = position_temp[0];\n  position[1] = position_temp[1];\n\n  if (vertex_height.x < 0.0 || (vertex_height.x == 0.0 && vertex_height.y <= 0.0)) {\n    vertex_height = vec2(0.0, 0.0);\n  }\n\n  position[2] = sqrt_fp64(vertex_height);\n  position[3] = vec2(1.0, 0.0);\n}\n\nvoid main(void) {\n  vec4 instanceSourcePositions64 = vec4(instancePositions.x,\n    instancePositions64Low.x, instancePositions.y, instancePositions64Low.y);\n  vec4 instanceTargetPositions64 = vec4(instancePositions.z,\n    instancePositions64Low.z, instancePositions.w, instancePositions64Low.w);\n\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instanceSourcePositions64, projected_source_coord);\n  project_position_fp64(instanceTargetPositions64, projected_target_coord);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec2 curr_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, segmentRatio,\n    curr_pos_modelspace);\n\n  vec2 next_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, nextSegmentRatio,\n    next_pos_modelspace);\n\n  vec4 curr_pos_clipspace = project_to_clipspace_fp64(curr_pos_modelspace);\n  vec4 next_pos_clipspace = project_to_clipspace_fp64(next_pos_modelspace);\n\n  vec2 offset = getExtrusionOffset(next_pos_clipspace.xy - curr_pos_clipspace.xy, positions.y);\n\n  gl_Position = curr_pos_clipspace + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Po="#define SHADER_NAME arc-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Uo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Do=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function zo(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function jo(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Vo(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Go=Fo.fp64ify,Xo=Fo.enable64bitSupport;var Wo=[0,0,0,255];var Zo={strokeWidth:1,fp64:false,getSourcePosition:function t(e){return e.sourcePosition},getTargetPosition:function t(e){return e.targetPosition},getSourceColor:function t(e){return e.color||Wo},getTargetColor:function t(e){return e.color||Wo}};var Qo=function(t){Vo(e,t);function e(){zo(this,e);return jo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Uo(e,[{key:"getShaders",value:function t(){return Xo(this.props)?{vs:Bo,fs:Po,modules:["project64","picking"]}:{vs:Oo,fs:Po,modules:["picking"]}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});var n=this.state.attributeManager;n.addInstanced({instancePositions:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions},instanceSourceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getSourceColor",update:this.calculateInstanceSourceColors},instanceTargetColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getTargetColor",update:this.calculateInstanceTargetColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64Low:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions64Low}})}else{o.remove(["instancePositions64Low"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;Do(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o})}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props.strokeWidth;this.state.model.render(Object.assign({},n,{strokeWidth:r}))}},{key:"_getModel",value:function t(e){var n=[];var r=50;for(var i=0;i<r;i++){n=n.concat([i,-1,0,i,1,0])}var o=new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLE_STRIP,attributes:{positions:new Float32Array(n)}}),isInstanced:true,shaderCache:this.context.shaderCache}));o.setUniforms({numSegments:r});return o}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getSourcePosition,o=n.getTargetPosition;var a=e.value,s=e.size;var u=0;var l=true;var c=false;var f=undefined;try{for(var h=r[Symbol.iterator](),p;!(l=(p=h.next()).done);l=true){var d=p.value;var v=i(d);var m=o(d);a[u+0]=v[0];a[u+1]=v[1];a[u+2]=m[0];a[u+3]=m[1];u+=s}}catch(t){c=true;f=t}finally{try{if(!l&&h.return){h.return()}}finally{if(c){throw f}}}}},{key:"calculateInstancePositions64Low",value:function t(e){var n=this.props,r=n.data,i=n.getSourcePosition,o=n.getTargetPosition;var a=e.value,s=e.size;var u=0;var l=true;var c=false;var f=undefined;try{for(var h=r[Symbol.iterator](),p;!(l=(p=h.next()).done);l=true){var d=p.value;var v=i(d);var m=o(d);a[u+0]=Go(v[0])[1];a[u+1]=Go(v[1])[1];a[u+2]=Go(m[0])[1];a[u+3]=Go(m[1])[1];u+=s}}catch(t){c=true;f=t}finally{try{if(!l&&h.return){h.return()}}finally{if(c){throw f}}}}},{key:"calculateInstanceSourceColors",value:function t(e){var n=this.props,r=n.data,i=n.getSourceColor;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p);o[s+0]=d[0];o[s+1]=d[1];o[s+2]=d[2];o[s+3]=isNaN(d[3])?255:d[3];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}},{key:"calculateInstanceTargetColors",value:function t(e){var n=this.props,r=n.data,i=n.getTargetColor;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p);o[s+0]=d[0];o[s+1]=d[1];o[s+2]=d[2];o[s+3]=isNaN(d[3])?255:d[3];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}}]);return e}(ht);var Ho=Qo;Qo.layerName="ArcLayer";Qo.defaultProps=Zo;var Yo='#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\n// uniform vec2 viewportSize;\n// uniform float devicePixelRatio;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n// devicePixelRatio is set up as uniform but not declared in the shader function\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  vec3 center = project_position(instancePositions);\n  gl_Position = project_to_clipspace(vec4(center, 1.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n';var Jo='#define SHADER_NAME icon-layer-vertex-shader-64\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(instancePositions.z), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n';var qo="#define SHADER_NAME icon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * mix(1.0, vColor.a, vColorMode);\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Ko=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var $o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ta=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ea(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function na(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ra(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ia(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var oa=Fo.fp64ify,aa=Fo.enable64bitSupport;var sa=[0,0,0,255];var ua=h["e"].LINEAR_MIPMAP_LINEAR;var la=h["e"].LINEAR;var ca={iconAtlas:null,iconMapping:{},sizeScale:1,fp64:false,getPosition:function t(e){return e.position},getIcon:function t(e){return e.icon},getColor:function t(e){return e.color||sa},getSize:function t(e){return e.size||1},getAngle:function t(e){return e.angle||0}};var fa=function(t){ia(e,t);function e(){na(this,e);return ra(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}$o(e,[{key:"getShaders",value:function t(){return aa(this.props)?{vs:Jo,fs:qo,modules:["project64","picking"]}:{vs:Yo,fs:qo,modules:["picking"]}}},{key:"initializeState",value:function t(){var e=this.state.attributeManager;var n=this.context.gl;e.addInstanced({instancePositions:{size:3,accessor:"getPosition",update:this.calculateInstancePositions},instanceSizes:{size:1,accessor:"getSize",update:this.calculateInstanceSizes},instanceOffsets:{size:2,accessor:"getIcon",update:this.calculateInstanceOffsets},instanceIconFrames:{size:4,accessor:"getIcon",update:this.calculateInstanceIconFrames},instanceColorModes:{size:1,type:h["e"].UNSIGNED_BYTE,accessor:"getIcon",update:this.calculateInstanceColorMode},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors},instanceAngles:{size:1,accessor:"getAngle",update:this.calculateInstanceAngles}});this.setState({model:this._getModel(n)})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}})}else{o.remove(["instancePositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=this;var i=n.oldProps,o=n.props,a=n.changeFlags;ta(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:o,oldProps:i,changeFlags:a});var s=o.iconAtlas,u=o.iconMapping;if(i.iconMapping!==u){var l=this.state.attributeManager;l.invalidate("instanceOffsets");l.invalidate("instanceIconFrames");l.invalidate("instanceColorModes")}if(i.iconAtlas!==s){if(s instanceof h["i"]){var c;s.setParameters((c={},ea(c,h["e"].TEXTURE_MIN_FILTER,ua),ea(c,h["e"].TEXTURE_MAG_FILTER,la),c));this.setState({iconsTexture:s})}else if(typeof s==="string"){Object(h["m"])(this.context.gl,{urls:[s]}).then(function(t){var e;var n=Ko(t,1),i=n[0];i.setParameters((e={},ea(e,h["e"].TEXTURE_MIN_FILTER,ua),ea(e,h["e"].TEXTURE_MAG_FILTER,la),e));r.setState({iconsTexture:i})})}}if(o.fp64!==i.fp64){var f=this.context.gl;this.setState({model:this._getModel(f)})}this.updateAttribute({props:o,oldProps:i,changeFlags:a})}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props.sizeScale;var i=this.state.iconsTexture;if(i){this.state.model.render(Object.assign({},n,{iconsTexture:i,iconsTextureDim:[i.width,i.height],sizeScale:r}))}}},{key:"_getModel",value:function t(e){var n=[-1,-1,0,-1,1,0,1,1,0,1,-1,0];return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLE_FAN,attributes:{positions:new Float32Array(n)}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2]||0}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstancePositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=oa(p[0])[1];o[a++]=oa(p[1])[1]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceSizes",value:function t(e){var n=this.props,r=n.data,i=n.getSize;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;o[a++]=i(h)}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceAngles",value:function t(e){var n=this.props,r=n.data,i=n.getAngle;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;o[a++]=i(h)}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2];o[a++]=isNaN(p[3])?255:p[3]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceOffsets",value:function t(e){var n=this.props,r=n.data,i=n.iconMapping,o=n.getIcon;var a=e.value;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=o(p);var v=i[d]||{};a[s++]=v.width/2-v.anchorX||0;a[s++]=v.height/2-v.anchorY||0}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}},{key:"calculateInstanceColorMode",value:function t(e){var n=this.props,r=n.data,i=n.iconMapping,o=n.getIcon;var a=e.value;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=o(p);var v=i[d]&&i[d].mask;a[s++]=v?1:0}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}},{key:"calculateInstanceIconFrames",value:function t(e){var n=this.props,r=n.data,i=n.iconMapping,o=n.getIcon;var a=e.value;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=o(p);var v=i[d]||{};a[s++]=v.x||0;a[s++]=v.y||0;a[s++]=v.width||0;a[s++]=v.height||0}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}}]);return e}(ht);var ha=fa;fa.layerName="IconLayer";fa.defaultProps=ca;var pa="#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform vec2 viewportSize;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * viewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = offset_screenspace / viewportSize * 2.0;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec3 sourcePos = project_position(instanceSourcePositions);\n  vec3 targetPos = project_position(instanceTargetPositions);\n  vec4 source = project_to_clipspace(vec4(sourcePos, 1.0));\n  vec4 target = project_to_clipspace(vec4(targetPos, 1.0));\n\n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n\n  // extrude\n  vec2 offset = getExtrusionOffset(target.xy - source.xy, positions.y);\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var da="#define SHADER_NAME line-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceSourceTargetPositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform vec2 viewportSize;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * viewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = offset_screenspace / viewportSize * 2.0;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec4 instanceSourcePositions64 = vec4(\n    instanceSourcePositions.x, instanceSourceTargetPositions64xyLow.x,\n    instanceSourcePositions.y, instanceSourceTargetPositions64xyLow.y);\n\n  vec4 instanceTargetPositions64 = vec4(\n    instanceTargetPositions.x, instanceSourceTargetPositions64xyLow.z,\n    instanceTargetPositions.y, instanceSourceTargetPositions64xyLow.w);\n\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instanceSourcePositions64, projected_source_coord);\n  project_position_fp64(instanceTargetPositions64, projected_target_coord);\n\n  vec2 source_pos_modelspace[4];\n  source_pos_modelspace[0] =  projected_source_coord[0];\n  source_pos_modelspace[1] =  projected_source_coord[1];\n  source_pos_modelspace[2] = vec2(project_scale(instanceSourcePositions.z), 0.0);\n  source_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 source_pos_clipspace = project_to_clipspace_fp64(source_pos_modelspace);\n\n  vec2 target_pos_modelspace[4];\n  target_pos_modelspace[0] =  projected_target_coord[0];\n  target_pos_modelspace[1] =  projected_target_coord[1];\n  target_pos_modelspace[2] = vec2(project_scale(instanceTargetPositions.z), 0.0);\n  target_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 target_pos_clipspace = project_to_clipspace_fp64(target_pos_modelspace);\n\n  float segmentIndex = positions.x;\n  vec4 p = mix(source_pos_clipspace, target_pos_clipspace, segmentIndex);\n\n  vec2 offset = getExtrusionOffset(target_pos_clipspace.xy - source_pos_clipspace.xy, positions.y);\n\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var va="#define SHADER_NAME line-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var ma=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ga=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ya(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ba(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var xa=Fo.fp64ify,wa=Fo.enable64bitSupport;var Ea=[0,0,0,255];var Ta={strokeWidth:1,fp64:false,getSourcePosition:function t(e){return e.sourcePosition},getTargetPosition:function t(e){return e.targetPosition},getColor:function t(e){return e.color||Ea}};var Ia=function(t){ba(e,t);function e(){ya(this,e);return _a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ma(e,[{key:"getShaders",value:function t(){return wa(this.props)?{vs:da,fs:va,modules:["project64","picking"]}:{vs:pa,fs:va,modules:["picking"]}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});var n=this.state.attributeManager;n.addInstanced({instanceSourcePositions:{size:3,accessor:"getSourcePosition",update:this.calculateInstanceSourcePositions},instanceTargetPositions:{size:3,accessor:"getTargetPosition",update:this.calculateInstanceTargetPositions},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instanceSourceTargetPositions64xyLow:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstanceSourceTargetPositions64xyLow}})}else{o.remove(["instanceSourceTargetPositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;ga(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o})}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props.strokeWidth;this.state.model.render(Object.assign({},n,{strokeWidth:r}))}},{key:"_getModel",value:function t(e){var n=[0,-1,0,0,1,0,1,-1,0,1,1,0];return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLE_STRIP,attributes:{positions:new Float32Array(n)}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"calculateInstanceSourcePositions",value:function t(e){var n=this.props,r=n.data,i=n.getSourcePosition;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p);o[s+0]=d[0];o[s+1]=d[1];o[s+2]=isNaN(d[2])?0:d[2];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}},{key:"calculateInstanceTargetPositions",value:function t(e){var n=this.props,r=n.data,i=n.getTargetPosition;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p);o[s+0]=d[0];o[s+1]=d[1];o[s+2]=isNaN(d[2])?0:d[2];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}},{key:"calculateInstanceSourceTargetPositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getSourcePosition,o=n.getTargetPosition;var a=e.value,s=e.size;var u=0;var l=true;var c=false;var f=undefined;try{for(var h=r[Symbol.iterator](),p;!(l=(p=h.next()).done);l=true){var d=p.value;var v=i(d);var m=o(d);a[u+0]=xa(v[0])[1];a[u+1]=xa(v[1])[1];a[u+2]=xa(m[0])[1];a[u+3]=xa(m[1])[1];u+=s}}catch(t){c=true;f=t}finally{try{if(!l&&h.return){h.return()}}finally{if(c){throw f}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p);o[s+0]=d[0];o[s+1]=d[1];o[s+2]=d[2];o[s+3]=isNaN(d[3])?255:d[3];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}}]);return e}(ht);var Ca=Ia;Ia.layerName="LineLayer";Ia.defaultProps=Ta;var Ma="#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\nuniform vec2 viewportSize;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  // Find the center of the point and add the current vertex\n  vec4 position_worldspace = vec4(project_position(instancePositions), 1.0);\n  gl_Position = project_to_clipspace(position_worldspace) ;\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  // Apply lighting\n  float lightWeight = getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    instanceNormals);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Aa="#define SHADER_NAME point-cloud-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(instancePositions.z), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  vec4 position_worldspace = vec4(\n    projected_coord_xy[0].x, projected_coord_xy[1].x,\n    project_scale(instancePositions.z), 1.0);\n\n  // Apply lighting\n  float lightWeight = getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    instanceNormals);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Sa="#define SHADER_NAME point-cloud-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Ra=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var La=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ka(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Na(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Fa(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Oa=Fo.fp64ify,Ba=Fo.enable64bitSupport;var Pa=[0,0,0,255];var Ua={radiusPixels:10,fp64:false,getPosition:function t(e){return e.position},getNormal:function t(e){return e.normal},getColor:function t(e){return e.color||Pa},lightSettings:{lightsPosition:[0,0,5e3,-1e3,1e3,8e3,5e3,-5e3,1e3],ambientRatio:.2,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1,0,.8,0,.4,0],numberOfLights:3}};var Da=function(t){Fa(e,t);function e(){ka(this,e);return Na(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Ra(e,[{key:"getShaders",value:function t(e){var n=this.context.shaderCache;return Ba(this.props)?{vs:Aa,fs:Sa,modules:["project64","lighting","picking"],shaderCache:n}:{vs:Ma,fs:Sa,modules:["lighting","picking"],shaderCache:n}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});this.state.attributeManager.addInstanced({instancePositions:{size:3,accessor:"getPosition",update:this.calculateInstancePositions},instanceNormals:{size:3,accessor:"getNormal",defaultValue:1,update:this.calculateInstanceNormals},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}})}else{o.remove(["instancePositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;La(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o})}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props,i=r.radiusPixels,o=r.lightSettings;this.state.model.render(Object.assign({},n,{radiusPixels:i},o))}},{key:"_getModel",value:function t(e){var n=[];for(var r=0;r<3;r++){var i=r/3*Math.PI*2;n.push(Math.cos(i)*2,Math.sin(i)*2,0)}return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLES,attributes:{positions:new Float32Array(n)}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2]||0}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstancePositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=Oa(p[0])[1];o[a++]=Oa(p[1])[1]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceNormals",value:function t(e){var n=this.props,r=n.data,i=n.getNormal;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2];o[a++]=isNaN(p[3])?255:p[3]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}}]);return e}(ht);var za=Da;Da.layerName="PointCloudLayer";Da.defaultProps=Ua;var ja="#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n\n  // Find the center of the point and add the current vertex\n  vec3 center = project_position(instancePositions);\n  vec3 vertex = positions * outerRadiusPixels;\n  gl_Position = project_to_clipspace(vec4(center + vertex, 1.0));\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Va="#define SHADER_NAME scatterplot-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Only one-dimensional arrays may be declared in GLSL ES 1.0. specs p.24\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n\n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_localspace[4];\n  vec4_fp64(vec4(positions * outerRadiusPixels, 0.0), vertex_pos_localspace);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = sum_fp64(vertex_pos_localspace[0], projected_coord_xy[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vertex_pos_localspace[1], projected_coord_xy[1]);\n  vertex_pos_modelspace[2] = sum_fp64(vertex_pos_localspace[2],\n    vec2(project_scale(instancePositions.z), 0.0));\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Ga="#define SHADER_NAME scatterplot-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0 || distToCenter < innerUnitRadius) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Xa=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Wa=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Za(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Qa(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ha(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ya=Fo.fp64ify,Ja=Fo.enable64bitSupport;var qa=[0,0,0,255];var Ka={radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:false,fp64:false,getPosition:function t(e){return e.position},getRadius:function t(e){return e.radius||1},getColor:function t(e){return e.color||qa}};var $a=function(t){Ha(e,t);function e(){Za(this,e);return Qa(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Xa(e,[{key:"getShaders",value:function t(e){var n=this.context.shaderCache;return Ja(this.props)?{vs:Va,fs:Ga,modules:["project64","picking"],shaderCache:n}:{vs:ja,fs:Ga,modules:["picking"],shaderCache:n}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});this._checkRemovedProp("radius","radiusScale");this._checkRemovedProp("drawOutline","outline");this.state.attributeManager.addInstanced({instancePositions:{size:3,accessor:"getPosition",update:this.calculateInstancePositions},instanceRadius:{size:1,accessor:"getRadius",defaultValue:1,update:this.calculateInstanceRadius},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}})}else{o.remove(["instancePositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;Wa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o})}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props,i=r.radiusScale,o=r.radiusMinPixels,a=r.radiusMaxPixels,s=r.outline,u=r.strokeWidth;this.state.model.render(Object.assign({},n,{outline:s?1:0,strokeWidth:u,radiusScale:i,radiusMinPixels:o,radiusMaxPixels:a}))}},{key:"_getModel",value:function t(e){var n=[-1,-1,0,-1,1,0,1,1,0,1,-1,0];return new h["g"](e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLE_FAN,attributes:{positions:new Float32Array(n)}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=p[0];o[a++]=p[1];o[a++]=p[2]||0}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstancePositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=Ya(p[0])[1];o[a++]=Ya(p[1])[1]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceRadius",value:function t(e){var n=this.props,r=n.data,i=n.getRadius;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=isNaN(p)?1:p}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h)||qa;o[a++]=p[0];o[a++]=p[1];o[a++]=p[2];o[a++]=isNaN(p[3])?255:p[3]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}}]);return e}(ht);var ts=$a;$a.layerName="ScatterplotLayer";$a.defaultProps=Ka;var es="#define SHADER_NAME screen-grid-layer-vertex-shader\n\nattribute vec3 vertices;\nattribute vec3 instancePositions;\nattribute float instanceCount;\nattribute vec3 instancePickingColors;\n\nuniform float maxCount;\nuniform float opacity;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec3 cellScale;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 color = mix(minColor, maxColor, instanceCount / maxCount) / 255.;\n\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + vertices * cellScale, 1.);\n}\n";var ns="#define SHADER_NAME screen-grid-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var rs=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};var is=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function os(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function as(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ss(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var us={cellSizePixels:100,minColor:[0,0,0,255],maxColor:[0,255,0,255],getPosition:function t(e){return e.position},getWeight:function t(e){return 1}};var ls=function(t){ss(e,t);is(e,[{key:"getShaders",value:function t(){return{vs:es,fs:ns,modules:["picking"]}}}]);function e(t){os(this,e);var n=as(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n._checkRemovedProp("unitWidth","cellSizePixels");n._checkRemovedProp("unitHeight","cellSizePixels");return n}is(e,[{key:"initializeState",value:function t(){var e=this.state.attributeManager;var n=this.context.gl;e.addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCount:{size:1,accessor:["getPosition","getWeight"],update:this.calculateInstanceCount}});this.setState({model:this._getModel(n)})}},{key:"shouldUpdateState",value:function t(e){var n=e.changeFlags;return n.somethingChanged}},{key:"updateState",value:function t(n){var r=n.oldProps,i=n.props,o=n.changeFlags;rs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:i,oldProps:r,changeFlags:o});var a=i.cellSizePixels!==r.cellSizePixels;if(a||o.viewportChanged){this.updateCell()}}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props,i=r.minColor,o=r.maxColor,a=r.parameters,s=a===undefined?{}:a;var u=this.state,l=u.model,c=u.cellScale,f=u.maxCount;n=Object.assign({},n,{minColor:i,maxColor:o,cellScale:c,maxCount:f});l.draw({uniforms:n,parameters:Object.assign({depthTest:false,depthMask:false},s)})}},{key:"_getModel",value:function t(e){return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLE_FAN,attributes:{vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"updateCell",value:function t(){var e=this.context.viewport,n=e.width,r=e.height;var i=this.props.cellSizePixels;var o=2;var a=new Float32Array([(i-o)/n*2,-(i-o)/r*2,1]);var s=Math.ceil(n/i);var u=Math.ceil(r/i);this.setState({cellScale:a,numCol:s,numRow:u,numInstances:s*u});var l=this.state.attributeManager;l.invalidateAll()}},{key:"calculateInstancePositions",value:function t(e,n){var r=n.numInstances;var i=this.context.viewport,o=i.width,a=i.height;var s=this.props.cellSizePixels;var u=this.state.numCol;var l=e.value,c=e.size;for(var f=0;f<r;f++){var h=f%u;var p=Math.floor(f/u);l[f*c+0]=h*s/o*2-1;l[f*c+1]=1-p*s/a*2;l[f*c+2]=0}}},{key:"calculateInstanceCount",value:function t(e){var n=this.props,r=n.data,i=n.cellSizePixels,o=n.getPosition,a=n.getWeight;var s=this.state,u=s.numCol,l=s.numRow;var c=e.value;var f=0;c.fill(0);var h=true;var p=false;var d=undefined;try{for(var v=r[Symbol.iterator](),m;!(h=(m=v.next()).done);h=true){var g=m.value;var y=this.project(o(g));var _=Math.floor(y[0]/i);var b=Math.floor(y[1]/i);if(_>=0&&_<u&&b>=0&&b<l){var x=_+b*u;c[x]+=a(g);if(c[x]>f){f=c[x]}}}}catch(t){p=true;d=t}finally{try{if(!h&&v.return){v.return()}}finally{if(p){throw d}}}this.setState({maxCount:f})}}]);return e}(ht);var cs=ls;ls.layerName="ScreenGridLayer";ls.defaultProps=us;var fs="#define SHADER_NAME grid-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec4 instancePositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec2 topLeftPos = project_position(instancePositions.xy);\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.w < 0.0);\n  float finalCellSize = cellSize * mix(1.0, 0.0, noRender);\n\n  // cube gemoetry vertics are between -1 to 1, scale and transform it to between 0, 1\n  vec2 pos = topLeftPos + vec2(\n  (positions.x * coverage + 1.0) / 2.0 * finalCellSize,\n  (positions.y * coverage - 1.0) / 2.0 * finalCellSize);\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.w  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale);\n  }\n\n  // extrude positions\n  vec3 extrudedPosition = vec3(pos.xy, elevation + 1.0);\n  vec4 position_worldspace = vec4(extrudedPosition, 1.0);\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var hs="#define SHADER_NAME grid-cell-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec4 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x,\n    instancePositions64xyLow.x,\n    instancePositions.y,\n    instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n  \n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.w < 0.0);\n  float finalCellSize = cellSize * mix(1.0, 0.0, noRender);\n  \n  projected_coord_xy[0] = sum_fp64(projected_coord_xy[0],\n    vec2((positions.x * coverage + 1.0) * finalCellSize / 2.0, 0.0));\n  projected_coord_xy[1] = sum_fp64(projected_coord_xy[1],\n    vec2((positions.y * coverage - 1.0) * finalCellSize / 2.0, 0.0));\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.w  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale) + 1.0;\n  }\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(elevation, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var ps="#define SHADER_NAME grid-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var ds=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var vs=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function ms(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function gs(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ys(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _s=Fo.fp64ify,bs=Fo.enable64bitSupport;var xs=[255,0,255,255];var ws={cellSize:1e3,coverage:1,elevationScale:1,extruded:true,fp64:false,getPosition:function t(e){return e.position},getElevation:function t(e){return e.elevation},getColor:function t(e){return e.color},lightSettings:{lightsPosition:[-122.45,37.65,8e3,-122.45,37.2,1e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1,0,.8,0],numberOfLights:2}};var Es=function(t){ys(e,t);function e(){ms(this,e);return gs(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ds(e,[{key:"getShaders",value:function t(){var e=this.context.shaderCache;return bs(this.props)?{vs:hs,fs:ps,modules:["project64","lighting","picking"],shaderCache:e}:{vs:fs,fs:ps,modules:["lighting","picking"],shaderCache:e}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});var n=this.state.attributeManager;n.addInstanced({instancePositions:{size:4,accessor:["getPosition","getElevation"],update:this.calculateInstancePositions},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}})}else{o.remove(["instancePositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;vs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o});this.updateUniforms()}},{key:"_getModel",value:function t(e){return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["b"],isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"updateUniforms",value:function t(){var e=this.props,n=e.opacity,r=e.extruded,i=e.elevationScale,o=e.coverage,a=e.lightSettings;var s=this.state.model;s.setUniforms(Object.assign({},{extruded:r,elevationScale:i,opacity:n,coverage:o},a))}},{key:"draw",value:function t(n){var r=n.uniforms;var i=this.context.viewport;var o=i.getDistanceScales(),a=o.pixelsPerMeter;vs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this,{uniforms:Object.assign({cellSize:this.props.cellSize*a[0]},r)})}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getPosition,o=n.getElevation;var a=e.value,s=e.size;var u=0;var l=true;var c=false;var f=undefined;try{for(var h=r[Symbol.iterator](),p;!(l=(p=h.next()).done);l=true){var d=p.value;var v=i(d);var m=o(d)||0;a[u+0]=v[0];a[u+1]=v[1];a[u+2]=0;a[u+3]=m;u+=s}}catch(t){c=true;f=t}finally{try{if(!l&&h.return){h.return()}}finally{if(c){throw f}}}}},{key:"calculateInstancePositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getPosition;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=_s(p[0])[1];o[a++]=_s(p[1])[1]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p)||xs;o[s+0]=d[0];o[s+1]=d[1];o[s+2]=d[2];o[s+3]=Number.isFinite(d[3])?d[3]:xs[3];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}}]);return e}(ht);var Ts=Es;Es.layerName="GridCellLayer";Es.defaultProps=ws;var Is=6378e3;function Cs(t,e,n){var r=Ms(t,e,n),i=r.gridHash,o=r.gridOffset;var a=As(i,o);return{gridOffset:o,layerData:a}}function Ms(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=arguments[1];var n=arguments[2];var r=Infinity;var i=-Infinity;var o=void 0;for(var a=0;a<t.length;a++){o=n(t[a])[1];if(Number.isFinite(o)){r=o<r?o:r;i=o>i?o:i}}var s=(r+i)/2;var u=Ss(e,s);if(u.xOffset<=0||u.yOffset<=0){return{gridHash:{},gridOffset:u}}var l=t.reduce(function(t,e){var r=n(e)[1];var i=n(e)[0];if(!Number.isFinite(r)||!Number.isFinite(i)){return t}var o=Math.floor((r+90)/u.yOffset);var a=Math.floor((i+180)/u.xOffset);var s=o+"-"+a;t[s]=t[s]||{count:0,points:[]};t[s].count+=1;t[s].points.push(e);return t},{});return{gridHash:l,gridOffset:u}}function As(t,e){return Object.keys(t).reduce(function(n,r,i){var o=r.split("-");var a=parseInt(o[0],10);var s=parseInt(o[1],10);n.push(Object.assign({index:i,position:[-180+e.xOffset*s,-90+e.yOffset*a]},t[r]));return n},[])}function Ss(t,e){var n=Rs(t);var r=Ls(e,t);return{yOffset:n,xOffset:r}}function Rs(t){return t/Is*(180/Math.PI)}function Ls(t,e){return e/Is*(180/Math.PI)/Math.cos(t*Math.PI/180)}var ks=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Ns=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Fs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Os(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Bs(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Ps=Fo.BinSorter,Us=Fo.defaultColorRange,Ds=Fo.getQuantizeScale,zs=Fo.getLinearScale;function js(){}var Vs={colorDomain:null,colorRange:Us,getColorValue:function t(e){return e.length},lowerPercentile:0,upperPercentile:100,onSetColorDomain:js,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function t(e){return e.length},elevationLowerPercentile:0,elevationUpperPercentile:100,elevationScale:1,onSetElevationDomain:js,cellSize:1e3,coverage:1,getPosition:function t(e){return e.position},extruded:false,fp64:false,lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}};var Gs=function(t){Bs(e,t);function e(){Fs(this,e);return Os(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}ks(e,[{key:"initializeState",value:function t(){this.state={layerData:[],sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:js,elevationScaleFunc:js,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function t(e){var n=this;var r=e.oldProps,i=e.props,o=e.changeFlags;var a=this.getDimensionChanges(r,i);if(o.dataChanged||this.needsReProjectPoints(r,i)){this.getLayerData()}else if(a){a.forEach(function(t){return typeof t==="function"&&t.apply(n)})}}},{key:"needsReProjectPoints",value:function t(e,n){return e.cellSize!==n.cellSize}},{key:"getDimensionUpdaters",value:function t(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function t(e,n){var r=this.state.dimensionUpdaters;var i=[];for(var o in r){var a=r[o].find(function(t){return t.triggers.some(function(t){return e[t]!==n[t]})});if(a){i.push(a.updater)}}return i.length?i:null}},{key:"getPickingInfo",value:function t(e){var n=e.info;var r=this.state,i=r.sortedColorBins,o=r.sortedElevationBins;var a=n.picked&&n.index>-1;var s=null;if(a){var u=this.state.layerData[n.index];var l=i.binMap[u.index]&&i.binMap[u.index].value;var c=o.binMap[u.index]&&o.binMap[u.index].value;s=Object.assign({colorValue:l,elevationValue:c},u)}return Object.assign(n,{picked:Boolean(s),object:s})}},{key:"getUpdateTriggers",value:function t(){var e=this;var n=this.state.dimensionUpdaters;var r={};var i=function t(i){r[i]={};var o=true;var a=false;var s=undefined;try{for(var u=n[i][Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;c.triggers.forEach(function(t){r[i][t]=e.props[t]})}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}};for(var o in n){i(o)}return r}},{key:"getLayerData",value:function t(){var e=this.props,n=e.data,r=e.cellSize,i=e.getPosition;var o=Cs(n,r,i),a=o.layerData;this.setState({layerData:a});this.getSortedBins()}},{key:"getValueDomain",value:function t(){this.getColorValueDomain();this.getElevationValueDomain()}},{key:"getSortedBins",value:function t(){this.getSortedColorBins();this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function t(){var e=this.props.getColorValue;var n=new Ps(this.state.layerData||[],e);this.setState({sortedColorBins:n});this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function t(){var e=this.props.getElevationValue;var n=new Ps(this.state.layerData||[],e);this.setState({sortedElevationBins:n});this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function t(){var e=this.props,n=e.lowerPercentile,r=e.upperPercentile,i=e.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([n,r]);if(typeof i==="function"){i(this.state.colorValueDomain)}this.getColorScale()}},{key:"getElevationValueDomain",value:function t(){var e=this.props,n=e.elevationLowerPercentile,r=e.elevationUpperPercentile,i=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([n,r]);if(typeof i==="function"){i(this.state.elevationValueDomain)}this.getElevationScale()}},{key:"getColorScale",value:function t(){var e=this.props.colorRange;var n=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=Ds(n,e)}},{key:"getElevationScale",value:function t(){var e=this.props.elevationRange;var n=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=zs(n,e)}},{key:"_onGetSublayerColor",value:function t(e){var n=this.state,r=n.sortedColorBins,i=n.colorScaleFunc,o=n.colorValueDomain;var a=r.binMap[e.index]&&r.binMap[e.index].value;var s=this.props.colorDomain||o;var u=a>=s[0]&&a<=s[s.length-1];var l=u?i(a):[0,0,0,0];l[3]=Number.isFinite(l[3])?l[3]:255;return l}},{key:"_onGetSublayerElevation",value:function t(e){var n=this.state,r=n.sortedElevationBins,i=n.elevationScaleFunc,o=n.elevationValueDomain;var a=r.binMap[e.index]&&r.binMap[e.index].value;var s=this.props.elevationDomain||o;var u=a>=s[0]&&a<=s[s.length-1];return u?i(a):-1}},{key:"getSubLayerProps",value:function t(){var n=this.props,r=n.elevationScale,i=n.fp64,o=n.extruded,a=n.cellSize,s=n.coverage,u=n.lightSettings;return Ns(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getSubLayerProps",this).call(this,{id:"grid-cell",data:this.state.layerData,fp64:i,cellSize:a,coverage:s,lightSettings:u,elevationScale:r,extruded:o,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function t(){return Ts}},{key:"renderLayers",value:function t(){var e=this.getSubLayerClass();return new e(this.getSubLayerProps())}}]);return e}(We);var Xs=Gs;Gs.layerName="GridLayer";Gs.defaultProps=Vs;var Ws="\n#define SHADER_NAME hexagon-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n\n  vec2 rPos = rotationMatrix * positions.xz;\n  vec2 rNorm = rotationMatrix * normals.xz;\n\n  vec3 rotatedPositions = vec3(rPos.x, positions.y, rPos.y);\n  vec3 rotatedNormals = vec3(rNorm.x, normals.y, rNorm.y);\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.z * (positions.y + 0.5) *\n      ELEVATION_SCALE * elevationScale);\n  }\n  \n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.z < 0.0);\n  float dotRadius = radius * mix(coverage, 0.0, noRender);\n  \n  // project center of hexagon\n  vec4 centroidPosition = vec4(project_position(instancePositions.xy), elevation, 0.0);\n\n  vec4 position_worldspace = centroidPosition + vec4(vec2(rotatedPositions.xz * dotRadius), 0., 1.);\n\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = rotatedNormals;\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // opacity-multiplied instance color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Zs="#define SHADER_NAME hexagon-cell-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n\n  vec2 rPos = rotationMatrix * positions.xz;\n  vec2 rNorm = rotationMatrix * normals.xz;\n\n  vec3 rotatedPositions = vec3(rPos.x, positions.y, rPos.y);\n  vec3 rotatedNormals = vec3(rNorm.x, normals.y, rNorm.y);\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.z * (positions.y + 0.5) *\n      ELEVATION_SCALE * elevationScale);\n  }\n  \n  // if ahpha == 0.0 or z < 0.0, do not render element  \n  float noRender = float(instanceColors.a == 0.0 || instancePositions.z < 0.0);\n  float dotRadius = radius * mix(coverage, 0.0, noRender);\n  \n  // project center of hexagon\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_localspace[4];\n  vec4_fp64(vec4(rotatedPositions.xz * dotRadius, 0.0, 1.0), vertex_pos_localspace);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = sum_fp64(vertex_pos_localspace[0], projected_coord_xy[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vertex_pos_localspace[1], projected_coord_xy[1]);\n  vertex_pos_modelspace[2] = sum_fp64(vertex_pos_localspace[2], vec2(elevation, 0.0));\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = rotatedNormals;\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // Color: Either opacity-multiplied instance color, or picking color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n";var Qs="#define SHADER_NAME hexagon-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Hs=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var Ys=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Js=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function qs(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Ks(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function $s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var tu=Fo.log,eu=Fo.fp64ify,nu=Fo.enable64bitSupport;var ru=[255,0,255,255];var iu={hexagonVertices:null,radius:null,angle:null,coverage:1,elevationScale:1,extruded:true,fp64:false,getCentroid:function t(e){return e.centroid},getColor:function t(e){return e.color},getElevation:function t(e){return e.elevation},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1.2,0,.8,0],numberOfLights:2}};var ou=function(t){$s(e,t);function e(t){qs(this,e);var n=false;if(!t.hexagonVertices&&(!t.radius||!Number.isFinite(t.angle))){tu.once(0,"HexagonCellLayer: Either hexagonVertices or radius and angle are "+"needed to calculate primitive hexagon.");n=true}else if(t.hexagonVertices&&(!Array.isArray(t.hexagonVertices)||t.hexagonVertices.length<6)){tu.once(0,"HexagonCellLayer: hexagonVertices needs to be an array of 6 points");n=true}if(n){tu.once(0,"Now using 1000 meter as default radius, 0 as default angle");t.radius=1e3;t.angle=0}return Ks(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}Ys(e,[{key:"getShaders",value:function t(){return nu(this.props)?{vs:Zs,fs:Qs,modules:["project64","lighting","picking"]}:{vs:Ws,fs:Qs,modules:["lighting","picking"]}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});var n=this.state.attributeManager;n.addInstanced({instancePositions:{size:3,accessor:["getCentroid","getElevation"],update:this.calculateInstancePositions},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instancePositions64xyLow:{size:2,accessor:"getCentroid",update:this.calculateInstancePositions64xyLow}})}else{o.remove(["instancePositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;Js(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});if(r.fp64!==i.fp64){var a=this.context.gl;this.setState({model:this._getModel(a)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o});this.updateUniforms()}},{key:"updateRadiusAngle",value:function t(){var e=void 0;var n=void 0;var r=this.props.hexagonVertices;if(Array.isArray(r)&&r.length>=6){var i=this.props.hexagonVertices;var o=i[0];var a=i[3];var s=this.projectFlat(o);var u=this.projectFlat(a);var l=s[0]-u[0];var c=s[1]-u[1];var f=Math.sqrt(l*l+c*c);e=Math.acos(l/f)*-Math.sign(c)+Math.PI/2;n=f/2}else if(this.props.radius&&Number.isFinite(this.props.angle)){var h=this.context.viewport;var p=h.getDistanceScales(),d=p.pixelsPerMeter;e=this.props.angle;n=this.props.radius*d[0]}return{angle:e,radius:n}}},{key:"getCylinderGeometry",value:function t(e){return new h["c"]({radius:e,topRadius:e,bottomRadius:e,topCap:true,bottomCap:true,height:1,nradial:6,nvertical:1})}},{key:"updateUniforms",value:function t(){var e=this.props,n=e.opacity,r=e.elevationScale,i=e.extruded,o=e.coverage,a=e.lightSettings;var s=this.state.model;s.setUniforms(Object.assign({},{extruded:i,opacity:n,coverage:o,elevationScale:r},a))}},{key:"_getModel",value:function t(e){return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:this.getCylinderGeometry(1),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function t(n){var r=n.uniforms;Js(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this,{uniforms:Object.assign(this.updateRadiusAngle(),r)})}},{key:"calculateInstancePositions",value:function t(e){var n=this.props,r=n.data,i=n.getCentroid,o=n.getElevation;var a=e.value,s=e.size;var u=0;var l=true;var c=false;var f=undefined;try{for(var h=r[Symbol.iterator](),p;!(l=(p=h.next()).done);l=true){var d=p.value;var v=i(d),m=Hs(v,2),g=m[0],y=m[1];var _=o(d);a[u+0]=g;a[u+1]=y;a[u+2]=_||0;u+=s}}catch(t){c=true;f=t}finally{try{if(!l&&h.return){h.return()}}finally{if(c){throw f}}}}},{key:"calculateInstancePositions64xyLow",value:function t(e){var n=this.props,r=n.data,i=n.getCentroid;var o=e.value;var a=0;var s=true;var u=false;var l=undefined;try{for(var c=r[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=i(h);o[a++]=eu(p[0])[1];o[a++]=eu(p[1])[1]}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}}},{key:"calculateInstanceColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=e.value,a=e.size;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=i(p)||ru;o[s+0]=d[0];o[s+1]=d[1];o[s+2]=d[2];o[s+3]=Number.isFinite(d[3])?d[3]:ru[3];s+=a}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}}}]);return e}(ht);var au=ou;ou.layerName="HexagonCellLayer";ou.defaultProps=iu;var su=Math.PI/3,uu=[0,su,2*su,3*su,4*su,5*su];function lu(t){return t[0]}function cu(t){return t[1]}var fu=function(){var t=0,e=0,n=1,r=1,i=lu,o=cu,a,s,u;function l(t){var e={},n=[],r,a=t.length;for(r=0;r<a;++r){if(isNaN(c=+i.call(null,l=t[r],r,t))||isNaN(f=+o.call(null,l,r,t)))continue;var l,c,f,h=Math.round(f=f/u),p=Math.round(c=c/s-(h&1)/2),d=f-h;if(Math.abs(d)*3>1){var v=c-p,m=p+(c<p?-1:1)/2,g=h+(f<h?-1:1),y=c-m,_=f-g;if(v*v+d*d>y*y+_*_)p=m+(h&1?1:-1)/2,h=g}var b=p+"-"+h,x=e[b];if(x)x.push(l);else{n.push(x=e[b]=[l]);x.x=(p+(h&1)/2)*s;x.y=h*u}}return n}function c(t){var e=0,n=0;return uu.map(function(r){var i=Math.sin(r)*t,o=-Math.cos(r)*t,a=i-e,s=o-n;e=i,n=o;return[a,s]})}l.hexagon=function(t){return"m"+c(t==null?a:+t).join("l")+"z"};l.centers=function(){var i=[],o=Math.round(e/u),l=Math.round(t/s);for(var c=o*u;c<r+a;c+=u,++o){for(var f=l*s+(o&1)*s/2;f<n+s/2;f+=s){i.push([f,c])}}return i};l.mesh=function(){var t=c(a).slice(0,4).join("l");return l.centers().map(function(e){return"M"+e+"m"+t}).join("")};l.x=function(t){return arguments.length?(i=t,l):i};l.y=function(t){return arguments.length?(o=t,l):o};l.radius=function(t){return arguments.length?(a=+t,s=a*2*Math.sin(su),u=a*1.5,l):a};l.size=function(i){return arguments.length?(t=e=0,n=+i[0],r=+i[1],l):[n-t,r-e]};l.extent=function(i){return arguments.length?(t=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1],l):[[t,e],[n,r]]};return l.radius(1)};function hu(t,e){var n=t.data,r=t.radius,i=t.getPosition;var o=pu(r,e);var a=n.map(function(t){return Object.assign({screenCoord:e.projectFlat(i(t))},t)});var s=fu().radius(o).x(function(t){return t.screenCoord[0]}).y(function(t){return t.screenCoord[1]});var u=s(a);return{hexagons:u.map(function(t,n){return{centroid:e.unprojectFlat([t.x,t.y]),points:t,index:n}})}}function pu(t,e){var n=e.getDistanceScales(),r=n.pixelsPerMeter;return t*r[0]}var du=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var vu=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function mu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function gu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function yu(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _u=Fo.log,bu=Fo.BinSorter,xu=Fo.getQuantizeScale,wu=Fo.getLinearScale,Eu=Fo.defaultColorRange;function Tu(){}var Iu={colorDomain:null,colorRange:Eu,getColorValue:function t(e){return e.length},lowerPercentile:0,upperPercentile:100,onSetColorDomain:Tu,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function t(e){return e.length},elevationLowerPercentile:0,elevationUpperPercentile:100,elevationScale:1,onSetElevationDomain:Tu,radius:1e3,coverage:1,extruded:false,hexagonAggregator:hu,getPosition:function t(e){return e.position},fp64:false,lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}};var Cu=function(t){yu(e,t);function e(t){mu(this,e);if(!t.hexagonAggregator&&!t.radius){_u.once(0,"HexagonLayer: Default hexagonAggregator requires radius prop to be set, "+"Now using 1000 meter as default");t.radius=Iu.radius}if(Number.isFinite(t.upperPercentile)&&(t.upperPercentile>100||t.upperPercentile<0)){_u.once(0,"HexagonLayer: upperPercentile should be between 0 and 100. "+"Assign to 100 by default");t.upperPercentile=Iu.upperPercentile}if(Number.isFinite(t.lowerPercentile)&&(t.lowerPercentile>100||t.lowerPercentile<0)){_u.once(0,"HexagonLayer: lowerPercentile should be between 0 and 100. "+"Assign to 0 by default");t.lowerPercentile=Iu.upperPercentile}if(t.lowerPercentile>=t.upperPercentile){_u.once(0,"HexagonLayer: lowerPercentile should not be bigger than "+"upperPercentile. Assign to 0 by default");t.lowerPercentile=Iu.lowerPercentile}return gu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}du(e,[{key:"initializeState",value:function t(){this.state={hexagons:[],hexagonVertices:null,sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:Tu,elevationScaleFunc:Tu,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"shouldUpdateState",value:function t(e){var n=e.changeFlags;return n.somethingChanged}},{key:"updateState",value:function t(e){var n=this;var r=e.oldProps,i=e.props,o=e.changeFlags;var a=this.getDimensionChanges(r,i);if(o.dataChanged||this.needsReProjectPoints(r,i)){this.getHexagons()}else if(a){a.forEach(function(t){return typeof t==="function"&&t.apply(n)})}}},{key:"needsReProjectPoints",value:function t(e,n){return e.radius!==n.radius||e.hexagonAggregator!==n.hexagonAggregator}},{key:"getDimensionUpdaters",value:function t(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function t(e,n){var r=this.state.dimensionUpdaters;var i=[];for(var o in r){var a=r[o].find(function(t){return t.triggers.some(function(t){return e[t]!==n[t]})});if(a){i.push(a.updater)}}return i.length?i:null}},{key:"getHexagons",value:function t(){var e=this.props.hexagonAggregator;var n=this.context.viewport;var r=e(this.props,n),i=r.hexagons,o=r.hexagonVertices;this.setState({hexagons:i,hexagonVertices:o});this.getSortedBins()}},{key:"getPickingInfo",value:function t(e){var n=e.info;var r=this.state,i=r.sortedColorBins,o=r.sortedElevationBins;var a=n.picked&&n.index>-1;var s=null;if(a){var u=this.state.hexagons[n.index];var l=i.binMap[u.index]&&i.binMap[u.index].value;var c=o.binMap[u.index]&&o.binMap[u.index].value;s=Object.assign({colorValue:l,elevationValue:c},u)}return Object.assign(n,{picked:Boolean(s),object:s})}},{key:"getUpdateTriggers",value:function t(){var e=this;var n=this.state.dimensionUpdaters;var r={};var i=function t(i){r[i]={};var o=true;var a=false;var s=undefined;try{for(var u=n[i][Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;c.triggers.forEach(function(t){r[i][t]=e.props[t]})}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}};for(var o in n){i(o)}return r}},{key:"getValueDomain",value:function t(){this.getColorValueDomain();this.getElevationValueDomain()}},{key:"getSortedBins",value:function t(){this.getSortedColorBins();this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function t(){var e=this.props.getColorValue;var n=new bu(this.state.hexagons||[],e);this.setState({sortedColorBins:n});this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function t(){var e=this.props.getElevationValue;var n=new bu(this.state.hexagons||[],e);this.setState({sortedElevationBins:n});this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function t(){var e=this.props,n=e.lowerPercentile,r=e.upperPercentile,i=e.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([n,r]);if(typeof i==="function"){i(this.state.colorValueDomain)}this.getColorScale()}},{key:"getElevationValueDomain",value:function t(){var e=this.props,n=e.elevationLowerPercentile,r=e.elevationUpperPercentile,i=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([n,r]);if(typeof i==="function"){i(this.state.elevationValueDomain)}this.getElevationScale()}},{key:"getColorScale",value:function t(){var e=this.props.colorRange;var n=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=xu(n,e)}},{key:"getElevationScale",value:function t(){var e=this.props.elevationRange;var n=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=wu(n,e)}},{key:"_onGetSublayerColor",value:function t(e){var n=this.state,r=n.sortedColorBins,i=n.colorScaleFunc,o=n.colorValueDomain;var a=r.binMap[e.index]&&r.binMap[e.index].value;var s=this.props.colorDomain||o;var u=a>=s[0]&&a<=s[s.length-1];var l=u?i(a):[0,0,0,0];l[3]=Number.isFinite(l[3])?l[3]:255;return l}},{key:"_onGetSublayerElevation",value:function t(e){var n=this.state,r=n.sortedElevationBins,i=n.elevationScaleFunc,o=n.elevationValueDomain;var a=r.binMap[e.index]&&r.binMap[e.index].value;var s=this.props.elevationDomain||o;var u=a>=s[0]&&a<=s[s.length-1];return u?i(a):-1}},{key:"getSubLayerProps",value:function t(){var n=this.props,r=n.radius,i=n.elevationScale,o=n.extruded,a=n.coverage,s=n.lightSettings,u=n.fp64;return vu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getSubLayerProps",this).call(this,{id:"hexagon-cell",data:this.state.hexagons,fp64:u,hexagonVertices:this.state.hexagonVertices,radius:r,elevationScale:i,angle:Math.PI,extruded:o,coverage:a,lightSettings:s,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function t(){return au}},{key:"renderLayers",value:function t(){var e=this.getSubLayerClass();return new e(this.getSubLayerProps())}}]);return e}(We);var Mu=Cu;Cu.layerName="HexagonLayer";Cu.defaultProps=Iu;var Au="#define SHADER_NAME path-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  float relativePosition, bool isEnd, bool isJoint,\n  float width\n) {\n  vec2 deltaA = currPoint.xy - prevPoint.xy;\n  vec2 deltaB = nextPoint.xy - currPoint.xy;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  float offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  float cornerPosition = isJoint ?\n    0.0 :\n    flipIfTrue(turnsRight == (relativePosition > 0.0));\n\n  // do not bevel if line segment is too short\n  cornerPosition *=\n    float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n\n  // trim if inside corner extends further than the line segment\n  if (cornerPosition < 0.0) {\n    offsetScale = min(offsetScale, L / width / max(cosHalfA, EPSILON));\n  }\n\n  vMiterLength = cornerPosition >= 0.0 ?\n    mix(offsetScale, 0.0, cornerPosition) :\n    offsetScale * cornerPosition;\n  vMiterLength -= sinHalfA * jointType;\n\n  float offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // TODO - This has an issue. len is always positive because it is length.\n  // Step returns zero if -lenA<0, so practically this is a comparison of\n  // lenA with zero, with lots of problems because of the -lenA. Can we use EPSILON?\n  bool isStartCap = step(0.0, -lenA) > 0.5;\n  bool isEndCap = step(0.0, -lenB) > 0.5;\n  bool isCap = isStartCap || isEndCap;\n\n  // 0: center, 1: side\n  cornerPosition = isCap ? (1.0 - positions.z) : 0.;\n\n  // start of path: use next - curr\n  if (isStartCap) {\n    offsetVec = mix(dirB, perpB, cornerPosition);\n  }\n\n  // end of path: use curr - prev\n  if (isEndCap) {\n    offsetVec = mix(dirA, perpA, cornerPosition);\n  }\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetScale = mix(4.0 * jointType, 1.0, cornerPosition);\n    vMiterLength = 1.0 - cornerPosition;\n    offsetDirection = mix(flipIfTrue(isStartCap), positions.y, cornerPosition);\n  }\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  // vec2 offsetFromStartOfPath = isEnd ? vCornerOffset + deltaA / width : vCornerOffset;\n  vec2 offsetFromStartOfPath = vCornerOffset;\n  if (isEnd) {\n    offsetFromStartOfPath += deltaA / width;\n  }\n  vec2 dir = isEnd ? dirA : dirB;\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return currPoint + vec3(vCornerOffset * width, 0.0);\n}\n\n// calculate line join positions\n// extract params from attributes and uniforms\nvec3 lineJoin(vec3 prevPoint, vec3 currPoint, vec3 nextPoint) {\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n\n  float relativePosition = positions.y;\n  bool isEnd = positions.x > EPSILON;\n  bool isJoint = positions.z > EPSILON;\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  return lineJoin(\n    prevPoint, currPoint, nextPoint,\n    relativePosition, isEnd, isJoint,\n    width\n  );\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd) + instanceStartPositions;\n  prevPosition = project_position(prevPosition);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  currPosition = project_position(currPosition);\n\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd) + instanceEndPositions;\n  nextPosition = project_position(nextPosition);\n\n  vec3 pos = lineJoin(prevPosition, currPosition, nextPosition);\n\n  gl_Position = project_to_clipspace(vec4(pos, 1.0));\n}\n";var Su="\n#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec4 instanceStartEndPositions64xyLow;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\nvec3 lineJoin(vec2 prevPoint64[2], vec2 currPoint64[2], vec2 nextPoint64[2]) {\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  vec2 deltaA64[2];\n  vec2 deltaB64[2];\n\n  vec2_sub_fp64(currPoint64, prevPoint64, deltaA64);\n  vec2_sub_fp64(nextPoint64, currPoint64, deltaB64);\n\n  vec2 lengthA64 = vec2_length_fp64(deltaA64);\n  vec2 lengthB64 = vec2_length_fp64(deltaB64);\n\n  vec2 deltaA = vec2(deltaA64[0].x, deltaA64[1].x);\n  vec2 deltaB = vec2(deltaB64[0].x, deltaB64[1].x);\n\n  float lenA = lengthA64.x;\n  float lenB = lengthB64.x;\n\n  vec2 offsetVec;\n  float offsetScale;\n  float offsetDirection;\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n  vec2 dirA = lenA > 0. ? deltaA / lenA : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? deltaB / lenB : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = mix(perpB, perpA, positions.x);\n  float L = mix(lenB, lenA, positions.x);\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = mix(\n    flipIfTrue(turnsRight == (positions.y > 0.0)),\n    0.0,\n    positions.z\n  );\n\n  offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  // do not bevel if line segment is too short\n  cornerPosition *= float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n  // trim if inside corner extends further than the line segment\n  offsetScale = mix(\n    offsetScale,\n    min(offsetScale, L / width / max(cosHalfA, EPSILON)),\n    float(cornerPosition < 0.0)\n  );\n\n  vMiterLength = mix(\n    offsetScale * cornerPosition,\n    mix(offsetScale, 0.0, cornerPosition),\n    step(0.0, cornerPosition)\n  ) - sinHalfA * jointType;\n  offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n  offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // using a small number as the limit for determining if the lenA or lenB is 0\n  float isStartCap = step(lenA, 1.0e-5);\n  float isEndCap = step(lenB, 1.0e-5);\n  float isCap = max(isStartCap, isEndCap);\n\n  // 0: center, 1: side\n  cornerPosition = isCap * (1.0 - positions.z);\n\n  // start of path: use next - curr\n  offsetVec = mix(offsetVec, mix(dirB, perpB, cornerPosition), isStartCap);\n  // end of path: use curr - prev\n  offsetVec = mix(offsetVec, mix(dirA, perpA, cornerPosition), isEndCap);\n\n  // extend out a triangle to envelope the round cap\n  offsetScale = mix(\n    offsetScale,\n    mix(4.0 * jointType, 1.0, cornerPosition),\n    isCap\n  );\n  vMiterLength = mix(vMiterLength, 1.0 - cornerPosition, isCap);\n\n  offsetDirection = mix(\n    offsetDirection,\n    mix(flipIfTrue(isStartCap > 0.), positions.y, cornerPosition),\n    isCap\n  );\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  float isEnd = positions.x;\n  vec2 offsetFromStartOfPath = mix(vCornerOffset, vCornerOffset + deltaA / width, isEnd);\n  vec2 dir = mix(dirB, dirA, isEnd);\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return vec3(vCornerOffset * width, 0.0);\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  // Calculate current position\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  currPosition = project_position(currPosition);\n\n  // Calculate current position 64bit\n\n  vec2 instanceStartPositions64[2];\n  instanceStartPositions64[0] = vec2(instanceStartPositions.x, instanceStartEndPositions64xyLow.x);\n  instanceStartPositions64[1] = vec2(instanceStartPositions.y, instanceStartEndPositions64xyLow.y);\n\n  vec2 instanceEndPositions64[2];\n  instanceEndPositions64[0] = vec2(instanceEndPositions.x, instanceStartEndPositions64xyLow.z);\n  instanceEndPositions64[1] = vec2(instanceEndPositions.y, instanceStartEndPositions64xyLow.w);\n\n  vec2 tempCurrPosition64[2];\n  vec2_mix_fp64(instanceStartPositions64, instanceEndPositions64, isEnd, tempCurrPosition64);\n\n  vec4 currPosition64 = vec4(tempCurrPosition64[0].xy, tempCurrPosition64[1].xy);\n\n  vec2 projected_curr_position[2];\n  project_position_fp64(currPosition64, projected_curr_position);\n  float projected_curr_position_z = project_scale(currPosition.z);\n\n  // Calculate previous position\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd);\n\n  // Calculate prev position 64bit\n\n  vec2 tempPrevPosition64[2];\n  tempPrevPosition64[0] = sum_fp64(vec2(prevPosition.x, 0.0), instanceStartPositions64[0]);\n  tempPrevPosition64[1] = sum_fp64(vec2(prevPosition.y, 0.0), instanceStartPositions64[1]);\n\n  vec4 prevPosition64 = vec4(tempPrevPosition64[0].xy, tempPrevPosition64[1].xy);\n\n  vec2 projected_prev_position[2];\n  project_position_fp64(prevPosition64, projected_prev_position);\n\n  // Calculate next positions\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd);\n\n  // Calculate next position 64bit\n\n  vec2 tempNextPosition64[2];\n  tempNextPosition64[0] = sum_fp64(vec2(nextPosition.x, 0.0), instanceEndPositions64[0]);\n  tempNextPosition64[1] = sum_fp64(vec2(nextPosition.y, 0.0), instanceEndPositions64[1]);\n\n  vec4 nextPosition64 = vec4(tempNextPosition64[0].xy, tempNextPosition64[1].xy);\n\n  vec2 projected_next_position[2];\n  project_position_fp64(nextPosition64, projected_next_position);\n\n  vec3 pos = lineJoin(projected_prev_position, projected_curr_position, projected_next_position);\n  vec2 vertex_pos_modelspace[4];\n\n  vertex_pos_modelspace[0] = sum_fp64(vec2(pos.x, 0.0), projected_curr_position[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vec2(pos.y, 0.0), projected_curr_position[1]);\n  vertex_pos_modelspace[2] = vec2(pos.z + projected_curr_position_z, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n}\n";var Ru="#define SHADER_NAME path-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float jointType;\nuniform float miterLimit;\nuniform float alignMode;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\n// mod doesn't work correctly for negative numbers\nfloat mod2(float a, float b) {\n  return a - floor(a / b) * b;\n}\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n\n// if given position is in the gap part of the dashed line\n// dashArray.x: solid stroke length, relative to width\n// dashArray.y: gap length, relative to width\n// alignMode:\n// 0 - no adjustment\n// o----     ----     ----     ---- o----     -o----     ----     o\n// 1 - stretch to fit, draw half dash at each end for nicer joints\n// o--    ----    ----    ----    --o--      --o--     ----     --o\nbool dash_isFragInGap() {\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n\n  float unitLength = solidLength + gapLength;\n\n  if (unitLength == 0.0) {\n    return false;\n  }\n\n  unitLength = mix(\n    unitLength,\n    vPathLength / round(vPathLength / unitLength),\n    alignMode\n  );\n\n  float offset = alignMode * solidLength / 2.0;\n\n  return gapLength > 0.0 &&\n    vPathPosition >= 0.0 &&\n    vPathPosition <= vPathLength &&\n    mod2(vPathPosition + offset, unitLength) > solidLength;\n}\n\nvoid main(void) {\n  // if joint is rounded, test distance from the corner\n  if (jointType > 0.0 && vMiterLength > 0.0 && length(vCornerOffset) > 1.0) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 0., 1.);\n    // return;\n    discard;\n  }\n  if (jointType == 0.0 && vMiterLength > miterLimit) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 0., 1., 1.);\n    // return;\n    discard;\n  }\n  if (vColor.a == 0.0 || dash_isFragInGap()) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 1., 1.);\n    // return;\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Lu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var ku=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function Nu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Fu(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ou(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Bu=Fo.fp64ify,Pu=Fo.enable64bitSupport;var Uu=[0,0,0,255];var Du={widthScale:1,widthMinPixels:0,widthMaxPixels:Number.MAX_SAFE_INTEGER,rounded:false,miterLimit:4,fp64:false,dashJustified:false,getPath:function t(e){return e.path},getColor:function t(e){return e.color||Uu},getWidth:function t(e){return e.width||1},getDashArray:null};var zu=function t(e){var n=e[0];var r=e[e.length-1];return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]};var ju=function(t){Ou(e,t);function e(){Nu(this,e);return Fu(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Lu(e,[{key:"getShaders",value:function t(){return Pu(this.props)?{vs:Su,fs:Ru,modules:["project64","picking"]}:{vs:Au,fs:Ru,modules:["picking"]}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e)});var n=this.state.attributeManager;n.addInstanced({instanceStartPositions:{size:3,update:this.calculateStartPositions},instanceEndPositions:{size:3,update:this.calculateEndPositions},instanceLeftDeltas:{size:3,update:this.calculateLeftDeltas},instanceRightDeltas:{size:3,update:this.calculateRightDeltas},instanceStrokeWidths:{size:1,accessor:"getWidth",update:this.calculateStrokeWidths},instanceDashArrays:{size:2,accessor:"getDashArray",update:this.calculateDashArrays},instanceColors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateColors},instancePickingColors:{size:3,type:h["e"].UNSIGNED_BYTE,update:this.calculatePickingColors}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.addInstanced({instanceStartEndPositions64xyLow:{size:4,update:this.calculateInstanceStartEndPositions64xyLow}})}else{o.remove(["instanceStartEndPositions64xyLow"])}}}},{key:"updateState",value:function t(n){var r=n.oldProps,i=n.props,o=n.changeFlags;ku(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:i,oldProps:r,changeFlags:o});var a=this.props.getPath;var s=this.state.attributeManager;if(i.fp64!==r.fp64){var u=this.context.gl;this.setState({model:this._getModel(u)})}this.updateAttribute({props:i,oldProps:r,changeFlags:o});var l=o.dataChanged||o.updateTriggersChanged&&(o.updateTriggersChanged.all||o.updateTriggersChanged.getPath);if(l){var c=i.data.map(a);var f=c.reduce(function(t,e){return t+e.length-1},0);this.setState({paths:c,numInstances:f});s.invalidateAll()}}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props,i=r.rounded,o=r.miterLimit,a=r.widthScale,s=r.widthMinPixels,u=r.widthMaxPixels,l=r.dashJustified;this.state.model.render(Object.assign({},n,{jointType:Number(i),alignMode:Number(l),widthScale:a,miterLimit:o,widthMinPixels:s,widthMaxPixels:u}))}},{key:"_getModel",value:function t(e){var n=[0,2,1,1,2,4,1,4,3,3,4,5];var r=[0,0,1,0,-1,0,0,1,0,1,-1,0,1,1,0,1,0,1];return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:h["e"].TRIANGLES,attributes:{indices:new Uint16Array(n),positions:new Float32Array(r)}}),isInstanced:true,shaderCache:this.context.shaderCache}))}},{key:"calculateStartPositions",value:function t(e){var n=this.state.paths;var r=e.value;var i=0;n.forEach(function(t){var e=t.length-1;for(var n=0;n<e;n++){var o=t[n];r[i++]=o[0];r[i++]=o[1];r[i++]=o[2]||0}})}},{key:"calculateEndPositions",value:function t(e){var n=this.state.paths;var r=e.value;var i=0;n.forEach(function(t){for(var e=1;e<t.length;e++){var n=t[e];r[i++]=n[0];r[i++]=n[1];r[i++]=n[2]||0}})}},{key:"calculateInstanceStartEndPositions64xyLow",value:function t(e){var n=this.state.paths;var r=e.value;var i=0;n.forEach(function(t){var e=t.length-1;for(var n=0;n<e;n++){var o=t[n];var a=t[n+1];r[i++]=Bu(o[0])[1];r[i++]=Bu(o[1])[1];r[i++]=Bu(a[0])[1];r[i++]=Bu(a[1])[1]}})}},{key:"calculateLeftDeltas",value:function t(e){var n=this.state.paths;var r=e.value;var i=0;n.forEach(function(t){var e=t.length-1;var n=zu(t)?t[t.length-2]:t[0];for(var o=0;o<e;o++){var a=t[o];r[i++]=a[0]-n[0];r[i++]=a[1]-n[1];r[i++]=a[2]-n[2]||0;n=a}})}},{key:"calculateRightDeltas",value:function t(e){var n=this.state.paths;var r=e.value;var i=0;n.forEach(function(t){for(var e=1;e<t.length;e++){var n=t[e];var o=t[e+1];if(!o){o=zu(t)?t[1]:n}r[i++]=o[0]-n[0];r[i++]=o[1]-n[1];r[i++]=o[2]-n[2]||0}})}},{key:"calculateStrokeWidths",value:function t(e){var n=this.props,r=n.data,i=n.getWidth;var o=this.state.paths;var a=e.value;var s=0;o.forEach(function(t,e){var n=i(r[e],e);for(var o=1;o<t.length;o++){a[s++]=n}})}},{key:"calculateDashArrays",value:function t(e){var n=this.props,r=n.data,i=n.getDashArray;if(!i){return}var o=this.state.paths;var a=e.value;var s=0;o.forEach(function(t,e){var n=i(r[e],e);for(var o=1;o<t.length;o++){a[s++]=n[0];a[s++]=n[1]}})}},{key:"calculateColors",value:function t(e){var n=this.props,r=n.data,i=n.getColor;var o=this.state.paths;var a=e.value;var s=0;o.forEach(function(t,e){var n=i(r[e],e);if(isNaN(n[3])){n[3]=255}for(var o=1;o<t.length;o++){a[s++]=n[0];a[s++]=n[1];a[s++]=n[2];a[s++]=n[3]}})}},{key:"calculatePickingColors",value:function t(e){var n=this;var r=this.state.paths;var i=e.value;var o=0;r.forEach(function(t,e){var r=n.encodePickingColor(e);for(var a=1;a<t.length;a++){i[o++]=r[0];i[o++]=r[1];i[o++]=r[2]}})}}]);return e}(ht);var Vu=ju;ju.layerName="PathLayer";ju.defaultProps=Du;function Gu(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}function Xu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.dimensions,r=n===undefined?3:n;return Gu(t)?[t]:t}function Wu(t){return Gu(t)?t.length:t.reduce(function(t,e){return t+e.length},0)}function Zu(t){var e=0;var n=true;var r=true;var i=false;var o=undefined;try{for(var a=Xu(t)[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var u=s.value;var l=u.length;if(n){e+=l>=3?l-2:0}else{e+=l+1}n=false}}catch(t){i=true;o=t}finally{try{if(!r&&a.return){a.return()}}finally{if(i){throw o}}}return e}function Qu(t,e){if(Gu(t)){t.forEach(e);return}var n=0;t.forEach(function(r){r.forEach(function(r,i,o){return e(r,n,t)});n++})}var Hu=n("It3W");var Yu=n.n(Hu);var Ju=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function qu(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var Ku=Fo.fp64ify,$u=Fo.flattenVertices,tl=Fo.fillArray;function el(t){return[(t+1)%256,Math.floor((t+1)/256)%256,Math.floor((t+1)/256/256)%256]}var nl=[0,0,0,255];var rl=function(){function t(e){var n=e.polygons,r=e.fp64,i=r===undefined?false:r;qu(this,t);this.polygons=n.map(function(t){return Xu(t)});this.pointCount=il(this.polygons);this.fp64=i}Ju(t,[{key:"indices",value:function t(){var e=this.polygons,n=this.indexCount;return ul({polygons:e,indexCount:n})}},{key:"positions",value:function t(){var e=this.polygons,n=this.pointCount;return cl({polygons:e,pointCount:n,fp64:this.fp64})}},{key:"normals",value:function t(){var e=this.polygons,n=this.pointCount;return fl({polygons:e,pointCount:n})}},{key:"colors",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.getColor,r=n===undefined?function(t){return nl}:n;var i=this.polygons,o=this.pointCount;return hl({polygons:i,pointCount:o,getColor:r})}},{key:"pickingColors",value:function t(){var e=this.polygons,n=this.pointCount;return pl({polygons:e,pointCount:n})}}]);return t}();function il(t){return t.reduce(function(t,e){return t+Wu(e)},0)}function ol(t){return t.reduce(function(t,e){return t+Zu(e)},0)}function al(t){var e=new Array(t.length+1);e[0]=0;var n=0;t.forEach(function(t,r){n+=Wu(t);e[r+1]=n});return e}function sl(t){var e=null;if(t.length>1){var n=0;e=[];t.forEach(function(t){n+=t.length;e.push(n)});e.pop()}return e}function ul(t){var e=t.polygons,n=t.IndexType,r=n===undefined?Uint32Array:n;var i=3*ol(e);var o=al(e);if(r===Uint16Array&&i>65535){throw new Error("Vertex count exceeds browser's limit")}var a=new r(i);var s=0;e.forEach(function(t,e){var n=true;var r=false;var i=undefined;try{for(var u=ll(t)[Symbol.iterator](),l;!(n=(l=u.next()).done);n=true){var c=l.value;a[s++]=c+o[e]}}catch(t){r=true;i=t}finally{try{if(!n&&u.return){u.return()}}finally{if(r){throw i}}}});return a}function ll(t){var e=sl(t);var n=$u(t);return Yu()(n,e,3)}function cl(t){var e=t.polygons,n=t.pointCount,r=t.fp64;var i=new Float32Array(n*3);var o=void 0;if(r){o=new Float32Array(n*2)}var a=0;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=e[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;Qu(p,function(t){var e=t[0];var n=t[1];var u=t[2]||0;i[a++]=e;i[a++]=n;i[a++]=u;if(r){o[s++]=Ku(e)[1];o[s++]=Ku(n)[1]}})}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}return{positions:i,positions64xyLow:o}}function fl(t){var e=t.polygons,n=t.pointCount;var r=new Float32Array(n*3);return r}function hl(t){var e=t.polygons,n=t.pointCount,r=t.getColor;var i=new Uint8ClampedArray(n*4);var o=0;e.forEach(function(t,e){var n=r(e);n[3]=Number.isFinite(n[3])?n[3]:255;var a=Wu(t);tl({target:i,source:n,start:o,count:a});o+=n.length*a});return i}function pl(t){var e=t.polygons,n=t.pointCount;var r=new Uint8ClampedArray(n*3);var i=0;e.forEach(function(t,e){var n=el(e);var o=Wu(t);tl({target:r,source:n,start:i,count:o});i+=n.length*o});return r}var dl=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function vl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var ml=Fo.fp64ify,gl=Fo.fillArray;function yl(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}function _l(t,e){var n=e.length;var r=t.length;for(var i=0;i<n;i++){t[r++]=e[i]}return t}function bl(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];if(e>1){t.forEach(function(t){return bl(t,e-1,n)})}else{_l(n,t)}return n}var xl=[0,0,0,255];var wl=function(){function t(e){var n=e.polygons,r=e.getHeight,i=r===undefined?function(t){return 1e3}:r,o=e.getColor,a=o===undefined?function(t){return xl}:o,s=e.wireframe,u=s===undefined?false:s,l=e.fp64,c=l===undefined?false:l;vl(this,t);this.fp64=c;n=n.map(function(t,e){var n=i(e)||0;return Xu(t).map(function(t){return t.map(function(t){return[t[0],t[1],n]})})});var f=n;this.groupedVertices=n;var h=El(n);this.pointCount=h;this.wireframe=u;this.attributes={};var p=Il({groupedVertices:f,pointCount:h,wireframe:u});Object.assign(this.attributes,{positions:Cl(p,this.fp64),indices:Tl({groupedVertices:f,wireframe:u}),normals:Ml({groupedVertices:f,pointCount:h,wireframe:u}),pickingColors:Rl({groupedVertices:f,pointCount:h,wireframe:u})})}dl(t,[{key:"indices",value:function t(){return this.attributes.indices}},{key:"positions",value:function t(){return this.attributes.positions}},{key:"normals",value:function t(){return this.attributes.normals}},{key:"colors",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.getColor,r=n===undefined?function(t){return xl}:n;var i=this.groupedVertices,o=this.pointCount,a=this.wireframe;return Sl({groupedVertices:i,pointCount:o,wireframe:a,getColor:r})}},{key:"pickingColors",value:function t(){return this.attributes.pickingColors}}]);return t}();function El(t){return t.reduce(function(t,e){return t+Wu(e)},0)}function Tl(t){var e=t.groupedVertices,n=t.wireframe,r=n===undefined?false:n;var i=r?2:5;var o=[];e.reduce(function(t,e){o.push(t);return t+Wu(e)*i},0);var a=e.map(function(t,e){return r?Ll(t,o[e]):Nl(t,o[e])});return new Uint32Array(bl(a,2))}function Il(t){var e=t.groupedVertices,n=t.pointCount,r=t.wireframe,i=r===undefined?false:r;var o=i?2:5;var a=new Float32Array(n*3*o);var s=0;e.forEach(function(t){var e=bl(t,3);var n=e.slice(0);var r=e.length-1;while(r>0){n[r]=0;r-=3}var u=e.length;if(i){gl({target:a,source:e,start:s});gl({target:a,source:n,start:s+u})}else{gl({target:a,source:e,start:s,count:3});gl({target:a,source:n,start:s+u*3,count:2})}s+=u*o});return a}function Cl(t,e){var n=void 0;if(e){var r=t.length/3;n=new Float32Array(r*2);for(var i=0;i<r;i++){n[i*2+0]=ml(t[i*3+0])[1];n[i*2+1]=ml(t[i*3+1])[1]}}return{positions:t,positions64xyLow:n}}function Ml(t){var e=t.groupedVertices,n=t.pointCount,r=t.wireframe;var i=[0,0,1];var o=r?2:5;var a=new Float32Array(n*3*o);var s=0;if(r){return gl({target:a,source:i,count:n*o})}e.map(function(t,e){var n=Wu(t);gl({target:a,source:i,start:s,count:n});s+=n*3;var r=[];var o=[];t.forEach(function(t){var e=Al(t);var n=e.slice(0,3);_l(r,e);_l(r,n);_l(o,n);_l(o,e)});gl({target:a,start:s,count:2,source:r.concat(o)});s+=n*3*4});return a}function Al(t){var e=[];var n=null;var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){var u=s.value;if(n){var l=Fl(n,u);_l(e,l)}n=u}}catch(t){i=true;o=t}finally{try{if(!r&&a.return){a.return()}}finally{if(i){throw o}}}return e}function Sl(t){var e=t.groupedVertices,n=t.pointCount,r=t.getColor,i=t.wireframe,o=i===undefined?false:i;var a=o?2:5;var s=new Uint8ClampedArray(n*4*a);var u=0;e.forEach(function(t,e){var n=r(e);n[3]=Number.isFinite(n[3])?n[3]:255;var i=Wu(t);gl({target:s,source:n,start:u,count:i*a});u+=n.length*i*a});return s}function Rl(t){var e=t.groupedVertices,n=t.pointCount,r=t.wireframe,i=r===undefined?false:r;var o=i?2:5;var a=new Uint8ClampedArray(n*3*o);var s=0;e.forEach(function(t,e){var n=Wu(t);var r=yl(e);gl({target:a,source:r,start:s,count:n*o});s+=r.length*n*o});return a}function Ll(t,e){var n=Wu(t);var r=[];t.forEach(function(t){r.push(e);var i=t.length;for(var o=1;o<i-1;o++){r.push(o+e,o+e)}r.push(e);for(var a=0;a<i-1;a++){r.push(a+e,a+n+e)}e+=i});return r}function kl(t,e,n){t.push(e+n,e+n*3,e+n*2+1,e+n*2+1,e+n*3,e+n*4+1)}function Nl(t,e){var n=Wu(t);var r=null;var i=t.length-1;if(i){r=[];var o=0;for(var a=0;a<i;a++){o+=t[a].length;r[a]=o}}var s=Yu()(bl(t,3),r,3).map(function(t){return t+e});t.forEach(function(t){var r=t.length;for(var i=0;i<r-1;i++){kl(s,e+i,n)}e+=r});return s}function Fl(t,e){return[t[1]-e[1],e[0]-t[0],0]}var Ol="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec3 pickingColors;\n\nuniform float extruded;\nuniform float elevationScale;\nuniform float opacity;\nuniform vec3 pixelsPerUnit;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  \n  vec4 position_worldspace = vec4(project_position(\n    vec3(positions.x, positions.y, positions.z * elevationScale)),\n    1.0\n  );\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  float lightWeight = 1.0;\n  \n  if (extruded > 0.5) {\n    // Here, the input parameters should be\n    // position_worldspace.xyz / position_worldspace.w.\n    // However, this calculation generates all zeros on\n    // MacBook Pro with Intel Iris Pro GPUs for unclear reasons.\n    // (see https://github.com/uber/deck.gl/issues/559)\n    // Since the w component is always 1.0 in our shaders,\n    // we decided to just provide xyz component of position_worldspace\n    // to the getLightWeight() function\n    lightWeight = getLightWeight(\n      position_worldspace.xyz,\n      normalize(normals * pixelsPerUnit)\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n";var Bl="#define SHADER_NAME solid-polygon-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec2 positions64xyLow;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec3 pickingColors;\n\nuniform float extruded;\nuniform float elevationScale;\nuniform float opacity;\nuniform vec3 pixelsPerUnit;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positions64xy = vec4(positions.x, positions64xyLow.x, positions.y, positions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(positions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(positions.z * elevationScale), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normalize(normals * pixelsPerUnit)\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n";var Pl="#define SHADER_NAME solid-polygon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n// PICKING\n// uniform bool pickingEnabled;\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n";var Ul=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var Dl=function t(e,n,r){if(e===null)e=Function.prototype;var i=Object.getOwnPropertyDescriptor(e,n);if(i===undefined){var o=Object.getPrototypeOf(e);if(o===null){return undefined}else{return t(o,n,r)}}else if("value"in i){return i.value}else{var a=i.get;if(a===undefined){return undefined}return a.call(r)}};function zl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function jl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Vl(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Gl=Fo.enable64bitSupport,Xl=Fo.get;var Wl={extruded:false,wireframe:false,fp64:false,elevationScale:1,getPolygon:function t(e){return Xl(e,"polygon")||Xl(e,"geometry.coordinates")},getElevation:function t(e){return Xl(e,"elevation")||Xl(e,"properties.height")||0},getColor:function t(e){return Xl(e,"color")||Xl(e,"properties.color")},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}};var Zl=function(t){Vl(e,t);function e(){zl(this,e);return jl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Ul(e,[{key:"getShaders",value:function t(){return Gl(this.props)?{vs:Bl,fs:Pl,modules:["project64","lighting","picking"]}:{vs:Ol,fs:Pl,modules:["lighting","picking"]}}},{key:"initializeState",value:function t(){var e=this.context.gl;this.setState({model:this._getModel(e),numInstances:0,IndexType:e.getExtension("OES_element_index_uint")?Uint32Array:Uint16Array});var n=this.state.attributeManager;var r=true;n.add({indices:{size:1,isIndexed:true,update:this.calculateIndices,noAlloc:r},positions:{size:3,accessor:"getElevation",update:this.calculatePositions,noAlloc:r},normals:{size:3,update:this.calculateNormals,noAlloc:r},colors:{size:4,type:h["e"].UNSIGNED_BYTE,accessor:"getColor",update:this.calculateColors,noAlloc:r},pickingColors:{size:3,type:h["e"].UNSIGNED_BYTE,update:this.calculatePickingColors,noAlloc:r}})}},{key:"updateAttribute",value:function t(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(n.fp64!==r.fp64){var o=this.state.attributeManager;o.invalidateAll();if(n.fp64&&n.coordinateSystem===l["a"].LNGLAT){o.add({positions64xyLow:{size:2,update:this.calculatePositionsLow}})}else{o.remove(["positions64xyLow"])}}}},{key:"draw",value:function t(e){var n=e.uniforms;var r=this.props,i=r.extruded,o=r.lightSettings,a=r.elevationScale;var s=this.context.viewport;this.state.model.render(Object.assign({},n,{extruded:i?1:0,elevationScale:a,pixelsPerUnit:s.getDistanceScales().pixelsPerDegree},o))}},{key:"updateState",value:function t(n){var r=n.props,i=n.oldProps,o=n.changeFlags;Dl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateState",this).call(this,{props:r,oldProps:i,changeFlags:o});var a=this.updateGeometry({props:r,oldProps:i,changeFlags:o});if(a){var s=this.context.gl;this.setState({model:this._getModel(s)})}this.updateAttribute({props:r,oldProps:i,changeFlags:o})}},{key:"updateGeometry",value:function t(e){var n=this;var r=e.props,i=e.oldProps,o=e.changeFlags;var a=r.extruded!==i.extruded||r.wireframe!==i.wireframe||r.fp64!==i.fp64||o.updateTriggersChanged&&(o.updateTriggersChanged.all||o.updateTriggersChanged.getPolygon);var s=o.updateTriggersChanged&&k({oldProps:i.updateTriggers.getElevation||{},newProps:r.updateTriggers.getElevation||{},triggerName:"getElevation"});if(o.dataChanged||a||s){var u=r.getPolygon,l=r.extruded,c=r.wireframe,f=r.getElevation;var h=r.data.map(u);this.setState({polygonTesselator:!l?new rl({polygons:h,fp64:this.props.fp64}):new wl({polygons:h,wireframe:c,getHeight:function t(e){return f(n.props.data[e])},fp64:this.props.fp64})});this.state.attributeManager.invalidateAll()}return a}},{key:"_getModel",value:function t(e){return new h["g"](e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new h["f"]({drawMode:this.props.wireframe?h["e"].LINES:h["e"].TRIANGLES,attributes:{}}),vertexCount:0,isIndexed:true,shaderCache:this.context.shaderCache}))}},{key:"calculateIndices",value:function t(e){e.value=this.state.polygonTesselator.indices();e.target=h["e"].ELEMENT_ARRAY_BUFFER;this.state.model.setVertexCount(e.value.length/e.size)}},{key:"calculatePositions",value:function t(e){e.value=this.state.polygonTesselator.positions().positions}},{key:"calculatePositionsLow",value:function t(e){e.value=this.state.polygonTesselator.positions().positions64xyLow}},{key:"calculateNormals",value:function t(e){e.value=this.state.polygonTesselator.normals()}},{key:"calculateColors",value:function t(e){var n=this;e.value=this.state.polygonTesselator.colors({getColor:function t(e){return n.props.getColor(n.props.data[e])}})}},{key:"calculatePickingColors",value:function t(e){e.value=this.state.polygonTesselator.pickingColors()}}]);return e}(ht);var Ql=Zl;Zl.layerName="SolidPolygonLayer";Zl.defaultProps=Wl;var Hl=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Yl(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Jl(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function ql(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Kl=Fo.get;var $l=[0,0,0,255];var tc=[0,0,0,255];var ec={stroked:true,filled:true,extruded:false,elevationScale:1,wireframe:false,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:false,lineMiterLimit:4,lineDashJustified:false,fp64:false,getPolygon:function t(e){return Kl(e,"polygon")},getFillColor:function t(e){return Kl(e,"fillColor")||tc},getLineColor:function t(e){return Kl(e,"lineColor")||$l},getLineWidth:function t(e){return Kl(e,"lineWidth")||1},getLineDashArray:null,getElevation:function t(e){return Kl(e,"elevation")||1e3},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}};var nc=function(t){ql(e,t);function e(){Yl(this,e);return Jl(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}Hl(e,[{key:"initializeState",value:function t(){this.state={paths:[]}}},{key:"updateState",value:function t(e){var n=this;var r=e.oldProps,i=e.props,o=e.changeFlags;var a=o.dataChanged||o.updateTriggersChanged&&(o.updateTriggersChanged.all||o.updateTriggersChanged.getPolygon);if(a){var s=this.props,u=s.data,l=s.getPolygon;this.state.paths=[];u.forEach(function(t){var e=Xu(l(t));e.forEach(function(e){return n.state.paths.push({path:e,object:t})})})}}},{key:"getPickingInfo",value:function t(e){var n=e.info;return Object.assign(n,{object:n.object&&n.object.object||n.object})}},{key:"renderLayers",value:function t(){var e=this.props,n=e.data,r=e.stroked,i=e.filled,o=e.extruded,a=e.wireframe,s=e.elevationScale;var u=this.props,l=u.lineWidthScale,c=u.lineWidthMinPixels,f=u.lineWidthMaxPixels,h=u.lineJointRounded,p=u.lineMiterLimit,d=u.lineDashJustified,v=u.fp64;var m=this.props,g=m.getFillColor,y=m.getLineColor,_=m.getLineWidth,b=m.getLineDashArray,x=m.getElevation,w=m.getPolygon,E=m.updateTriggers,T=m.lightSettings;var I=this.state.paths;var C=n&&n.length>0;var M=i&&C&&new Ql(this.getSubLayerProps({id:"fill",data:n,extruded:o,elevationScale:s,fp64:v,wireframe:false,getPolygon:w,getElevation:x,getColor:g,updateTriggers:{getElevation:E.getElevation,getColor:E.getFillColor},lightSettings:T}));var A=o&&a&&C&&new Ql(this.getSubLayerProps({id:"wireframe",data:n,fp64:v,extruded:true,elevationScale:s,wireframe:true,getPolygon:w,getElevation:x,getColor:y,updateTriggers:{getElevation:E.getElevation,getColor:E.getLineColor}}));var S=!o&&r&&C&&new Vu(this.getSubLayerProps({id:"stroke",data:I,fp64:v,widthScale:l,widthMinPixels:c,widthMaxPixels:f,rounded:h,miterLimit:p,dashJustified:d,getPath:function t(e){return e.path},getColor:function t(e){return y(e.object)},getWidth:function t(e){return _(e.object)},getDashArray:b&&function(t){return b(t.object)},updateTriggers:{getWidth:E.getLineWidth,getColor:E.getLineColor,getDashArray:E.getLineDashArray}}));return[!o&&M,A,S,o&&M]}}]);return e}(We);var rc=nc;nc.layerName="PolygonLayer";nc.defaultProps=ec;var ic=Fo.get;function oc(t){if(Array.isArray(t)){return t}var e=ic(t,"type");switch(e){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"GeometryCollection":return[{type:"Feature",properties:{},geometry:t}];case"Feature":return[t];case"FeatureCollection":return ic(t,"features");default:throw new Error("Unknown geojson type")}}function ac(t){var e=[];var n=[];var r=[];var i=[];t.forEach(function(t){var o=ic(t,"geometry.type");var a=ic(t,"geometry.coordinates");var s=ic(t,"properties");switch(o){case"Point":e.push(t);break;case"MultiPoint":a.forEach(function(n){e.push({geometry:{coordinates:n},properties:s,feature:t})});break;case"LineString":n.push(t);break;case"MultiLineString":a.forEach(function(e){n.push({geometry:{coordinates:e},properties:s,feature:t})});break;case"Polygon":r.push(t);a.forEach(function(e){i.push({geometry:{coordinates:e},properties:s,feature:t})});break;case"MultiPolygon":a.forEach(function(e){r.push({geometry:{coordinates:e},properties:s,feature:t});e.forEach(function(e){i.push({geometry:{coordinates:e},properties:s,feature:t})})});break;case"GeometryCollection":default:throw new Error("GeoJsonLayer: "+o+" not supported.")}});return{pointFeatures:e,lineFeatures:n,polygonFeatures:r,polygonOutlineFeatures:i}}var sc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function uc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function lc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function cc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var fc=Fo.get;var hc=[0,0,0,255];var pc=[0,0,0,255];var dc={stroked:true,filled:true,extruded:false,wireframe:false,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:false,lineMiterLimit:4,elevationScale:1,pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,fp64:false,getLineColor:function t(e){return fc(e,"properties.lineColor")||hc},getFillColor:function t(e){return fc(e,"properties.fillColor")||pc},getRadius:function t(e){return fc(e,"properties.radius")||fc(e,"properties.size")||1},getLineWidth:function t(e){return fc(e,"properties.lineWidth")||1},getElevation:function t(e){return fc(e,"properties.elevation")||1e3},subLayers:{PointLayer:ts,LineLayer:Vu,PolygonLayer:Ql},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}};var vc=function t(e){return fc(e,"geometry.coordinates")};var mc=function(t){cc(e,t);function e(){uc(this,e);return lc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}sc(e,[{key:"initializeState",value:function t(){this.state={features:{}}}},{key:"updateState",value:function t(e){var n=e.oldProps,r=e.props,i=e.changeFlags;if(i.dataChanged){var o=this.props.data;var a=oc(o);this.state.features=ac(a)}}},{key:"getPickingInfo",value:function t(e){var n=e.info;return Object.assign(n,{object:n.object&&n.object.feature||n.object})}},{key:"renderLayers",value:function t(){var e=this.state.features;var n=e.pointFeatures,r=e.lineFeatures,i=e.polygonFeatures,o=e.polygonOutlineFeatures;var a=this.props,s=a.stroked,u=a.filled,l=a.extruded,c=a.wireframe,f=a.subLayers,h=a.lightSettings;var p=this.props,d=p.lineWidthScale,v=p.lineWidthMinPixels,m=p.lineWidthMaxPixels,g=p.lineJointRounded,y=p.lineMiterLimit,_=p.pointRadiusScale,b=p.pointRadiusMinPixels,x=p.pointRadiusMaxPixels,w=p.elevationScale,E=p.fp64;var T=this.props,I=T.getLineColor,C=T.getFillColor,M=T.getRadius,A=T.getLineWidth,S=T.getElevation,R=T.updateTriggers;var L=n&&n.length>0;var k=r&&r.length>0;var N=o&&o.length>0;var F=i&&i.length>0;var O=u&&F&&new f.PolygonLayer(this.getSubLayerProps({id:"polygon-fill",data:i,fp64:E,extruded:l,elevationScale:w,wireframe:false,lightSettings:h,getPolygon:vc,getElevation:S,getColor:C,updateTriggers:{getElevation:R.getElevation,getColor:R.getFillColor}}));var B=c&&l&&F&&new f.PolygonLayer(this.getSubLayerProps({id:"polygon-wireframe",data:i,fp64:E,extruded:l,elevationScale:w,wireframe:true,getPolygon:vc,getElevation:S,getColor:I,updateTriggers:{getElevation:R.getElevation,getColor:R.getLineColor}}));var P=!l&&s&&N&&new f.LineLayer(this.getSubLayerProps({id:"polygon-outline",data:o,fp64:E,widthScale:d,widthMinPixels:v,widthMaxPixels:m,rounded:g,miterLimit:y,getPath:vc,getColor:I,getWidth:A,updateTriggers:{getColor:R.getLineColor,getWidth:R.getLineWidth}}));var U=k&&new f.LineLayer(this.getSubLayerProps({id:"line-paths",data:r,fp64:E,widthScale:d,widthMinPixels:v,widthMaxPixels:m,rounded:g,miterLimit:y,getPath:vc,getColor:I,getWidth:A,updateTriggers:{getColor:R.getLineColor,getWidth:R.getLineWidth}}));var D=L&&new f.PointLayer(this.getSubLayerProps({id:"points",data:n,fp64:E,radiusScale:_,radiusMinPixels:b,radiusMaxPixels:x,getPosition:vc,getColor:C,getRadius:M,updateTriggers:{getColor:R.getFillColor,getRadius:R.getRadius}}));return[!l&&O,B,P,U,D,l&&O]}}]);return e}(We);var gc=mc;mc.layerName="GeoJsonLayer";mc.defaultProps=dc;var yc="#define SHADER_NAME reflection-effect-vs\n\nattribute vec3 vertices;\n\nvarying vec2 uv;\n\nvoid main(void) {\n  uv = vertices.xy;\n  gl_Position = vec4(2. * vertices.xy - vec2(1., 1.), 1., 1.);\n}\n";var _c='#define SHADER_NAME reflection-effect-fs\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D reflectionTexture;\nuniform int reflectionTextureWidth;\nuniform int reflectionTextureHeight;\n\nuniform float reflectivity;\nuniform float blur;\n\n\nvarying vec2 uv;\n\n#define KERNEL_SIZE 7\n\n/*\n * Samples from tex with a gaussian-shaped patch, centered at uv and\n * with standard deviation sigma.  The size of the texture in\n * pixels must be specified by dim\n */\nvec4 sample_gaussian(sampler2D tex, vec2 dim, vec2 uv, float sigma) {\n  if (sigma == 0.0) {\n    return texture2D(tex, uv);\n  }\n\n  vec2 delta = 1.0 / dim;\n  vec2 top_left = uv - delta * float(KERNEL_SIZE+1) / 2.0;\n\n  vec4 color = vec4(0);\n  float sum = 0.0;\n  for (int i = 0; i <  KERNEL_SIZE; ++i) {\n    for (int j = 0; j < KERNEL_SIZE; ++j) {\n      vec2 uv2 = top_left + vec2(i, j) * delta;\n      float d = length((uv2 - uv) * dim);\n      float f = exp(-(d*d) / (2.0*sigma * sigma));\n      color += f * texture2D(tex, uv2);\n      sum += f;\n    }\n  }\n  return color / sum;\n}\n\nvoid main(void) {\n  //map blur in [0, 1] to sigma in [0, inf]\n  //alpha will determine the "steepness" of our curve.\n  //this was picked just to make the scale feel "natural"\n  //if our image is 1000 pixels wide, a blur of 0.5 should correspond\n  //to a sigma of 1 pixels\n  float alpha = 1000.0;\n  float sigma = blur / (alpha * (1.0 - blur));\n  //let this be our standard deviation in terms of screen-widths.\n  //rewrite this in terms of pixels.\n  sigma *= float(reflectionTextureWidth);\n\n\n  gl_FragColor = sample_gaussian(reflectionTexture, vec2(reflectionTextureWidth,\n    reflectionTextureHeight), vec2(uv.x, 1. - uv.y), sigma);\n  //because our canvas expects alphas to be pre-multiplied, we multiply by whole\n  //color vector by reflectivity, not just the alpha channel\n  gl_FragColor *= reflectivity;\n}\n';var bc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function xc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function wc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Ec(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Tc=function(t){Ec(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.5;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5;xc(this,e);var r=wc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));r.reflectivity=t;r.blur=n;r.framebuffer=null;r.setNeedsRedraw();return r}bc(e,[{key:"getShaders",value:function t(){return{vs:yc,fs:_c,modules:[],shaderCache:this.context.shaderCache}}},{key:"initialize",value:function t(e){var n=e.gl,r=e.layerManager;this.unitQuad=new h["g"](n,Object.assign({},this.getShaders(),{id:"reflection-effect",geometry:new h["f"]({drawMode:h["e"].TRIANGLE_FAN,vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])})}));this.framebuffer=new h["d"](n,{depth:true})}},{key:"preDraw",value:function t(e){var n=e.gl,r=e.layerManager;var i=r.context.viewport;var o=typeof window!=="undefined"&&window.devicePixelRatio||1;this.framebuffer.resize({width:o*i.width,height:o*i.height});var a=i.pitch;this.framebuffer.bind();r.setViewport(new Ce(Object.assign({},i,{pitch:-180-a})));n.clear(h["e"].COLOR_BUFFER_BIT|h["e"].DEPTH_BUFFER_BIT);r.drawLayers({pass:"reflection"});r.setViewport(i);this.framebuffer.unbind()}},{key:"draw",value:function t(e){var n=e.gl,r=e.layerManager;this.unitQuad.render({reflectionTexture:this.framebuffer.texture,reflectionTextureWidth:this.framebuffer.width,reflectionTextureHeight:this.framebuffer.height,reflectivity:this.reflectivity,blur:this.blur})}},{key:"finalize",value:function t(e){var n=e.gl,r=e.layerManager}}]);return e}(Zr);var Ic=Tc;var Cc=n("GiK3");var Mc=n.n(Cc);var Ac=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"];function Sc(t){var e=Object.getPrototypeOf(t);var n=Object.getOwnPropertyNames(e);var r=true;var i=false;var o=undefined;try{var a=function e(){var n=u.value;if(typeof t[n]==="function"){if(!Ac.find(function(t){return n===t})){t[n]=t[n].bind(t)}}};for(var s=n[Symbol.iterator](),u;!(r=(u=s.next()).done);r=true){a()}}catch(t){i=true;o=t}finally{try{if(!r&&s.return){s.return()}}finally{if(i){throw o}}}}var Rc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Lc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function kc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Nc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Fc=Fo.DeckGLJS,Oc=Fo.log;var Bc=function(t){Nc(e,t);function e(t){Lc(this,e);var n=kc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.state={};Sc(n);return n}Rc(e,[{key:"componentDidMount",value:function t(){this.deck=new Fc(Object.assign({},this.props,{canvas:this.refs.overlay}))}},{key:"componentWillReceiveProps",value:function t(e){if(this.deck){this.deck.setProps(e)}}},{key:"componentWillUnmount",value:function t(){this.deck.finalize()}},{key:"queryObject",value:function t(e){Oc.deprecated("queryObject","pickObject");return this.deck.pickObject(e)}},{key:"pickObject",value:function t(e){var n=e.x,r=e.y,i=e.radius,o=i===undefined?0:i,a=e.layerIds,s=a===undefined?null:a;return this.deck.pickObject({x:n,y:r,radius:o,layerIds:s})}},{key:"queryVisibleObjects",value:function t(e){Oc.deprecated("queryVisibleObjects","pickObjects");return this.pickObjects(e)}},{key:"pickObjects",value:function t(e){var n=e.x,r=e.y,i=e.width,o=i===undefined?1:i,a=e.height,s=a===undefined?1:a,u=e.layerIds,l=u===undefined?null:u;return this.deck.pickObjects({x:n,y:r,width:o,height:s,layerIds:l})}},{key:"_renderChildrenUnderViewports",value:function t(){var e=this;var n=this.deck?this.deck.getViewports():[];var r={};n.forEach(function(t){if(t.id){r[t.id]=t}});return Mc.a.Children.toArray(this.props.children).map(function(t,n){return t.props.viewportId?e._positionChild({child:t,viewportMap:r,i:n}):t})}},{key:"_positionChild",value:function t(e){var n=e.child,r=e.viewportMap,i=e.i;var o=n.props.viewportId;var a=o&&r[o];if(!a){return null}var s=a.x,u=a.y,l=a.width,c=a.height;var f=Object.assign({},n.props,{width:l,height:c});Object.assign(f,a.getMercatorParams(),{visible:a.isMapSynched()});var h=Object(Cc["cloneElement"])(n,f);var p={position:"absolute",left:s,top:u,width:l,height:c};var d="viewport-child-"+o+"-"+i;return Object(Cc["createElement"])("div",{key:d,id:d,style:p},h)}},{key:"render",value:function t(){var e=this._renderChildrenUnderViewports();var n=this.props,r=n.id,i=n.width,o=n.height,a=n.style;var s=Object(Cc["createElement"])("canvas",{ref:"overlay",key:"overlay",id:r,style:Object.assign({},a,{position:"absolute",left:0,top:0,width:i,height:o})});e.push(s);return Object(Cc["createElement"])("div",{id:"deckgl-wrapper"},e)}}]);return e}(Mc.a.Component);var Pc=Bc;Bc.propTypes=Fc.propTypes;Bc.defaultProps=Fc.defaultProps;var Uc="-webkit-";var Dc={GRABBING:Uc+"grabbing",GRAB:Uc+"grab",POINTER:"pointer"};var zc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function jc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function Vc(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function Gc(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var Xc=Fo.ViewportControls,Wc=Fo.TransitionManager;var Zc={viewportState:Jr.a.func,state:Jr.a.object,width:Jr.a.number.isRequired,height:Jr.a.number.isRequired,longitude:Jr.a.number.isRequired,latitude:Jr.a.number.isRequired,zoom:Jr.a.number.isRequired,bearing:Jr.a.number,pitch:Jr.a.number,altitude:Jr.a.number,position:Jr.a.array,maxZoom:Jr.a.number,minZoom:Jr.a.number,maxPitch:Jr.a.number,minPitch:Jr.a.number,onViewportChange:Jr.a.func,transitionDuration:Jr.a.number,transitionInterpolator:Jr.a.object,transitionInterruption:Jr.a.number,transitionEasing:Jr.a.func,onTransitionStart:Jr.a.func,onTransitionInterrupt:Jr.a.func,onTransitionEnd:Jr.a.func,scrollZoom:Jr.a.bool,dragPan:Jr.a.bool,dragRotate:Jr.a.bool,doubleClickZoom:Jr.a.bool,touchZoomRotate:Jr.a.bool,getCursor:Jr.a.func,controls:Jr.a.shape({events:Jr.a.arrayOf(Jr.a.string),handleEvent:Jr.a.func})};var Qc=function t(e){var n=e.isDragging;return n?Dc.GRABBING:Dc.GRAB};var Hc=Object.assign({},Wc.defaultProps,{onViewportChange:null,scrollZoom:true,dragPan:true,dragRotate:true,doubleClickZoom:true,touchZoomRotate:true,getCursor:Qc});var Yc=function(t){Gc(e,t);function e(t){jc(this,e);var n=Vc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.state={isDragging:false};return n}zc(e,[{key:"componentDidMount",value:function t(){var e=this.refs.eventCanvas;this._eventManager=new Qr["EventManager"](e);this._controls=this.props.controls||new Xc(this.props.viewportState);this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:this._eventManager}));this._transitionManger=new Wc(this.props)}},{key:"shouldComponentUpdate",value:function t(e,n){if(this._transitionManger){var r=this._transitionManger.processViewportChange(e);return!r}return true}},{key:"componentWillUpdate",value:function t(e){if(this._controls){this._controls.setOptions(e)}}},{key:"componentWillUnmount",value:function t(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function t(e){var n=e.isDragging,r=n===undefined?false:n;if(r!==this.state.isDragging){this.setState({isDragging:r})}}},{key:"render",value:function t(){var e=this.props,n=e.width,r=e.height,i=e.getCursor;var o={width:n,height:r,position:"relative",cursor:i(this.state)};return Object(Cc["createElement"])("div",{key:"map-controls",ref:"eventCanvas",style:o},this.props.children)}}]);return e}(Cc["PureComponent"]);var Jc=Yc;Yc.displayName="ViewportController";Yc.propTypes=Zc;Yc.defaultProps=Hc;var qc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function Kc(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function $c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function tf(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ef=function(t){tf(e,t);function e(t){Kc(this,e);var n=$c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.controller=null;return n}qc(e,[{key:"componentDidMount",value:function t(){var e=this.refs.eventCanvas;this.controller=new hi(Object.assign({},this.props,{canvas:e}))}},{key:"componentWillUpdate",value:function t(e){this.controller.setProps(e)}},{key:"componentWillUnmount",value:function t(){this.controller.finalize()}},{key:"render",value:function t(){var e=this.props,n=e.width,r=e.height;var i={width:n,height:r,position:"relative"};return Object(Cc["createElement"])("div",{key:"map-controls",ref:"eventCanvas",style:i},this.props.children)}}]);return e}(Cc["PureComponent"]);var nf=ef;ef.displayName="MapController";ef.propTypes=hi.propTypes;ef.defaultProps=hi.defaultProps;var rf=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function of(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function af(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function sf(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var uf=function(t){sf(e,t);rf(e,null,[{key:"getViewport",value:function t(e){return new jn(e)}}]);function e(t){of(this,e);var n=af(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.controller=null;return n}rf(e,[{key:"componentDidMount",value:function t(){var e=this.refs.eventCanvas;this.controller=new xi(Object.assign({},this.props,{canvas:e}))}},{key:"componentWillUpdate",value:function t(e){this.controller.setProps(e)}},{key:"componentWillUnmount",value:function t(){this.controller.finalize()}},{key:"render",value:function t(){var e=this.props,n=e.width,r=e.height;var i={width:n,height:r,position:"relative"};return Object(Cc["createElement"])("div",{key:"map-controls",ref:"eventCanvas",style:i},this.props.children)}}]);return e}(Cc["PureComponent"]);var lf=uf;uf.displayName="OrbitController";uf.propTypes=xi.propTypes;uf.defaultProps=xi.defaultProps;n.d(e,"a",function(){return cf});n.d(e,false,function(){return l["a"]});n.d(e,false,function(){return De});n.d(e,false,function(){return S});n.d(e,false,function(){return ht});n.d(e,false,function(){return We});n.d(e,false,function(){return de});n.d(e,false,function(){return Ce});n.d(e,false,function(){return $e});n.d(e,false,function(){return sn});n.d(e,false,function(){return undefined});n.d(e,false,function(){return Ho});n.d(e,false,function(){return ha});n.d(e,false,function(){return Ca});n.d(e,false,function(){return za});n.d(e,false,function(){return ts});n.d(e,false,function(){return cs});n.d(e,false,function(){return Xs});n.d(e,false,function(){return Ts});n.d(e,false,function(){return Mu});n.d(e,false,function(){return au});n.d(e,false,function(){return Vu});n.d(e,false,function(){return rc});n.d(e,false,function(){return gc});n.d(e,false,function(){return Pc});n.d(e,false,function(){return Pc});var cf={};var ff=Fo.ViewState,hf=Fo.FirstPersonState,pf=Fo.OrbitState,df=Fo.MapState,vf=Fo.Controller,mf=Fo.FirstPersonController,gf=Fo.FirstPersonViewport,yf=Fo.OrbitViewport,_f=Fo.ThirdPersonViewport,bf=Fo.TRANSITION_EVENTS,xf=Fo.LinearInterpolator,wf=Fo.ViewportFlyToInterpolator,Ef=Fo.DeckGLJS,Tf=Fo.MapControllerJS,If=Fo.EffectManager,Cf=Fo.Effect;Object.assign(cf,{ViewState:ff,FirstPersonState:hf,OrbitState:pf,MapState:df,Controller:vf,FirstPersonController:mf,FirstPersonViewport:gf,OrbitViewport:yf,ThirdPersonViewport:_f,TRANSITION_EVENTS:bf,LinearInterpolator:xf,ViewportFlyToInterpolator:wf,DeckGLJS:Ef,MapControllerJS:Tf,EffectManager:If,Effect:Cf});var Mf=Fo.TransitionManager,Af=Fo.extractViewportFrom,Sf=Fo.BinSorter,Rf=Fo.linearScale,Lf=Fo.getLinearScale,kf=Fo.quantizeScale,Nf=Fo.getQuantizeScale,Ff=Fo.clamp,Of=Fo.defaultColorRange,Bf=Fo.log,Pf=Fo.get,Uf=Fo.count,Df=Fo.flatten,zf=Fo.countVertices,jf=Fo.flattenVertices,Vf=Fo.fillArray,Gf=Fo.enable64bitSupport,Xf=Fo.fp64ify;Object.assign(cf,{TransitionManager:Mf,extractViewportFrom:Af,BinSorter:Sf,linearScale:Rf,getLinearScale:Lf,quantizeScale:kf,getQuantizeScale:Nf,clamp:Ff,defaultColorRange:Of,log:Bf,get:Pf,count:Uf,flatten:Df,countVertices:zf,flattenVertices:jf,fillArray:Vf,enable64bitSupport:Gf,fp64ify:Xf});Object.assign(cf,{ReflectionEffect:Ic});Object.assign(cf,{MapController:nf,OrbitController:lf,ViewportController:Jc})},R30K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("woOf");var i=c(r);var o=n("Zrlr");var a=c(o);var s=n("wxAW");var u=c(s);var l=n("DqEI");function c(t){return t&&t.__esModule?t:{default:t}}var f=l.INPUT_EVENT_TYPES.MOUSE_EVENTS;var h="pointermove";var p="pointerleave";var d=function(){function t(e,n){var r=this;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};(0,a.default)(this,t);this.element=e;this.callback=n;this.pressed=false;this.options=(0,i.default)({enable:true},o);this.enableMoveEvent=this.options.enable;this.enableLeaveEvent=this.options.enable;this.events=f.concat(o.events||[]);this.handleEvent=this.handleEvent.bind(this);this.events.forEach(function(t){return e.addEventListener(t,r.handleEvent)})}(0,u.default)(t,[{key:"destroy",value:function t(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function t(e,n){if(e===h){this.enableMoveEvent=n}if(e===p){this.enableLeaveEvent=n}}},{key:"handleEvent",value:function t(e){if(this.enableLeaveEvent){if(e.type==="mouseleave"){this.callback({type:p,srcEvent:e,pointerType:"mouse",target:e.target})}}if(this.enableMoveEvent){switch(e.type){case"mousedown":if(e.button>=0){this.pressed=true}break;case"mousemove":if(e.which===0){this.pressed=false}if(!this.pressed){this.callback({type:h,srcEvent:e,pointerType:"mouse",target:e.target})}break;case"mouseup":this.pressed=false;break;default:}}}}]);return t}();e.default=d},R61Y:function(t,e){t.exports=n;function n(t,e){t[0]=-e[0];t[1]=-e[1];t[2]=-e[2];return t}},RG0x:function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("+sAb");var a=n("fUho");var s=n("4MLn");var u=n("v0R9");var l=n("uZnM");var c=n("e3NO");var f=n("diIw");var h=n("N+Om");var p=n.n(h);var d=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function m(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function g(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function y(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var b=36160;var x=36008;var w=36009;var E=36064;var T=36096;var I=36128;var C=36161;var M=32879;var A=35866;var S=3553;var R=34067;var L=34069;var k=256;var N=1024;var F=16384;var O="Multiple render targets not supported";var B=function(t){_(e,t);v(e,[{key:"MAX_COLOR_ATTACHMENTS",get:function t(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function t(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.colorBufferFloat,o=n.colorBufferHalfFloat;var a=true;a=r&&e.getExtension(Object(i["h"])(e)?"EXT_color_buffer_float":"WEBGL_color_buffer_float");a=o&&e.getExtension(Object(i["h"])(e)?"EXT_color_buffer_float":"EXT_color_buffer_half_float");return a}},{key:"getDefaultFramebuffer",value:function t(n){n.luma=n.luma||{};if(!n.luma.defaultFramebuffer){n.luma.defaultFramebuffer=new e(n,{handle:null,attachments:{}})}return n.luma.defaultFramebuffer}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};g(this,e);var r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.width=null;r.height=null;r.attachments={};r.readBuffer=E;r.drawBuffers=[E];r.initialize(n);Object.seal(r);return r}v(e,[{key:"initialize",value:function t(e){var n=e.width,r=n===undefined?1:n,i=e.height,o=i===undefined?1:i,a=e.attachments,s=a===undefined?null:a,u=e.color,l=u===undefined?true:u,c=e.depth,f=c===undefined?true:c,h=e.stencil,d=h===undefined?false:h,v=e.check,m=v===undefined?true:v,g=e.readBuffer,y=e.drawBuffers;p()(r>=0&&o>=0,"Width and height need to be integers");this.width=r;this.height=o;if(s){for(var _ in s){var b=s[_];var x=Array.isArray(b)?b[0]:b;x.resize({width:r,height:o})}}else{s=this._createDefaultAttachments({color:l,depth:f,stencil:d,width:r,height:o})}this.update({clearAttachments:true,attachments:s,readBuffer:g,drawBuffers:y});if(s&&m){this.checkStatus()}}},{key:"update",value:function t(e){var n=e.attachments,r=n===undefined?{}:n,i=e.readBuffer,o=e.drawBuffers,a=e.clearAttachments,s=a===undefined?false:a;this.attach(r,{clearAttachments:s});var u=this.gl;var l=u.bindFramebuffer(b,this.handle);if(i){this._setReadBuffer(i)}if(o){this._setDrawBuffers(o)}u.bindFramebuffer(b,l);return this}},{key:"resize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.width,r=e.height;if(this.handle===null){p()(n===undefined&&r===undefined);this.width=this.gl.drawingBufferWidth;this.height=this.gl.drawingBufferHeight;return this}if(n===undefined){n=this.gl.drawingBufferWidth}if(r===undefined){r=this.gl.drawingBufferHeight}if(n!==this.width&&r!==this.height){f["log"].log(2,"Resizing framebuffer "+this.id+" to "+n+"x"+r)}for(var i in this.attachments){this.attachments[i].resize({width:n,height:r})}this.width=n;this.height=r;return this}},{key:"attach",value:function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=r.clearAttachments,o=i===undefined?false:i;var a={};if(o){Object.keys(this.attachments).forEach(function(t){a[t]=null})}Object.assign(a,e);var s=this.gl.bindFramebuffer(b,this.handle);for(var u in a){p()(u!=="undefined","Misspelled framebuffer binding point?");var c=a[u];var f=c;if(!f){this._unattach({attachment:u})}else if(f instanceof l["a"]){this._attachRenderbuffer({attachment:u,renderbuffer:f})}else if(Array.isArray(c)){var h=d(c,3),v=h[0],m=h[1],g=m===undefined?0:m,y=h[2],_=y===undefined?0:y;f=v;this._attachTexture({attachment:u,texture:v,layer:g,level:_})}else{this._attachTexture({attachment:u,texture:f,layer:0,level:0})}if(f){f.resize({width:this.width,height:this.height})}}this.gl.bindFramebuffer(b,s);Object.assign(this.attachments,e);Object.keys(this.attachments).filter(function(t){return!n.attachments[t]}).forEach(function(t){delete n.attachments[t]})}},{key:"checkStatus",value:function t(){var e=this.gl;var n=e.bindFramebuffer(b,this.handle);var r=e.checkFramebufferStatus(b);e.bindFramebuffer(b,n);if(r!==e.FRAMEBUFFER_COMPLETE){throw new Error(D(r))}return this}},{key:"clear",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.color,r=e.depth,i=e.stencil,o=e.drawBuffers,s=o===undefined?[]:o;var u=this.gl.bindFramebuffer(b,this.handle);if(n||r||i){Object(a["a"])(this.gl,{color:n,depth:r,stencil:i})}s.forEach(function(t,e){Object(a["b"])({drawBuffer:e,value:t})});this.gl.bindFramebuffer(b,u);return this}},{key:"readPixels",value:function t(e){var n=e.x,i=n===undefined?0:n,o=e.y,a=o===undefined?0:o,s=e.width,u=s===undefined?this.width:s,l=e.height,f=l===undefined?this.height:l,h=e.format,p=h===undefined?r["e"].RGBA:h,d=e.type,v=e.pixelArray,m=v===undefined?null:v,g=e.attachment,y=g===undefined?E:g;var _=this.gl;if(y===r["e"].COLOR_ATTACHMENT0&&this.handle===null){y=r["e"].FRONT}if(!m){d=d||_.UNSIGNED_BYTE;var x=Object(c["c"])(d,{clamped:false});var w=U(p);m=m||new x(u*f*w)}d=d||Object(c["b"])(m);var T=this.gl.bindFramebuffer(b,this.handle);this.gl.readPixels(i,a,u,f,p,d,m);this.gl.bindFramebuffer(b,T);return m}},{key:"copyToDataUrl",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.attachment,r=n===undefined?E:n,i=e.maxHeight,o=i===undefined?Number.MAX_SAFE_INTEGER:i;var a=this.readPixels({attachment:r});var s=this.width,u=this.height;while(u>o){var l=Object(f["scalePixels"])({data:a,width:s,height:u});a=l.data;s=l.width;u=l.height}Object(f["flipRows"])({data:a,width:s,height:u});var c=document.createElement("canvas");c.width=s;c.height=u;var h=c.getContext("2d");var p=h.createImageData(s,u);p.data.set(a);h.putImageData(p,0,0);return c.toDataURL()}},{key:"copyToImage",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.image,r=n===undefined?null:n,i=e.attachment,o=i===undefined?E:i,a=e.maxHeight,s=a===undefined?Number.MAX_SAFE_INTEGER:a;var u=this.readDataUrl({attachment:o});r=r||new Image;r.src=u;return r}},{key:"copyToTexture",value:function t(e){var n=e.texture,r=e.target,i=e.xoffset,o=i===undefined?0:i,a=e.yoffset,s=a===undefined?0:a,u=e.zoffset,l=u===undefined?0:u,c=e.mipmapLevel,f=c===undefined?0:c,h=e.attachment,p=h===undefined?E:h,d=e.x,v=d===undefined?0:d,m=e.y,g=m===undefined?0:m,y=e.width,_=e.height;var x=this.gl;var w=x.bindFramebuffer(b,this.handle);var T=x.readBuffer(p);y=Number.isFinite(y)?y:n.width;_=Number.isFinite(_)?_:n.height;switch(n.target){case S:case R:x.copyTexSubImage2D(r||n.target,f,o,s,v,g,y,_);break;case A:case M:x.copyTexSubImage3D(r||n.target,f,o,s,l,v,g,y,_);break;default:}x.readBuffer(T);x.bindFramebuffer(b,w);return n}},{key:"blit",value:function t(e){var n=e.srcFramebuffer,o=e.attachment,a=o===undefined?E:o,s=e.srcX0,u=s===undefined?0:s,l=e.srcY0,c=l===undefined?0:l,f=e.srcX1,h=e.srcY1,d=e.dstX0,v=d===undefined?0:d,m=e.dstY0,g=m===undefined?0:m,y=e.dstX1,_=e.dstY1,b=e.color,T=b===undefined?true:b,I=e.depth,C=I===undefined?false:I,M=e.stencil,A=M===undefined?false:M,S=e.mask,R=S===undefined?0:S,L=e.filter,O=L===undefined?r["e"].NEAREST:L;var B=this.gl;p()(Object(i["h"])(B),i["b"]);if(!n.handle&&a===E){a=r["e"].FRONT}if(T){R|=F}if(C){R|=k}if(A){R|=N}p()(R);f=f===undefined?n.width:f;h=h===undefined?n.height:h;y=y===undefined?this.width:y;_=_===undefined?this.height:_;var P=B.bindFramebuffer(x,this.handle);var U=B.bindFramebuffer(w,n.handle);var D=B.readBuffer(a);B.blitFramebuffer(u,c,f,h,v,g,y,_,R,O);B.readBuffer(D);B.bindFramebuffer(w,U);B.bindFramebuffer(x,P);return this}},{key:"invalidate",value:function t(e){var n=e.attachments,r=n===undefined?[]:n,o=e.x,a=o===undefined?0:o,s=e.y,u=s===undefined?0:s,l=e.width,c=e.height;var f=this.gl;p()(Object(i["h"])(f,i["b"]));var h=f.bindFramebuffer(w,this.handle);var d=a===0&&u===0&&l===undefined&&c===undefined;if(d){f.invalidateFramebuffer(w,r)}else{f.invalidateFramebuffer(w,r,a,u,l,c)}f.bindFramebuffer(w,h);return this}},{key:"getAttachmentParameter",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.attachment,r=n===undefined?E:n,i=e.pname;var o=this._getAttachmentParameterFallback(i);if(o===null){this.gl.bindTexture(b,this.handle);o=this.gl.getFramebufferAttachmentParameter(b,r,i);this.gl.bindTexture(b,null)}return o}},{key:"getAttachmentParameters",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:E;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.constructor.ATTACHMENT_PARAMETERS||{};var r={};for(var i in n){r[i]=this.getAttachmentParameter(i)}return this}},{key:"show",value:function t(){if(typeof window!=="undefined"){window.open(this.copyToDataUrl(),"luma-debug-texture")}return this}},{key:"log",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.priority,r=n===undefined?0:n,i=e.message,o=i===undefined?"":i;if(r>f["log"].priority||typeof window==="undefined"){return this}o=o||"Framebuffer "+this.id;var a=this.copyToDataUrl({maxHeight:100});f["log"].image({priority:r,message:o,image:a},o);return this}},{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.target,r=n===undefined?b:n;this.gl.bindFramebuffer(r,this.handle);return this}},{key:"unbind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.target,r=n===undefined?b:n;this.gl.bindFramebuffer(r,null);return this}},{key:"_createDefaultAttachments",value:function t(e){var n=e.color,i=e.depth,o=e.stencil,a=e.width,s=e.height;var c=null;if(n){var f;c=c||{};c[E]=new u["a"](this.gl,{pixels:null,format:r["e"].RGBA,type:r["e"].UNSIGNED_BYTE,width:a,height:s,mipmaps:false,parameters:(f={},m(f,r["e"].TEXTURE_MIN_FILTER,r["e"].NEAREST),m(f,r["e"].TEXTURE_MAG_FILTER,r["e"].NEAREST),m(f,r["e"].TEXTURE_WRAP_S,r["e"].CLAMP_TO_EDGE),m(f,r["e"].TEXTURE_WRAP_T,r["e"].CLAMP_TO_EDGE),f)})}if(i){c=c||{};c[T]=new l["a"](this.gl,{format:r["e"].DEPTH_COMPONENT16,width:a,height:s})}return c}},{key:"_unattach",value:function t(e){var n=e.attachment;this.gl.bindRenderbuffer(C,this.handle);this.gl.framebufferRenderbuffer(b,n,C,null);delete this.attachments[n]}},{key:"_attachRenderbuffer",value:function t(e){var n=e.attachment,r=n===undefined?E:n,i=e.renderbuffer;var o=this.gl;o.framebufferRenderbuffer(b,r,C,i.handle);this.attachments[r]=i}},{key:"_attachTexture",value:function t(e){var n=e.attachment,r=n===undefined?E:n,i=e.texture,o=e.layer,a=e.level;var s=this.gl;s.bindTexture(i.target,i.handle);switch(i.target){case A:case M:s.framebufferTextureLayer(b,r,i.target,a,o);break;case R:var u=P(o);s.framebufferTexture2D(b,r,u,i.handle,a);break;case S:s.framebufferTexture2D(b,r,S,i.handle,a);break;default:p()(false,"Illegal texture type")}s.bindTexture(i.target,null);this.attachments[r]=i}},{key:"_setReadBuffer",value:function t(e,n){if(Object(i["h"])(e)){e.readBuffer(n)}else{p()(n===E||n===r["e"].BACK,O)}this.readBuffer=n}},{key:"_setDrawBuffers",value:function t(e,n){if(Object(i["h"])(e)){e.drawBuffers(n)}else{var o=e.getExtension("WEBGL_draw_buffers");if(o){o.drawBuffersWEBGL(n)}else{p()(n.length===1&&(n[0]===E||n[0]===r["e"].BACK),O)}}this.drawBuffers=n}},{key:"_getAttachmentParameterFallback",value:function t(e){var n=Object(o["b"])(this.gl);switch(e){case r["e"].FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return!n.webgl2?0:null;case r["e"].FRAMEBUFFER_ATTACHMENT_RED_SIZE:case r["e"].FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case r["e"].FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case r["e"].FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case r["e"].FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case r["e"].FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return!n.webgl2?8:null;case r["e"].FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return!n.webgl2?r["e"].UNSIGNED_INT:null;case r["e"].FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return!n.webgl2&&!n.EXT_sRGB?r["e"].LINEAR:null;default:return null}}},{key:"_createHandle",value:function t(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function t(){this.gl.deleteFramebuffer(this.handle)}},{key:"color",get:function t(){return this.attachments[E]||null}},{key:"texture",get:function t(){return this.attachments[E]||null}},{key:"depth",get:function t(){return this.attachments[T]||null}},{key:"stencil",get:function t(){return this.attachments[I]||null}}]);return e}(s["a"]);e["a"]=B;function P(t){return t<L?t+L:t}function U(t){switch(t){case r["e"].ALPHA:return 1;case r["e"].RGB:return 3;case r["e"].RGBA:return 4;default:throw new Error("Unknown format")}}function D(t){var e=B.STATUS||{};return e[t]||"Framebuffer error "+t}},RKJ2:function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1];t[0]=n[0]*r+n[4]*i+n[12];t[1]=n[1]*r+n[5]*i+n[13];return t}},RaTI:function(t,e){t.exports=n;function n(t,e,n,r){var i=[],o=[];i[0]=e[0]-n[0];i[1]=e[1]-n[1];i[2]=e[2]-n[2];o[0]=i[0];o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r);o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r);t[0]=o[0]+n[0];t[1]=o[1]+n[1];t[2]=o[2]+n[2];return t}},"Rc6/":function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("e3NO");var a=n("4MLn");var s=n("N+Om");var u=n.n(s);var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var p="Illegal or missing parameter to Buffer";var d=36662;var v=36663;var m=35982;var g=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.type,r=e.size,i=r===undefined?1:r,o=e.offset,a=o===undefined?0:o,s=e.stride,u=s===undefined?0:s,l=e.normalized,c=l===undefined?false:l,f=e.integer,p=f===undefined?false:f,d=e.instanced,v=d===undefined?0:d;h(this,t);this.type=n;this.size=i;this.offset=a;this.stride=u;this.normalized=c;this.integer=p;this.instanced=v};var y=function(t){f(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};h(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.target=n.target||(i.gl.webgl2?d:r["e"].ARRAY_BUFFER);i.index=null;i.setData(n);Object.seal(i);return i}l(e,[{key:"setDataLayout",value:function t(e){var n=e.layout,r=e.type,i=e.size,o=i===undefined?1:i,a=e.offset,s=a===undefined?0:a,u=e.stride,l=u===undefined?0:u,c=e.normalized,f=c===undefined?false:c,h=e.integer,p=h===undefined?false:h,d=e.instanced,v=d===undefined?0:d;this.layout=n||new g({type:r||this.type,size:o,offset:s,stride:l,normalized:f,integer:p,instanced:v});return this}},{key:"initialize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.data,i=e.bytes,a=e.usage,s=a===undefined?r["e"].STATIC_DRAW:a,l=e.layout,c=e.type,f=e.size,h=f===undefined?1:f,d=e.offset,m=d===undefined?0:d,g=e.stride,y=g===undefined?0:g,_=e.normalized,b=_===undefined?false:_,x=e.integer,w=x===undefined?false:x,E=e.instanced,T=E===undefined?0:E;var I=arguments[0];if(!n){c=c||r["e"].FLOAT;if(!i||i===0){i=0;n=new Float32Array(0)}}else{c=c||Object(o["b"])(n);i=n.byteLength;u()(c,p)}this.bytes=i;this.bytesUsed=i;this.data=n;this.type=c;this.usage=s;this.setDataLayout(Object.assign(I));var C=this.gl.webgl2?v:this.target;this.gl.bindBuffer(C,this.handle);this.gl.bufferData(C,n||i,s);this.gl.bindBuffer(C,null);return this}},{key:"setData",value:function t(e){return this.initialize(e)}},{key:"subData",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.data,r=e.offset,o=r===undefined?0:r,a=e.srcOffset,s=a===undefined?0:a,l=e.length;u()(n,p);var c=this.gl.webgl2?v:this.target;this.gl.bindBuffer(c,this.handle);if(s!==0||l!==undefined){Object(i["c"])(this.gl);this.gl.bufferSubData(this.target,o,n,s,l||0)}else{this.gl.bufferSubData(c,o,n)}this.gl.bindBuffer(c,null);return this}},{key:"copyData",value:function t(e){var n=e.sourceBuffer,r=e.readOffset,o=r===undefined?0:r,a=e.writeOffset,s=a===undefined?0:a,u=e.size;Object(i["c"])(this.gl);this.gl.bindBuffer(d,n.handle);this.gl.bindBuffer(v,this.handle);this.gl.copyBufferSubData(d,v,o,s,u);this.gl.bindBuffer(d,null);this.gl.bindBuffer(v,null);return this}},{key:"getData",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.dstData,r=n===undefined?null:n,a=e.srcByteOffset,s=a===undefined?0:a,l=e.dstOffset,c=l===undefined?0:l,f=e.length,h=f===undefined?0:f;Object(i["c"])(this.gl);var p=Object(o["c"])(this.type,{clamped:false});var v=this._getAvailableElementCount(s);var m=void 0;var g=void 0;var y=c;if(r){g=r.length;m=g-y}else{m=Math.min(v,h||v);g=y+m}var _=Math.min(v,m);h=h||_;u()(h<=_,"Invalid srcByteOffset, dstOffset and length combination");r=r||new p(g);this.gl.bindBuffer(d,this.handle);this.gl.getBufferSubData(d,s,r,c,h);this.gl.bindBuffer(d,null);return r}},{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.target,o=n===undefined?this.target:n,a=e.index,s=a===undefined?this.index:a,l=e.offset,c=l===undefined?0:l,f=e.size;var h=o===r["e"].UNIFORM_BUFFER||o===m?f!==undefined?"ranged":" indexed":"non-indexed";switch(h){case"non-indexed":this.gl.bindBuffer(o,this.handle);break;case"indexed":Object(i["c"])(this.gl);u()(c===0,p);this.gl.bindBufferBase(o,s,this.handle);break;case"ranged":Object(i["c"])(this.gl);this.gl.bindBufferRange(o,s,this.handle,c,f);break;default:throw new Error(p)}return this}},{key:"unbind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.target,i=n===undefined?this.target:n,o=e.index,a=o===undefined?this.index:o;var s=i===r["e"].UNIFORM_BUFFER||i===m;if(s){this.gl.bindBufferBase(i,a,null)}else{this.gl.bindBuffer(i,null)}return this}},{key:"getIndexedParameter",value:function t(e,n){var r=this.gl.webgl2?d:this.target;this.gl.bindBuffer(r,n);return this.gl.getIndexedParameter(e,n)}},{key:"_createHandle",value:function t(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function t(){this.gl.deleteBuffer(this.handle)}},{key:"_getParameter",value:function t(e){this.gl.bindBuffer(this.target,this.handle);var n=this.gl.getBufferParameter(this.target,e);this.gl.bindBuffer(this.target,null);return n}},{key:"_getAvailableElementCount",value:function t(e){var n=Object(o["c"])(this.type,{clamped:false});var r=this.bytes/n.BYTES_PER_ELEMENT;var i=e/n.BYTES_PER_ELEMENT;return r-i}}]);return e}(a["a"]);e["a"]=y},RuT6:function(t,e){t.exports=n;function n(t,e,n,r){t[0]=e[0]+n[0]*r;t[1]=e[1]+n[1]*r;t[2]=e[2]+n[2]*r;return t}},S2Cx:function(t,e,n){t.exports=n("XHIH")},S7bo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("ER4G");var i=n("7VzN");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=function(t){f(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};l(this,e);var n=t.children,i=n===undefined?[]:n;i.every(function(t){return a()(t instanceof r["a"])});var o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));o.children=i;return o}s(e,[{key:"add",value:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}var i=true;var o=false;var a=undefined;try{for(var s=n[Symbol.iterator](),l;!(i=(l=s.next()).done);i=true){var c=l.value;if(Array.isArray(c)){this.add.apply(this,u(c))}else{this.children.push(c)}}}catch(t){o=true;a=t}finally{try{if(!i&&s.return){s.return()}}finally{if(o){throw a}}}return this}},{key:"remove",value:function t(e){var n=this.children;var r=n.indexOf(e);if(r>-1){n.splice(r,1)}return this}},{key:"removeAll",value:function t(){this.children=[];return this}},{key:"traverse",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=r.modelMatrix,a=o===undefined?new i["Matrix4"]:o;var s=true;var u=false;var l=undefined;try{for(var c=this.children[Symbol.iterator](),f;!(s=(f=c.next()).done);s=true){var h=f.value;var p=h.matrix;a=a.multiplyRight(p);var d=void 0;if(h instanceof e){d=h.traverse(n,{modelMatrix:a})}else{d=n(h,{})}if(d){return d}}}catch(t){u=true;l=t}finally{try{if(!s&&c.return){c.return()}}finally{if(u){throw l}}}return null}},{key:"traverseReverse",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=r.modelMatrix,a=o===undefined?new i["Matrix4"]:o;for(var s=this.children.length-1;s>=0;--s){var u=this.children[s];var l=u.matrix;a=a.multiplyRight(l);var c=void 0;if(u instanceof e){c=u.traverseReverse(n,{modelMatrix:a})}else{c=n(u,{})}if(c){return c}}return null}}]);return e}(r["a"]);e["default"]=h},SO7G:function(t,e){t.exports=n;function n(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];if(e!==t){t[8]=e[8];t[9]=e[9];t[10]=e[10];t[11]=e[11];t[12]=e[12];t[13]=e[13];t[14]=e[14];t[15]=e[15]}t[0]=o*i+l*r;t[1]=a*i+c*r;t[2]=s*i+f*r;t[3]=u*i+h*r;t[4]=l*i-o*r;t[5]=c*i-a*r;t[6]=f*i-s*r;t[7]=h*i-u*r;return t}},SWGL:function(t,e){t.exports=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t}},TFCc:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n.d(e,"b",function(){return i});var r={LNGLAT:1,METER_OFFSETS:2,METERS:2,LNGLAT_OFFSETS:3,IDENTITY:0};var i={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Intialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"}},THEY:function(t,e){e.f=Object.getOwnPropertySymbols},TJez:function(t,e,n){"use strict";var r={};if(false){Object.freeze(r)}t.exports=r},TfOo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("cCjG");Object.defineProperty(e,"EventManager",{enumerable:true,get:function t(){return i(r).default}});function i(t){return t&&t.__esModule?t:{default:t}}},"U/Fy":function(t,e,n){"use strict";var r=n("N+Om");var i=n.n(r);var o=n("jpCA");var a;function s(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var u="OES_element_index";var l="WEBGL_draw_buffers";var c="EXT_disjoint_timer_query";var f="EXT_disjoint_timer_query_webgl2";var h="EXT_texture_filter_anisotropic";var p="WEBGL_debug_renderer_info";var d=35723;var v=4352;var m=36795;var g=34047;var y=37445;var _=37446;var b=function t(e){return!w(e)?0:undefined};var x=(a={},s(a,o["a"].READ_BUFFER,function(t){return!w(t)?o["a"].COLOR_ATTACHMENT0:undefined}),s(a,d,function(t){return!w(t)?v:undefined}),s(a,o["a"].RASTERIZER_DISCARD,b),s(a,o["a"].SAMPLES,b),s(a,m,function(t,e){var n=w(t)?t.getExtension(f):t.getExtension(c);return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0}),s(a,y,function(t,e){var n=t.getExtension(p);return e(n&&n.UNMASKED_VENDOR_WEBGL||o["a"].VENDOR)}),s(a,_,function(t,e){var n=t.getExtension(p);return e(n&&n.UNMASKED_RENDERER_WEBGL||o["a"].RENDERER)}),s(a,g,function(t,e){var n=t.luma.extensions[h];return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1}),s(a,o["a"].MAX_3D_TEXTURE_SIZE,b),s(a,o["a"].MAX_ARRAY_TEXTURE_LAYERS,b),s(a,o["a"].MAX_CLIENT_WAIT_TIMEOUT_WEBGL,b),s(a,o["a"].MAX_COLOR_ATTACHMENTS,function(t,e){if(!w(t)){var n=t.getExtension(l);return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}return undefined}),s(a,o["a"].MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,b),s(a,o["a"].MAX_COMBINED_UNIFORM_BLOCKS,b),s(a,o["a"].MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,b),s(a,o["a"].MAX_DRAW_BUFFERS,function(t){if(!w(t)){var e=t.getExtension(l);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}return undefined}),s(a,o["a"].MAX_ELEMENT_INDEX,function(t){return t.getExtension(u)?2147483647:65535}),s(a,o["a"].MAX_ELEMENTS_INDICES,function(t){return t.getExtension(u)?16777216:65535}),s(a,o["a"].MAX_ELEMENTS_VERTICES,function(t){return 16777216}),s(a,o["a"].MAX_FRAGMENT_INPUT_COMPONENTS,b),s(a,o["a"].MAX_FRAGMENT_UNIFORM_BLOCKS,b),s(a,o["a"].MAX_FRAGMENT_UNIFORM_COMPONENTS,b),s(a,o["a"].MAX_SAMPLES,b),s(a,o["a"].MAX_SERVER_WAIT_TIMEOUT,b),s(a,o["a"].MAX_TEXTURE_LOD_BIAS,b),s(a,o["a"].MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,b),s(a,o["a"].MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,b),s(a,o["a"].MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,b),s(a,o["a"].MAX_UNIFORM_BLOCK_SIZE,b),s(a,o["a"].MAX_UNIFORM_BUFFER_BINDINGS,b),s(a,o["a"].MAX_VARYING_COMPONENTS,b),s(a,o["a"].MAX_VERTEX_OUTPUT_COMPONENTS,b),s(a,o["a"].MAX_VERTEX_UNIFORM_BLOCKS,b),s(a,o["a"].MAX_VERTEX_UNIFORM_COMPONENTS,b),s(a,o["a"].MIN_PROGRAM_TEXEL_OFFSET,b),s(a,o["a"].MAX_PROGRAM_TEXEL_OFFSET,b),s(a,o["a"].UNIFORM_BUFFER_OFFSET_ALIGNMENT,b),a);function w(t){var e=32874;return t&&t.TEXTURE_BINDING_3D===e}function E(t,e,n){var r=x[n];var i=typeof r==="function"?r(t,e,n):r;var o=i!==undefined?i:e(n);return o}e["a"]=D;var T;function I(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var C="OES_vertex_array_object";var M="ANGLE_instanced_arrays";var A="WEBGL_draw_buffers";var S="EXT_disjoint_timer_query";var R="EXT_disjoint_timer_query_webgl2";var L="EXT_texture_filter_anisotropic";var k="VertexArray requires WebGL2 or OES_vertex_array_object extension";function N(t){var e=32874;return t&&t.TEXTURE_BINDING_3D===e}function F(t,e){return{webgl2:N(t),ext:t.getExtension(e)}}var O=(T={},I(T,C,{meta:{suffix:"OES"},createVertexArray:function t(){i()(false,k)},deleteVertexArray:function t(){},bindVertexArray:function t(){},isVertexArray:function t(){return false}}),I(T,M,{meta:{suffix:"ANGLE"},vertexAttribDivisor:function t(e,n){i()(n===0,"WebGL instanced rendering not supported")},drawElementsInstanced:function t(){},drawArraysInstanced:function t(){}}),I(T,A,{meta:{suffix:"WEBGL"},drawBuffers:function t(){i()(false)}}),I(T,S,{meta:{suffix:"EXT"},createQuery:function t(){i()(false)},deleteQuery:function t(){i()(false)},beginQuery:function t(){i()(false)},endQuery:function t(){},getQuery:function t(e,n){return this.getQueryObject(e,n)},getQueryParameter:function t(e,n){return this.getQueryObject(e,n)},queryCounter:function t(){},getQueryObject:function t(){}}),I(T,R,{meta:{suffix:"EXT"},queryCounter:null}),I(T,"OVERRIDES",{readBuffer:function t(e,n,r){if(N(e)){n(r)}else{}},getVertexAttrib:function t(e,n,r,i){var o=F(e,M),a=o.webgl2,s=o.ext;var u=35069;var l=35070;var c=void 0;switch(i){case u:c=!a?false:undefined;break;case l:c=!a&&!s?0:undefined;break;default:}return c!==undefined?c:n(r,i)},getProgramParameter:function t(e,n,r,i){var o=35967;var a=35971;var s=35382;var u=35981;if(!N(e)){switch(i){case o:return u;case a:return 0;case s:return 0;default:}}return n(r,i)},getInternalformatParameter:function t(e,n,r,i,o){var a=32937;if(!N(e)){switch(o){case a:return new Int32Array([0]);default:}}return e.getInternalformatParameter(r,i,o)},getTexParameter:function t(e,n,r,i){var o=34046;switch(i){case o:var a=e.luma.extensions;var s=a[L];i=s&&s.TEXTURE_MAX_ANISOTROPY_EXT||o;break;default:}return n(r,i)},getParameter:E,hint:function t(e,n,r,i){return n(r,i)}}),T);function B(t){t.luma.extensions={};var e=t.getSupportedExtensions();var n=true;var r=false;var i=undefined;try{for(var o=e[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;t.luma[s]=t.getExtension(s)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}function P(t,e){var n=e.extension,r=e.target,o=e.target2;var a=O[n];i()(a);var s=a.meta,u=s===undefined?{}:s;var l=u.suffix,c=l===undefined?"":l;var f=t.getExtension(n);Object.keys(a).forEach(function(e){var n=""+e+c;var i=null;if(e==="meta"){}else if(typeof t[e]==="function"){}else if(f&&typeof f[n]==="function"){i=function t(){return f[n].apply(f,arguments)}}else if(typeof a[e]==="function"){i=a[e].bind(r)}if(i){r[e]=i;o[e]=i}})}function U(t,e){var n=e.target,r=e.target2;var i=O.OVERRIDES;Object.keys(i).forEach(function(e){if(typeof i[e]==="function"){var o=t[e]?t[e].bind(t):function(){};var a=i[e].bind(null,t,o);n[e]=a;r[e]=a}})}function D(t){t.luma=t.luma||{};B(t);if(!t.luma.polyfilled){for(var e in O){if(e!=="overrides"){P(t,{extension:e,target:t.luma,target2:t})}}U(t,{target:t.luma,target2:t});t.luma.polyfilled=true}return t}},Ugwj:function(t,e){t.exports=n;function n(t,e,n,r){var i=[],o=[];i[0]=e[0]-n[0];i[1]=e[1]-n[1];i[2]=e[2]-n[2];o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r);o[1]=i[1];o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r);t[0]=o[0]+n[0];t[1]=o[1]+n[1];t[2]=o[2]+n[2];return t}},UiKI:function(t,e,n){"use strict";e["a"]=L;var r=n("jpCA");var i=n("Rc6/");var o=n("NcOI");var a=n("RG0x");var s=n("nXN2");var u=n("uZnM");var l=n("xF4I");var c=n("7+pg");var f,h,p,d,v,m;function g(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var y="GLenum";var _="GLfloat";var b="GLint";var x="GLint";var w="GLboolean";var E=(f={},g(f,r["a"].BUFFER_SIZE,{webgl1:0}),g(f,r["a"].BUFFER_USAGE,{webgl1:0}),f);var T=[r["a"].OBJECT_TYPE,r["a"].SYNC_STATUS,r["a"].SYNC_CONDITION,r["a"].SYNC_FLAGS];var I=[r["a"].FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,r["a"].FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,r["a"].FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,r["a"].FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,r["a"].FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING,r["a"].FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER,r["a"].FRAMEBUFFER_ATTACHMENT_RED_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_GREEN_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_BLUE_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE,r["a"].FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE];var C=(h={},g(h,r["a"].FRAMEBUFFER_COMPLETE,"Success. Framebuffer is correctly set up"),g(h,r["a"].FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Framebuffer attachment types mismatched or some attachment point not attachment complete"),g(h,r["a"].FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Framebuffer has no attachment"),g(h,r["a"].FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Framebuffer attachments do not have the same size"),g(h,r["a"].FRAMEBUFFER_UNSUPPORTED,"Framebuffer attachment format not supported or depth and stencil attachments are not same"),g(h,r["a"].FRAMEBUFFER_INCOMPLETE_MULTISAMPLE,"Framebuffer attachement SAMPLES differs among renderbuffers, or are mixed with textures"),h);var M=(p={},g(p,r["a"].DELETE_STATUS,{webgl1:0}),g(p,r["a"].LINK_STATUS,{webgl1:0}),g(p,r["a"].VALIDATE_STATUS,{webgl1:0}),g(p,r["a"].ATTACHED_SHADERS,{webgl1:0}),g(p,r["a"].ACTIVE_ATTRIBUTES,{webgl1:0}),g(p,r["a"].ACTIVE_UNIFORMS,{webgl1:0}),g(p,r["a"].TRANSFORM_FEEDBACK_BUFFER_MODE,{webgl2:0}),g(p,r["a"].TRANSFORM_FEEDBACK_VARYINGS,{webgl2:0}),g(p,r["a"].ACTIVE_UNIFORM_BLOCKS,{webgl2:0}),p);var A=(d={},g(d,r["a"].RENDERBUFFER_WIDTH,{webgl1:0}),g(d,r["a"].RENDERBUFFER_HEIGHT,{webgl1:0}),g(d,r["a"].RENDERBUFFER_INTERNAL_FORMAT,{type:"GLenum",webgl1:r["a"].RGBA4}),g(d,r["a"].RENDERBUFFER_GREEN_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_BLUE_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_RED_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_ALPHA_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_DEPTH_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_STENCIL_SIZE,{webgl1:0}),g(d,r["a"].RENDERBUFFER_SAMPLES,{webgl2:1}),d);var S=(v={},g(v,r["a"].TEXTURE_MAG_FILTER,{webgl2:true}),g(v,r["a"].TEXTURE_MIN_FILTER,{webgl2:true}),g(v,r["a"].TEXTURE_WRAP_S,{webgl2:true}),g(v,r["a"].TEXTURE_WRAP_T,{webgl2:true}),g(v,r["a"].TEXTURE_WRAP_R,{webgl2:true}),g(v,r["a"].TEXTURE_BASE_LEVEL,{webgl2:true}),g(v,r["a"].TEXTURE_MAX_LEVEL,{webgl2:true}),g(v,r["a"].TEXTURE_COMPARE_FUNC,{webgl2:true}),g(v,r["a"].TEXTURE_COMPARE_MODE,{webgl2:true}),g(v,r["a"].TEXTURE_MIN_LOD,{webgl2:true}),g(v,r["a"].TEXTURE_MAX_LOD,{webgl2:true}),v);var R=(m={},g(m,r["a"].TEXTURE_MAG_FILTER,{type:"GLenum",webgl1:r["a"].LINEAR}),g(m,r["a"].TEXTURE_MIN_FILTER,{type:"GLenum",webgl1:r["a"].NEAREST_MIPMAP_LINEAR}),g(m,r["a"].TEXTURE_WRAP_S,{type:"GLenum",webgl1:r["a"].REPEAT}),g(m,r["a"].TEXTURE_WRAP_T,{type:"GLenum",webgl1:r["a"].REPEAT}),g(m,r["a"].TEXTURE_WRAP_R,{type:"GLenum",webgl2:r["a"].REPEAT}),g(m,r["a"].TEXTURE_BASE_LEVEL,{webgl2:0}),g(m,r["a"].TEXTURE_MAX_LEVEL,{webgl2:1e3}),g(m,r["a"].TEXTURE_COMPARE_FUNC,{type:"GLenum",webgl2:r["a"].LEQUAL}),g(m,r["a"].TEXTURE_COMPARE_MODE,{type:"GLenum",webgl2:r["a"].NONE}),g(m,r["a"].TEXTURE_MIN_LOD,{webgl2:-1e3}),g(m,r["a"].TEXTURE_MAX_LOD,{webgl2:1e3}),g(m,r["a"].TEXTURE_WIDTH,{webgl1:0}),g(m,r["a"].TEXTURE_HEIGHT,{webgl1:0}),m);function L(){i["a"].PARAMETERS=E;o["a"].PARAMETERS=T;a["a"].ATTACHMENT_PARAMETERS=I;a["a"].STATUS=C;s["a"].PARAMETERS=M;u["a"].PARAMETERS=A;l["a"].PARAMETERS=S;c["a"].PARAMETERS=R}},VD8v:function(t,e,n){var r=n("x//u");var i=n("wXdB");var o=n("+SdG")("IE_PROTO");var a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){t=i(t);if(r(t,o))return t[o];if(typeof t.constructor=="function"&&t instanceof t.constructor){return t.constructor.prototype}return t instanceof Object?a:null}},VDqB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("KKJi");n.d(e,"AnimationLoop",function(){return r["b"]});n.d(e,"requestAnimationFrame",function(){return r["c"]});n.d(e,"cancelAnimationFrame",function(){return r["a"]});var i=n("Imml");n.d(e,"Model",function(){return i["a"]})},"VU/8":function(t,e){t.exports=function t(e,n,r,i,o,a){var s;var u=e=e||{};var l=typeof e.default;if(l==="object"||l==="function"){s=e;u=e.default}var c=typeof u==="function"?u.options:u;if(n){c.render=n.render;c.staticRenderFns=n.staticRenderFns;c._compiled=true}if(r){c.functional=true}if(o){c._scopeId=o}var f;if(a){f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext;if(!t&&typeof __VUE_SSR_CONTEXT__!=="undefined"){t=__VUE_SSR_CONTEXT__}if(i){i.call(this,t)}if(t&&t._registeredComponents){t._registeredComponents.add(a)}};c._ssrRegister=f}else if(i){f=i}if(f){var h=c.functional;var p=h?c.render:c.beforeCreate;if(!h){c.beforeCreate=p?[].concat(p,f):[f]}else{c._injectStyles=f;c.render=function t(e,n){f.call(n);return p(e,n)}}}return{esModule:s,exports:u,options:c}}},W2nU:function(t,e){var n=t.exports={};var r;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(t){r=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(t){i=a}})();function s(t){if(r===setTimeout){return setTimeout(t,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(t,0)}try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function u(t){if(i===clearTimeout){return clearTimeout(t)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var l=[];var c=false;var f;var h=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{h=-1}if(l.length){d()}}function d(){if(c){return}var t=s(p);c=true;var e=l.length;while(e){f=l;l=[];while(++h<e){if(f){f[h].run()}}h=-1;e=l.length}f=null;c=false;u(t)}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){e[n-1]=arguments[n]}}l.push(new v(t,e));if(l.length===1&&!c){s(d)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function m(){}n.on=m;n.addListener=m;n.once=m;n.off=m;n.removeListener=m;n.removeAllListeners=m;n.emit=m;n.prependListener=m;n.prependOnceListener=m;n.listeners=function(t){return[]};n.binding=function(t){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(t){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},W3On:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("woOf");var i=f(r);var o=n("Zrlr");var a=f(o);var s=n("wxAW");var u=f(s);var l=n("DqEI");var c=n("KoGk");function f(t){return t&&t.__esModule?t:{default:t}}var h=c.userAgent.indexOf("firefox")!==-1;var p=l.INPUT_EVENT_TYPES.WHEEL_EVENTS;var d="wheel";var v=4.000244140625;var m=40;var g=4;var y=200;var _=.25;var b=function(){function t(e,n){var r=this;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};(0,a.default)(this,t);this.element=e;this.callback=n;this.options=(0,i.default)({enable:true},o);this.time=0;this.wheelPosition=null;this.type=null;this.timeout=null;this.lastValue=0;this.events=p.concat(o.events||[]);this.handleEvent=this.handleEvent.bind(this);this.events.forEach(function(t){return e.addEventListener(t,r.handleEvent)})}(0,u.default)(t,[{key:"destroy",value:function t(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function t(e,n){if(e===d){this.options.enable=n}}},{key:"handleEvent",value:function t(e){if(!this.options.enable){return}e.preventDefault();var n=e.deltaY;if(c.window.WheelEvent){if(h&&e.deltaMode===c.window.WheelEvent.DOM_DELTA_PIXEL){n/=c.window.devicePixelRatio}if(e.deltaMode===c.window.WheelEvent.DOM_DELTA_LINE){n*=m}}var r=this.type,i=this.timeout,o=this.lastValue,a=this.time;var s=(c.window&&c.window.performance||Date).now();var u=s-(a||0);this.wheelPosition={x:e.clientX,y:e.clientY};a=s;if(n!==0&&n%v===0){r="wheel";n=Math.floor(n/v)}else if(n!==0&&Math.abs(n)<g){r="trackpad"}else if(u>400){r=null;o=n;i=c.window.setTimeout(function t(){this._onWheel(e,-o,this.wheelPosition);r="wheel"}.bind(this),40)}else if(!r){r=Math.abs(u*n)<y?"trackpad":"wheel";if(i){c.window.clearTimeout(i);i=null;n+=o}}if(e.shiftKey&&n){n=n*_}if(r){this._onWheel(e,-n,this.wheelPosition)}}},{key:"_onWheel",value:function t(e,n,r){this.callback({type:d,center:r,delta:n,srcEvent:e,pointerType:"mouse",target:e.target})}}]);return t}();e.default=b},W6Rd:function(t,e){var n=Math.ceil;var r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},WFvm:function(t,e,n){t.exports=n("Iynp")},Wdy1:function(t,e,n){var r=n("YjQv");var i=n("iANj");var o=n("3fMt");var a=n("aLzV");var s="prototype";var u=function(t,e,n){var l=t&u.F;var c=t&u.G;var f=t&u.S;var h=t&u.P;var p=t&u.B;var d=t&u.W;var v=c?i:i[e]||(i[e]={});var m=v[s];var g=c?r:f?r[e]:(r[e]||{})[s];var y,_,b;if(c)n=e;for(y in n){_=!l&&g&&g[y]!==undefined;if(_&&y in v)continue;b=_?g[y]:n[y];v[y]=c&&typeof g[y]!="function"?n[y]:p&&_?o(b,r):d&&g[y]==b?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};e[s]=t[s];return e}(b):h&&typeof b=="function"?o(Function.call,b):b;if(h){(v.virtual||(v.virtual={}))[y]=b;if(t&u.R&&m&&!m[y])a(m,y,b)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;t.exports=u},Wtwh:function(t,e,n){"use strict";var r=n("7VzN");var i=n("n0om");var o=n.n(i);var a=n("oI6O");var s=n.n(a);function u(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function l(t,e){var n=s()([],e,t);o()(n,n,1/n[3]);return n}var c=n("1x6x");var f=n.n(c);var h=n("GSIc");var p=n.n(h);var d=n("w9vz");var v=n.n(d);var m=n("tYfZ");var g=n.n(m);var y=n("EgE0");var _=n.n(y);var b=n("N+Om");var x=n.n(b);var w=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function T(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var I=u();var C="Illegal argument to Viewport";var M=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.width,r=e.height,i=e.viewMatrix,o=i===undefined?I:i,a=e.projectionMatrix,s=a===undefined?I:a;T(this,t);this.width=n||1;this.height=r||1;this.scale=1;this.viewMatrix=o;this.projectionMatrix=s;var l=u();v()(l,l,this.projectionMatrix);v()(l,l,this.viewMatrix);this.viewProjectionMatrix=l;var c=u();f()(c,c,[this.width/2,-this.height/2,1]);p()(c,c,[1,-1,0]);v()(c,c,this.viewProjectionMatrix);var h=g()(u(),c);if(!h){throw new Error("Pixel project matrix not invertible")}this.pixelProjectionMatrix=c;this.pixelUnprojectionMatrix=h;this.equals=this.equals.bind(this);this.project=this.project.bind(this);this.unproject=this.unproject.bind(this);this.projectFlat=this.projectFlat.bind(this);this.unprojectFlat=this.unprojectFlat.bind(this)}E(t,[{key:"equals",value:function e(n){if(!(n instanceof t)){return false}return n.width===this.width&&n.height===this.height&&Object(r["equals"])(n.projectionMatrix,this.projectionMatrix)&&Object(r["equals"])(n.viewMatrix,this.viewMatrix)}},{key:"project",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?true:r;var o=w(e,3),a=o[0],s=o[1],u=o[2],c=u===undefined?0:u;x()(Number.isFinite(a)&&Number.isFinite(s)&&Number.isFinite(c),C);var f=this.projectFlat([a,s]),h=w(f,2),p=h[0],d=h[1];var v=l(this.pixelProjectionMatrix,[p,d,c,1]);var m=w(v,2),g=m[0],y=m[1];var _=i?y:this.height-y;return e.length===2?[g,_]:[g,_,v[2]]}},{key:"unproject",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.topLeft,i=r===undefined?true:r,o=n.targetZ;var a=w(e,3),s=a[0],u=a[1],c=a[2];var f=i?u:this.height-u;if(Number.isFinite(c)){var h=l(this.pixelUnprojectionMatrix,[s,f,c,1]);var p=h[2];var d=this.unprojectFlat(h);return[d[0],d[1],p]}var v=l(this.pixelUnprojectionMatrix,[s,f,0,1]);var m=l(this.pixelUnprojectionMatrix,[s,f,1,1]);var g=v[2];var y=m[2];var b=g===y?0:((o||0)-g)/(y-g);var x=_()([],v,m,b);var E=this.unprojectFlat(x);return Number.isFinite(o)?[E[0],E[1],o]:E}},{key:"projectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return e}},{key:"unprojectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return e}}]);return t}();var A=M;var S=n("BDpb");var R=n.n(S);var L=n("7sUI");var k=n.n(L);var N=n("SO7G");var F=n.n(N);var O=n("KKYF");var B=n.n(O);var P=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var U=Math.PI;var D=U/4;var z=U/180;var j=180/U;var V=512;var G=V;var X=40075e3;function W(t,e){var n=P(t,2),r=n[0],i=n[1];e=e*G;var o=r*z;var a=i*z;var s=e*(o+U)/(2*U);var u=e*(U-Math.log(Math.tan(D+a*.5)))/(2*U);return[s,u]}function Z(t,e){var n=P(t,2),r=n[0],i=n[1];e=e*G;var o=r/e*(2*U)-U;var a=2*(Math.atan(Math.exp(U-i/e*(2*U)))-D);return[o*j,a*j]}function Q(t){var e=t.latitude;x()(e);var n=function t(e){return e/180*Math.PI};return Math.log2(X*Math.cos(n(e)))-8}function H(t){var e=t.latitude,n=t.longitude,r=t.zoom,i=t.scale;i=i!==undefined?i:Math.pow(2,r);x()(!isNaN(e)&&!isNaN(n)&&!isNaN(i));var o=Math.cos(e*Math.PI/180);var a=B()(W([n+.5,e],i),W([n-.5,e],i));var s=B()(W([n,e+.5],i),W([n,e-.5],i));var u=V*i;var l=u/(4e7*o);var c=[l,l,l];var f=[1/l,1/l,1/l];var h=[a,s,l];var p=[1/a,1/s,1/l];return{pixelsPerMeter:c,metersPerPixel:f,pixelsPerDegree:h,degreesPerPixel:p}}function Y(t){var e=t.longitude,n=t.latitude,i=t.zoom,o=t.meterOffset,a=t.distanceScales,s=a===undefined?null:a;var u=Math.pow(2,i);var l=W([e,n],u);var c=new r["Vector3"](l[0],l[1],0);if(o){s=s||H({latitude:n,longitude:e,scale:u});var f=new r["Vector3"](o).scale(s.pixelsPerMeter).scale([1,-1,1]);c.add(f)}return c}function J(t){var e=t.height,n=t.altitude;return 2*Math.atan(e/2/n)}function q(t){var e=t.altitude,n=t.pitch;var r=n*z;var i=Math.atan(.5/e);var o=Math.sin(i)*e/Math.sin(Math.PI/2-r-i);var a=Math.cos(Math.PI/2-r)*o+e;return{farZ:a,nearZ:.1}}function K(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude;var o=u();p()(o,o,[0,0,-i]);f()(o,o,[1,1,1/e]);k()(o,o,-n*z);F()(o,o,r*z);return o}function $(t){var e=t.width,n=t.height,i=t.longitude,o=t.latitude,a=t.zoom,s=t.pitch,l=t.bearing,c=t.altitude,h=t.distanceScales,d=h===undefined?null:h,v=t.center,m=v===undefined?null:v,g=t.viewMatrixUncentered,y=g===undefined?null:g,_=t.meterOffset,b=_===undefined?null:_,x=t.flipY,w=x===undefined?true:x;if(!m){m=Y({longitude:i,latitude:o,zoom:a,distanceScales:d,meterOffset:b})}if(!y){y=K({height:n,pitch:s,bearing:l,altitude:c})}var E=u();if(w){f()(E,y,[1,-1,1])}var T=p()(E,E,new r["Vector3"](m).negate());return T}function tt(t){var e=t.width,n=t.height,r=t.pitch,i=t.altitude,o=t.farZMultiplier,a=o===undefined?10:o;var s=q({altitude:i,pitch:r}),u=s.nearZ,l=s.farZ;var c=J({height:n,altitude:i});var f=R()([],c,e/n,u,l*a);return f}var et=n("7Mv9");var nt=n.n(et);var rt=n("fWKP");var it=n.n(rt);var ot=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var at=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function st(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function ut(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function lt(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var ct=function(t){lt(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.width,r=t.height,i=t.latitude,o=i===undefined?0:i,a=t.longitude,s=a===undefined?0:a,u=t.zoom,l=u===undefined?0:u,c=t.pitch,f=c===undefined?0:c,h=t.bearing,p=h===undefined?0:h,d=t.altitude,v=d===undefined?1.5:d,m=t.farZMultiplier,g=m===undefined?10:m;st(this,e);n=n||1;r=r||1;var y=Math.pow(2,l);v=Math.max(.75,v);var _=W([s,o],y);var b=tt({width:n,height:r,pitch:f,bearing:p,altitude:v,farZMultiplier:g});var x=$({width:n,height:r,longitude:s,latitude:o,zoom:l,pitch:f,bearing:p,altitude:v});var w=ut(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{width:n,height:r,viewMatrix:x,projectionMatrix:b}));w.latitude=o;w.longitude=s;w.zoom=l;w.pitch=f;w.bearing=p;w.altitude=v;w.scale=y;w.center=_;Object.freeze(w);return w}at(e,[{key:"projectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return W(e,n)}},{key:"unprojectFlat",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.scale;return Z(e,n)}},{key:"getLocationAtPoint",value:function t(e){var n=e.lngLat,r=e.pos;var i=this.projectFlat(this.unproject(r));var o=this.projectFlat(n);var a=this.projectFlat([this.longitude,this.latitude]);var s=nt()([],o,it()([],i));var u=nt()([],a,s);return this.unprojectFlat(u)}},{key:"fitBounds",value:function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this.width,o=this.height;var a=ht(Object.assign({width:i,height:o,bounds:n},r)),s=a.longitude,u=a.latitude,l=a.zoom;return new e({width:i,height:o,longitude:s,latitude:u,zoom:l})}}]);return e}(A);var ft=ct;function ht(t){var e=t.width,n=t.height,r=t.bounds,i=t.padding,o=i===undefined?0:i,a=t.offset,s=a===undefined?[0,0]:a;var u=ot(r,2),l=ot(u[0],2),c=l[0],f=l[1],h=ot(u[1],2),p=h[0],d=h[1];var v=new ct({width:e,height:n,longitude:0,latitude:0,zoom:0});var m=v.project([c,d]);var g=v.project([p,f]);var y=[Math.abs(g[0]-m[0]),Math.abs(g[1]-m[1])];var _=[(g[0]+m[0])/2,(g[1]+m[1])/2];var b=(e-o*2-Math.abs(s[0])*2)/y[0];var x=(n-o*2-Math.abs(s[1])*2)/y[1];var w=v.unproject(_);var E=v.zoom+Math.log2(Math.abs(Math.min(b,x)));return{longitude:w[0],latitude:w[1],zoom:E}}n.d(e,false,function(){return ft});n.d(e,false,function(){return ft});n.d(e,false,function(){return ft});n.d(e,"a",function(){return ht});n.d(e,"g",function(){return W});n.d(e,"h",function(){return Z});n.d(e,"c",function(){return Q});n.d(e,"b",function(){return H});n.d(e,"f",function(){return Y});n.d(e,false,function(){return $});n.d(e,"e",function(){return K});n.d(e,"d",function(){return tt})},XAEG:function(t,e,n){t.exports=n("ZSYl")},XHIH:function(t,e){t.exports=n;function n(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];t[0]=i+r*(n[0]-i);t[1]=o+r*(n[1]-o);t[2]=a+r*(n[2]-a);t[3]=s+r*(n[3]-s);return t}},YPlJ:function(t,e){t.exports=n;function n(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},YTz9:function(t,e){t.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}},YjQv:function(t,e){var n=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=n},YlLA:function(t,e){t.exports=n;function n(t,e,n,r){t[0]=e[0]+n[0]*r;t[1]=e[1]+n[1]*r;return t}},Ytsj:function(t,e,n){(function(e){var n;var n;(function(n){if(true){t.exports=n()}else if(typeof define==="function"&&define.amd){define([],n)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof e!=="undefined"){r=e}else if(typeof self!=="undefined"){r=self}else{r=this}r.mapboxgl=n()}})(function(){var t,r,i;return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var l=typeof n=="function"&&n;if(!u&&l)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,r,i)}return r[s].exports}var a=typeof n=="function"&&n;for(var s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.glMatrix=i()}(this,function(){"use strict";function t(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}function e(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function n(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function i(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function s(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,T=c*v-f*d,I=c*m-h*d,C=c*g-p*d,M=f*m-h*v,A=f*g-p*v,S=h*g-p*m,R=y*S-_*A+b*M+x*C-w*I+E*T;return R?(R=1/R,t[0]=(s*S-u*A+l*M)*R,t[1]=(i*A-r*S-o*M)*R,t[2]=(v*E-m*w+g*x)*R,t[3]=(h*w-f*E-p*x)*R,t[4]=(u*C-a*S-l*I)*R,t[5]=(n*S-i*C+o*I)*R,t[6]=(m*b-d*E-g*_)*R,t[7]=(c*E-h*b+p*_)*R,t[8]=(a*A-s*C+l*T)*R,t[9]=(r*C-n*A-o*T)*R,t[10]=(d*w-v*b+g*y)*R,t[11]=(f*b-c*w-p*y)*R,t[12]=(s*I-a*M-u*T)*R,t[13]=(n*M-r*I+i*T)*R,t[14]=(v*_-d*x-m*y)*R,t[15]=(c*x-f*_+h*y)*R,t):null}function h(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*v,t[1]=_*i+b*u+x*h+w*m,t[2]=_*o+b*l+x*p+w*g,t[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*v,t[5]=_*i+b*u+x*h+w*m,t[6]=_*o+b*l+x*p+w*g,t[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*v,t[9]=_*i+b*u+x*h+w*m,t[10]=_*o+b*l+x*p+w*g,t[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*v,t[13]=_*i+b*u+x*h+w*m,t[14]=_*o+b*l+x*p+w*g,t[15]=_*a+b*c+x*d+w*y,t}function p(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,v=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*v+s*m+f*g+e[12],t[13]=i*v+u*m+h*g+e[13],t[14]=o*v+l*m+p*g+e[14],t[15]=a*v+c*m+d*g+e[15]),t}function d(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function v(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t}function m(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t}function g(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function y(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}var _=(t(),n(),{vec3:{transformMat3:e},vec4:{transformMat4:r},mat2:{create:i,rotate:o,scale:a},mat3:{create:s,fromRotation:u},mat4:{create:l,identity:c,translate:p,scale:d,multiply:h,perspective:g,rotateX:v,rotateZ:m,invert:f,ortho:y}});return _})},{}],2:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?n.exports=i():"function"==typeof t&&t.amd?t(i):e.ShelfPack=i()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(o=this.packOne(n,r,i),!o)continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}if(this.shelves.length>0){for(var u=0,l=0,c=0;c<this.shelves.length;c++){var f=this.shelves[c];l+=f.h,u=Math.max(f.w-f.free,u)}this.resize(u,l)}return a},t.prototype.packOne=function(t,n,r){var i,o,a,s,u={freebin:-1,shelf:-1,waste:1/0},l=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(i=this.freebins[s],n===i.maxh&&t===i.maxw)return this.allocFreebin(s,t,n,r);n>i.maxh||t>i.maxw||n<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*n,a<u.waste&&(u.waste=a,u.freebin=s))}for(s=0;s<this.shelves.length;s++)if(o=this.shelves[s],l+=o.h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,r);n>o.h||n<o.h&&(a=(o.h-n)*t,a<u.waste&&(u.freebin=-1,u.waste=a,u.shelf=s))}if(u.freebin!==-1)return this.allocFreebin(u.freebin,t,n,r);if(u.shelf!==-1)return this.allocShelf(u.shelf,t,n,r);if(n<=this.h-l&&t<=this.w)return o=new e(l,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,r);if(this.autoResize){var c,f,h,p;return c=f=this.h,h=p=this.w,(h<=c||t>h)&&(p=2*Math.max(t,h)),(c<h||n>c)&&(f=2*Math.max(n,c)),this.resize(p,f),this.packOne(t,n,r)}return null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t],o=i.alloc(e,n,r);return this.bins[r]=o,this.ref(o),o},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1===++t.refcount){var e=t.h;this.stats[e]=(0|this.stats[e])+1}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0===--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var i=this.x;return this.x+=t,this.free-=t,new n(r,i,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],3:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,r,i,o,a;for(i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],4:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,r,i,o,a){a=a||{};var s=t+"?"+["bbox="+n(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function n(t,e,n){e=Math.pow(2,n)-e-1;var i=r(256*t,256*e,n),o=r(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),i=t*r-2*Math.PI*6378137/2,o=e*r-2*Math.PI*6378137/2;return[i,o]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,!0),u=[];if(!s)return u;var l,c,h,p,d,v,m;if(r&&(s=f(t,e,s,n)),t.length>80*n){l=h=t[0],c=p=t[1];for(var g=n;g<o;g+=n)d=t[g],v=t[g+1],d<l&&(l=d),v<c&&(c=v),d>h&&(h=d),v>p&&(p=v);m=Math.max(h-l,p-c)}return a(s,u,n,l,c,m),u}function i(t,e,n,r,i){var o,a;if(i===L(t,e,n,r)>0)for(o=e;o<n;o+=r)a=A(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=A(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(S(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(S(r),r=e=r.prev,r===r.next)return null;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&v(t,r,i,f);for(var p,d,m=t;t.prev!==t.next;)if(p=t.prev,d=t.next,f?u(t,r,i,f):s(t))e.push(p.i/n),e.push(t.i/n),e.push(d.i/n),S(t),t=d.next,m=d.next;else if(t=d,t===m){h?1===h?(t=l(t,e,n),a(t,e,n,r,i,f,2)):2===h&&c(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=g(s,u,e,n,r),h=g(l,c,e,n,r),p=t.nextZ;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&_(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!w(i,o)&&E(i,r,r.next,o)&&I(i,o)&&I(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),S(r),S(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var c=M(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e,n,r){var a,s,u,l,c,f=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=i(t,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(y(c));for(f.sort(h),a=0;a<f.length;a++)p(f[a],n),n=o(n,n.next);return n}function h(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e)){var n=M(e,t);o(n,n.next)}}function d(t,e){var n,r=e,i=t.x,o=t.y,a=-(1/0);do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&_(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),(u<h||u===h&&r.x>n.x)&&I(r,t)&&(n=r,h=u)),r=r.next;return n}function v(t,e,n,r){var i=t;do{null===i.z&&(i.z=g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,m(i)}function m(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ,r);e++);for(u=l;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return t}function g(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function _(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&I(t,e)&&I(e,t)&&C(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function T(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function I(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function C(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function M(t,e){var n=new R(t.i,t.x,t.y),r=new R(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function A(t,e,n,r){var i=new R(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(L(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(L(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],6:[function(t,e,n){function r(t){if("Polygon"===t.type)return i(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=i(t.coordinates[n]);return e}return null}function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e=0;if(t.length>2){for(var n,r,i=0;i<t.length-1;i++)n=t[i],r=t[i+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=o},{wgs84:41}],7:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(i(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function i(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],!e);for(var n=1;n<t.length;n++)t[n]=s(t[n],e);return t}function s(t,e){return u(t)===e?t:t.reverse()}function u(t){return l.ring(t)>=0}var l=t("geojson-area");e.exports=r},{"geojson-area":6}],8:[function(t,e,n){"use strict";function r(t,e,n,r,a,u,l,c){if(n/=e,r/=e,l>=n&&c<=r)return t;if(l>r||c<n)return null;for(var f=[],h=0;h<t.length;h++){var p,d,v=t[h],m=v.geometry,g=v.type;if(p=v.min[a],d=v.max[a],p>=n&&d<=r)f.push(v);else if(!(p>r||d<n)){var y=1===g?i(m,n,r,a):o(m,n,r,a,u,3===g);y.length&&f.push(s(v.tags,g,y,v.id))}}return f.length?f:null}function i(t,e,n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],s=a[r];s>=e&&s<=n&&i.push(a)}return i}function o(t,e,n,r,i,o){for(var s=[],u=0;u<t.length;u++){var l,c,f,h=0,p=0,d=null,v=t[u],m=v.area,g=v.dist,y=v.outer,_=v.length,b=[];for(c=0;c<_-1;c++)l=d||v[c],d=v[c+1],h=p||l[r],p=d[r],h<e?p>n?(b.push(i(l,d,e),i(l,d,n)),o||(b=a(s,b,m,g,y))):p>=e&&b.push(i(l,d,e)):h>n?p<e?(b.push(i(l,d,n),i(l,d,e)),o||(b=a(s,b,m,g,y))):p<=n&&b.push(i(l,d,n)):(b.push(l),p<e?(b.push(i(l,d,e)),o||(b=a(s,b,m,g,y))):p>n&&(b.push(i(l,d,n)),o||(b=a(s,b,m,g,y))));l=v[_-1],h=l[r],h>=e&&h<=n&&b.push(l),f=b[b.length-1],o&&f&&(b[0][0]!==f[0]||b[0][1]!==f[1])&&b.push(b[0]),a(s,b,m,g,y)}return s}function a(t,e,n,r,i){return e.length&&(e.area=n,e.dist=r,void 0!==i&&(e.outer=i),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":10}],9:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)i(n,t.features[r],e);else"Feature"===t.type?i(n,t,e):i(n,{geometry:t},e);return n}function i(t,e,n){if(null!==e.geometry){var r,s,u,c,f=e.geometry,h=f.type,p=f.coordinates,d=e.properties,v=e.id;if("Point"===h)t.push(l(d,1,[a(p)],v));else if("MultiPoint"===h)t.push(l(d,1,o(p),v));else if("LineString"===h)t.push(l(d,2,[o(p,n)],v));else if("MultiLineString"===h||"Polygon"===h){for(u=[],r=0;r<p.length;r++)c=o(p[r],n),"Polygon"===h&&(c.outer=0===r),u.push(c);t.push(l(d,"Polygon"===h?3:2,u,v))}else if("MultiPolygon"===h){for(u=[],r=0;r<p.length;r++)for(s=0;s<p[r].length;s++)c=o(p[r][s],n),c.outer=0===s,u.push(c);t.push(l(d,3,u,v))}else{if("GeometryCollection"!==h)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)i(t,{geometry:f.geometries[r],properties:d},n)}}}function o(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(u(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,i=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],r+=e[0]*n[1]-n[0]*e[1],i+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=i}e.exports=r;var u=t("./simplify"),l=t("./feature")},{"./feature":10,"./simplify":12}],10:[function(t,e,n){"use strict";function r(t,e,n,r){var o={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return i(o),o}function i(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)o(n,r,e);else for(var i=0;i<e.length;i++)o(n,r,e[i]);return t}function o(t,e,n){for(var r,i=0;i<n.length;i++)r=n[i],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],11:[function(t,e,n){"use strict";function r(t,e){return new i(t,e)}function i(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,i=c(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=p(i,e.buffer/e.extent,a),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var r=t.source;if(1!==r.length)return!1;var i=r[0];if(3!==i.type||i.geometry.length>1)return!1;var o=i.geometry[0].length;if(5!==o)return!1;for(var a=0;a<o;a++){var s=f.point(i.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var c=t("./convert"),f=t("./transform"),h=t("./clip"),p=t("./wrap"),d=t("./tile");i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(t,e,n,r,i,u,c){for(var f=[t,e,n,r],p=this.options,v=p.debug,m=null;f.length;){r=f.pop(),n=f.pop(),e=f.pop(),t=f.pop();var g=1<<e,y=o(e,n,r),_=this.tiles[y],b=e===p.maxZoom?0:p.tolerance/(g*p.extent);if(!_&&(v>1&&console.time("creation"),_=this.tiles[y]=d(t,g,n,r,b,e===p.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),v)){v>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,_.numFeatures,_.numPoints,_.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(_.source=t,i){if(e===p.maxZoom||e===i)continue;var w=1<<i-e;if(n!==Math.floor(u/w)||r!==Math.floor(c/w))continue}else if(e===p.indexMaxZoom||_.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!l(_,p.extent,p.buffer)){_.source=null,v>1&&console.time("clipping");var E,T,I,C,M,A,S=.5*p.buffer/p.extent,R=.5-S,L=.5+S,k=1+S;E=T=I=C=null,M=h(t,g,n-S,n+L,0,a,_.min[0],_.max[0]),A=h(t,g,n+R,n+k,0,a,_.min[0],_.max[0]),M&&(E=h(M,g,r-S,r+L,1,s,_.min[1],_.max[1]),T=h(M,g,r+R,r+k,1,s,_.min[1],_.max[1])),A&&(I=h(A,g,r-S,r+L,1,s,_.min[1],_.max[1]),C=h(A,g,r+R,r+k,1,s,_.min[1],_.max[1])),v>1&&console.timeEnd("clipping"),t.length&&(f.push(E||[],e+1,2*n,2*r),f.push(T||[],e+1,2*n,2*r+1),f.push(I||[],e+1,2*n+1,2*r),f.push(C||[],e+1,2*n+1,2*r+1))}else i&&(m=e)}return m},i.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return f.tile(this.tiles[u],i);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,h=t,p=e,d=n;!c&&h>0;)h--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(h,p,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",h,p,d),l(c,i,r.buffer))return f.tile(c,i);a>1&&console.time("drilling down");var v=this.splitTile(c.source,h,p,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==v){var m=1<<t-v;u=o(v,Math.floor(e/m),Math.floor(n/m))}return this.tiles[u]?f.tile(this.tiles[u],i):null}},{"./clip":8,"./convert":9,"./tile":13,"./transform":14,"./wrap":15}],12:[function(t,e,n){"use strict";function r(t,e){var n,r,o,a,s=e*e,u=t.length,l=0,c=u-1,f=[];for(t[l][2]=1,t[c][2]=1;c;){for(r=0,n=l+1;n<c;n++)o=i(t[n],t[l],t[c]),o>r&&(a=n,r=o);r>s?(t[a][2]=r,f.push(l),f.push(a),l=a):(c=f.pop(),l=f.pop())}}function i(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],u=t[1],l=o-r,c=a-i;if(0!==l||0!==c){var f=((s-r)*l+(u-i)*c)/(l*l+c*c);f>1?(r=o,i=a):f>0&&(r+=l*f,i+=c*f)}return l=s-r,c=u-i,l*l+c*c}e.exports=r},{}],13:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,i(s,t[u],o,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function i(t,e,n,r){var i,a,s,u,l=e.geometry,c=e.type,f=[],h=n*n;if(1===c)for(i=0;i<l.length;i++)f.push(l[i]),t.numPoints++,t.numSimplified++;else for(i=0;i<l.length;i++)if(s=l[i],r||!(2===c&&s.dist<n||3===c&&s.area<h)){var p=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>h)&&(p.push(u),t.numSimplified++),t.numPoints++;3===c&&o(p,s.outer),f.push(p)}else t.numPoints+=s.length;if(f.length){var d={geometry:f,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function o(t,e){var n=a(t);n<0===e&&t.reverse()}function a(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],14:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,o,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,f=l.type;if(1===f)for(r=0;r<c.length;r++)c[r]=i(c[r],e,a,s,u);else for(r=0;r<c.length;r++){var h=c[r];for(o=0;o<h.length;o++)h[o]=i(h[o],e,a,s,u)}}return t.transformed=!0,t}function i(t,e,n,r,i){var o=Math.round(e*(t[0]*n-r)),a=Math.round(e*(t[1]*n-i));return[o,a]}n.tile=r,n.point=i},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r=t,o=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(o||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],o&&(r=i(o,1).concat(r)),s&&(r=r.concat(i(s,-1)))),r}function i(t,e){for(var n=[],r=0;r<t.length;r++){var i,a=t[r],u=a.type;if(1===u)i=o(a.geometry,e);else{i=[];for(var l=0;l<a.geometry.length;l++)i.push(o(a.geometry[l],e))}n.push(s(a.tags,u,i,a.id))}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":8,"./feature":10}],16:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],u=o[i+a+1];r.push(s===u?null:o.subarray(s,u))}var l=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var h=n/e*t;this.min=-h,this.max=t+h}e.exports=r;var i=3;r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var h=4*f;t<=l[h+2]&&e<=l[h+3]&&n>=l[h+0]&&r>=l[h+1]?(a[f]=!0,o.push(u[f])):a[f]=!1}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var h=u;h<=c;h++){var p=this.d*h+f;if(i.call(this,t,e,n,r,p,o,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];o[i+s]=a,o.set(u,a),a+=u.length}return o[i+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],17:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*v}},{}],18:[function(t,e,n){"use strict";function r(t,e,n,r,o){return new i(t,e,n,r,o)}function i(t,e,n,r,i){e=e||o,n=n||a,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),u=t("./range"),l=t("./within");e.exports=r,i.prototype={range:function(t,e,n,r){return u(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return l(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":19,"./sort":20,"./within":21}],19:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var d=p;d<=h;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);else{var v=Math.floor((p+h)/2);s=e[2*v],u=e[2*v+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[v]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(p),l.push(v-1),l.push(m)),(0===f?i>=s:o>=u)&&(l.push(v+1),l.push(h),l.push(m))}}return c}e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t,e,n,o,a,s){if(!(a-o<=n)){var u=Math.floor((o+a)/2);i(t,e,u,o,a,s%2),r(t,e,n,o,u-1,s+1),r(t,e,n,u+1,a,s+1)}}function i(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,l=n-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(n-l*f/u+h)),d=Math.min(a,Math.floor(n+(u-l)*f/u+h));i(t,e,n,p,d,s)}var v=e[2*n+s],m=r,g=a;for(o(t,e,r,n),e[2*a+s]>v&&o(t,e,r,a);m<g;){for(o(t,e,m,g),m++,g--;e[2*m+s]<v;)m++;for(;e[2*g+s]>v;)g--}e[2*r+s]===v?o(t,e,r,g):(g++,o(t,e,g,a)),g<=n&&(r=g+1),n<=g&&(a=g-1)}}function o(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],21:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s=[0,t.length-1,0],u=[],l=o*o;s.length;){var c=s.pop(),f=s.pop(),h=s.pop();if(f-h<=a)for(var p=h;p<=f;p++)i(e[2*p],e[2*p+1],n,r)<=l&&u.push(t[p]);else{var d=Math.floor((h+f)/2),v=e[2*d],m=e[2*d+1];i(v,m,n,r)<=l&&u.push(t[d]);var g=(c+1)%2;(0===c?n-o<=v:r-o<=m)&&(s.push(h),s.push(d-1),s.push(g)),(0===c?n+o>=v:r+o>=m)&&(s.push(d+1),s.push(f),s.push(g))}}return u}function i(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}e.exports=r},{}],22:[function(t,e,n){"use strict";function r(t){return!!(i()&&o()&&a()&&s()&&u()&&l()&&c()&&f(t&&t.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(t){return void 0===p[t]&&(p[t]=h(t)),p[t]}function h(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var p={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],23:[function(t,e,n){"use strict";function r(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=a.readUInt32LE,n.writeUInt32LE=a.writeUInt32LE,n.readInt32LE=a.readInt32LE,n.writeInt32LE=a.writeInt32LE,n.readFloatLE=a.readFloatLE,n.writeFloatLE=a.writeFloatLE,n.readDoubleLE=a.readDoubleLE,n.writeDoubleLE=a.writeDoubleLE,n.toString=a.toString,n.write=a.write,n.slice=a.slice,n.copy=a.copy,n._isBuffer=!0,n}function i(t){for(var e,n,r=t.length,i=[],o=0;o<r;o++){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!n){e>56319||o+1===r?i.push(239,191,189):n=e;continue}if(e<56320){i.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(i.push(239,191,189),n=null);e<128?i.push(e):e<2048?i.push(e>>6|192,63&e|128):e<65536?i.push(e>>12|224,e>>6&63|128,63&e|128):i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return i}e.exports=r;var o=t("ieee754"),a,s,u;a={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return o.read(this,t,!0,23,4)},readDoubleLE:function(t){return o.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return o.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return o.write(this,t,e,!0,52,8)},toString:function(t,e,n){var r="",i="";e=e||0,n=Math.min(this.length,n||this.length);for(var o=e;o<n;o++){var a=this[o];a<=127?(r+=decodeURIComponent(i)+String.fromCharCode(a),i=""):i+="%"+a.toString(16)}return r+=decodeURIComponent(i)},write:function(t,e){for(var n=t===s?u:i(t),r=0;r<n.length;r++)this[e+r]=n[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},a.writeInt32LE=a.writeUInt32LE,r.byteLength=function(t){return s=t,u=i(t),u.length},r.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:17}],24:[function(t,n,r){(function(e){"use strict";function r(t){this.buf=m.isBuffer(t)?t:new m(t||0),this.pos=0,this.length=this.buf.length}function i(t,e){var n,r=e.buf;if(n=r[e.pos++],t+=268435456*(127&n),n<128)return t;if(n=r[e.pos++],t+=34359738368*(127&n),n<128)return t;if(n=r[e.pos++],t+=4398046511104*(127&n),n<128)return t;if(n=r[e.pos++],t+=562949953421312*(127&n),n<128)return t;if(n=r[e.pos++],t+=72057594037927940*(127&n),n<128)return t;if(n=r[e.pos++],t+=0x8000000000000000*(127&n),n<128)return t;throw new Error("Expected varint not more than 10 bytes")}function o(t,e){e.realloc(10);for(var n=e.pos+10;t>=1;){if(e.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&t;e.buf[e.pos++]=r|(t>=128?128:0),t/=128}}function a(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function s(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}n.exports=r;var m=e.Buffer||t("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var g=4294967296,y=1/g,_=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*g;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*g;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n=this.buf;return e=n[this.pos++],t=127&e,e<128?t:(e=n[this.pos++],t|=(127&e)<<7,e<128?t:(e=n[this.pos++],t|=(127&e)<<14,e<128?t:(e=n[this.pos++],t|=(127&e)<<21,e<128?t:i(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<_)return e;for(var n=this.pos-2;255===this.buf[n];)n--;n<t&&(n=t),e=0;for(var r=0;r<n-t+1;r++){var i=127&~this.buf[t+r];e+=r<4?i<<7*r:i*Math.pow(2,7*r)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new m(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void o(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=m.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,f,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,v,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./buffer":23}],25:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],26:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){v&&m&&(v=!1,m.length?d=m.concat(d):g=-1,d.length&&u())}function u(){if(!v){var t=o(s);v=!0;for(var e=d.length;e;){for(m=d,d=[];++g<e;)m&&m[g].run();g=-1,e=d.length}m=null,v=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f=e.exports={},h,p;!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d=[],v=!1,m,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||v||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],27:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||o;a>n;){if(a-n>600){var u=a-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+h)),d=Math.min(a,Math.floor(e+(u-l)*f/u+h));r(t,e,p,d,s)}var v=t[e],m=n,g=a;for(i(t,n,e),s(t[a],v)>0&&i(t,n,a);m<g;){for(i(t,m,g),m++,g--;s(t[m],v)<0;)m++;for(;s(t[g],v)>0;)g--}0===s(t[n],v)?i(t,n,g):(g++,i(t,g,a)),g<=e&&(n=g+1),e<=g&&(a=g-1)}}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],28:[function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){this.options=p(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,r){return{x:t,y:e,zoom:1/0,id:r,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return o(l(n[0]),c(n[1]),1,e)}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[f(t.x),h(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:n}}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t){return 360*(t-.5)}function h(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function v(t){return t.y}var m=t("kdbush");e.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=m(r,d,v,this.options.nodeSize,Float32Array),r=this._cluster(r,i),e&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(r,d,v,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.id!==-1?this.points[a.id]:s(a))}return i},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,l),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.id!==-1?this.points[s.id].properties:u(s)})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var a=t[i];if(!(a.zoom<=e)){a.zoom=e;for(var s=this.trees[e+1],u=s.within(a.x,a.y,r),l=!1,c=a.numPoints,f=a.x*c,h=a.y*c,p=0;p<u.length;p++){var d=s.points[u[p]];e<d.zoom&&(l=!0,d.zoom=e,f+=d.x*d.numPoints,h+=d.y*d.numPoints,c+=d.numPoints)}n.push(l?o(f/c,h/c,c,-1):a)}}return n}}},{kdbush:18}],29:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,t)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}function o(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare;t>0;){var r=Math.floor((t-1)/2);if(!(n(e[t],e[r])<0))break;o(e,r,t),t=r}},_down:function(t){for(var e=this.data,n=this.compare,r=this.length;;){var i=2*t+1,a=i+1,s=t;if(i<r&&n(e[i],e[s])<0&&(s=i),a<r&&n(e[a],e[s])<0&&(s=a),s===t)return;o(e,s,t),t=s}}}},{}],30:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],31:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],32:[function(t,n,r){(function(e,n){function i(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),v(e)?n.showHidden=e:e&&r._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&C(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return _(i)||(i=u(t,i,n)),i}var o=l(t,e);if(o)return o;var a=Object.keys(e),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),I(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(C(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(I(e))return c(e)}var g="",y=!1,b=["{","}"];if(d(e)&&(y=!0,b=["[","]"]),C(e)){var x=e.name?": "+e.name:"";g=" [Function"+x+"]"}if(w(e)&&(g=" "+RegExp.prototype.toString.call(e)),T(e)&&(g=" "+Date.prototype.toUTCString.call(e)),I(e)&&(g=" "+c(e)),0===a.length&&(!y||0==e.length))return b[0]+g+b[1];if(n<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return E=y?f(t,e,n,v,a):a.map(function(r){return h(t,e,n,v,r,y)}),t.seen.pop(),p(E,g,b)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)L(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),L(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=m(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return E(t)&&"[object RegExp]"===A(t)}function E(t){return"object"==typeof t&&null!==t}function T(t){return E(t)&&"[object Date]"===A(t)}function I(t){return E(t)&&("[object Error]"===A(t)||t instanceof Error)}function C(t){return"function"==typeof t}function M(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function A(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}function R(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var k=/%[sdj%]/g;r.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(k,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=m(s)||!E(s)?" "+s:" "+i(s);return a},r.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(x(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var N={},F;r.debuglog=function(t){if(x(F)&&(F=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(F)){var n=e.pid;N[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else N[t]=function(){};return N[t]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=v,r.isNull=m,r.isNullOrUndefined=g,r.isNumber=y,r.isString=_,r.isSymbol=b,r.isUndefined=x,r.isRegExp=w,r.isObject=E,r.isDate=T,r.isError=I,r.isFunction=C,r.isPrimitive=M,r.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",R(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":31,_process:26,inherits:30}],33:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":34,"./lib/vectortilefeature.js":35,"./lib/vectortilelayer.js":36}],34:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,n){if(3===t){var r=new o(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var o=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":36}],35:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=o,t.readFields(i,this,e)}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}function s(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var u=t("point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(!i){var l=t.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new u(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/u;t[e]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,u=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<f.length;o++)p[o]=f[o][0];f=p,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":25}],36:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":35}],37:[function(t,e,n){function r(t){var e=[];for(var n in t.layers)e.push(o(t.layers[n]));var r=new c;return f.tile.write({layers:e},r),r.finish()}function i(t){var e={};for(var n in t)e[n]=new h(t[n].features),e[n].name=n;return r({layers:e})}function o(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},n={},r={},i=0;i<t.length;i++){var o=t.feature(i);o.geometry=u(o.loadGeometry());var a=[];for(var s in o.properties){var c=n[s];"undefined"==typeof c&&(e.keys.push(s),c=e.keys.length-1,n[s]=c);var f=l(o.properties[s]),h=r[f.key];"undefined"==typeof h&&(e.values.push(f),h=e.values.length-1,r[f.key]=h),a.push(c),a.push(h)}o.tags=a,e.features.push(o)}return e}function a(t,e){return(e<<3)+(7&t)}function s(t){return t<<1^t>>31}function u(t){for(var e=[],n=0,r=0,i=t.length,o=0;o<i;o++){var u=t[o];e.push(a(1,1));for(var l=0;l<u.length;l++){1===l&&e.push(a(2,u.length-1));var c=u[l].x-n,f=u[l].y-r;e.push(s(c),s(f)),n+=c,r+=f}}return e}function l(t){var e,n=typeof t;return"string"===n?e={string_value:t}:"boolean"===n?e={bool_value:t}:"number"===n?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=n+":"+t,e}var c=t("pbf"),f=t("./vector-tile-pb"),h=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=i,e.exports.GeoJSONWrapper=h},{"./lib/geojson_wrapper":38,"./vector-tile-pb":39,pbf:24}],38:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function i(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new i(this.features[t])},i.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":25,"vector-tile":33}],39:[function(t,e,n){"use strict";function r(t,e){return t.readFields(i,{layers:[]},e)}function i(t,e,n){3===t&&e.layers.push(h(n,n.readVarint()+n.pos))}function o(t,e){var n;if(void 0!==t.layers)for(n=0;n<t.layers.length;n++)e.writeMessage(3,d,t.layers[n])}function a(t,e){return t.readFields(s,{},e)}function s(t,e,n){1===t?e.string_value=n.readString():2===t?e.float_value=n.readFloat():3===t?e.double_value=n.readDouble():4===t?e.int_value=n.readVarint():5===t?e.uint_value=n.readVarint():6===t?e.sint_value=n.readSVarint():7===t&&(e.bool_value=n.readBoolean())}function u(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function l(t,e){var n=t.readFields(c,{},e);return void 0===n.type&&(n.type="Unknown"),n}function c(t,e,n){1===t?e.id=n.readVarint():2===t?e.tags=n.readPackedVarint():3===t?e.type=n.readVarint():4===t&&(e.geometry=n.readPackedVarint())}function f(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function h(t,e){return t.readFields(p,{features:[],keys:[],values:[]},e)}function p(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():2===t?e.features.push(l(n,n.readVarint()+n.pos)):3===t?e.keys.push(n.readString()):4===t?e.values.push(a(n,n.readVarint()+n.pos)):5===t&&(e.extent=n.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var n;if(void 0!==t.features)for(n=0;n<t.features.length;n++)e.writeMessage(2,f,t.features[n]);if(void 0!==t.keys)for(n=0;n<t.keys.length;n++)e.writeStringField(3,t.keys[n]);if(void 0!==t.values)for(n=0;n<t.values.length;n++)e.writeMessage(4,u,t.values[n]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var v=n.tile={read:r,write:o};v.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},v.value={read:a,write:u},v.feature={read:l,write:f},v.layer={read:h,write:d}},{}],40:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){m[t]=!0;for(var e in i[t][1]){var r=i[t][1][e];m[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;l<c;l++){var f=u[l],h=o[f].exports;if(h===t||h&&h.default===t){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,c=u.length;l<c;l++){var f=u[l];p[f]=f}i[s]=[Function(["require","module","exports"],"("+t+")(self)"),p]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[s]=s,i[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),v];var m={};n(d);var g="("+r+")({"+Object.keys(m).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return _;var b=y.createObjectURL(_),x=new Worker(b);return x.objectURL=b,x}},{}],41:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],42:[function(t,e,n){e.exports={version:"0.38.0"}},{}],43:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t){var i=t[r].paintVertexArray;if(0!==i.length){var o=i.serialize(e),a=i.constructor.serialize();n[r]={array:o,type:a}}}return n}var i=t("./program_configuration"),o=t("./vertex_array_type"),a=function(t,e){this.vertexOffset=t,this.primitiveOffset=e,this.vertexLength=0,this.primitiveLength=0},s=function(t,e,n){var r=this;this.globalProperties={zoom:n};var a=o(t.layoutAttributes);this.layoutVertexArray=new a;var s=t.elementArrayType;s&&(this.elementArray=new s);var u=t.elementArrayType2;u&&(this.elementArray2=new u),this.layerData={};for(var l=0,c=e;l<c.length;l+=1){var f=c[l],h=i.createDynamic(t,f,n);r.layerData[f.id]={layer:f,programConfiguration:h,paintVertexArray:new h.PaintVertexArray,paintPropertyStatistics:h.createPaintPropertyStatistics()}}this.segments=[],this.segments2=[]};s.prototype.prepareSegment=function(t){var e=this.segments[this.segments.length-1];return(!e||e.vertexLength+t>s.MAX_VERTEX_ARRAY_LENGTH)&&(e=new a(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(e)),e},s.prototype.prepareSegment2=function(t){var e=this.segments2[this.segments2.length-1];return(!e||e.vertexLength+t>s.MAX_VERTEX_ARRAY_LENGTH)&&(e=new a(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(e)),e},s.prototype.populatePaintArrays=function(t){var e=this;for(var n in e.layerData){var r=e.layerData[n];0!==r.paintVertexArray.bytesPerElement&&r.programConfiguration.populatePaintArray(r.layer,r.paintVertexArray,r.paintPropertyStatistics,e.layoutVertexArray.length,e.globalProperties,t)}},s.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},s.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),elementArray:this.elementArray&&this.elementArray.serialize(t),elementArray2:this.elementArray2&&this.elementArray2.serialize(t),paintVertexArrays:r(this.layerData,t),segments:this.segments,segments2:this.segments2}},s.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,e.exports=s},{"./program_configuration":57,"./vertex_array_type":59}],44:[function(t,e,n){"use strict";var r=t("./array_group"),i=t("./buffer_group"),o=t("../util/util"),a=function(t,e){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,t.arrays?this.buffers=new i(e,t.layers,t.zoom,t.arrays):this.arrays=new r(e,t.layers,t.zoom)};a.prototype.populate=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r];n.layers[0].filter(o)&&(n.addFeature(o),e.featureIndex.insert(o,n.index))}},a.prototype.getPaintPropertyStatistics=function(){return o.mapObject(this.arrays.layerData,function(t){return t.paintPropertyStatistics})},a.prototype.isEmpty=function(){return this.arrays.isEmpty()},a.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),arrays:this.arrays.serialize(t)}},a.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},e.exports=a,a.deserialize=function(t,e){if(e){for(var n={},r=0,i=t;r<i.length;r+=1){var a=i[r],s=a.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(o.extend({layers:s},a)),l=0,c=s;l<c.length;l+=1){var f=c[l];n[f.id]=u}}return n}}},{"../util/util":215,"./array_group":43,"./buffer_group":51}],45:[function(t,e,n){"use strict";function r(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var i=t("../bucket"),o=t("../element_array_type"),a=t("../load_geometry"),s=t("../extent"),u={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:o(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255},{property:"circle-stroke-color",type:"Uint8"},{property:"circle-stroke-width",type:"Uint16",multiplier:10},{property:"circle-stroke-opacity",type:"Uint8",multiplier:255}]},l=function(t){function e(e){t.call(this,e,u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,i=a(t);n<i.length;n+=1)for(var o=i[n],u=0,l=o;u<l.length;u+=1){var c=l[u],f=c.x,h=c.y;if(!(f<0||f>=s||h<0||h>=s)){var p=e.prepareSegment(4),d=p.vertexLength;r(e.layoutVertexArray,f,h,-1,-1),r(e.layoutVertexArray,f,h,1,-1),r(e.layoutVertexArray,f,h,1,1),r(e.layoutVertexArray,f,h,-1,1),e.elementArray.emplaceBack(d,d+1,d+2),e.elementArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}e.populatePaintArrays(t.properties)},e}(i);l.programInterface=u,e.exports=l},{"../bucket":44,"../element_array_type":52,"../extent":53,"../load_geometry":55}],46:[function(t,e,n){"use strict";var r=t("../bucket"),i=t("../element_array_type"),o=t("../load_geometry"),a=t("earcut"),s=t("../../util/classify_rings"),u=500,l={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:i(3),elementArrayType2:i(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},c=function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,r=s(o(t),u);n<r.length;n+=1){for(var i=r[n],l=0,c=0,f=i;c<f.length;c+=1){var h=f[c];l+=h.length}for(var p=e.prepareSegment(l),d=p.vertexLength,v=[],m=[],g=0,y=i;g<y.length;g+=1){var _=y[g];if(0!==_.length){_!==i[0]&&m.push(v.length/2);var b=e.prepareSegment2(_.length),x=b.vertexLength;e.layoutVertexArray.emplaceBack(_[0].x,_[0].y),e.elementArray2.emplaceBack(x+_.length-1,x),v.push(_[0].x),v.push(_[0].y);for(var w=1;w<_.length;w++)e.layoutVertexArray.emplaceBack(_[w].x,_[w].y),e.elementArray2.emplaceBack(x+w-1,x+w),v.push(_[w].x),v.push(_[w].y);b.vertexLength+=_.length,b.primitiveLength+=_.length}}for(var E=a(v,m),T=0;T<E.length;T+=3)e.elementArray.emplaceBack(d+E[T],d+E[T+1],d+E[T+2]);p.vertexLength+=l,p.primitiveLength+=E.length/3}e.populatePaintArrays(t.properties)},e}(r);c.programInterface=l,e.exports=c},{"../../util/classify_rings":197,"../bucket":44,"../element_array_type":52,"../load_geometry":55,earcut:5}],47:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*p)+a,i*p*2,o*p*2,Math.round(s))}function i(t,e){return t.x===e.x&&(t.x<0||t.x>u)||t.y===e.y&&(t.y<0||t.y>u)}var o=t("../bucket"),a=t("../element_array_type"),s=t("../load_geometry"),u=t("../extent"),l=t("earcut"),c=t("../../util/classify_rings"),f=500,h={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],elementArrayType:a(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},p=Math.pow(2,13),d=function(t){function e(e){t.call(this,e,h)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,o=c(s(t),f);n<o.length;n+=1){for(var a=o[n],u=0,h=0,p=a;h<p.length;h+=1){var d=p[h];u+=d.length}for(var v=e.prepareSegment(5*u),m=[],g=[],y=[],_=0,b=a;_<b.length;_+=1){var x=b[_];if(0!==x.length){x!==a[0]&&g.push(m.length/2);for(var w=0,E=0;E<x.length;E++){var T=x[E];if(r(e.layoutVertexArray,T.x,T.y,0,0,1,1,0),y.push(v.vertexLength++),E>=1){var I=x[E-1];if(!i(T,I)){var C=T.sub(I)._perp()._unit();r(e.layoutVertexArray,T.x,T.y,C.x,C.y,0,0,w),r(e.layoutVertexArray,T.x,T.y,C.x,C.y,0,1,w),w+=I.dist(T),r(e.layoutVertexArray,I.x,I.y,C.x,C.y,0,0,w),r(e.layoutVertexArray,I.x,I.y,C.x,C.y,0,1,w);var M=v.vertexLength;e.elementArray.emplaceBack(M,M+1,M+2),e.elementArray.emplaceBack(M+1,M+2,M+3),v.vertexLength+=4,v.primitiveLength+=2}}m.push(T.x),m.push(T.y)}}}for(var A=l(m,g),S=0;S<A.length;S+=3)e.elementArray.emplaceBack(y[A[S]],y[A[S+1]],y[A[S+2]]);v.primitiveLength+=A.length/3}e.populatePaintArrays(t.properties)},e}(o);d.programInterface=h,e.exports=d},{"../../util/classify_rings":197,"../bucket":44,"../element_array_type":52,"../extent":53,"../load_geometry":55,earcut:5}],48:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){t.emplaceBack(e.x<<1|r,e.y<<1|i,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===o?0:o<0?-1:1)+1|(a*p&63)<<2,a*p>>6)}var i=t("../bucket"),o=t("../element_array_type"),a=t("../load_geometry"),s=t("../extent"),u=t("vector-tile").VectorTileFeature,l=63,c=Math.cos(37.5*(Math.PI/180)),f=15,h=15,p=.5,d=Math.pow(2,h-1)/p,v={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color",type:"Uint8"},{property:"line-blur",multiplier:10,type:"Uint8"},{property:"line-opacity",multiplier:10,type:"Uint8"},{property:"line-gap-width",multiplier:10,type:"Uint8",name:"a_gapwidth"},{property:"line-offset",multiplier:1,type:"Int8"}],elementArrayType:o()},m=function(t){function e(e){t.call(this,e,v)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this,n=this.layers[0].layout,r=n["line-join"],i=n["line-cap"],o=n["line-miter-limit"],s=n["line-round-limit"],u=0,l=a(t,h);u<l.length;u+=1){var c=l[u];e.addLine(c,t,r,i,o,s)}},e.prototype.addLine=function(t,e,n,r,i,o){for(var a=this,l=e.properties,h="Polygon"===u.types[e.type],p=t.length;p>=2&&t[p-1].equals(t[p-2]);)p--;for(var d=0;d<p-1&&t[d].equals(t[d+1]);)d++;if(!(p<(h?3:2))){"bevel"===n&&(i=1.05);var v=f*(s/(512*this.overscaling)),m=t[d],g=this.arrays,y=g.prepareSegment(10*p);this.distance=0;var _,b,x,w,E,T,I,C=r,M=h?"butt":r,A=!0;this.e1=this.e2=this.e3=-1,h&&(_=t[p-2],E=m.sub(_)._unit()._perp());for(var S=d;S<p;S++)if(x=h&&S===p-1?t[d+1]:t[S+1],!x||!t[S].equals(x)){E&&(w=E),_&&(b=_),_=t[S],E=x?x.sub(_)._unit()._perp():w,w=w||E;var R=w.add(E);0===R.x&&0===R.y||R._unit();var L=R.x*E.x+R.y*E.y,k=0!==L?1/L:1/0,N=L<c&&b&&x;if(N&&S>d){var F=_.dist(b);if(F>2*v){var O=_.sub(_.sub(b)._mult(v/F)._round());a.distance+=O.dist(b),a.addCurrentVertex(O,a.distance,w.mult(1),0,0,!1,y),b=O}}var B=b&&x,P=B?n:x?C:M;if(B&&"round"===P&&(k<o?P="miter":k<=2&&(P="fakeround")),"miter"===P&&k>i&&(P="bevel"),"bevel"===P&&(k>2&&(P="flipbevel"),k<i&&(P="miter")),b&&(a.distance+=_.dist(b)),"miter"===P)R._mult(k),a.addCurrentVertex(_,a.distance,R,0,0,!1,y);else if("flipbevel"===P){if(k>100)R=E.clone().mult(-1);else{var U=w.x*E.y-w.y*E.x>0?-1:1,D=k*w.add(E).mag()/w.sub(E).mag();R._perp()._mult(D*U)}a.addCurrentVertex(_,a.distance,R,0,0,!1,y),a.addCurrentVertex(_,a.distance,R.mult(-1),0,0,!1,y)}else if("bevel"===P||"fakeround"===P){var z=w.x*E.y-w.y*E.x>0,j=-Math.sqrt(k*k-1);if(z?(I=0,T=j):(T=0,I=j),A||a.addCurrentVertex(_,a.distance,w,T,I,!1,y),"fakeround"===P){for(var V=Math.floor(8*(.5-(L-.5))),G=void 0,X=0;X<V;X++)G=E.mult((X+1)/(V+1))._add(w)._unit(),a.addPieSliceVertex(_,a.distance,G,z,y);a.addPieSliceVertex(_,a.distance,R,z,y);for(var W=V-1;W>=0;W--)G=w.mult((W+1)/(V+1))._add(E)._unit(),a.addPieSliceVertex(_,a.distance,G,z,y)}x&&a.addCurrentVertex(_,a.distance,E,-T,-I,!1,y)}else"butt"===P?(A||a.addCurrentVertex(_,a.distance,w,0,0,!1,y),x&&a.addCurrentVertex(_,a.distance,E,0,0,!1,y)):"square"===P?(A||(a.addCurrentVertex(_,a.distance,w,1,1,!1,y),a.e1=a.e2=-1),x&&a.addCurrentVertex(_,a.distance,E,-1,-1,!1,y)):"round"===P&&(A||(a.addCurrentVertex(_,a.distance,w,0,0,!1,y),a.addCurrentVertex(_,a.distance,w,1,1,!0,y),a.e1=a.e2=-1),x&&(a.addCurrentVertex(_,a.distance,E,-1,-1,!0,y),a.addCurrentVertex(_,a.distance,E,0,0,!1,y)));if(N&&S<p-1){var Z=_.dist(x);if(Z>2*v){var Q=_.add(x.sub(_)._mult(v/Z)._round());a.distance+=Q.dist(_),a.addCurrentVertex(Q,a.distance,E.mult(1),0,0,!1,y),_=Q}}A=!1}g.populatePaintArrays(l)}},e.prototype.addCurrentVertex=function(t,e,n,i,o,a,s){var u,l=a?1:0,c=this.arrays,f=c.layoutVertexArray,h=c.elementArray;u=n.clone(),i&&u._sub(n.perp()._mult(i)),r(f,t,u,l,0,i,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(h.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),o&&u._sub(n.perp()._mult(o)),r(f,t,u,l,1,-o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(h.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>d/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,i,o,a,s))},e.prototype.addPieSliceVertex=function(t,e,n,i,o){var a=i?1:0;n=n.mult(i?-1:1);var s=this.arrays,u=s.layoutVertexArray,l=s.elementArray;r(u,t,n,0,a,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},e}(i);m.programInterface=v,e.exports=m},{"../bucket":44,"../element_array_type":52,"../extent":53,"../load_geometry":55,"vector-tile":33}],49:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l,c,f,h,d){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*i),o,a,s,u,p(10*(h||0),d%256),p(10*(c||0),10*Math.min(f||25,25)),l?l[0]:void 0,l?l[1]:void 0,l?l[2]:void 0)}function i(t,e,n,r,i,o){return t.emplaceBack(e.x,e.y,n.x,n.y,Math.round(r.x),Math.round(r.y),10*i,10*o)}function o(t,e,n){var r={isFeatureConstant:e.isLayoutValueFeatureConstant(n),isZoomConstant:e.isLayoutValueZoomConstant(n)};if(r.isFeatureConstant&&(r.layoutSize=e.getLayoutValue(n,{zoom:t+1})),!r.isZoomConstant){for(var i=e.getLayoutValueStopZoomLevels(n),o=0;o<i.length&&i[o]<=t;)o++;o=Math.max(0,o-1);for(var a=o;a<i.length&&i[a]<t+1;)a++;a=Math.min(i.length-1,a),r.coveringZoomRange=[i[o],i[a]],e.isLayoutValueFeatureConstant(n)&&(r.coveringStopValues=[e.getLayoutValue(n,{zoom:i[o]}),e.getLayoutValue(n,{zoom:i[a]})]),r.functionBase=e.getLayoutProperty(n).base,"undefined"==typeof r.functionBase&&(r.functionBase=1),r.functionType=e.getLayoutProperty(n).type||"exponential"}return r}function a(t,e){return t.isLayoutValueZoomConstant(e)&&!t.isLayoutValueFeatureConstant(e)?[{name:"a_size",components:1,type:"Uint16"}]:t.isLayoutValueZoomConstant(e)||t.isLayoutValueFeatureConstant(e)?[]:[{name:"a_size",components:3,type:"Uint16"}]}function s(t,e,n,r,i){return t.isLayoutValueZoomConstant(r)&&!t.isLayoutValueFeatureConstant(r)?[10*t.getLayoutValue(r,{},i)]:t.isLayoutValueZoomConstant(r)||t.isLayoutValueFeatureConstant(r)?null:[10*t.getLayoutValue(r,{zoom:n[0]},i),10*t.getLayoutValue(r,{zoom:n[1]},i),10*t.getLayoutValue(r,{zoom:1+e},i)]}var u=t("point-geometry"),l=t("../array_group"),c=t("../buffer_group"),f=t("../element_array_type"),h=t("../extent"),p=t("../../shaders/encode_attribute").packUint8ToFloat,d=t("../../symbol/anchor"),v=t("../../symbol/get_anchors"),m=t("../../util/token"),g=t("../../symbol/quads"),y=t("../../symbol/shaping"),_=t("../../symbol/transform_text"),b=t("../../symbol/mergelines"),x=t("../../symbol/clip_line"),w=t("../../util/util"),E=t("../../util/script_detection"),T=t("../load_geometry"),I=t("../../symbol/collision_feature"),C=t("../../util/find_pole_of_inaccessibility"),M=t("../../util/classify_rings"),A=t("vector-tile").VectorTileFeature,S=y.shapeText,R=y.shapeIcon,L=y.WritingMode,k=g.getGlyphQuads,N=g.getIconQuads,F=f(),O=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_label_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],B={glyph:{layoutAttributes:O,elementArrayType:F,paintAttributes:[{name:"a_fill_color",property:"text-color",type:"Uint8"},{name:"a_halo_color",property:"text-halo-color",type:"Uint8"},{name:"a_halo_width",property:"text-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"text-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"text-opacity",type:"Uint8",multiplier:255}]},icon:{layoutAttributes:O,elementArrayType:F,paintAttributes:[{name:"a_fill_color",property:"icon-color",type:"Uint8"},{name:"a_halo_color",property:"icon-halo-color",type:"Uint8"},{name:"a_halo_width",property:"icon-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"icon-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"icon-opacity",type:"Uint8",multiplier:255}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],elementArrayType:f(2)}},P=function(t){var e=this;this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.fontstack=t.fontstack;var n=this.layers[0];if(this.symbolInterfaces={glyph:w.extend({},B.glyph,{layoutAttributes:[].concat(B.glyph.layoutAttributes,a(n,"text-size"))}),icon:w.extend({},B.icon,{layoutAttributes:[].concat(B.icon.layoutAttributes,a(n,"icon-size"))}),collisionBox:w.extend({},B.collisionBox,{layoutAttributes:[].concat(B.collisionBox.layoutAttributes)})},t.arrays){this.buffers={};for(var r in t.arrays)t.arrays[r]&&(e.buffers[r]=new c(e.symbolInterfaces[r],t.layers,t.zoom,t.arrays[r]));this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData}else this.textSizeData=o(this.zoom,n,"text-size"),this.iconSizeData=o(this.zoom,n,"icon-size")};P.prototype.populate=function(t,e){var n=this,r=this.layers[0],i=r.layout,o=i["text-font"],a=(!r.isLayoutValueFeatureConstant("text-field")||i["text-field"])&&o,s=!r.isLayoutValueFeatureConstant("icon-image")||i["icon-image"];if(this.features=[],a||s){for(var u=e.iconDependencies,l=e.glyphDependencies,c=l[o]=l[o]||{},f={zoom:this.zoom},h=0;h<t.length;h++){var p=t[h];if(r.filter(p)){var d=void 0;a&&(d=r.getLayoutValue("text-field",f,p.properties),r.isLayoutValueFeatureConstant("text-field")&&(d=m(p.properties,d)),d=_(d,r,f,p.properties));var v=void 0;if(s&&(v=r.getLayoutValue("icon-image",f,p.properties),r.isLayoutValueFeatureConstant("icon-image")&&(v=m(p.properties,v))),(d||v)&&(n.features.push({text:d,icon:v,index:h,sourceLayerIndex:p.sourceLayerIndex,geometry:T(p),properties:p.properties,type:A.types[p.type]}),v&&(u[v]=!0),d))for(var g=0;g<d.length;g++)c[d.charCodeAt(g)]=!0}}"line"===i["symbol-placement"]&&(this.features=b(this.features))}},P.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},P.prototype.getPaintPropertyStatistics=function(){for(var t=this,e={},n=0,r=t.layers;n<r.length;n+=1){var i=r[n];e[i.id]=w.extend({},t.arrays.icon.layerData[i.id].paintPropertyStatistics,t.arrays.glyph.layerData[i.id].paintPropertyStatistics)}return e},P.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,fontstack:this.fontstack,arrays:w.mapObject(this.arrays,function(e){return e.isEmpty()?null:e.serialize(t)})}},P.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},P.prototype.createArrays=function(){var t=this;this.arrays=w.mapObject(this.symbolInterfaces,function(e){return new l(e,t.layers,t.zoom)})},P.prototype.prepare=function(t,e){var n=this;this.symbolInstances=[];var r=512*this.overscaling;this.tilePixelRatio=h/r,this.compareText={},this.iconsNeedLinear=!1;var i=this.layers[0].layout,o=.5,a=.5;switch(i["text-anchor"]){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(i["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}for(var s="right"===i["text-justify"]?1:"left"===i["text-justify"]?0:.5,u=24,l=i["text-line-height"]*u,c="line"!==i["symbol-placement"]?i["text-max-width"]*u:0,f=i["text-letter-spacing"]*u,p=this.fontstack=i["text-font"].join(","),d="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],v=0,m=n.features;v<m.length;v+=1){var g=m[v],y=void 0;if(g.text){var _=E.allowsVerticalWritingMode(g.text),b=n.layers[0].getLayoutValue("text-offset",{zoom:n.zoom},g.properties).map(function(t){return t*u}),x=E.allowsLetterSpacing(g.text)?f:0;y={},y[L.horizontal]=S(g.text,t[p],c,l,o,a,s,x,b,u,L.horizontal),y[L.vertical]=_&&d&&S(g.text,t[p],c,l,o,a,s,x,b,u,L.vertical)}else y={};var T=void 0;if(g.icon){var I=e[g.icon];I&&(T=R(I,n.layers[0].getLayoutValue("icon-offset",{zoom:n.zoom},g.properties)),void 0===n.sdfIcons?n.sdfIcons=I.sdf:n.sdfIcons!==I.sdf&&w.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),I.isNativePixelRatio?0===i["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0):n.iconsNeedLinear=!0)}(y[L.horizontal]||T)&&n.addFeature(g,y,T)}},P.prototype.addFeature=function(t,e,n){var r=this,i=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},t.properties),o=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},t.properties),a=this.layers[0].getLayoutValue("text-size",{zoom:18},t.properties);void 0===a&&(a=i);var s=this.layers[0].layout,u=24,l=i/u,c=this.tilePixelRatio*l,f=this.tilePixelRatio*a/u,p=this.tilePixelRatio*o,m=this.tilePixelRatio*s["symbol-spacing"],g=s["symbol-avoid-edges"],y=s["text-padding"]*this.tilePixelRatio,_=s["icon-padding"]*this.tilePixelRatio,b=s["text-max-angle"]/180*Math.PI,w="map"===s["text-rotation-alignment"]&&"line"===s["symbol-placement"],E="map"===s["icon-rotation-alignment"]&&"line"===s["symbol-placement"],T=s["text-allow-overlap"]||s["icon-allow-overlap"]||s["text-ignore-placement"]||s["icon-ignore-placement"],I=s["symbol-placement"],A=m/2,S=function(i,o){var a=!(o.x<0||o.x>h||o.y<0||o.y>h);if(!g||a){var s=a||T;r.addSymbolInstance(o,i,e,n,r.layers[0],s,r.collisionBoxArray,t.index,t.sourceLayerIndex,r.index,c,y,w,p,_,E,{zoom:r.zoom},t.properties)}};if("line"===I)for(var R=0,k=x(t.geometry,0,0,h,h);R<k.length;R+=1)for(var N=k[R],F=v(N,m,b,e[L.vertical]||e[L.horizontal],n,u,f,r.overscaling,h),O=0,B=F;O<B.length;O+=1){var P=B[O],U=e[L.horizontal];U&&r.anchorIsTooClose(U.text,A,P)||S(N,P)}else if("Polygon"===t.type)for(var D=0,z=M(t.geometry,0);D<z.length;D+=1){var j=z[D],V=C(j,16);S(j[0],new d(V.x,V.y,0))}else if("LineString"===t.type)for(var G=0,X=t.geometry;G<X.length;G+=1){var W=X[G];S(W,new d(W[0].x,W[0].y,0))}else if("Point"===t.type)for(var Z=0,Q=t.geometry;Z<Q.length;Z+=1)for(var H=Q[Z],Y=0,J=H;Y<J.length;Y+=1){var q=J[Y];S([q],new d(q.x,q.y,0))}},P.prototype.anchorIsTooClose=function(t,e,n){var r=this.compareText;if(t in r){for(var i=r[t],o=i.length-1;o>=0;o--)if(n.dist(i[o])<e)return!0}else r[t]=[];return r[t].push(n),!1},P.prototype.place=function(t,e){var n=this;this.createArrays();var r=this.layers[0],i=r.layout,o=t.maxScale,a="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],u="map"===i["icon-rotation-alignment"]&&"line"===i["symbol-placement"],l=i["text-allow-overlap"]||i["icon-allow-overlap"]||i["text-ignore-placement"]||i["icon-ignore-placement"];if(l){var c=t.angle,f=Math.sin(c),h=Math.cos(c);this.symbolInstances.sort(function(t,e){var n=f*t.anchor.x+h*t.anchor.y|0,r=f*e.anchor.x+h*e.anchor.y|0;return n-r||e.featureIndex-t.featureIndex})}for(var p=0,d=n.symbolInstances;p<d.length;p+=1){var v=d[p],m={boxStartIndex:v.textBoxStartIndex,boxEndIndex:v.textBoxEndIndex},g={boxStartIndex:v.iconBoxStartIndex,boxEndIndex:v.iconBoxEndIndex},y=!(v.textBoxStartIndex===v.textBoxEndIndex),_=!(v.iconBoxStartIndex===v.iconBoxEndIndex),b=i["text-optional"]||!y,x=i["icon-optional"]||!_,w=y?t.placeCollisionFeature(m,i["text-allow-overlap"],i["symbol-avoid-edges"]):t.minScale,E=_?t.placeCollisionFeature(g,i["icon-allow-overlap"],i["symbol-avoid-edges"]):t.minScale;if(b||x?!x&&w?w=Math.max(E,w):!b&&E&&(E=Math.max(E,w)):E=w=Math.max(E,w),y&&(t.insertCollisionFeature(m,w,i["text-ignore-placement"]),w<=o)){var T=s(r,n.zoom,n.textSizeData.coveringZoomRange,"text-size",v.featureProperties);n.addSymbols(n.arrays.glyph,v.glyphQuads,w,T,i["text-keep-upright"],a,t.angle,v.featureProperties,v.writingModes,v.anchor)}if(_&&(t.insertCollisionFeature(g,E,i["icon-ignore-placement"]),E<=o)){var I=s(r,n.zoom,n.iconSizeData.coveringZoomRange,"icon-size",v.featureProperties);n.addSymbols(n.arrays.icon,v.iconQuads,E,I,i["icon-keep-upright"],u,t.angle,v.featureProperties,null,v.anchor)}}e&&this.addToDebugBuffers(t)},P.prototype.addSymbols=function(t,e,n,i,o,a,s,u,l,c){for(var f=t.elementArray,h=t.layoutVertexArray,p=this.zoom,d=Math.max(Math.log(n)/Math.LN2+p,0),v=0,m=e;v<m.length;v+=1){var g=m[v],y=(g.anchorAngle+s+Math.PI)%(2*Math.PI);if(l&L.vertical){if(a&&g.writingMode===L.vertical){if(o&&a&&y<=5*Math.PI/4||y>7*Math.PI/4)continue}else if(o&&a&&y<=3*Math.PI/4||y>5*Math.PI/4)continue}else if(o&&a&&(y<=Math.PI/2||y>3*Math.PI/2))continue;var _=g.tl,b=g.tr,x=g.bl,w=g.br,E=g.tex,T=g.anchorPoint,I=Math.max(p+Math.log(g.minScale)/Math.LN2,d),C=Math.min(p+Math.log(g.maxScale)/Math.LN2,25);if(!(C<=I)){I===d&&(I=0);var M=Math.round(g.glyphAngle/(2*Math.PI)*256),A=t.prepareSegment(4),S=A.vertexLength;r(h,T.x,T.y,_.x,_.y,c.x,c.y,E.x,E.y,i,I,C,d,M),r(h,T.x,T.y,b.x,b.y,c.x,c.y,E.x+E.w,E.y,i,I,C,d,M),r(h,T.x,T.y,x.x,x.y,c.x,c.y,E.x,E.y+E.h,i,I,C,d,M),r(h,T.x,T.y,w.x,w.y,c.x,c.y,E.x+E.w,E.y+E.h,i,I,C,d,M),f.emplaceBack(S,S+1,S+2),f.emplaceBack(S+1,S+2,S+3),A.vertexLength+=4,A.primitiveLength+=2}}t.populatePaintArrays(u)},P.prototype.addToDebugBuffers=function(t){for(var e=this,n=this.arrays.collisionBox,r=n.layoutVertexArray,o=n.elementArray,a=-t.angle,s=t.yStretch,l=0,c=e.symbolInstances;l<c.length;l+=1){var f=c[l];f.textCollisionFeature={boxStartIndex:f.textBoxStartIndex,boxEndIndex:f.textBoxEndIndex},f.iconCollisionFeature={boxStartIndex:f.iconBoxStartIndex,boxEndIndex:f.iconBoxEndIndex};for(var h=0;h<2;h++){var p=f[0===h?"textCollisionFeature":"iconCollisionFeature"];if(p)for(var d=p.boxStartIndex;d<p.boxEndIndex;d++){var v=e.collisionBoxArray.get(d);if(!(1===t.perspectiveRatio&&v.maxScale<1)){var m=v.anchorPoint,g=new u(v.x1,v.y1*s)._rotate(a),y=new u(v.x2,v.y1*s)._rotate(a),_=new u(v.x1,v.y2*s)._rotate(a),b=new u(v.x2,v.y2*s)._rotate(a),x=Math.max(0,Math.min(25,e.zoom+Math.log(v.maxScale)/Math.LN2)),w=Math.max(0,Math.min(25,e.zoom+Math.log(v.placementScale)/Math.LN2)),E=n.prepareSegment(4),T=E.vertexLength;i(r,m,f.anchor,g,x,w),i(r,m,f.anchor,y,x,w),i(r,m,f.anchor,b,x,w),i(r,m,f.anchor,_,x,w),o.emplaceBack(T,T+1),o.emplaceBack(T+1,T+2),o.emplaceBack(T+2,T+3),o.emplaceBack(T+3,T),E.vertexLength+=4,E.primitiveLength+=4}}}}},P.prototype.addSymbolInstance=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p,d,v,m,g){var y,_,b=[],x=[];for(var E in n){var T=parseInt(E,10);n[T]&&(x=x.concat(o?k(t,n[T],c,e,i,h,m,g):[]),y=new I(a,e,t,s,u,l,n[T],c,f,h,!1))}var C=y?y.boxStartIndex:this.collisionBoxArray.length,M=y?y.boxEndIndex:this.collisionBoxArray.length;r&&(b=o?N(t,r,p,e,i,v,n[L.horizontal],m,g):[],_=new I(a,e,t,s,u,l,r,p,d,v,!0));var A=_?_.boxStartIndex:this.collisionBoxArray.length,S=_?_.boxEndIndex:this.collisionBoxArray.length;M>P.MAX_INSTANCES&&w.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),S>P.MAX_INSTANCES&&w.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var R=(n[L.vertical]?L.vertical:0)|(n[L.horizontal]?L.horizontal:0);this.symbolInstances.push({textBoxStartIndex:C,textBoxEndIndex:M,iconBoxStartIndex:A,iconBoxEndIndex:S,glyphQuads:x,iconQuads:b,anchor:t,featureIndex:s,featureProperties:g,writingModes:R})},P.programInterfaces=B,P.MAX_INSTANCES=65535,e.exports=P},{"../../shaders/encode_attribute":80,"../../symbol/anchor":159,"../../symbol/clip_line":161,"../../symbol/collision_feature":163,"../../symbol/get_anchors":165,"../../symbol/mergelines":168,"../../symbol/quads":169,"../../symbol/shaping":170,"../../symbol/transform_text":172,"../../util/classify_rings":197,"../../util/find_pole_of_inaccessibility":203,"../../util/script_detection":210,"../../util/token":214,"../../util/util":215,"../array_group":43,"../buffer_group":51,"../element_array_type":52,"../extent":53,"../load_geometry":55,"point-geometry":25,"vector-tile":33}],50:[function(t,e,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},i=function(t,e,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=n,this.arrayType=e};i.fromStructArray=function(t,e){return new i(t.serialize(),t.constructor.serialize(),e)},i.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.gl=t,this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)},i.prototype.enableAttributes=function(t,e){for(var n=this,r=0;r<this.attributes.length;r++){var i=n.attributes[r],o=e[i.name];void 0!==o&&t.enableVertexAttribArray(o)}},i.prototype.setVertexAttribPointers=function(t,e,n){for(var i=this,o=0;o<this.attributes.length;o++){var a=i.attributes[o],s=e[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[r[a.type]],!1,i.arrayType.bytesPerElement,a.offset+(i.arrayType.bytesPerElement*n||0))}},i.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},i.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},e.exports=i},{}],51:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("./buffer"),o=t("./program_configuration"),a=t("./vertex_array_type"),s=t("../render/vertex_array_object"),u=function(t,e,n,u){var l=this,c=a(t.layoutAttributes);this.layoutVertexBuffer=new i(u.layoutVertexArray,c.serialize(),i.BufferType.VERTEX),u.elementArray&&(this.elementBuffer=new i(u.elementArray,t.elementArrayType.serialize(),i.BufferType.ELEMENT)),u.elementArray2&&(this.elementBuffer2=new i(u.elementArray2,t.elementArrayType2.serialize(),i.BufferType.ELEMENT)),this.layerData={};for(var f=0,h=e;f<h.length;f+=1){var p=h[f],d=u.paintVertexArrays&&u.paintVertexArrays[p.id],v=o.createDynamic(t,p,n),m=d?new i(d.array,d.type,i.BufferType.VERTEX):null;l.layerData[p.id]={programConfiguration:v,paintVertexBuffer:m}}this.segments=u.segments,this.segments2=u.segments2;for(var g=0,y=[l.segments,l.segments2];g<y.length;g+=1)for(var _=y[g],b=0,x=_||[];b<x.length;b+=1){var w=x[b];w.vaos=r.mapObject(l.layerData,function(){return new s})}};u.prototype.destroy=function(){var t=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var e in t.layerData){var n=t.layerData[e].paintVertexBuffer;n&&n.destroy()}for(var r=0,i=[t.segments,t.segments2];r<i.length;r+=1)for(var o=i[r],a=0,s=o||[];a<s.length;a+=1){var u=s[a];for(var l in u.vaos)u.vaos[l].destroy()}},e.exports=u},{"../render/vertex_array_object":79,"../util/util":215,"./buffer":50,"./program_configuration":57,"./vertex_array_type":59}],52:[function(t,e,n){"use strict";function r(t){return i({members:[{type:"Uint16",name:"vertices",components:t||3}]})}var i=t("../util/struct_array");e.exports=r},{"../util/struct_array":212}],53:[function(t,e,n){"use strict";e.exports=8192},{}],54:[function(t,e,n){"use strict";function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,e){return e-t}function o(t,e){return e>0?e+2*t:t}function a(t,e,n,r,i){if(!e[0]&&!e[1])return t;e=u.convert(e),"viewport"===n&&e._rotate(-r);for(var o=[],a=0;a<t.length;a++){for(var s=t[a],l=[],c=0;c<s.length;c++)l.push(s[c].sub(e._mult(i)));o.push(l)}return o}function s(t,e){for(var n=[],r=new u(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var l=o[s-1],c=o[s],f=o[s+1],h=0===s?r:c.sub(l)._unit()._perp(),p=s===o.length-1?r:f.sub(c)._unit()._perp(),d=h._add(p)._unit(),v=d.x*p.x+d.y*p.y;d._mult(1/v),a.push(d._mult(e)._add(c))}n.push(a)}return n}var u=t("point-geometry"),l=t("./load_geometry"),c=t("./extent"),f=t("../style-spec/feature_filter"),h=t("../util/struct_array"),p=t("grid-index"),d=t("../util/dictionary_coder"),v=t("vector-tile"),m=t("pbf"),g=t("../util/vectortile_to_geojson"),y=t("../util/util").arraysIntersect,_=t("../util/intersection_tests"),b=_.multiPolygonIntersectsBufferedMultiPoint,x=_.multiPolygonIntersectsMultiPolygon,w=_.multiPolygonIntersectsBufferedMultiLine,E=h({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),T=function(t,e,n){if(t.grid){var r=t,i=e;t=r.coord,e=r.overscaling,this.grid=new p(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=i,this.bucketLayerIDs=r.bucketLayerIDs,this.paintPropertyStatistics=r.paintPropertyStatistics}else this.grid=new p(c,16,0),this.featureIndexArray=new E;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(n)};T.prototype.insert=function(t,e){var n=this,r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(t.index,t.sourceLayerIndex,e);for(var i=l(t),o=0;o<i.length;o++){for(var a=i[o],s=[1/0,1/0,-(1/0),-(1/0)],u=0;u<a.length;u++){var c=a[u];s[0]=Math.min(s[0],c.x),s[1]=Math.min(s[1],c.y),s[2]=Math.max(s[2],c.x),s[3]=Math.max(s[3],c.y)}n.grid.insert(r,s[0],s[1],s[2],s[3])}},T.prototype.setCollisionTile=function(t){this.collisionTile=t},T.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs,paintPropertyStatistics:this.paintPropertyStatistics}},T.prototype.query=function(t,e){var n=this;this.vtLayers||(this.vtLayers=new v.VectorTile(new m(this.rawTileData)).layers,this.sourceLayerCoder=new d(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var a={},s=t.params||{},l=c/t.tileSize/t.scale,h=f(s.filter),p=0;for(var g in e)if(n.hasLayer(g)){var y=e[g],_=0;if("line"===y.type){var b=o(n.getPaintValue("line-width",y),n.getPaintValue("line-gap-width",y)),x=n.getPaintValue("line-offset",y),w=n.getPaintValue("line-translate",y);_=b/2+Math.abs(x)+r(w)}else"fill"===y.type?_=r(n.getPaintValue("fill-translate",y)):"fill-extrusion"===y.type?_=r(n.getPaintValue("fill-extrusion-translate",y)):"circle"===y.type&&(_=n.getPaintValue("circle-radius",y)+r(n.getPaintValue("circle-translate",y)));p=Math.max(p,_*l)}for(var E=t.queryGeometry.map(function(t){return t.map(function(t){return new u(t.x,t.y)})}),T=1/0,I=1/0,C=-(1/0),M=-(1/0),A=0;A<E.length;A++)for(var S=E[A],R=0;R<S.length;R++){var L=S[R];T=Math.min(T,L.x),I=Math.min(I,L.y),C=Math.max(C,L.x),M=Math.max(M,L.y)}var k=this.grid.query(T-p,I-p,C+p,M+p);k.sort(i),this.filterMatching(a,k,this.featureIndexArray,E,h,s.layers,e,t.bearing,l);var N=this.collisionTile.queryRenderedSymbols(E,t.scale);return N.sort(),this.filterMatching(a,N,this.collisionTile.collisionBoxArray,E,h,s.layers,e,t.bearing,l),a},T.prototype.filterMatching=function(t,e,n,r,i,u,c,f,h){for(var p,d=this,v=0;v<e.length;v++){var m=e[v];if(m!==p){p=m;var _=n.get(m),E=d.bucketLayerIDs[_.bucketIndex];if(!u||y(u,E)){var T=d.sourceLayerCoder.decode(_.sourceLayerIndex),I=d.vtLayers[T],C=I.feature(_.featureIndex);if(i(C))for(var M=null,A=0;A<E.length;A++){var S=E[A];if(!(u&&u.indexOf(S)<0)){var R=c[S];if(R){var L=void 0;if("symbol"!==R.type)if(M||(M=l(C)),"line"===R.type){L=a(r,d.getPaintValue("line-translate",R,C),d.getPaintValue("line-translate-anchor",R,C),f,h);var k=h/2*o(d.getPaintValue("line-width",R,C),d.getPaintValue("line-gap-width",R,C)),N=d.getPaintValue("line-offset",R,C);if(N&&(M=s(M,N*h)),!w(L,M,k))continue}else if("fill"===R.type||"fill-extrusion"===R.type){var F=R.type;if(L=a(r,d.getPaintValue(F+"-translate",R,C),d.getPaintValue(F+"-translate-anchor",R,C),f,h),!x(L,M))continue}else if("circle"===R.type){L=a(r,d.getPaintValue("circle-translate",R,C),d.getPaintValue("circle-translate-anchor",R,C),f,h);var O=d.getPaintValue("circle-radius",R,C)*h;if(!b(L,M,O))continue}var B=new g(C,d.z,d.x,d.y);B.layer=R.serialize();var P=t[S];void 0===P&&(P=t[S]=[]),P.push({featureIndex:m,feature:B})}}}}}}},T.prototype.hasLayer=function(t){var e=this;for(var n in e.bucketLayerIDs)for(var r=0,i=e.bucketLayerIDs[n];r<i.length;r+=1){var o=i[r];if(t===o)return!0}return!1},T.prototype.getPaintValue=function(t,e,n){var r=e.isPaintValueFeatureConstant(t);if(r||n){var i=n?n.properties:{};return e.getPaintValue(t,{zoom:this.z},i)}return this.paintPropertyStatistics[e.id][t].max},e.exports=T},{"../style-spec/feature_filter":104,"../util/dictionary_coder":199,"../util/intersection_tests":206,"../util/struct_array":212,"../util/util":215,"../util/vectortile_to_geojson":216,"./extent":53,"./load_geometry":55,"grid-index":16,pbf:24,"point-geometry":25,"vector-tile":33}],55:[function(t,e,n){"use strict";function r(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var i=t("../util/util"),o=t("./extent"),a={15:r(15),16:r(16)};e.exports=function(t,e){for(var n=a[e||16],r=o/t.extent,s=t.loadGeometry(),u=0;u<s.length;u++)for(var l=s[u],c=0;c<l.length;c++){var f=l[c];f.x=Math.round(f.x*r),f.y=Math.round(f.y*r),(f.x<n.min||f.x>n.max||f.y<n.min||f.y>n.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}},{"../util/util":215,"./extent":53}],56:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=i},{"../util/struct_array":212}],57:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.zoomStops)return e.getPaintValue(t.property,n,r);var i=t.zoomStops.map(function(i){return e.getPaintValue(t.property,a.extend({},n,{zoom:i}),r)});return 1===i.length?i[0]:i}function i(t,e){var n=t.name;n||(n=t.property.replace(e.type+"-","").replace(/-/g,"_"));var r="color"===e._paintSpecifications[t.property].type;return a.extend({name:"a_"+n,components:r?4:1,multiplier:r?255:1,dimensions:r?4:1},t)}var o=t("./vertex_array_type"),a=t("../util/util"),s=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey="",this.interface={}};s.createDynamic=function(t,e,n){for(var r=new s,a=0,u=t.paintAttributes||[];a<u.length;a+=1){var l=u[a],c=i(l,e),f=c.name.slice(2);e.isPaintValueFeatureConstant(c.property)?r.addZoomAttribute(f,c):e.isPaintValueZoomConstant(c.property)?r.addPropertyAttribute(f,c):r.addZoomAndPropertyAttribute(f,c,e,n)}return r.PaintVertexArray=o(r.attributes),r.interface=t,r},s.createStatic=function(t){for(var e=new s,n=0,r=t;n<r.length;n+=1){var i=r[n];e.addUniform(i,"u_"+i)}return e},s.prototype.addUniform=function(t,e){var n=this.getPragmas(t);n.define.push("uniform {precision} {type} "+e+";"),n.initialize.push("{precision} {type} "+t+" = "+e+";"),this.cacheKey+="/u_"+t},s.prototype.addZoomAttribute=function(t,e){this.uniforms.push(e),this.addUniform(t,e.name)},s.prototype.addPropertyAttribute=function(t,e){var n=this.getPragmas(t);this.attributes.push(e),n.define.push("varying {precision} {type} "+t+";"),n.vertex.define.push("attribute {precision} {type} "+e.name+";"),n.vertex.initialize.push(t+" = "+e.name+" / "+e.multiplier+".0;"),this.cacheKey+="/a_"+t},s.prototype.addZoomAndPropertyAttribute=function(t,e,n,r){var i=this,o=this.getPragmas(t);o.define.push("varying {precision} {type} "+t+";");var s=n.getPaintValueStopZoomLevels(e.property),u=0;if(s.length>4)for(;u<s.length-2&&s[u]<r;)u++;var l="u_"+t+"_t";o.vertex.define.push("uniform lowp float "+l+";"),this.interpolationUniforms.push({name:l,property:e.property,stopOffset:u});for(var c=[],f=0;f<4;f++)c.push(s[Math.min(u+f,s.length-1)]);var h=[];if(1===e.components)this.attributes.push(a.extend({},e,{components:4,zoomStops:c})),o.vertex.define.push("attribute {precision} vec4 "+e.name+";"),h.push(e.name);else for(var p=0;p<4;p++){var d=e.name+p;h.push(d),i.attributes.push(a.extend({},e,{name:d,zoomStops:[c[p]]})),o.vertex.define.push("attribute {precision} {type} "+d+";")}o.vertex.initialize.push(t+" = evaluate_zoom_function_"+e.components+"(            "+h.join(", ")+", "+l+") / "+e.multiplier+".0;"),this.cacheKey+="/z_"+t},s.prototype.getPragmas=function(t){return this.pragmas[t]||(this.pragmas[t]={define:[],initialize:[]},this.pragmas[t].fragment={define:[],initialize:[]},this.pragmas[t].vertex={define:[],initialize:[]}),this.pragmas[t]},s.prototype.applyPragmas=function(t,e){var n=this;return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,r,i,o,a){return n.pragmas[a][r].concat(n.pragmas[a][e][r]).join("\n").replace(/{type}/g,o).replace(/{precision}/g,i)})},s.prototype.createPaintPropertyStatistics=function(){for(var t=this,e={},n=0,r=t.attributes;n<r.length;n+=1){var i=r[n];1===i.dimensions&&(e[i.property]={max:-(1/0)})}return e},s.prototype.populatePaintArray=function(t,e,n,i,o,a){var s=this,u=e.length;e.resize(i);for(var l=0,c=s.attributes;l<c.length;l+=1)for(var f=c[l],h=r(f,t,o,a),p=u;p<i;p++){var d=e.get(p);if(4===f.components)for(var v=0;v<4;v++)d[f.name+v]=h[v]*f.multiplier;else d[f.name]=h*f.multiplier;if(1===f.dimensions){var m=n[f.property];m.max=Math.max(m.max,1===f.components?h:Math.max.apply(Math,h))}}},s.prototype.setUniforms=function(t,e,n,r){for(var i=this,o=0,a=i.uniforms;o<a.length;o+=1){var s=a[o],u=n.getPaintValue(s.property,r);4===s.components?t.uniform4fv(e[s.name],u):t.uniform1f(e[s.name],u)}for(var l=0,c=i.interpolationUniforms;l<c.length;l+=1){var f=c[l],h=n.getPaintInterpolationT(f.property,r);t.uniform1f(e[f.name],Math.max(0,Math.min(3,h-f.stopOffset)))}},e.exports=s},{"../util/util":215,"./vertex_array_type":59}],58:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=i},{"../util/struct_array":212}],59:[function(t,e,n){"use strict";function r(t){return i({members:t,alignment:4})}var i=t("../util/struct_array");e.exports=r},{"../util/struct_array":212}],60:[function(t,e,n){"use strict";var r=function(t,e,n){this.column=t,this.row=e,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},r.prototype.sub=function(t){return this.clone()._sub(t)},r.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},r.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=r},{}],61:[function(t,e,n){"use strict";var r=t("../util/util").wrap,i=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.convert=function(t){if(t instanceof i)return t;if(Array.isArray(t)&&2===t.length)return new i(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new i(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=i},{"../util/util":215}],62:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};i.prototype.setNorthEast=function(t){return this._ne=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.setSouthWest=function(t){return this._sw=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},i.prototype.extend=function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof r)e=t,n=t;else{if(!(t instanceof i))return Array.isArray(t)?t.every(Array.isArray)?this.extend(i.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(n.lng,n.lat)),this},i.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},i.prototype.getSouthWest=function(){return this._sw},i.prototype.getNorthEast=function(){return this._ne},i.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},i.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},i.prototype.getWest=function(){return this._sw.lng},i.prototype.getSouth=function(){return this._sw.lat},i.prototype.getEast=function(){return this._ne.lng},i.prototype.getNorth=function(){return this._ne.lat},i.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},i.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},i.convert=function(t){return!t||t instanceof i?t:new i(t)},e.exports=i},{"./lng_lat":61}],63:[function(t,e,n){"use strict";var r=t("./lng_lat"),i=t("point-geometry"),o=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate"),u=t("../source/tile_coord"),l=t("../data/extent"),c=t("@mapbox/gl-matrix"),f=c.vec4,h=c.mat4,p=c.mat2,d=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new i(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},d.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new i(0,0),0),n=this.pointCoordinate(new i(this.width,0),0),r=Math.floor(e.column),o=Math.floor(n.column),a=[t],s=r;s<=o;s++)0!==s&&a.push(new u(t.z,t.x,t.y,s));return a},d.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),o=new i(r.column-.5,r.row-.5),a=[this.pointCoordinate(new i(0,0),e),this.pointCoordinate(new i(this.width,0),e),this.pointCoordinate(new i(this.width,this.height),e),this.pointCoordinate(new i(0,this.height),e)];return u.cover(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t)-o.dist(e)})},d.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(t){return Math.pow(2,t)},d.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},d.prototype.project=function(t){return new i(this.lngX(t.lng),this.latY(t.lat))},d.prototype.unproject=function(t){return new r(this.xLng(t.x),this.yLat(t.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new i(this.x,this.y)},d.prototype.lngX=function(t){return(180+t)*this.worldSize/360},d.prototype.latY=function(t){var e=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-e)*this.worldSize/360},d.prototype.xLng=function(t){return 360*t/this.worldSize-180},d.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},d.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},d.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},d.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new r(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},d.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=0,r=[t.x,t.y,0,1],i=[t.x,t.y,1,1];f.transformMat4(r,r,this.pixelMatrixInverse),f.transformMat4(i,i,this.pixelMatrixInverse);var a=r[3],u=i[3],l=r[0]/a,c=i[0]/u,h=r[1]/a,p=i[1]/u,d=r[2]/a,v=i[2]/u,m=d===v?0:(n-d)/(v-d);return new o(s(l,c,m)/this.tileSize,s(h,p,m)/this.tileSize,this.zoom)._zoomTo(e)},d.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return f.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(t,e){var n=t.toCoordinate(e),r=this.worldSize/this.zoomScale(n.zoom),i=h.identity(new Float64Array(16));return h.translate(i,i,[n.column*r,n.row*r,0]),h.scale(i,i,[r/l,r/l,1]),h.multiply(i,this.projMatrix,i),new Float32Array(i)},d.prototype.cameraToTileDistance=function(t){var e=this.calculatePosMatrix(t.coord,t.sourceMaxZoom),n=[t.tileSize/2,t.tileSize/2,0,1];return f.transformMat4(n,n,e),n[3]},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;o=this.latY(f[1]),a=this.latY(f[0]),t=a-o<l.y?l.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=this.lngX(h[0]),u=this.lngX(h[1]),e=u-s<l.x?l.x/(u-s):0}var p=Math.max(e||0,t||0);if(p)return this.center=this.unproject(new i(e?(u+s)/2:this.x,t?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=this.y,v=l.y/2;d-v<o&&(r=o+v),d+v>a&&(r=a-v)}if(this.lngRange){var m=this.x,g=l.x/2;m-g<s&&(n=s+g),m+g>u&&(n=u-g)}void 0===n&&void 0===r||(this.center=this.unproject(new i(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=c,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,i=1.01*r,o=new Float64Array(16);h.perspective(o,this._fov,this.width/this.height,1,i),h.scale(o,o,[1,-1,1]),h.translate(o,o,[0,0,-this.cameraToCenterDistance]),h.rotateX(o,o,this._pitch),h.rotateZ(o,o,this.angle),h.translate(o,o,[-this.x,-this.y,0]);var a=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(h.scale(o,o,[1,1,a,1]),this.projMatrix=o,o=h.create(),h.scale(o,o,[this.width/2,-this.height/2,1]),h.translate(o,o,[1,-1,0]),this.pixelMatrix=h.multiply(new Float64Array(16),o,this.projMatrix),o=h.invert(new Float64Array(16),this.pixelMatrix),!o)throw new Error("failed to invert matrix");this.pixelMatrixInverse=o}},Object.defineProperties(d.prototype,v),e.exports=d},{"../data/extent":53,"../source/tile_coord":95,"../style-spec/util/interpolate":122,"../util/util":215,"./coordinate":60,"./lng_lat":61,"@mapbox/gl-matrix":1,"point-geometry":25}],64:[function(t,e,n){"use strict";var r=t("./util/browser"),i=e.exports={};i.version=t("../package.json").version,i.workerCount=Math.max(Math.floor(r.hardwareConcurrency/2),1),i.Map=t("./ui/map"),i.NavigationControl=t("./ui/control/navigation_control"),i.GeolocateControl=t("./ui/control/geolocate_control"),i.AttributionControl=t("./ui/control/attribution_control"),i.ScaleControl=t("./ui/control/scale_control"),i.FullscreenControl=t("./ui/control/fullscreen_control"),i.Popup=t("./ui/popup"),i.Marker=t("./ui/marker"),i.Style=t("./style/style"),i.LngLat=t("./geo/lng_lat"),i.LngLatBounds=t("./geo/lng_lat_bounds"),i.Point=t("point-geometry"),i.Evented=t("./util/evented"),i.supported=t("./util/browser").supported;var o=t("./util/config");i.config=o;var a=t("./source/rtl_text_plugin");i.setRTLTextPlugin=a.setRTLTextPlugin,Object.defineProperty(i,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},{"../package.json":42,"./geo/lng_lat":61,"./geo/lng_lat_bounds":62,"./source/rtl_text_plugin":90,"./style/style":148,"./ui/control/attribution_control":175,"./ui/control/fullscreen_control":176,"./ui/control/geolocate_control":177,"./ui/control/navigation_control":179,"./ui/control/scale_control":180,"./ui/map":189,"./ui/marker":190,"./ui/popup":191,"./util/browser":194,"./util/config":198,"./util/evented":202,"point-geometry":25}],65:[function(t,e,n){"use strict";function r(t,e,n){var r=t.gl,o=t.transform,a=o.tileSize,s=n.paint["background-color"],u=n.paint["background-pattern"],l=n.paint["background-opacity"],c=!u&&1===s[3]&&1===l;if(t.isOpaquePass===c){r.disable(r.STENCIL_TEST),t.setDepthSublayer(0);var f;if(u){if(i.isPatternMissing(u,t))return;f=t.useProgram("fillPattern",t.basicFillProgramConfiguration),i.prepare(u,t,f),t.tileExtentPatternVAO.bind(r,f,t.tileExtentBuffer)}else f=t.useProgram("fill",t.basicFillProgramConfiguration),r.uniform4fv(f.u_color,s),t.tileExtentVAO.bind(r,f,t.tileExtentBuffer);r.uniform1f(f.u_opacity,l);for(var h=o.coveringTiles({tileSize:a}),p=0,d=h;p<d.length;p+=1){var v=d[p];u&&i.setTile({coord:v,tileSize:a},t,f),r.uniformMatrix4fv(f.u_matrix,!1,t.transform.calculatePosMatrix(v)),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}var i=t("./pattern");e.exports=r},{"./pattern":77}],66:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers,f=c.layerData[n.id],h=f.programConfiguration,p=t.useProgram("circle",h);h.setUniforms(o,p,n,{zoom:t.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(p.u_scale_with_map,!0),o.uniform2f(p.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.cameraToCenterDistance,t.transform.pixelsToGLUnits[1]*t.transform.cameraToCenterDistance)):(o.uniform1i(p.u_scale_with_map,!1),o.uniform2fv(p.u_extrude_scale,t.transform.pixelsToGLUnits)),o.uniform1f(p.u_devicepixelratio,i.devicePixelRatio),o.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(s.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var d=0,v=c.segments;d<v.length;d+=1){var m=v[d];m.vaos[n.id].bind(o,p,c.layoutVertexBuffer,c.elementBuffer,f.paintVertexBuffer,m.vertexOffset),o.drawElements(o.TRIANGLES,3*m.primitiveLength,o.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}}var i=t("../util/browser");e.exports=r},{"../util/browser":194}],67:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.gl;i.enable(i.STENCIL_TEST);var o=t.useProgram("collisionBox");i.activeTexture(i.TEXTURE1),t.frameHistory.bind(i),i.uniform1i(o.u_fadetexture,1);for(var a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers.collisionBox;if(c){i.uniformMatrix4fv(o.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),i.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),i.uniform1f(o.u_zoom,10*t.transform.zoom);var f=Math.max(0,Math.min(25,u.coord.z+Math.log(u.collisionTile.maxScale)/Math.LN2));i.uniform1f(o.u_maxzoom,10*f),i.uniform1f(o.u_collision_y_stretch,u.collisionTile.yStretch),i.uniform1f(o.u_pitch,t.transform.pitch/360*2*Math.PI),i.uniform1f(o.u_camera_to_center_distance,t.transform.cameraToCenterDistance);for(var h=0,p=c.segments;h<p.length;h+=1){var d=p[h];d.vaos[n.id].bind(i,o,c.layoutVertexBuffer,c.elementBuffer,null,d.vertexOffset),i.drawElements(i.LINES,2*d.primitiveLength,i.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}}}}e.exports=r},{}],68:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)i(t,e,n[r])}function i(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var i=n.posMatrix,h=t.useProgram("debug");r.uniformMatrix4fv(h.u_matrix,!1,i),r.uniform4f(h.u_color,1,0,0,1),t.debugVAO.bind(r,h,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var p=o(n.toString(),50,200,5),d=new f,v=0;v<p.length;v+=2)d.emplaceBack(p[v],p[v+1]);var m=l.fromStructArray(d,l.BufferType.VERTEX),g=new c;g.bind(r,h,m),r.uniform4f(h.u_color,1,1,1,1);for(var y=e.getTile(n).tileSize,_=u/(Math.pow(2,t.transform.zoom-n.z)*y),b=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<b.length;x++){var w=b[x];r.uniformMatrix4fv(h.u_matrix,!1,s.translate([],i,[_*w[0],_*w[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(h.u_color,0,0,0,1),r.uniformMatrix4fv(h.u_matrix,!1,i),r.drawArrays(r.LINES,0,m.length)}function o(t,e,n,r){r=r||1;var i,o,a,s,u,l,c,f,p=[];for(i=0,o=t.length;i<o;i++)if(u=h[t[i]]){for(f=null,a=0,s=u[1].length;a<s;a+=2)u[1][a]===-1&&u[1][a+1]===-1?f=null:(l=e+u[1][a]*r,c=n-u[1][a+1]*r,f&&p.push(f.x,f.y,l,c),f={x:l,y:c});e+=u[0]*r}return p}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,u=t("../data/extent"),l=t("../data/buffer"),c=t("./vertex_array_object"),f=t("../data/pos_array");e.exports=r;var h={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/buffer":50,"../data/extent":53,"../data/pos_array":56,"../util/browser":194,"./vertex_array_object":79,"@mapbox/gl-matrix":1}],69:[function(t,e,n){"use strict";function r(t,e,n,r){var s=t.gl;s.enable(s.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];t.isOpaquePass===u&&(t.setDepthSublayer(1),i(t,e,n,r,o)),!t.isOpaquePass&&n.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),i(t,e,n,r,a))}function i(t,e,n,r,i){if(!u.isPatternMissing(n.paint["fill-pattern"],t))for(var o=!0,a=0,s=r;a<s.length;a+=1){var l=s[a],c=e.getTile(l),f=c.getBucket(n);f&&(t.enableTileClippingMask(l),i(t,e,n,c,l,f.buffers,o),o=!1)}}function o(t,e,n,r,i,o,a){for(var u=t.gl,l=o.layerData[n.id],c=s("fill",n.paint["fill-pattern"],t,l,n,r,i,a),f=0,h=o.segments;f<h.length;f+=1){var p=h[f];p.vaos[n.id].bind(u,c,o.layoutVertexBuffer,o.elementBuffer,l.paintVertexBuffer,p.vertexOffset),u.drawElements(u.TRIANGLES,3*p.primitiveLength,u.UNSIGNED_SHORT,3*p.primitiveOffset*2)}}function a(t,e,n,r,i,o,a){var u=t.gl,l=o.layerData[n.id],c=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),f=s("fillOutline",c,t,l,n,r,i,a);u.uniform2f(f.u_world,u.drawingBufferWidth,u.drawingBufferHeight);for(var h=0,p=o.segments2;h<p.length;h+=1){var d=p[h];d.vaos[n.id].bind(u,f,o.layoutVertexBuffer,o.elementBuffer2,l.paintVertexBuffer,d.vertexOffset),u.drawElements(u.LINES,2*d.primitiveLength,u.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}function s(t,e,n,r,i,o,a,s){var l,c=n.currentProgram;return e?(l=n.useProgram(t+"Pattern",r.programConfiguration),(s||l!==c)&&(r.programConfiguration.setUniforms(n.gl,l,i,{zoom:n.transform.zoom}),u.prepare(i.paint["fill-pattern"],n,l)),u.setTile(o,n,l)):(l=n.useProgram(t,r.programConfiguration),(s||l!==c)&&r.programConfiguration.setUniforms(n.gl,l,i,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint["fill-translate"],i.paint["fill-translate-anchor"])),l}var u=t("./pattern");e.exports=r},{"./pattern":77}],70:[function(t,e,n){"use strict";function r(t,e,n,r){if(0!==n.paint["fill-extrusion-opacity"]){var s=t.gl;s.disable(s.STENCIL_TEST),s.enable(s.DEPTH_TEST),t.depthMask(!0);var u=i(s,t);s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);for(var l=0;l<r.length;l++)a(t,e,n,r[l]);s.bindFramebuffer(s.FRAMEBUFFER,null),o(s,t,n,u)}}function i(t,e){t.activeTexture(t.TEXTURE1);var n=e.viewportTexture;n?t.bindTexture(t.TEXTURE_2D,n):(n=t.createTexture(),t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,null),e.viewportTexture=n);var r=e.viewportFbo;if(r)t.bindFramebuffer(t.FRAMEBUFFER,r);else{r=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,r);var i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),e.viewportFbo=r}return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),n}function o(t,e,n,r){var i=e.useProgram("extrusionTexture");t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r),t.uniform1f(i.u_opacity,n.paint["fill-extrusion-opacity"]),t.uniform1i(i.u_image,1);var o=d.create();d.ortho(o,0,e.width,e.height,0,0,1),t.uniformMatrix4fv(i.u_matrix,!1,o),t.disable(t.DEPTH_TEST),t.uniform2f(i.u_world,t.drawingBufferWidth,t.drawingBufferHeight);var a=new f;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1);var s=l.fromStructArray(a,l.BufferType.VERTEX),u=new c;u.bind(t,i,s),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}function a(t,e,n,r){if(!t.isOpaquePass){var i=e.getTile(r),o=i.getBucket(n);if(o){var a=o.buffers,u=t.gl,l=n.paint["fill-extrusion-pattern"],c=a.layerData[n.id],f=c.programConfiguration,p=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);if(f.setUniforms(u,p,n,{zoom:t.transform.zoom}),l){if(h.isPatternMissing(l,t))return;h.prepare(l,t,p),h.setTile(i,t,p),u.uniform1f(p.u_height_factor,-Math.pow(2,r.z)/i.tileSize/8)}t.gl.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(r.posMatrix,i,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),s(p,t);for(var d=0,v=a.segments;d<v.length;d+=1){var m=v[d];m.vaos[n.id].bind(u,p,a.layoutVertexBuffer,a.elementBuffer,c.paintVertexBuffer,m.vertexOffset),u.drawElements(u.TRIANGLES,3*m.primitiveLength,u.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}function s(t,e){var n=e.gl,r=e.style.light,i=r.calculated.position,o=[i.x,i.y,i.z],a=p.create();"viewport"===r.calculated.anchor&&p.fromRotation(a,-e.transform.angle),v.transformMat3(o,o,a),n.uniform3fv(t.u_lightpos,o),n.uniform1f(t.u_lightintensity,r.calculated.intensity),n.uniform3fv(t.u_lightcolor,r.calculated.color.slice(0,3))}var u=t("@mapbox/gl-matrix"),l=t("../data/buffer"),c=t("./vertex_array_object"),f=t("../data/pos_array"),h=t("./pattern"),p=u.mat3,d=u.mat4,v=u.vec3;e.exports=r},{"../data/buffer":50,"../data/pos_array":56,"./pattern":77,"./vertex_array_object":79,"@mapbox/gl-matrix":1}],71:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,u,l,c){var f,h,p,d,v=e.gl,m=a.paint["line-dasharray"],g=a.paint["line-pattern"];if(l||c){var y=1/o(n,1,e.transform.tileZoom);if(m){f=e.lineAtlas.getDash(m.from,"round"===a.layout["line-cap"]),h=e.lineAtlas.getDash(m.to,"round"===a.layout["line-cap"]);var _=f.width*m.fromScale,b=h.width*m.toScale;v.uniform2f(t.u_patternscale_a,y/_,-f.height/2),v.uniform2f(t.u_patternscale_b,y/b,-h.height/2),v.uniform1f(t.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*i.devicePixelRatio)/2)}else if(g){if(p=e.spriteAtlas.getPattern(g.from),d=e.spriteAtlas.getPattern(g.to),!p||!d)return;v.uniform2f(t.u_pattern_size_a,p.displaySize[0]*g.fromScale/y,d.displaySize[1]),v.uniform2f(t.u_pattern_size_b,d.displaySize[0]*g.toScale/y,d.displaySize[1]),v.uniform2fv(t.u_texsize,e.spriteAtlas.getPixelSize())}v.uniform2f(t.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(m?(v.uniform1i(t.u_image,0),v.activeTexture(v.TEXTURE0),e.lineAtlas.bind(v),v.uniform1f(t.u_tex_y_a,f.y),v.uniform1f(t.u_tex_y_b,h.y),v.uniform1f(t.u_mix,m.t)):g&&(v.uniform1i(t.u_image,0),v.activeTexture(v.TEXTURE0),e.spriteAtlas.bind(v,!0),v.uniform2fv(t.u_pattern_tl_a,p.tl),v.uniform2fv(t.u_pattern_br_a,p.br),v.uniform2fv(t.u_pattern_tl_b,d.tl),v.uniform2fv(t.u_pattern_br_b,d.br),v.uniform1f(t.u_fade,g.t)),v.uniform1f(t.u_width,a.paint["line-width"])),e.enableTileClippingMask(s);var x=e.translatePosMatrix(s.posMatrix,n,a.paint["line-translate"],a.paint["line-translate-anchor"]);v.uniformMatrix4fv(t.u_matrix,!1,x),v.uniform1f(t.u_ratio,1/o(n,1,e.transform.zoom));for(var w=0,E=r.segments;w<E.length;w+=1){var T=E[w];T.vaos[a.id].bind(v,t,r.layoutVertexBuffer,r.elementBuffer,u.paintVertexBuffer,T.vertexOffset),v.drawElements(v.TRIANGLES,3*T.primitiveLength,v.UNSIGNED_SHORT,3*T.primitiveOffset*2)}}var i=t("../util/browser"),o=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,i){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;if(o.enable(o.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var a,s=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,l=0,c=i;l<c.length;l+=1){var f=c[l],h=e.getTile(f),p=h.getBucket(n);if(p){var d=p.buffers.layerData[n.id],v=t.currentProgram,m=t.useProgram(s,d.programConfiguration),g=u||m!==v,y=a!==h.coord.z;g&&d.programConfiguration.setUniforms(t.gl,m,n,{zoom:t.transform.zoom}),r(m,t,h,p.buffers,n,f,d,g,y),a=h.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":87,"../util/browser":194}],72:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=t.gl;o.enable(o.DEPTH_TEST),t.depthMask(!0),o.depthFunc(o.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var u=r[s];t.setDepthSublayer(u.z-a),i(t,e,n,u)}o.depthFunc(o.LEQUAL)}}function i(t,e,n,r){var i=t.gl;i.disable(i.STENCIL_TEST);var l=e.getTile(r),c=t.transform.calculatePosMatrix(r,e.getSource().maxzoom);l.registerFadeDuration(t.style.animationLoop,n.paint["raster-fade-duration"]);var f=t.useProgram("raster");i.uniformMatrix4fv(f.u_matrix,!1,c),i.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),i.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),i.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),i.uniform1f(f.u_contrast_factor,a(n.paint["raster-contrast"])),i.uniform3fv(f.u_spin_weights,o(n.paint["raster-hue-rotate"]));var h,p,d=l.sourceCache&&l.sourceCache.findLoadedParent(r,0,{}),v=u(l,d,n,t.transform);i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture),i.activeTexture(i.TEXTURE1),d?(i.bindTexture(i.TEXTURE_2D,d.texture),h=Math.pow(2,d.coord.z-l.coord.z),p=[l.coord.x*h%1,l.coord.y*h%1]):i.bindTexture(i.TEXTURE_2D,l.texture),i.uniform2fv(f.u_tl_parent,p||[0,0]),i.uniform1f(f.u_scale_parent,h||1),i.uniform1f(f.u_buffer_scale,1),i.uniform1f(f.u_fade_t,v.mix),i.uniform1f(f.u_opacity,v.opacity*n.paint["raster-opacity"]),i.uniform1i(f.u_image0,0),i.uniform1i(f.u_image1,1);var m=l.boundsBuffer||t.rasterBoundsBuffer,g=l.boundsVAO||t.rasterBoundsVAO;g.bind(i,f,m),i.drawArrays(i.TRIANGLE_STRIP,0,m.length)}function o(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function u(t,e,n,r){var i=n.paint["raster-fade-duration"];if(t.sourceCache&&i>0){var o=Date.now(),a=(o-t.timeAdded)/i,s=e?(o-e.timeAdded)/i:-1,u=t.sourceCache.getSource(),c=r.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!e||Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c),h=f&&t.refreshedUponExpiration?1:l.clamp(f?a:1-s,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util");e.exports=r},{"../util/util":215}],73:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=t.gl;o?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),i(t,e,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"]),i(t,e,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"]),e.map.showCollisionBoxes&&l(t,e,n,r)}}function i(t,e,n,r,i,s,u,l,c){if(i||!t.style.sprite||t.style.sprite.loaded()){var f=t.gl,h="map"===l,p="map"===c,d=p;d?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST);for(var v,m,g=0,y=r;g<y.length;g+=1){var _=y[g],b=e.getTile(_),x=b.getBucket(n);if(x){var w=i?x.buffers.glyph:x.buffers.icon;if(w&&w.segments.length){var E=w.layerData[n.id],T=E.programConfiguration,I=i||x.sdfIcons,C=i?x.textSizeData:x.iconSizeData;v&&x.fontstack===m||(v=t.useProgram(I?"symbolSDF":"symbolIcon",T),T.setUniforms(f,v,n,{zoom:t.transform.zoom}),o(v,t,n,_.z,i,I,h,p,x.fontstack,x.iconsNeedLinear,C)),t.enableTileClippingMask(_),f.uniformMatrix4fv(v.u_matrix,!1,t.translatePosMatrix(_.posMatrix,b,s,u)),f.uniform1f(v.u_collision_y_stretch,b.collisionTile.yStretch),a(v,T,t,n,b,w,i,I,p),m=x.fontstack}}}d||f.enable(f.DEPTH_TEST)}}function o(t,e,n,r,i,o,a,s,l,c,h){var p=e.gl,d=e.transform;if(p.uniform1i(t.u_rotate_with_map,a),p.uniform1i(t.u_pitch_with_map,s),p.activeTexture(p.TEXTURE0),p.uniform1i(t.u_texture,0),p.uniform1f(t.u_is_text,i?1:0),i){var v=l&&e.glyphSource.getGlyphAtlas(l);if(!v)return;v.updateTexture(p),p.uniform2f(t.u_texsize,v.width,v.height)}else{var m=e.options.rotating||e.options.zooming,g=!n.isLayoutValueFeatureConstant("icon-size")||!n.isLayoutValueZoomConstant("icon-size")||1!==n.getLayoutValue("icon-size",{zoom:d.zoom}),y=g||c,_=s||d.pitch;e.spriteAtlas.bind(p,o||m||y||_),p.uniform2fv(t.u_texsize,e.spriteAtlas.getPixelSize())}if(p.activeTexture(p.TEXTURE1),e.frameHistory.bind(p),p.uniform1i(t.u_fadetexture,1),p.uniform1f(t.u_zoom,d.zoom),p.uniform1f(t.u_pitch,d.pitch/360*2*Math.PI),p.uniform1f(t.u_bearing,d.bearing/360*2*Math.PI),p.uniform1f(t.u_aspect_ratio,d.width/d.height),p.uniform1i(t.u_is_size_zoom_constant,h.isZoomConstant?1:0),p.uniform1i(t.u_is_size_feature_constant,h.isFeatureConstant?1:0),h.isZoomConstant||h.isFeatureConstant)if(h.isFeatureConstant&&!h.isZoomConstant){var b;if("interval"===h.functionType)b=n.getLayoutValue(i?"text-size":"icon-size",{zoom:d.zoom});else{var x="interval"===h.functionType?0:f(d.zoom,h.functionBase,h.coveringZoomRange[0],h.coveringZoomRange[1]),w=h.coveringStopValues[0],E=h.coveringStopValues[1];b=w+(E-w)*u.clamp(x,0,1)}p.uniform1f(t.u_size,b),p.uniform1f(t.u_layout_size,h.layoutSize)}else h.isFeatureConstant&&h.isZoomConstant&&p.uniform1f(t.u_size,h.layoutSize);else{var T=f(d.zoom,h.functionBase,h.coveringZoomRange[0],h.coveringZoomRange[1]);p.uniform1f(t.u_size_t,u.clamp(T,0,1))}p.uniform1f(t.u_camera_to_center_distance,d.cameraToCenterDistance),"line"===n.layout["symbol-placement"]&&"map"===n.layout["text-rotation-alignment"]&&"viewport"===n.layout["text-pitch-alignment"]&&n.layout["text-field"]?p.uniform1f(t.u_max_camera_distance,1.5):p.uniform1f(t.u_max_camera_distance,10)}function a(t,e,n,r,i,o,a,u,l){var f=n.gl,h=n.transform;if(l){var p=c(i,1,h.zoom);f.uniform2f(t.u_extrude_scale,p,p)}else{var d=h.cameraToCenterDistance;f.uniform2f(t.u_extrude_scale,h.pixelsToGLUnits[0]*d,h.pixelsToGLUnits[1]*d)}if(u){var v=(a?"text":"icon")+"-halo-width",m=!r.isPaintValueFeatureConstant(v)||r.paint[v],g=(l?Math.cos(h._pitch):1)*h.cameraToCenterDistance;f.uniform1f(t.u_gamma_scale,g),m&&(f.uniform1f(t.u_is_halo,1),s(o,r,f,t)),f.uniform1f(t.u_is_halo,0)}s(o,r,f,t)}function s(t,e,n,r){for(var i=t.layerData[e.id],o=i&&i.paintVertexBuffer,a=0,s=t.segments;a<s.length;a+=1){var u=s[a];u.vaos[e.id].bind(n,r,t.layoutVertexBuffer,t.elementBuffer,o,u.vertexOffset),n.drawElements(n.TRIANGLES,3*u.primitiveLength,n.UNSIGNED_SHORT,3*u.primitiveOffset*2)}}var u=t("../util/util"),l=t("./draw_collision_debug"),c=t("../source/pixels_to_tile_units"),f=t("../style-spec/function").interpolationFactor;e.exports=r},{"../source/pixels_to_tile_units":87,"../style-spec/function":106,"../util/util":215,"./draw_collision_debug":67}],74:[function(t,e,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(t,e,n){var r=this;this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var i;if(e<this.previousZoom)for(i=e+1;i<=this.previousZoom;i++)r.changeTimes[i]=t,r.changeOpacities[i]=r.opacities[i];else for(i=e;i>this.previousZoom;i--)r.changeTimes[i]=t,r.changeOpacities[i]=r.opacities[i];for(i=0;i<256;i++){var o=t-r.changeTimes[i],a=255*(n?o/n:1);i<=e?r.opacities[i]=r.changeOpacities[i]+a:r.opacities[i]=r.changeOpacities[i]-a}this.changed=!0,this.previousZoom=e},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=r},{}],75:[function(t,e,n){"use strict";var r=t("../util/util"),i=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};i.prototype.setSprite=function(t){this.sprite=t},i.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},i.prototype.addDash=function(t,e){var n=this,i=e?7:0,o=2*i+1,a=128;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var s=0,u=0;u<t.length;u++)s+=t[u];for(var l=this.width/s,c=l/2,f=t.length%2===1,h=-i;h<=i;h++)for(var p=n.nextRow+i+h,d=n.width*p,v=f?-t[t.length-1]:0,m=t[0],g=1,y=0;y<this.width;y++){for(;m<y/l;)v=m,m+=t[g],f&&g===t.length-1&&(m+=t[0]),g++;var _=Math.abs(y-v*l),b=Math.abs(y-m*l),x=Math.min(_,b),w=g%2===1,E=void 0;if(e){var T=i?h/i*(c+1):0;if(w){var I=c-Math.abs(T);E=Math.sqrt(x*x+I*I)}else E=c-Math.sqrt(x*x+T*T)}else E=(w?1:-1)*x;n.data[3+4*(d+y)]=Math.max(0,Math.min(255,E+a))}var C={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:s};return this.nextRow+=o,this.dirty=!0,C},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=i},{"../util/util":215}],76:[function(t,e,n){"use strict";var r=t("../util/browser"),i=t("@mapbox/gl-matrix").mat4,o=t("./frame_history"),a=t("../source/source_cache"),s=t("../data/extent"),u=t("../source/pixels_to_tile_units"),l=t("../util/util"),c=t("../data/buffer"),f=t("./vertex_array_object"),h=t("../data/raster_bounds_array"),p=t("../data/pos_array"),d=t("../data/program_configuration"),v=t("./shaders"),m={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},g=function(t,e){this.gl=t,this.transform=e,this._tileTextures={},this.frameHistory=new o,this.setup(),this.numSublayers=a.maxUnderzooming+a.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=d.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new d};g.prototype.resize=function(t,e){var n=this.gl;this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,n.viewport(0,0,this.width,this.height),this.viewportTexture&&(this.gl.deleteTexture(this.viewportTexture),this.viewportTexture=null),this.viewportFbo&&(this.gl.deleteFramebuffer(this.viewportFbo),this.viewportFbo=null)},g.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new p;e.emplaceBack(0,0),e.emplaceBack(s,0),e.emplaceBack(0,s),e.emplaceBack(s,s),this.tileExtentBuffer=c.fromStructArray(e,c.BufferType.VERTEX),this.tileExtentVAO=new f,this.tileExtentPatternVAO=new f;var n=new p;n.emplaceBack(0,0),n.emplaceBack(s,0),n.emplaceBack(s,s),n.emplaceBack(0,s),n.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.debugVAO=new f;var r=new h;r.emplaceBack(0,0,0,0),r.emplaceBack(s,0,32767,0),r.emplaceBack(0,s,0,32767),r.emplaceBack(s,s,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(r,c.BufferType.VERTEX),this.rasterBoundsVAO=new f,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))},g.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},g.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},g.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},g.prototype._renderTileClippingMasks=function(t){var e=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(255),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=e._tileClippingMaskIDs[a.id]=r++;n.stencilFunc(n.ALWAYS,s,255);var u=e.useProgram("fill",e.basicFillProgramConfiguration);n.uniformMatrix4fv(u.u_matrix,!1,a.posMatrix),e.tileExtentVAO.bind(n,u,e.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},g.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],255)},g.prototype.prepareBuffers=function(){},g.prototype.render=function(t,e){if(this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];n&&m.debug(this,n,n.getVisibleCoordinates())}},g.prototype.renderPass=function(){var t,e,n=this,r=this.style._order;this.currentLayer=this.isOpaquePass?r.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var i=0;i<r.length;i++){var o=n.style._layers[r[n.currentLayer]];o.source!==(t&&t.id)&&(t=n.style.sourceCaches[o.source],e=[],t&&(t.prepare&&t.prepare(),n.clearStencil(),e=t.getVisibleCoordinates(),t.getSource().isTileClipped&&n._renderTileClippingMasks(e)),n.isOpaquePass||e.reverse()),n.renderLayer(n,t,o,e),n.currentLayer+=n.isOpaquePass?-1:1}},g.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},g.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,m[n.type](t,e,n,r))},g.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},g.prototype.translatePosMatrix=function(t,e,n,r){if(!n[0]&&!n[1])return t;if("viewport"===r){var o=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*o,n[0]*o+n[1]*a]}var s=[u(e,n[0],this.transform.zoom),u(e,n[1],this.transform.zoom),0],l=new Float32Array(16);return i.translate(l,t,s),l},g.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size];e?e.push(t):this._tileTextures[t.size]=[t]},g.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},g.prototype.lineWidth=function(t){this.gl.lineWidth(l.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},g.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var n=8,r=1/n;e.blendColor(r,r,r,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},g.prototype.createProgram=function(t,e){var n=this.gl,i=n.createProgram(),o=v[t],a="#define MAPBOX_GL_JS\n#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1)+"\n";this._showOverdrawInspector&&(a+="#define OVERDRAW_INSPECTOR;\n");var s=e.applyPragmas(a+v.prelude.fragmentSource+o.fragmentSource,"fragment"),u=e.applyPragmas(a+v.prelude.vertexSource+o.vertexSource,"vertex"),l=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(l,s),n.compileShader(l),n.attachShader(i,l);var c=n.createShader(n.VERTEX_SHADER);n.shaderSource(c,u),n.compileShader(c),n.attachShader(i,c);for(var f=e.interface.layoutAttributes||[],h=0;h<f.length;h++)n.bindAttribLocation(i,h,f[h].name);n.linkProgram(i);for(var p=n.getProgramParameter(i,n.ACTIVE_ATTRIBUTES),d={program:i,numAttributes:p},m=0;m<p;m++){var g=n.getActiveAttrib(i,m);d[g.name]=n.getAttribLocation(i,g.name)}for(var y=n.getProgramParameter(i,n.ACTIVE_UNIFORMS),_=0;_<y;_++){var b=n.getActiveUniform(i,_);d[b.name]=n.getUniformLocation(i,b.name)}return d},g.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(t,e)),this.cache[n]},g.prototype.useProgram=function(t,e){var n=this.gl,r=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},e.exports=g},{"../data/buffer":50,"../data/extent":53,"../data/pos_array":56,"../data/program_configuration":57,"../data/raster_bounds_array":58,"../source/pixels_to_tile_units":87,"../source/source_cache":92,"../util/browser":194,"../util/util":215,"./draw_background":65,"./draw_circle":66,"./draw_debug":68,"./draw_fill":69,"./draw_fill_extrusion":70,"./draw_line":71,"./draw_raster":72,"./draw_symbol":73,"./frame_history":74,"./shaders":78,"./vertex_array_object":79,"@mapbox/gl-matrix":1}],77:[function(t,e,n){"use strict";var r=t("../source/pixels_to_tile_units");n.isPatternMissing=function(t,e){if(!t)return!1;var n=e.spriteAtlas.getPattern(t.from),r=e.spriteAtlas.getPattern(t.to);return!n||!r},n.prepare=function(t,e,n){var r=e.gl,i=e.spriteAtlas.getPattern(t.from),o=e.spriteAtlas.getPattern(t.to);r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,i.tl),r.uniform2fv(n.u_pattern_br_a,i.br),r.uniform2fv(n.u_pattern_tl_b,o.tl),r.uniform2fv(n.u_pattern_br_b,o.br),r.uniform2fv(n.u_texsize,e.spriteAtlas.getPixelSize()),r.uniform1f(n.u_mix,t.t),r.uniform2fv(n.u_pattern_size_a,i.displaySize),r.uniform2fv(n.u_pattern_size_b,o.displaySize),r.uniform1f(n.u_scale_a,t.fromScale),r.uniform1f(n.u_scale_b,t.toScale),r.activeTexture(r.TEXTURE0),e.spriteAtlas.bind(r,!0)},n.setTile=function(t,e,n){var i=e.gl;i.uniform1f(n.u_tile_units_to_pixels,1/r(t,1,e.transform.tileZoom));var o=Math.pow(2,t.coord.z),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=a*(t.coord.x+t.coord.w*o),u=a*t.coord.y;i.uniform2f(n.u_pixel_coord_upper,s>>16,u>>16),i.uniform2f(n.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":87}],78:[function(t,e,n){"use strict";e.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed in the mapbox-gl-native shaders,\n// we encode a 4-component color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    float extrude_length = length(v_extrude);\n    float antialiased_blur = -max(blur, v_antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\n// u_maxzoom is derived from the maximum scale considered by the CollisionTile\n// Labels with placement zoom greater than this value will not be placed,\n// regardless of perspective effects.\nuniform float u_maxzoom;\nuniform sampler2D u_fadetexture;\n\n// v_max_zoom is a collision-box-specific value that controls when line-following\n// collision boxes are used.\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Green = no collisions, label is showing\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    // Red = collision, label hidden\n    if (texture2D(u_fadetexture, v_fade_tex).a < 1.0) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    // Faded black = this collision box is not used at this zoom (for curved labels)\n    if (u_zoom >= v_max_zoom + v_perspective_zoom_adjust) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    // Faded blue = the placement scale for this label is beyond the CollisionTile\n    // max scale, so it's impossible for this label to show without collision detection\n    // being run again (the label's glyphs haven't even been added to the symbol bucket)\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\nuniform float u_pitch;\nuniform float u_collision_y_stretch;\nuniform float u_camera_to_center_distance;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 1.0 + 0.5 * ((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    gl_Position = u_matrix * vec4(a_pos + a_extrude * collision_perspective_ratio * collision_adjustment / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n\n    v_perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((v_placement_zoom + v_perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_width;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:'attribute vec4 a_pos_offset;\nattribute vec2 a_label_pos;\nattribute vec4 a_data;\n\n// icon-size data (see symbol_sdf.vertex.glsl for more)\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_layout_size; // used when size is feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform highp float u_collision_y_stretch;\n\n#pragma mapbox: define lowp float opacity\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform highp float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    highp vec2 label_data = unpack_float(a_data[2]);\n    highp float a_labelminzoom = label_data[0];\n    highp vec2 a_zoom = unpack_float(a_data[3]);\n    highp float a_minzoom = a_zoom[0];\n    highp float a_maxzoom = a_zoom[1];\n\n    float size;\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // "quad"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile\'s zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    highp float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n        layoutSize = size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float zoomAdjust = log2(size / layoutSize);\n    highp float adjustedZoom = (u_zoom - zoomAdjust) * 10.0;\n    // result: z = 0 if a_minzoom <= adjustedZoom < a_maxzoom, and 1 otherwise\n    highp float z = 2.0 - step(a_minzoom, adjustedZoom) - (1.0 - step(a_maxzoom, adjustedZoom));\n\n    vec4 projectedPoint = u_matrix * vec4(a_label_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    vec2 extrude = fontScale * u_extrude_scale * perspective_ratio * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    // See comments in symbol_sdf.vertex\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    highp float perspective_zoom_adjust = floor(log2(perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n}\n'},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    highp float gamma_scaled = gamma * v_gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec2 a_label_pos;\nattribute vec4 a_data;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature),\n//   layoutSize == text-size(layoutZoomLevel, feature) ]\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_layout_size; // used when size is feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform highp float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform highp float u_bearing;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_max_camera_distance;\nuniform highp float u_collision_y_stretch;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\n// Used below to move the vertex out of the clip space for when the current\n// zoom is out of the glyph's zoom range.\nhighp float clipUnusedGlyphAngles(const highp float render_size,\n                                  const highp float layout_size,\n                                  const highp float min_zoom,\n                                  const highp float max_zoom) {\n    highp float zoom_adjust = log2(render_size / layout_size);\n    highp float adjusted_zoom = (u_zoom - zoom_adjust) * 10.0;\n    // result: 0 if min_zoom <= adjusted_zoom < max_zoom, and 1 otherwise\n    return 2.0 - step(min_zoom, adjusted_zoom) - (1.0 - step(max_zoom, adjusted_zoom));\n}\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n\n    highp vec2 label_data = unpack_float(a_data[2]);\n    highp float a_labelminzoom = label_data[0];\n    highp float a_lineangle = (label_data[1] / 256.0 * 2.0 * PI);\n    highp vec2 a_zoom = unpack_float(a_data[3]);\n    highp float a_minzoom = a_zoom[0];\n    highp float a_maxzoom = a_zoom[1];\n\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // \"quad\"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile's zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    highp float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = a_size[0] / 10.0;\n        layoutSize = v_size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        v_size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        v_size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    vec4 projectedPoint = u_matrix * vec4(a_label_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        highp float angle = u_rotate_with_map ? a_lineangle : u_bearing;\n        highp float asin = sin(angle);\n        highp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = fontScale * u_extrude_scale * perspective_ratio * (offset / 64.0);\n\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += clipUnusedGlyphAngles(v_size*perspective_ratio, layoutSize, a_minzoom, a_maxzoom) * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        highp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(a_lineangle), sin(a_lineangle)), 0, 1);\n        highp float angle = atan((b[1] / b[3] - a[1] / a[3]) / u_aspect_ratio, b[0] / b[3] - a[0] / a[3]);\n        highp float asin = sin(angle);\n        highp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n        highp float foreshortening = (1.0 - pitchfactor) + (pitchfactor * cos(angle * 2.0));\n\n        vec2 offset = RotationMatrix * (vec2(foreshortening, 1.0) * a_offset);\n        vec2 extrude = fontScale * u_extrude_scale * perspective_ratio * (offset / 64.0);\n\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += clipUnusedGlyphAngles(v_size * perspective_ratio, layoutSize, a_minzoom, a_maxzoom) * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = fontScale * u_extrude_scale * perspective_ratio * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    gl_Position.z +=\n        step(u_max_camera_distance * u_camera_to_center_distance, camera_to_anchor_distance) * gl_Position.w;\n\n    v_gamma_scale = gl_Position.w / perspective_ratio;\n\n    v_tex = a_tex / u_texsize;\n    // incidence_stretch is the ratio of how much y space a label takes up on a tile while drawn perpendicular to the viewport vs\n    //  how much space it would take up if it were drawn flat on the tile\n    // Using law of sines, camera_to_anchor/sin(ground_angle) = camera_to_center/sin(incidence_angle)\n    // sin(incidence_angle) = 1/incidence_stretch\n    // Incidence angle 90 -> head on, sin(incidence_angle) = 1, no incidence stretch\n    // Incidence angle 1 -> very oblique, sin(incidence_angle) =~ 0, lots of incidence stretch\n    // ground_angle = u_pitch + PI/2 -> sin(ground_angle) = cos(u_pitch)\n    // This 2D calculation is only exactly correct when gl_Position.x is in the center of the viewport,\n    //  but it's a close enough approximation for our purposes\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    // incidence_stretch only applies to the y-axis, but without re-calculating the collision tile, we can't\n    // adjust the size of only one axis. So, we do a crude approximation at placement time to get the aspect ratio\n    // about right, and then do the rest of the adjustment here: there will be some extra padding on the x-axis,\n    // but hopefully not too much.\n    // Never make the adjustment less than 1.0: instead of allowing collisions on the x-axis, be conservative on\n    // the y-axis.\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    // Floor to 1/10th zoom to dodge precision issues that can cause partially hidden labels\n    highp float perspective_zoom_adjust = floor(log2(perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n}\n"}}},{}],79:[function(t,e,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};r.prototype.bind=function(t,e,n,r,i,o){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var a=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==i||this.boundElementBuffer!==r||this.boundVertexOffset!==o;!t.extVertexArrayObject||a?(this.freshBind(t,e,n,r,i,o),this.gl=t):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(t,e,n,r,i,o){var a,s=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=i,this.boundElementBuffer=r,this.boundVertexOffset=o;else{a=t.currentNumAttributes||0;for(var u=s;u<a;u++)t.disableVertexAttribArray(u)}n.enableAttributes(t,e),i&&i.enableAttributes(t,e),n.bind(t),n.setVertexAttribPointers(t,e,o),i&&(i.bind(t),i.setVertexAttribPointers(t,e,o)),r&&r.bind(t),t.currentNumAttributes=s},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=r},{}],80:[function(t,e,n){"use strict";var r=t("../util/util");n.packUint8ToFloat=function(t,e){return t=r.clamp(Math.floor(t),0,255),e=r.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":215}],81:[function(t,e,n){"use strict";var r=t("./image_source"),i=t("../util/window"),o=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.options=n,this.animate=!n.hasOwnProperty("animate")||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||i.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var t;this.play=function(){t=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(t)},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.canvas&&this.animate&&this.play())},e.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||0!==Object.keys(this.tiles).length&&this._prepareImage(this.map.painter.gl,this.canvas,t)},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var r=n[e];if(isNaN(r)||r<=0)return!0}return!1},e}(r);e.exports=o},{"../util/window":196,"./image_source":85}],82:[function(t,e,n){"use strict";function r(t){var e=a.document.createElement("a");return e.href=t,e.href}var i=t("../util/evented"),o=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),u=function(t){function e(e,n,r,i){t.call(this),n=n||{},this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(i),this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?void t.fire("error",{error:e}):void t.fire("data",{dataType:"source",sourceDataType:"metadata"})})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?e.fire("error",{error:t}):void e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},e.prototype._updateWorkerData=function(t){var e=this,n=o.extend({},this.workerOptions),i=this._data;"string"==typeof i?n.url=r(i):n.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){e._loaded=!0,t(n)})},e.prototype.loadTile=function(t,e){var n=this,r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("loadTile",i,function(r,i){if(t.unloadVectorData(),!t.aborted)return r?e(r):(t.loadVectorData(i,n.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(n)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return{type:this.type,data:this._data}},e}(i);e.exports=u},{"../data/extent":53,"../util/evented":202,"../util/util":215,"../util/window":196}],83:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("geojson-rewind"),o=t("./geojson_wrapper"),a=t("vt-pbf"),s=t("supercluster"),u=t("geojson-vt"),l=t("./vector_tile_worker_source"),c=function(t){function e(e,n,r){t.call(this,e,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadVectorData=function(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var i=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!i)return e(null,null);var s=new o(i.features);s.name="_geojsonTileLayer";var u=a({layers:{_geojsonTileLayer:s}});0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),s.rawData=u.buffer,e(null,s)},e.prototype.loadData=function(t,e){var n=function(n,r){var o=this;return n?e(n):"object"!=typeof r?e(new Error("Input data is not a valid GeoJSON object.")):(i(r,!0),void this._indexData(r,t,function(n,r){return n?e(n):(o._geoJSONIndexes[t.source]=r,void e(null))}))}.bind(this);this.loadGeoJSON(t,n)},e.prototype.loadGeoJSON=function(t,e){if(t.url)r.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},e.prototype._indexData=function(t,e,n){try{e.cluster?n(null,s(e.superclusterOptions).load(t.features)):n(null,u(t,e.geojsonVtOptions))}catch(t){return n(t)}},e}(l);e.exports=c},{"../util/ajax":193,"./geojson_wrapper":84,"./vector_tile_worker_source":97,"geojson-rewind":7,"geojson-vt":11,supercluster:28,"vt-pbf":37}],84:[function(t,e,n){"use strict";var r=t("point-geometry"),i=t("vector-tile").VectorTileFeature,o=t("../data/extent"),a=function(t){var e=this;if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var n=0;n<t.geometry.length;n++)e.rawGeometry.push([t.geometry[n]])}else this.rawGeometry=t.geometry;this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10)),this.extent=o};a.prototype.loadGeometry=function(){var t=this,e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],o=[],a=0;a<i.length;a++)o.push(new r(i[a][0],i[a][1]));t.geometry.push(o)}return this.geometry},a.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},a.prototype.toGeoJSON=function(){i.prototype.toGeoJSON.call(this)};var s=function(t){this.features=t,this.length=t.length,this.extent=o};s.prototype.feature=function(t){return new a(this.features[t])},e.exports=s},{"../data/extent":53,"point-geometry":25,"vector-tile":33}],85:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/window"),o=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../data/extent"),f=t("../data/raster_bounds_array"),h=t("../data/buffer"),p=t("../render/vertex_array_object"),d=function(t){function e(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n,this.textureLoaded=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.options.url,function(e,n){return e?t.fire("error",{error:e}):(t.image=n,void t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.load(),this.map=t,this.image&&this.setCoordinates(this.coordinates)},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),i=this.centerCoord=r.getCoordinatesCenter(n);return i.column=Math.floor(i.column),i.row=Math.floor(i.row),this.coord=new o(i.zoom,i.column,i.row),this.minzoom=this.maxzoom=i.zoom,this._tileCoords=n.map(function(t){var e=t.zoomTo(i.zoom);return new s(Math.round((e.column-i.column)*c),Math.round((e.row-i.row)*c))}),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype._setTile=function(t){this.tiles[t.coord.w]=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),t.buckets={},t.boundsBuffer=h.fromStructArray(n,h.BufferType.VERTEX),t.boundsVAO=new p},e.prototype.prepare=function(){0===Object.keys(this.tiles).length!==0&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,n){var r=this;this.textureLoaded?n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof i.HTMLVideoElement||e instanceof i.ImageData||e instanceof i.HTMLCanvasElement)&&(t.bindTexture(t.TEXTURE_2D,this.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e)):(this.textureLoaded=!0,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e));for(var o in r.tiles){var a=r.tiles[o];"loaded"!==a.state&&(a.state="loaded",a.texture=r.texture)}},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},e}(u);e.exports=d},{"../data/buffer":50,"../data/extent":53,"../data/raster_bounds_array":58,"../geo/lng_lat":61,"../render/vertex_array_object":79,"../util/ajax":193,"../util/evented":202,"../util/util":215,"../util/window":196,"./tile_coord":95,"point-geometry":25}],86:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var n=function(t,n){if(t)return e(t);var i=r.pick(n,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);n.vector_layers&&(i.vectorLayers=n.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),e(null,i)};t.url?i.getJSON(a(t.url),n):o.frame(n.bind(null,null,t))}},{"../util/ajax":193,"../util/browser":194,"../util/mapbox":209,"../util/util":215}],87:[function(t,e,n){"use strict";var r=t("../data/extent");e.exports=function(t,e,n){return e*(r/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/extent":53}],88:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function i(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},h=e[l]=e[l]||[],p=0,d=c;p<d.length;p+=1){var v=d[p];f[v.featureIndex]||(f[v.featureIndex]=!0,h.push(v.feature))}}return e}var o=t("./tile_coord");n.rendered=function(t,e,n,o,a,s){var u=t.tilesIn(n);u.sort(r);for(var l=[],c=0;c<u.length;c++){var f=u[c];f.tile.featureIndex&&l.push({wrappedTileID:f.coord.wrapped().id,queryResults:f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:o},e)})}return i(l)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],i={},a=0;a<n.length;a++){var s=n[a],u=new o(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;i[u]||(i[u]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":95}],89:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,u=t("./tile_bounds"),l=function(t){function e(e,n,i,o){t.call(this),this.id=e,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this.options=n,r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this.options,function(e,n){return e?t.fire("error",e):(r.extend(t,n),t.setBounds(n.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),void t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new u(t,this.minzoom,this.maxzoom))},e.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.loadTile=function(t,e){function n(n,r){if(delete t.request,t.aborted)return this.state="unloaded",e(null);if(n)return this.state="errored",e(n);this.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var i=this.map.painter.gl;t.texture=this.map.painter.getTileTexture(r.width),t.texture?(i.bindTexture(i.TEXTURE_2D,t.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,r)):(t.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),this.map.painter.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,this.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this.map.painter.extTextureFilterAnisotropicMax),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r),t.texture.size=r.width),i.generateMipmap(i.TEXTURE_2D),t.state="loaded",e(null)}var r=s(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=i.getImage(r,n.bind(this))},e.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},e.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},e}(o);e.exports=l},{"../util/ajax":193,"../util/evented":202,"../util/mapbox":209,"../util/util":215,"./load_tilejson":86,"./tile_bounds":94}],90:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("../util/evented"),o=t("../util/window"),a=!1,s=null;e.exports.evented=new i,e.exports.registerForPluginAvailability=function(t){return s?t(s,e.exports.errorCallback):e.exports.evented.once("pluginAvailable",t),t},e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,r.getArrayBuffer(t,function(t,r){t?n(t):(s=o.URL.createObjectURL(new o.Blob([r.data]),{type:"text/javascript"}),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})}},{"../util/ajax":193,"../util/evented":202,"../util/window":196}],91:[function(t,e,n){"use strict";var r=t("../util/util"),i={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,o){if(e=new i[e.type](t,e,n,o),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return r.bindAll(["load","abort","unload","serialize","prepare"],e),e},n.getType=function(t){return i[t]},n.setType=function(t,e){i[t]=e}},{"../source/canvas_source":81,"../source/geojson_source":82,"../source/image_source":85,"../source/raster_tile_source":89,"../source/vector_tile_source":96,"../source/video_source":98,"../util/util":215}],92:[function(t,e,n){"use strict";function r(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return{x:(r.column-(t.x+t.w*Math.pow(2,t.z)))*p,y:(r.row-t.y)*p}}function i(t,e){return t%32-e%32}function o(t){return"raster"===t||"image"===t||"video"===t}var a=t("./source"),s=t("./tile"),u=t("../util/evented"),l=t("./tile_coord"),c=t("../util/lru_cache"),f=t("../geo/coordinate"),h=t("../util/util"),p=t("../data/extent"),d=function(t){function e(e,n,r){t.call(this),this.id=e,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("error",function(){this._sourceErrored=!0}),this._source=a.create(e,n,r,this),this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype.unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},e.prototype.abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},e.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(i)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype._isIdRenderable=function(t){return this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;this._cache.reset();for(var e in t._tiles)t.reloadTile(e,"reloading")},e.prototype.reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this.loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,r){return r?(t.state="errored",void(404!==r.status&&this._source.fire("error",{tile:t,error:r}))):(t.sourceCache=this,t.timeAdded=(new Date).getTime(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype.findLoadedChildren=function(t,e,n){var r=this,i=!1;for(var o in r._tiles){var a=r._tiles[o];if(!(n[o]||!a.hasData()||a.coord.z<=t.z||a.coord.z>e)){var s=Math.pow(2,Math.min(a.coord.z,r._source.maxzoom)-Math.min(t.z,r._source.maxzoom));if(Math.floor(a.coord.x/s)===t.x&&Math.floor(a.coord.y/s)===t.y)for(n[o]=!0,i=!0;a&&a.coord.z-1>t.z;){var u=a.coord.parent(r._source.maxzoom).id;a=r._tiles[u],a&&a.hasData()&&(delete n[o],n[u]=!0)}}}return i},e.prototype.findLoadedParent=function(t,e,n){for(var r=this,i=t.z-1;i>=e;i--){t=t.parent(r._source.maxzoom);var o=r._tiles[t.id];if(o&&o.hasData())return n[t.id]=!0,o;if(r._cache.has(t.id))return n[t.id]=!0,r._cache.getWithoutRemoving(t.id)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,r=e*n,i=5;this._cache.setMaxSize(Math.floor(r*i))},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded){var r,i,a,s;this.updateCacheSize(t);var u=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),c=Math.max(u-e.maxOverzooming,this._source.minzoom),f=Math.max(u+e.maxUnderzooming,this._source.minzoom),p={};this._coveredTiles={};var d;for(this.used?this._source.coord?d=t.getVisibleWrappedCoordinates(this._source.coord):(d=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(d=d.filter(function(t){return n._source.hasTile(t)}))):d=[],r=0;r<d.length;r++)i=d[r],a=n.addTile(i),p[i.id]=!0,a.hasData()||n.findLoadedChildren(i,f,p)||(s=n.findLoadedParent(i,c,p),s&&n.addTile(s.coord));var v={};if(o(this._source.type))for(var m=Object.keys(p),g=0;g<m.length;g++){var y=m[g];i=l.fromID(y),a=n._tiles[y],a&&("undefined"==typeof a.fadeEndTime||a.fadeEndTime>=Date.now())&&(n.findLoadedChildren(i,f,p)&&(p[y]=!0),s=n.findLoadedParent(i,c,v),s&&n.addTile(s.coord))}var _;for(_ in v)p[_]||(n._coveredTiles[_]=!0);for(_ in v)p[_]=!0;var b=h.keysDifference(this._tiles,p);for(r=0;r<b.length;r++)n.removeTile(+b[r])}},e.prototype.addTile=function(t){var e=this._tiles[t.id];if(e)return e;e=this._cache.get(t.id),e&&(e.redoPlacement(this._source),this._cacheTimers[t.id]&&(clearTimeout(this._cacheTimers[t.id]),this._cacheTimers[t.id]=void 0,this._setTileReloadTimer(t.id,e)));var n=Boolean(e);if(!n){var r=t.z,i=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;e=new s(t,this._source.tileSize*i,this._source.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e.uses++,this._tiles[t.id]=e,n||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e},e.prototype._setTileReloadTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n.reloadTile(t,"expired"),n._timers[t]=void 0},r))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this,r=e.getExpiryTimeout();r&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),n._cacheTimers[t]=void 0},r))},e.prototype.removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),this._timers[t]=void 0),!(e.uses>0)))if(e.stopPlacementThrottler(),e.hasData()){var n=e.coord.wrapped().id;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this.abortTile(e),this.unloadTile(e)},e.prototype.clearTiles=function(){var t=this;for(var e in t._tiles)t.removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n=[],i=this.getIds(),o=1/0,a=1/0,s=-(1/0),u=-(1/0),c=t[0].zoom,h=0;h<t.length;h++){var d=t[h];o=Math.min(o,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),u=Math.max(u,d.row)}for(var v=0;v<i.length;v++){var m=e._tiles[i[v]],g=l.fromID(i[v]),y=[r(g,m.sourceMaxZoom,new f(o,a,c)),r(g,m.sourceMaxZoom,new f(s,u,c))];if(y[0].x<p&&y[0].y<p&&y[1].x>=0&&y[1].y>=0){for(var _=[],b=0;b<t.length;b++)_.push(r(g,m.sourceMaxZoom,t[b]));n.push({tile:m,coord:g,queryGeometry:[_],scale:Math.pow(2,e.transform.zoom-m.coord.z)})}}return n},e.prototype.redoPlacement=function(){for(var t=this,e=this.getIds(),n=0;n<e.length;n++){var r=t.getTileByID(e[n]);r.redoPlacement(t._source)}},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(l.fromID),n=0,r=e;n<r.length;n+=1){var i=r[n];i.posMatrix=t.transform.calculatePosMatrix(i,t._source.maxzoom)}return e},e}(u);d.maxOverzooming=10,d.maxUnderzooming=3,e.exports=d},{"../data/extent":53,"../geo/coordinate":60,"../util/evented":202,"../util/lru_cache":208,"../util/util":215,"./source":91,"./tile":93,"./tile_coord":95}],93:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../data/bucket"),o=t("../data/feature_index"),a=t("vector-tile"),s=t("pbf"),u=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),c=t("../symbol/collision_tile"),f=t("../symbol/collision_box"),h=t("../util/throttler"),p=3e4,d=function(t,e,n){this.coord=t,this.uid=r.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading",this.placementThrottler=new h(300,this._immediateRedoPlacement.bind(this))};d.prototype.registerFadeDuration=function(t,e){var n=e+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,t.set(this.fadeEndTime-Date.now()))},d.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new f(t.collisionBoxArray),this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.featureIndex=new o(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=i.deserialize(t.buckets,e.style))},d.prototype.reloadSymbolData=function(t,e){var n=this;if("unloaded"!==this.state){this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var o in n.buckets){var a=n.buckets[o];"symbol"===a.layers[0].type&&(a.destroy(),delete n.buckets[o])}r.extend(this.buckets,i.deserialize(t.buckets,e))}},d.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},d.prototype.redoPlacement=function(t){if("vector"===t.type||"geojson"===t.type){if("loaded"!==this.state)return void(this.redoWhenDone=!0);if(this.collisionTile){var e=t.map.transform.cameraToTileDistance(this);if(this.angle===t.map.transform.angle&&this.pitch===t.map.transform.pitch&&this.cameraToCenterDistance===t.map.transform.cameraToCenterDistance&&this.showCollisionBoxes===t.map.showCollisionBoxes){if(this.cameraToTileDistance===e)return;if(this.pitch<25)return void(this.cameraToTileDistance=e)}this.angle=t.map.transform.angle,this.pitch=t.map.transform.pitch,this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance,this.cameraToTileDistance=e,this.showCollisionBoxes=t.map.showCollisionBoxes,this.placementSource=t,this.state="reloading",this.placementThrottler.invoke()}}},d.prototype._immediateRedoPlacement=function(){var t=this;this.placementSource.dispatcher.send("redoPlacement",{type:this.placementSource.type,uid:this.uid,source:this.placementSource.id,angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,showCollisionBoxes:this.showCollisionBoxes},function(e,n){t.reloadSymbolData(n,t.placementSource.map.style),t.placementSource.map.showCollisionBoxes&&t.placementSource.fire("data",{tile:t,coord:t.coord,dataType:"source"}),t.placementSource.map&&(t.placementSource.map.painter.tileExtentVAO.vao=null),t.state="loaded",t.redoWhenDone&&(t.redoWhenDone=!1,t._immediateRedoPlacement())},this.workerID)},d.prototype.getBucket=function(t){return this.buckets[t.id]},d.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new a.VectorTile(new s(this.rawTileData)).layers);var r=e?e.sourceLayer:void 0,i=this.vtLayers._geojsonTileLayer||this.vtLayers[r];if(i)for(var o=l(e&&e.filter),c={z:this.coord.z,x:this.coord.x,y:this.coord.y},f=0;f<i.length;f++){var h=i.feature(f);if(o(h)){var p=new u(h,n.coord.z,n.coord.x,n.coord.y);p.tile=c,t.push(p)}}}},d.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},d.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=r.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var a=this.expirationTime-e;a?this.expirationTime=i+Math.max(a,p):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},d.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},d.prototype.stopPlacementThrottler=function(){this.placementThrottler.stop(),"reloading"===this.state&&(this.state="loaded")},e.exports=d},{"../data/bucket":44,"../data/feature_index":54,"../style-spec/feature_filter":104,"../symbol/collision_box":162,"../symbol/collision_tile":164,"../util/throttler":213,"../util/util":215,"../util/vectortile_to_geojson":216,pbf:24,"vector-tile":33}],94:[function(t,e,n){"use strict";var r=t("../geo/lng_lat_bounds"),i=t("../util/util").clamp,o=function(t,e,n){this.bounds=r.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t,e){var n=e?Math.min(t.z,e):t.z,r={minX:Math.floor(this.lngX(this.bounds.getWest(),n)),minY:Math.floor(this.latY(this.bounds.getNorth(),n)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),n)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),n))},i=t.x>=r.minX&&t.x<r.maxX&&t.y>=r.minY&&t.y<r.maxY;return i},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var n=i(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r},e.exports=o},{"../geo/lng_lat_bounds":62,"../util/util":215}],95:[function(t,e,n){"use strict";function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function i(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,h=o;h<a;h++){var p=u*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,h+f-e.y0))+e.x0;i(Math.floor(d),Math.ceil(p),h)}}function o(t,e,n,o,a,s){var u,l=r(t,e),c=r(e,n),f=r(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>f.dy&&(u=l,l=f,f=u),c.dy>f.dy&&(u=c,c=f,f=u),l.dy&&i(f,l,o,a,s),c.dy&&i(f,c,o,a,s)}function a(t,e,n){for(var r,i="",o=t;o>0;o--)r=1<<o-1,i+=(e&r?1:0)+(n&r?2:0);return i}var s=t("@mapbox/whoots-js"),u=t("../geo/coordinate"),l=function(t,e,n,r){isNaN(r)&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var i=1<<this.z;this.id=32*(i*i*r+i*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),n=Math.pow(2,e),r=this.y,i=this.x+n*this.w;return new u(i,r,e)},l.prototype.url=function(t,e,n){var r=s.getTileBBox(this.x,this.y,this.z),i=a(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",i).replace("{bbox-epsg-3857}",r)},l.prototype.parent=function(t){return 0===this.z?null:this.z>t?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.children=function(t){if(this.z>=t)return[new l(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,r=2*this.y;return[new l(e,n,r,this.w),new l(e,n+1,r,this.w),new l(e,n,r+1,this.w),new l(e,n+1,r+1,this.w)]},l.cover=function(t,e,n,r){function i(t,e,i){var o,u,c,f;if(i>=0&&i<=a)for(o=t;o<e;o++)u=Math.floor(o/a),c=(o%a+a)%a,0!==u&&r!==!0||(f=new l(n,c,i,u),s[f.id]=f)}void 0===r&&(r=!0);var a=1<<t,s={};return o(e[0],e[1],e[2],0,a,i),o(e[2],e[3],e[0],0,a,i),Object.keys(s).map(function(t){return s[t]})},l.fromID=function(t){var e=t%32,n=1<<e,r=(t-e)/32,i=r%n,o=(r-i)/n%n,a=Math.floor(r/(n*n));return a%2!==0&&(a=a*-1-1),a/=2,new l(e,i,o,a)},e.exports=l},{"../geo/coordinate":60,"@mapbox/whoots-js":4}],96:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("../util/util"),o=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),u=function(t){function e(e,n,r,o){if(t.call(this),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,i.extend(this,i.pick(n,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,function(e,n){return e?void t.fire("error",e):(i.extend(t,n),t.setBounds(n.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),void t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new s(t,this.minzoom,this.maxzoom))},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.serialize=function(){return i.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,r){if(!t.aborted){if(n)return e(n);this.map._refreshExpiredTiles&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={url:a(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",i,n.bind(this),t.workerID):t.workerID=this.dispatcher.send("loadTile",i,n.bind(this))},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e}(r);e.exports=u},{"../util/evented":202,"../util/mapbox":209,"../util/util":215,"./load_tilejson":86,"./tile_bounds":94}],97:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("vector-tile"),o=t("pbf"),a=t("./worker_tile"),s=t("../util/util"),u=function(t,e,n){this.actor=t,this.layerIndex=e,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};u.prototype.loadTile=function(t,e){function n(t,n){return delete this.loading[r][i],t?e(t):n?(o.vectorTile=n,o.parse(n,this.layerIndex,this.actor,function(t,r,i){if(t)return e(t);var o={};n.expires&&(o.expires=n.expires),n.cacheControl&&(o.cacheControl=n.cacheControl),e(null,s.extend({rawTileData:n.rawData},r,o),i)}),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][i]=o)):e(null,null)}var r=t.source,i=t.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new a(t);o.abort=this.loadVectorData(t,n.bind(this))},u.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,r)}e(t,n)}var r=this.loaded[t.source],i=t.uid,o=this;if(r&&r[i]){var a=r[i];"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},u.prototype.abortTile=function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},u.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},u.prototype.loadVectorData=function(t,e){function n(t,n){if(t)return e(t);var r=new i.VectorTile(new o(n.data));r.rawData=n.data,r.cacheControl=n.cacheControl,r.expires=n.expires,e(t,r)}var a=r.getArrayBuffer(t.url,n.bind(this));return function(){a.abort()}},u.prototype.redoPlacement=function(t,e){var n=this.loaded[t.source],r=this.loading[t.source],i=t.uid;if(n&&n[i]){var o=n[i],a=o.redoPlacement(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else r&&r[i]&&(r[i].angle=t.angle)},e.exports=u},{"../util/ajax":193,"../util/util":215,"./worker_tile":100,pbf:24,"vector-tile":33}],98:[function(t,e,n){"use strict";var r=t("../util/ajax"),i=t("./image_source"),o=function(t){function e(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,r.getVideo(e.urls,function(e,n){if(e)return t.fire("error",{error:e});t.video=n,t.video.loop=!0;var r;t.video.addEventListener("playing",function(){r=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(r)}),t.map&&t.video.play(),t._finishLoading()})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.load(),this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){0===Object.keys(this.tiles).length||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e}(i);e.exports=o},{"../util/ajax":193,"./image_source":85}],99:[function(t,e,n){"use strict";var r=t("../util/actor"),i=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),a=t("./geojson_worker_source"),s=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new r(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:a},this.workerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(s.applyArabicShaping||s.processBidirectionalText)throw new Error("RTL text plugin already registered.");s.applyArabicShaping=t.applyArabicShaping,s.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},u.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},u.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},u.prototype.removeSource=function(t,e){var n=this.getWorkerSource(t,e.type);void 0!==n.removeSource&&n.removeSource(e)},u.prototype.redoPlacement=function(t,e,n){this.getWorkerSource(t,e.type).redoPlacement(e,n)},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{s.applyArabicShaping||s.processBidirectionalText||this.self.importScripts(e)}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,i,o){n.actor.send(e,r,i,o,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":156,"../util/actor":192,"./geojson_worker_source":83,"./rtl_text_plugin":90,"./vector_tile_worker_source":97}],100:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.layers;n<r.length;n+=1){var i=r[n];i.recalculate(e)}}function i(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var o=t("../data/feature_index"),a=t("../symbol/collision_tile"),s=t("../symbol/collision_box"),u=t("../util/dictionary_coder"),l=t("../util/util"),c=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.cameraToCenterDistance=t.cameraToCenterDistance,this.cameraToTileDistance=t.cameraToTileDistance,this.showCollisionBoxes=t.showCollisionBoxes};c.prototype.parse=function(t,e,n,c){var f=this;t.layers||(t={layers:{_geojsonTileLayer:t}}),this.status="parsing",this.data=t,this.collisionBoxArray=new s;var h=new u(Object.keys(t.layers).sort()),p=new o(this.coord,this.overscaling);p.bucketLayerIDs={};var d={},v=0,m={featureIndex:p,iconDependencies:{},glyphDependencies:{}},g=e.familiesBySource[this.source];for(var y in g){var _=t.layers[y];if(_){1===_.version&&l.warnOnce('Vector tile source "'+f.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=h.encode(y),x=[],w=0;w<_.length;w++){var E=_.feature(w);E.index=w,E.sourceLayerIndex=b,x.push(E)}for(var T=0,I=g[y];T<I.length;T+=1){var C=I[T],M=C[0];if(!(M.minzoom&&f.zoom<M.minzoom||M.maxzoom&&f.zoom>=M.maxzoom||M.layout&&"none"===M.layout.visibility)){for(var A=0,S=C;A<S.length;A+=1){var R=S[A];R.recalculate(f.zoom)}var L=d[M.id]=M.createBucket({index:v,layers:C,zoom:f.zoom,overscaling:f.overscaling,collisionBoxArray:f.collisionBoxArray});L.populate(x,m),p.bucketLayerIDs[v]=C.map(function(t){return t.id}),v++}}}}var k=function(t){f.status="done",p.paintPropertyStatistics={};for(var e in d)l.extend(p.paintPropertyStatistics,d[e].getPaintPropertyStatistics());var n=[];c(null,{buckets:i(l.values(d),n),featureIndex:p.serialize(n),collisionTile:t.serialize(n),collisionBoxArray:f.collisionBoxArray.serialize()},n)};this.symbolBuckets=[];for(var N=e.symbolOrder.length-1;N>=0;N--){var F=d[e.symbolOrder[N]];F&&f.symbolBuckets.push(F)}if(0===this.symbolBuckets.length)return k(new a(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray));var O=0,B=Object.keys(m.iconDependencies),P=l.mapObject(m.glyphDependencies,function(t){return Object.keys(t).map(Number)}),U=function(t){if(t)return c(t);if(O++,2===O){for(var e=new a(f.angle,f.pitch,f.cameraToCenterDistance,f.cameraToTileDistance,f.collisionBoxArray),n=0,i=f.symbolBuckets;n<i.length;n+=1){var o=i[n];r(o,f.zoom),o.prepare(P,B),o.place(e,f.showCollisionBoxes)}k(e)}};Object.keys(P).length?n.send("getGlyphs",{uid:this.uid,stacks:P},function(t,e){P=e,U(t)}):U(),B.length?n.send("getIcons",{icons:B},function(t,e){B=e,U(t)}):U()},c.prototype.redoPlacement=function(t,e,n,o,s){var u=this;if(this.angle=t,this.pitch=e,this.cameraToCenterDistance=n,this.cameraToTileDistance=o,"done"!==this.status)return{};for(var l=new a(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),c=0,f=u.symbolBuckets;c<f.length;c+=1){var h=f[c];r(h,u.zoom),h.place(l,s)}var p=[];return{result:{buckets:i(this.symbolBuckets,p),collisionTile:l.serialize(p)},transferables:p}},e.exports=c},{"../data/feature_index":54,"../symbol/collision_box":162,"../symbol/collision_tile":164,"../util/dictionary_coder":199,"../util/util":215}],101:[function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return o.forEach(function(t){t in e&&(n[t]=e[t])}),n}function i(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=r(t[i],e[t[i].ref]));return t}var o=t("./util/ref_properties");e.exports=i},{"./util/ref_properties":124}],102:[function(t,e,n){"use strict";function r(t,e,n,r){t=t||{},e=e||{};var i;for(i in t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||(n.push({command:c.removeSource,args:[i]}),r[i]=!0));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?l(t[i],e[i])||(n.push({command:c.removeSource,args:[i]}),n.push({command:c.addSource,args:[i,e[i]]}),r[i]=!0):n.push({command:c.addSource,args:[i,e[i]]}))}function i(t,e,n,r,i,o){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(l(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function o(t){return t.id}function a(t,e){return t[e.id]=e,t}function s(t,e,n){t=t||[],e=e||[];var r,s,u,f,h,p,d,v=t.map(o),m=e.map(o),g=t.reduce(a,{}),y=e.reduce(a,{}),_=v.slice(),b=Object.create(null);for(r=0,s=0;r<v.length;r++)u=v[r],y.hasOwnProperty(u)?s++:(n.push({command:c.removeLayer,args:[u]}),_.splice(_.indexOf(u,s),1));for(r=0,s=0;r<m.length;r++)u=m[m.length-1-r],_[_.length-1-r]!==u&&(g.hasOwnProperty(u)?(n.push({command:c.removeLayer,args:[u]}),_.splice(_.lastIndexOf(u,_.length-s),1)):s++,p=_[_.length-r],n.push({command:c.addLayer,args:[y[u],p]}),_.splice(_.length-r,0,u),b[u]=!0);for(r=0;r<m.length;r++)if(u=m[r],f=g[u],h=y[u],!b[u]&&!l(f,h))if(l(f.source,h.source)&&l(f["source-layer"],h["source-layer"])&&l(f.type,h.type)){i(f.layout,h.layout,n,u,null,c.setLayoutProperty),i(f.paint,h.paint,n,u,null,c.setPaintProperty),l(f.filter,h.filter)||n.push({command:c.setFilter,args:[u,h.filter]}),l(f.minzoom,h.minzoom)&&l(f.maxzoom,h.maxzoom)||n.push({command:c.setLayerZoomRange,args:[u,h.minzoom,h.maxzoom]});for(d in f)f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?i(f[d],h[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],h[d])||n.push({command:c.setLayerProperty,args:[u,d,h[d]]}));for(d in h)h.hasOwnProperty(d)&&!f.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?i(f[d],h[d],n,u,d.slice(6),c.setPaintProperty):l(f[d],h[d])||n.push({command:c.setLayerProperty,args:[u,d,h[d]]}))}else n.push({command:c.removeLayer,args:[u]}),p=_[_.lastIndexOf(u)+1],n.push({command:c.addLayer,args:[h,p]})}function u(t,e){if(!t)return[{command:c.setStyle,args:[e]}];var n=[];try{if(!l(t.version,e.version))return[{command:c.setStyle,args:[e]}];l(t.center,e.center)||n.push({command:c.setCenter,args:[e.center]}),l(t.zoom,e.zoom)||n.push({command:c.setZoom,args:[e.zoom]}),l(t.bearing,e.bearing)||n.push({command:c.setBearing,args:[e.bearing]}),l(t.pitch,e.pitch)||n.push({command:c.setPitch,args:[e.pitch]}),l(t.sprite,e.sprite)||n.push({command:c.setSprite,args:[e.sprite]}),l(t.glyphs,e.glyphs)||n.push({command:c.setGlyphs,args:[e.glyphs]}),l(t.transition,e.transition)||n.push({command:c.setTransition,args:[e.transition]}),l(t.light,e.light)||n.push({command:c.setLight,args:[e.light]});var i={},o=[];r(t.sources,e.sources,o,i);var a=[];t.layers&&t.layers.forEach(function(t){i[t.source]?n.push({command:c.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(o),s(a,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:c.setStyle,args:[e]}]}return n}var l=t("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=u,e.exports.operations=c},{"lodash.isequal":115}],103:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];this.message=(t?t+": ":"")+i.apply(i,n),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var i=t("util").format;e.exports=r},{util:32}],104:[function(t,e,n){"use strict";function r(t){return new Function("f","var p = (f && f.properties || {}); return "+i(t))}function i(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var n="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?c(s(t.slice(1),"||")):"in"===e?u(t[1],t.slice(2)):"!in"===e?c(u(t[1],t.slice(2))):"has"===e?l(t[1]):"!has"===e?c(l(t[1])):"true";return"("+n+")"}function o(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,n,r){var i=o(t),a="$type"===t?h.indexOf(e):JSON.stringify(e);return(r?"typeof "+i+"=== typeof "+a+"&&":"")+i+n+a}function s(t,e){return t.map(i).join(e)}function u(t,e){"$type"===t&&(e=e.map(function(t){return h.indexOf(t)}));var n=JSON.stringify(e.sort(f)),r=o(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function l(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function f(t,e){return t<e?-1:t>e?1:0}e.exports=r;var h=["Unknown","Point","LineString","Polygon"]},{}],105:[function(t,e,n){"use strict";function r(t){return t>g?Math.pow(t,1/3):t/m+d}function i(t){return t>v?t*t*t:m*(t-d)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t[0]),n=a(t[1]),i=a(t[2]),o=r((.4124564*e+.3575761*n+.1804375*i)/f),s=r((.2126729*e+.7151522*n+.072175*i)/h),u=r((.0193339*e+.119192*n+.9503041*i)/p);return[116*s-16,500*(o-s),200*(s-u),t[3]]}function u(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,r=isNaN(t[2])?e:e-t[2]/200;return e=h*i(e),n=f*i(n),r=p*i(r),[o(3.2404542*n-1.5371385*e-.4985314*r),o(-.969266*n+1.8760108*e+.041556*r),o(.0556434*n-.2040259*e+1.0572252*r),t[3]]}function l(t){var e=s(t),n=e[0],r=e[1],i=e[2],o=Math.atan2(i,r)*_;return[o<0?o+360:o,Math.sqrt(r*r+i*i),n,t[3]]}function c(t){var e=t[0]*y,n=t[1],r=t[2];return u([r,Math.cos(e)*n,Math.sin(e)*n,t[3]])}var f=.95047,h=1,p=1.08883,d=4/29,v=6/29,m=3*v*v,g=v*v*v,y=Math.PI/180,_=180/Math.PI;e.exports={lab:{forward:s,reverse:u},hcl:{forward:l,reverse:c}}},{}],106:[function(t,e,n){"use strict";function r(t){return t}function i(t,e){var n,c="color"===e.type;if(f(t)){var h=t.stops&&"object"==typeof t.stops[0][0],m=h||void 0!==t.property,g=h||!m,y=t.type||("interpolated"===e.function?"exponential":"interval");c&&(t=v({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],d(t[1])]})),t.default?t.default=d(t.default):t.default=d(e.default));var _,b,x;if("exponential"===y)_=u;else if("interval"===y)_=s;else if("categorical"===y){_=a,b=Object.create(null);for(var w=0,E=t.stops;w<E.length;w+=1){var T=E[w];b[T[0]]=T[1]}x=typeof t.stops[0][0]}else{if("identity"!==y)throw new Error('Unknown function type "'+y+'"');_=l}var I;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!p[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var C=p[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var M=0;M<t.stops.length;M++)t.stops[M]=[t.stops[M][0],C.forward(t.stops[M][1])];I=C.reverse}else I=r;if(h){for(var A={},S=[],R=0;R<t.stops.length;R++){var L=t.stops[R],k=L[0].zoom;void 0===A[k]&&(A[k]={zoom:k,type:t.type,property:t.property,default:t.default,stops:[]},S.push(k)),A[k].stops.push([L[0].value,L[1]])}for(var N=[],F=0,O=S;F<O.length;F+=1){var B=O[F];N.push([A[B].zoom,i(A[B],e)])}n=function(n,r){return I(u({stops:N,base:t.base},e,n)(n,r))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else g?(n=function(n){return I(_(t,e,n,b,x))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(n,r){var i=r[t.property];return void 0===i?o(t.default,e.default):I(_(t,e,i,b,x))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else c&&t&&(t=d(t)),n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function o(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function a(t,e,n,r,i){var a=typeof n===i?r[n]:void 0;return o(a,t.default,e.default)}function s(t,e,n){if("number"!==m(n))return o(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=c(t.stops,n);return t.stops[i][1]}function u(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==m(n))return o(t.default,e.default);var a=t.stops.length;if(1===a)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[a-1][0])return t.stops[a-1][1];var s=c(t.stops,n),u=h(n,i,t.stops[s][0],t.stops[s+1][0]),l=t.stops[s][1],f=t.stops[s+1][1],p=g[e.type]||r;return"function"==typeof l?function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=l.apply(void 0,t),r=f.apply(void 0,t);if(void 0!==n&&void 0!==r)return p(n,r,u)}:p(l,f,u)}function l(t,e,n){return"color"===e.type?n=d(n):m(n)!==e.type&&(n=void 0),o(n,t.default,e.default)}function c(t,e){for(var n,r,i=t.length,o=0,a=i-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),n=t[s][0],r=t[s+1][0],e===n||e>n&&e<r)return s;n<e?o=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}function f(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}function h(t,e,n,r){var i=r-n,o=t-n;return 1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var p=t("./color_spaces"),d=t("../util/parse_color"),v=t("../util/extend"),m=t("../util/get_type"),g=t("../util/interpolate");e.exports=i,e.exports.isFunctionDefinition=f,e.exports.interpolationFactor=h,e.exports.findStopLessThanOrEqualTo=c},{"../util/extend":120,"../util/get_type":121,"../util/interpolate":122,"../util/parse_color":123,"./color_spaces":105}],107:[function(t,e,n){"use strict";function r(t){return a(o.map(function(e){return t[e]}))}function i(t){for(var e={},n=0;n<t.length;n++){var i=r(t[n]),o=e[i];o||(o=e[i]=[]),o.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}var o=t("./util/ref_properties"),a=t("fast-stable-stringify");e.exports=i},{"./util/ref_properties":124,"fast-stable-stringify":109}],108:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return i("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=e.indexOf("("),u=e.indexOf(")");if(i!==-1&&u+1===e.length){var c=e.substr(0,i),f=e.substr(i+1,u-(i+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),h];case"hsla":if(4!==f.length)return null;h=a(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),v=a(f[2]),m=v<=.5?v*(d+1):v+d-v*d,g=2*v-m;return[r(255*s(g,m,p+1/3)),r(255*s(g,m,p)),r(255*s(g,m,p-1/3)),h];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(t){}},{}],109:[function(t,e,n){function r(t){var e,n,i,l,c,f;switch(typeof t){case"object":if(null===t)return null;if(o(t)){for(i="[",n=t.length-1,e=0;e<n;e++)i+=r(t[e])+",";return n>-1&&(i+=r(t[e])),i+"]"}for(l=a(t).sort(),n=l.length,i="{",c=l[e=0],f=n>0&&void 0!==t[c];e<n;)f?(i+='"'+c.replace(s,u)+'":'+r(t[c]),c=l[++e],f=e<n&&void 0!==t[c],f&&(i+=",")):(c=l[++e],f=e<n&&void 0!==t[c]);return i+"}";case"undefined":return null;case"string":return'"'+t.replace(s,u)+'"';default:return t}}var i={}.toString,o=Array.isArray||function(t){return"[object Array]"===i.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},s=/[\u0000-\u001f"\\]/g,u=function(t){var e=t.charCodeAt(0);switch(e){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return e>15?"\\u00"+e.toString(16):"\\u000"+e.toString(16)}};e.exports=function(t){if(void 0!==t)return""+r(t)},e.exports.stringSearch=s,e.exports.stringReplace=u},{}],110:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,i,s,u){return t===e||(null==t||null==e||!c(t)&&!r(e)?t!==t&&e!==e:a(t,e,o,n,i,s,u))}function a(t,e,n,r,i,o,a){var c=f(t),p=f(e),m=v,g=v;c||(m=I.call(t),m==d?m=b:m!=b&&(c=h(t))),p||(g=I.call(e),g==d?g=b:g!=b&&(p=h(e)));var y=m==b,_=g==b,x=m==g;if(x&&!c&&!y)return u(t,e,m);if(!i){var w=y&&T.call(t,"__wrapped__"),E=_&&T.call(e,"__wrapped__");if(w||E)return n(w?t.value():t,E?e.value():e,r,i,o,a)}if(!x)return!1;o||(o=[]),a||(a=[]);for(var C=o.length;C--;)if(o[C]==t)return a[C]==e;o.push(t),a.push(e);var M=(c?s:l)(t,e,n,r,i,o,a);return o.pop(),a.pop(),M}function s(t,e,n,r,o,a,s){var u=-1,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var f=t[u],h=e[u],p=r?r(o?h:f,o?f:h,u):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(e,function(t){return f===t||n(f,t,r,o,a,s)}))return!1}else if(f!==h&&!n(f,h,r,o,a,s))return!1}return!0}function u(t,e,n){switch(n){case m:case g:return+t==+e;case y:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case x:case w:return t==e+""}return!1}function l(t,e,n,r,i,o,a){var s=p(t),u=s.length,l=p(e),c=l.length;if(u!=c&&!i)return!1;for(var f=u;f--;){var h=s[f];if(!(i?h in e:T.call(e,h)))return!1}for(var d=i;++f<u;){h=s[f];var v=t[h],m=e[h],g=r?r(i?m:v,i?v:m,h):void 0;if(!(void 0===g?n(v,m,r,i,o,a):g))return!1;d||(d="constructor"==h)}if(!d){var y=t.constructor,_=e.constructor;if(y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=t("lodash.isarray"),h=t("lodash.istypedarray"),p=t("lodash.keys"),d="[object Arguments]",v="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Number]",b="[object Object]",x="[object RegExp]",w="[object String]",E=Object.prototype,T=E.hasOwnProperty,I=E.toString;e.exports=o},{"lodash.isarray":114,"lodash.istypedarray":116,"lodash.keys":117}],111:[function(t,e,n){function r(t,e,n){if("function"!=typeof t)return i;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function i(t){return t}e.exports=r},{}],112:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function o(t){return a(t)&&p.call(t)==u}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(o(t)?d.test(f.call(t)):r(t)&&l.test(t))}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,h=c.hasOwnProperty,p=c.toString,d=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},{}],113:[function(t,e,n){function r(t){return o(t)&&v.call(t,"callee")&&(!g.call(t,"callee")||m.call(t)==f)}function i(t){return null!=t&&s(t.length)&&!a(t)}function o(t){return l(t)&&i(t)}function a(t){var e=u(t)?m.call(t):"";return e==h||e==p}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var c=9007199254740991,f="[object Arguments]",h="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,v=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable;e.exports=r},{}],114:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function a(t){return s(t)&&v.call(t)==c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(a(t)?m.test(p.call(t)):r(t)&&f.test(t))}var l="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,h=Object.prototype,p=Function.prototype.toString,d=h.hasOwnProperty,v=h.toString,m=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=i(Array,"isArray"),y=9007199254740991,_=g||function(t){return r(t)&&o(t.length)&&v.call(t)==l};e.exports=_},{}],115:[function(t,e,n){function r(t,e,n,r){n="function"==typeof n?o(n,r,3):void 0;var a=n?n(t,e):void 0;return void 0===a?i(t,e,n):!!a}var i=t("lodash._baseisequal"),o=t("lodash._bindcallback");e.exports=r},{"lodash._baseisequal":110,"lodash._bindcallback":111}],116:[function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function i(t){return!!t&&"object"==typeof t}function o(t){return i(t)&&r(t.length)&&!!L[N.call(t)]}var a=9007199254740991,s="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",f="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",v="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",R="[object Uint32Array]",L={};L[w]=L[E]=L[T]=L[I]=L[C]=L[M]=L[A]=L[S]=L[R]=!0,L[s]=L[u]=L[b]=L[l]=L[x]=L[c]=L[f]=L[h]=L[p]=L[d]=L[v]=L[m]=L[g]=L[y]=L[_]=!1;var k=Object.prototype,N=k.toString;e.exports=o},{}],117:[function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&a(y(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&t<e}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=g}function s(t){for(var e=l(t),n=e.length,r=n&&t.length,i=!!r&&a(r)&&(h(t)||f(t)),s=-1,u=[];++s<n;){var c=e[s];(i&&o(c,r)||v.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(h(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,s=Array(e),l=e>0;++r<e;)s[r]=r+"";for(var c in t)l&&o(c,e)||"constructor"==c&&(i||!v.call(t,c))||s.push(c);return s}var c=t("lodash._getnative"),f=t("lodash.isarguments"),h=t("lodash.isarray"),p=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,m=c(Object,"keys"),g=9007199254740991,y=r("length"),_=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?s(t):u(t)?m(t):[]}:s;e.exports=_},{"lodash._getnative":112,"lodash.isarguments":113,"lodash.isarray":114}],118:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":119}],119:[function(t,e,n){e.exports={$version:8,$root:{version:{required:true,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:true,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:true,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:true,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:true,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:false},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:true,type:"enum",values:{video:{}}},urls:{required:true,type:"array",value:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:true,type:"enum",values:{image:{}}},url:{required:true,type:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:true,type:"enum",values:{canvas:{}}},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:true}},layer:{id:{type:"string",required:true},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":true,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":true,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":true,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":true,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,tokens:true},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,"property-function":true,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":true,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,default:"",tokens:true},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":true,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":true,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":true,"property-function":true,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:false}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:false,"zoom-function":true,"property-function":false,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:true,function:"interpolated","zoom-function":true,"property-function":false},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":true,"property-function":false,transition:true},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true},"fill-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"},{"fill-antialias":true}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":false,default:1,minimum:0,maximum:1,transition:true},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,maximum:65535,units:"meters",transition:true},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,maximum:65535,units:"meters",transition:true,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":true,minimum:0,transition:true,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,transition:true,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":true,default:0,minimum:0,maximum:1,transition:true},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":true,default:1,minimum:0,maximum:1,transition:true},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,transition:true,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],120:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}},{}],121:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],122:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}e.exports=r,r.number=r,r.vec2=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n)]},r.color=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n),r(t[2],e[2],n),r(t[3],e[3],n)]},r.array=function(t,e,n){return t.map(function(t,i){return r(t,e[i],n)})}},{}],123:[function(t,e,n){"use strict";var r=t("csscolorparser").parseCSSColor;e.exports=function(t){if("string"==typeof t){var e=r(t);if(!e)return;return[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return Array.isArray(t)?t:void 0}},{csscolorparser:108}],124:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],125:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],126:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},u=e.value,l=e.valueSpec,c=e.key,f=e.styleSpec,h=e.style;if("string"===i(u)&&"@"===u[0]){if(f.$version>7)return[new r(c,u,"constants have been deprecated as of v8")];if(!(u in h.constants))return[new r(c,u,'constant "%s" not found',u)];e=o({},e,{value:h.constants[u]})}return l.function&&"object"===i(u)?n(e):l.type&&s[l.type]?s[l.type](e):a(o({},e,{valueSpec:l.type?f[l.type]:l}))}},{"../error/validation_error":103,"../util/extend":120,"../util/get_type":121,"./validate_array":127,"./validate_boolean":128,"./validate_color":129,"./validate_constants":130,"./validate_enum":131,"./validate_filter":132,"./validate_function":133,"./validate_layer":135,"./validate_light":137,"./validate_number":138,"./validate_object":139,"./validate_source":142,"./validate_string":143}],127:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||i;if("array"!==r(e))return[new o(u,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new o(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new o(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],h=0;h<e.length;h++)f=f.concat(l({array:e,arrayIndex:h,value:e[h],valueSpec:c,style:a,styleSpec:s,key:u+"["+h+"]"}));return f}},{"../error/validation_error":103,"../util/get_type":121,"./validate":126}],128:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"boolean"!==o?[new i(n,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":103,"../util/get_type":121}],129:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=i(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===o(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":103,"../util/get_type":121,csscolorparser:108}],130:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value,o=t.styleSpec;if(o.$version>7)return n?[new r(e,n,"constants have been deprecated as of v8")]:[];var a=i(n);if("object"!==a)return[new r(e,n,"object expected, %s found",a)];var s=[];for(var u in n)"@"!==u[0]&&s.push(new r(e+"."+u,n[u],'constants must start with "@"'));return s}},{"../error/validation_error":103,"../util/get_type":121}],131:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?o.values.indexOf(i(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",o.values.join(", "),n)):Object.keys(o.values).indexOf(i(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",Object.keys(o.values).join(", "),n)),a}},{"../error/validation_error":103,"../util/unbundle_jsonlint":125}],132:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_enum"),o=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function t(e){var n,s=e.value,u=e.key,l=e.styleSpec,c=[];if("array"!==o(s))return[new r(u,s,"array expected, %s found",o(s))];if(s.length<1)return[new r(u,s,"filter array must have at least 1 element")];switch(c=c.concat(i({key:u+"[0]",value:s[0],valueSpec:l.filter_operator,style:e.style,styleSpec:e.styleSpec})),a(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"===a(s[1])&&c.push(new r(u,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!==s.length&&c.push(new r(u,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&(n=o(s[1]),"string"!==n&&c.push(new r(u+"[1]",s[1],"string expected, %s found",n)));for(var f=2;f<s.length;f++)n=o(s[f]),"$type"===a(s[1])?c=c.concat(i({key:u+"["+f+"]",value:s[f],valueSpec:l.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&c.push(new r(u+"["+f+"]",s[f],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(var h=1;h<s.length;h++)c=c.concat(t({key:u+"["+h+"]",value:s[h],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=o(s[1]),2!==s.length?c.push(new r(u,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==n&&c.push(new r(u+"[1]",s[1],"string expected, %s found",n))}return c}},{"../error/validation_error":103,"../util/get_type":121,"../util/unbundle_jsonlint":125,"./validate_enum":131}],133:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),u=t("./validate_number"),l=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new r(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&e.push(new r(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==i(n))return[new r(s,n,"array expected, %s found",i(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];if(b){if("object"!==i(n[0]))return[new r(s,n,"object expected, %s found",i(n[0]))];if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];if(d&&d>l(n[0].zoom))return[new r(s,n[0].zoom,"stop zoom values must appear in ascending order")];l(n[0].zoom)!==d&&(d=l(n[0].zoom),p=void 0,g={}),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else e=e.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e.concat(o({key:s+"[1]",value:n[1],valueSpec:v,style:t.style,styleSpec:t.styleSpec}))}function c(t){var e=i(t.value),n=l(t.value);if(h){if(e!==h)return[new r(t.key,t.value,"%s stop domain type must match previous stop domain type %s",e,h)]}else h=e;if("number"!==e&&"string"!==e&&"boolean"!==e)return[new r(t.key,t.value,"stop domain value must be a number, string, or boolean")];if("number"!==e&&"categorical"!==m){var o="number expected, %s found";return v["property-function"]&&void 0===m&&(o+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(t.key,t.value,o,e)]}return"categorical"!==m||"number"!==e||isFinite(n)&&Math.floor(n)===n?"number"===e&&void 0!==p&&n<p?[new r(t.key,t.value,"stop domain values must appear in ascending order")]:(p=n,"categorical"===m&&n in g?[new r(t.key,t.value,"stop domain values must be unique")]:(g[n]=!0,[])):[new r(t.key,t.value,"integer expected, found %s",n)]}function f(t){return o({key:t.key,value:t.value,valueSpec:v,style:t.style,styleSpec:t.styleSpec})}var h,p,d,v=t.valueSpec,m=l(t.value.type),g={},y="categorical"!==m&&void 0===t.value.property,_=!y,b="array"===i(t.value.stops)&&"array"===i(t.value.stops[0])&&"object"===i(t.value.stops[0][0]),x=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:f}});return"identity"===m&&y&&x.push(new r(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||x.push(new r(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&x.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(_&&!t.valueSpec["property-function"]?x.push(new r(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&x.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!b||void 0!==t.value.property||x.push(new r(t.key,t.value,'"property" property is required')),x}},{"../error/validation_error":103,"../util/get_type":121,"../util/unbundle_jsonlint":125,"./validate":126,"./validate_array":127,"./validate_number":138,"./validate_object":139}],134:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=i(t);return o.length?o:(e.indexOf("{fontstack}")===-1&&o.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&o.push(new r(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":103,"./validate_string":143}],135:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),u=t("./validate_layout_property"),l=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,f=t.style,h=t.styleSpec;n.type||n.ref||e.push(new r(c,n,'either "type" or "ref" is required'));var p=i(n.type),d=i(n.ref);if(n.id)for(var v=i(n.id),m=0;m<t.arrayIndex;m++){var g=f.layers[m];i(g.id)===v&&e.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(c,n[t],'"%s" is prohibited for ref layers',t))});var y;f.layers.forEach(function(t){i(t.id)===d&&(y=t)}),y?y.ref?e.push(new r(c,n.ref,"ref cannot reference another ref layer")):p=i(y.type):e.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==p)if(n.source){var _=f.sources&&f.sources[n.source],b=_&&i(_.type);_?"vector"===b&&"raster"===p?e.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"===b&&"raster"!==p?e.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!==b||n["source-layer"]||e.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(c,n.source,'source "%s" not found',n.source))}else e.push(new r(c,n,'missing required property "source"'));return e=e.concat(o({key:c,value:n,valueSpec:h.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:p},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(l({layerType:p},t))}}})}}}))}},{"../error/validation_error":103,"../util/extend":120,"../util/unbundle_jsonlint":125,"./validate_filter":132,"./validate_layout_property":136,"./validate_object":139,"./validate_paint_property":140}],136:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"layout")}},{"./validate_property":141}],137:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,u=[],l=i(e);if(void 0===e)return u;if("object"!==l)return u=u.concat([new r("light",e,"object expected, %s found",l)]);for(var c in e){var f=c.match(/^(.*)-transition$/);u=f&&a[f[1]]&&a[f[1]].transition?u.concat(o({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,e[c],'unknown property "%s"',c)])}return u}},{"../error/validation_error":103,"../util/get_type":121,"./validate":126}],138:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=r(n);return"number"!==a?[new i(e,n,"number expected, %s found",a)]:"minimum"in o&&n<o.minimum?[new i(e,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new i(e,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":103,"../util/get_type":121}],139:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],f=i(n);if("object"!==f)return[new r(e,n,"object expected, %s found",f)];for(var h in n){var p=h.split(".")[0],d=a[p]||a["*"],v=void 0;if(s[p])v=s[p];else if(a[p])v=o;else if(s["*"])v=s["*"];else{if(!a["*"]){c.push(new r(e,n[h],'unknown property "%s"',h));continue}v=o}c=c.concat(v({key:(e?e+".":e)+h,value:n[h],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:h}))}for(var m in a)a[m].required&&void 0===a[m].default&&void 0===n[m]&&c.push(new r(e,n,'missing required property "%s"',m));return c}},{"../error/validation_error":103,"../util/get_type":121,"./validate":126}],140:[function(t,e,n){"use strict";var r=t("./validate_property");e.exports=function(t){return r(t,"paint")}},{"./validate_property":141}],141:[function(t,e,n){"use strict";var r=t("./validate"),i=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t,e){var n=t.key,a=t.style,s=t.styleSpec,u=t.value,l=t.objectKey,c=s[e+"_"+t.layerType];if(!c)return[];var f=l.match(/^(.*)-transition$/);if("paint"===e&&f&&c[f[1]]&&c[f[1]].transition)return r({key:n,value:u,valueSpec:s.transition,style:a,styleSpec:s});var h=t.valueSpec||c[l];if(!h)return[new i(n,u,'unknown property "%s"',l)];var p;if("string"===o(u)&&h["property-function"]&&!h.tokens&&(p=/^{([^}]+)}$/.exec(u)))return[new i(n,u,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',l,JSON.stringify(p[1]))];var d=[];return"symbol"===t.layerType&&"text-field"===l&&a&&!a.glyphs&&d.push(new i(n,u,'use of "text-field" requires a style "glyphs" property')),d.concat(r({key:t.key,value:u,valueSpec:h,style:a,styleSpec:s}))}},{"../error/validation_error":103,"../util/get_type":121,"./validate":126}],142:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var l=i(e.type),c=[];switch(l){case"vector":case"raster":if(c=c.concat(o({key:n,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,e[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return o({key:n,value:e,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":103,"../util/unbundle_jsonlint":125,"./validate_enum":131,"./validate_object":139}],143:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"string"!==o?[new i(n,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":103,"../util/get_type":121}],144:[function(t,e,n){"use strict";function r(t,e){e=e||u;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),e.$version>7&&t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),i(n)}function i(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return i(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),u=t("./reference/latest"),l=t("./validate/validate_glyphs_url");r.source=o(t("./validate/validate_source")),r.light=o(t("./validate/validate_light")),r.layer=o(t("./validate/validate_layer")),r.filter=o(t("./validate/validate_filter")),r.paintProperty=o(t("./validate/validate_paint_property")),r.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=r},{"./reference/latest":118,"./validate/validate":126,"./validate/validate_constants":130,"./validate/validate_filter":132,"./validate/validate_glyphs_url":134,"./validate/validate_layer":135,"./validate/validate_layout_property":136,"./validate/validate_light":137,"./validate/validate_paint_property":140,"./validate/validate_source":142}],145:[function(t,e,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},r.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})},e.exports=r},{}],146:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSpriteURL,s=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},u=function(t){function e(e,n){var r=this;t.call(this),this.base=e,this.retina=o.devicePixelRatio>1,this.setEventedParent(n);var s=this.retina?"@2x":"";i.getJSON(a(e,s,".json"),function(t,e){return t?void r.fire("error",{error:t}):(r.data=e,void(r.imgData&&r.fire("data",{dataType:"style"})))}),i.getImage(a(e,s,".png"),function(t,e){return t?void r.fire("error",{error:t}):(r.imgData=o.getImageData(e),r.width=e.width,void(r.data&&r.fire("data",{dataType:"style"})))})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return this.base},e.prototype.loaded=function(){return!(!this.data||!this.imgData)},e.prototype.resize=function(){var t=this;if(o.devicePixelRatio>1!==this.retina){var n=new e(this.base);n.on("data",function(){t.data=n.data,t.imgData=n.imgData,t.width=n.width,t.retina=n.retina})}},e.prototype.getSpritePosition=function(t){if(!this.loaded())return new s;var e=this.data&&this.data[t];return e&&this.imgData?e:new s},e}(r);e.exports=u},{"../util/ajax":193,"../util/browser":194,"../util/evented":202,"../util/mapbox":209}],147:[function(t,e,n){"use strict";var r=t("../style-spec/reference/latest"),i=t("../util/util"),o=t("../util/evented"),a=t("./validate_style"),s=t("./style_declaration"),u=t("./style_transition"),l="-transition",c=function(t){function e(e){t.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=r.light,this.set(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){var e=this;if(!this._validate(a.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=i.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},t);for(var n=0,r=e.properties;n<r.length;n+=1){var o=r[n];e._declarations[o]=new s(e._specifications[o],t[o])}return this}},e.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},e.prototype.getLightProperty=function(t){return i.endsWith(t,l)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},e.prototype.getLightValue=function(t,e){if("position"===t){var n=this._transitions[t].calculate(e),r=i.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[t].calculate(e)},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var r=t[n];i.endsWith(n,l)?e._transitionOptions[n]=r:null===r||void 0===r?delete e._declarations[n]:e._declarations[n]=new s(e._specifications[n],r)}},e.prototype.recalculate=function(t){var e=this;for(var n in e._declarations)e.calculated[n]=e.getLightValue(n,{zoom:t})},e.prototype._applyLightDeclaration=function(t,e,n,r,o){var a=n.transition?this._transitions[t]:void 0,c=this._specifications[t];if(null!==e&&void 0!==e||(e=new s(c,c.default)),!a||a.declaration.json!==e.json){var f=i.extend({duration:300,delay:0},r,this.getLightProperty(t+l)),h=this._transitions[t]=new u(c,e,a,f);h.instant()||(h.loopID=o.set(h.endTime-Date.now())),a&&o.cancel(a.loopID)}},e.prototype.updateLightTransitions=function(t,e,n){var r,i=this;for(r in i._declarations)i._applyLightDeclaration(r,i._declarations[r],t,e,n)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,i.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:r})))},e}(o);e.exports=c},{"../style-spec/reference/latest":118,"../util/evented":202,"../util/util":215,"./style_declaration":149,"./style_transition":157,"./validate_style":158}],148:[function(t,e,n){"use strict";var r=t("../util/evented"),i=t("./style_layer"),o=t("./image_sprite"),a=t("./light"),s=t("../symbol/glyph_source"),u=t("../symbol/sprite_atlas"),l=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),h=t("../util/mapbox"),p=t("../util/browser"),d=t("../util/dispatcher"),v=t("./animation_loop"),m=t("./validate_style"),g=t("../source/source"),y=t("../source/query_features"),_=t("../source/source_cache"),b=t("../style-spec/reference/latest"),x=t("../style-spec/function"),w=t("../util/global_worker_pool"),E=t("../style-spec/deref"),T=t("../style-spec/diff"),I=t("../source/rtl_text_plugin"),C=c.pick(T.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),M=c.pick(T.operations,["setCenter","setZoom","setBearing","setPitch"]),A=function(t){function e(e,n,r){var i=this;t.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new v,this.dispatcher=new d(w(),this),this.spriteAtlas=new u(1024,1024),this.spriteAtlas.setEventedParent(this),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),r=c.extend({validate:"string"!=typeof e||!h.isMapboxURL(e)},r),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var a=this;this._rtlTextPluginCallback=I.registerForPluginAvailability(function(t){a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in a.sourceCaches)a.sourceCaches[e].reload()});var g=function(t,e){if(t)return void i.fire("error",{error:t});if(!r.validate||!m.emitErrors(i,m(e))){i._loaded=!0,i.stylesheet=e,i.updateClasses();for(var n in e.sources)i.addSource(n,e.sources[n],r);e.sprite&&(i.sprite=new o(e.sprite,i)),i.glyphSource=new s(e.glyphs),i._resolve(),i.fire("data",{dataType:"style"}),i.fire("style.load")}};"string"==typeof e?f.getJSON(h.normalizeStyleURL(e),g):p.frame(g.bind(this,null,e)),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=i.sourceCaches[t.sourceId].getSource();if(e&&e.vectorLayerIds)for(var n in i._layers){var r=i._layers[n];r.source===e.id&&i._validateLayer(r)}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(t.sourceLayer&&e){var n=e.getSource();("geojson"===n.type||n.vectorLayerIds&&n.vectorLayerIds.indexOf(t.sourceLayer)===-1)&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')})}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},e.prototype._resolve=function(){var t=this,e=E(this.stylesheet.layers);this._order=e.map(function(t){return t.id}),this._layers={};for(var n=0,r=e;n<r.length;n+=1){var o=r[n];o=i.create(o),o.setEventedParent(t,{layer:{id:o.id}}),t._layers[o.id]=o}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new a(this.stylesheet.light)},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyClasses=function(t,e){var n=this;if(this._loaded){t=t||[],e=e||{transition:!0};var r=this.stylesheet.transition||{},i=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var o in i){var a=n._layers[o],s=n._updatedPaintProps[o];if(n._updatedAllPaintProps||s.all)a.updatePaintTransitions(t,e,r,n.animationLoop,n.zoomHistory);else for(var u in s)n._layers[o].updatePaintTransition(u,t,e,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(e,r,this.animationLoop)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var n in e.sourceCaches)e.sourceCaches[n].used=!1;this._updateZoomHistory(t);for(var r=0,i=e._order;r<i.length;r+=1){var o=i[r],a=e._layers[o];a.recalculate(t),!a.isHidden(t)&&a.source&&(e.sourceCaches[a.source].used=!0)}this.light.recalculate(t);var s=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(s),this.z=t}},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t,e){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(r.length||i.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,i);for(var o in n._updatedSources){var a=n._updatedSources[o];"reload"===a?n._reloadSource(o):"clear"===a&&n._clearSource(o)}this._applyClasses(t,e),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===n._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:r})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),m.emitErrors(this,m(t)))return!1;t=c.extend({},t),t.layers=E(t.layers);var n=T(this.serialize(),t).filter(function(t){return!(t.command in M)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in C)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var i=["vector","raster","geojson","video","image","canvas"],o=i.indexOf(e.type)>=0;if(!o||!this._validate(m.source,"sources."+t,e,null,n)){var a=this.sourceCaches[t]=new _(t,e,this.dispatcher);a.style=this,a.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:a.serialize(),sourceId:t}}),a.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if("object"==typeof t.source&&(this.addSource(r,t.source),t=c.extend(t,{source:r})),!this._validate(m.layer,"layers."+r,t,{arrayIndex:-1},n)){var o=i.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var a=e?this._order.indexOf(e):this._order.length;if(this._order.splice(a,0,r),this._layers[r]=o,this._removedLayers[r]&&o.source){var s=this._removedLayers[r];delete this._removedLayers[r],this._updatedSources[o.source]=s.type!==o.type?"clear":"reload"}this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},e.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var n=this._layers[t];if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var r=this._order.indexOf(t);this._order.splice(r,1);var i=e?this._order.indexOf(e):this._order.length;this._order.splice(i,0,t),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload"))},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);return r?void(r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);return n?void(null!==e&&void 0!==e&&this._validate(m.filter,"layers."+n.id+".filter",e)||c.deepEqual(n.filter,e)||(n.filter=c.clone(e),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);return r?void(c.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n,r){this._checkLoaded();var i=this.getLayer(t);if(!i)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(i.getPaintProperty(e,r),n)){var o=i.isPaintValueFeatureConstant(e);i.setPaintProperty(e,n,r);var a=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);a&&o||this._updateLayer(i),this.updateClasses(t,e)}},e.prototype.getPaintProperty=function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updateClasses=function(t,e){if(this._changed=!0,t){var n=this._updatedPaintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload"),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],r=this._order.length-1;r>=0;r--)for(var i=e._order[r],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s[i];if(u)for(var l=0,c=u;l<c.length;l+=1){var f=c[l];n.push(f)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,r){var i=this;e&&e.filter&&this._validate(m.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return void this.fire("error",{error:"parameters.layers must be an Array."});for(var a=0,s=e.layers;a<s.length;a+=1){var u=s[a],l=i._layers[u];if(!l)return void i.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."});o[l.source]=!0}}var c=[];for(var f in i.sourceCaches)if(!e.layers||o[f]){var h=y.rendered(i.sourceCaches[f],i._layers,t,e,n,r);c.push(h)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(m.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?y.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return g.getType(t)?n(new Error('A source type called "'+t+'" already exists.')):(g.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var i in t)if(!c.deepEqual(t[i],n[i])){r=!0;break}if(r){var o=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{transition:!0},o,this.animationLoop)}},e.prototype._validate=function(t,e,n,r,i){return(!i||i.validate!==!1)&&m.emitErrors(this,t.call(m,c.extend({key:e,style:this.serialize(),value:n,styleSpec:b},r)))},e.prototype._remove=function(){var t=this;I.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._redoPlacement=function(){var t=this;for(var e in t.sourceCaches)t.sourceCaches[e].redoPlacement()},e.prototype.getIcons=function(t,e,n){var r=this,i=function(){r.spriteAtlas.setSprite(r.sprite),r.spriteAtlas.addIcons(e.icons,n)};!this.sprite||this.sprite.loaded()?i():this.sprite.on("data",i)},e.prototype.getGlyphs=function(t,e,n){function r(t,e,r){t&&console.error(t),s[r]=e,a--,0===a&&n(null,s)}var i=this,o=e.stacks,a=Object.keys(o).length,s={};for(var u in o)i.glyphSource.getSimpleGlyphs(u,o[u],e.uid,r)},e}(r);e.exports=A},{"../render/line_atlas":75,"../source/query_features":88,"../source/rtl_text_plugin":90,"../source/source":91,"../source/source_cache":92,"../style-spec/deref":101,"../style-spec/diff":102,"../style-spec/function":106,"../style-spec/reference/latest":118,"../symbol/glyph_source":167,"../symbol/sprite_atlas":171,"../util/ajax":193,"../util/browser":194,"../util/dispatcher":200,"../util/evented":202,"../util/global_worker_pool":204,"../util/mapbox":209,"../util/util":215,"./animation_loop":145,"./image_sprite":146,"./light":147,"./style_layer":150,"./validate_style":158}],149:[function(t,e,n){"use strict";var r=t("../style-spec/function"),i=t("../util/util"),o=function(t,e){var n=this;if(this.value=i.clone(e),this.isFunction=r.isFunctionDefinition(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.function=r(this.value,t),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,this.isFeatureConstant||this.isZoomConstant){if(!this.isZoomConstant){this.stopZoomLevels=[];for(var o=0,a=n.value.stops;o<a.length;o+=1){var s=a[o];n.stopZoomLevels.indexOf(s[0])<0&&n.stopZoomLevels.push(s[0])}}}else{this.stopZoomLevels=[];for(var u=[],l=0,c=n.value.stops;l<c.length;l+=1){var f=c[l],h=f[0].zoom;n.stopZoomLevels.indexOf(h)<0&&(n.stopZoomLevels.push(h),u.push([h,u.length]))}this._functionInterpolationT=r({type:"exponential",stops:u,base:e.base},{type:"number"})}};o.prototype.calculate=function(t,e){var n=this.function(t&&t.zoom,e||{});return void 0!==this.minimum&&n<this.minimum?this.minimum:n},o.prototype.calculateInterpolationT=function(t){return this.isFeatureConstant||this.isZoomConstant?0:this._functionInterpolationT(t&&t.zoom,{})},e.exports=o},{"../style-spec/function":106,"../util/util":215}],150:[function(t,e,n){"use strict";function r(t){return t.value}var i=t("../util/util"),o=t("./style_transition"),a=t("./style_declaration"),s=t("../style-spec/reference/latest"),u=t("./validate_style"),l=t("./../style-spec/util/parse_color"),c=t("../util/evented"),f="-transition",h=function(t){function e(e){var n=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.source=e.source,this.sourceLayer=e["source-layer"],this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.filter=e.filter,this.paint={},this.layout={},this._paintSpecifications=s["paint_"+this.type],this._layoutSpecifications=s["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,i,o={validate:!1};for(var a in e){var u=a.match(/^paint(?:\.(.*))?$/);if(u){var l=u[1]||"";for(r in e[a])n.setPaintProperty(r,e[a][r],l,o)}}for(i in e.layout)n.setLayoutProperty(i,e.layout[i],o);for(r in n._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(i in n._layoutSpecifications)n._updateLayoutValue(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setLayoutProperty=function(t,e,n){if(null==e)delete this._layoutDeclarations[t];else{var r="layers."+this.id+".layout."+t;if(this._validate(u.layoutProperty,r,t,e,n))return;this._layoutDeclarations[t]=new a(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},e.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},e.prototype.getLayoutValue=function(t,e,n){var r=this._layoutSpecifications[t],i=this._layoutDeclarations[t];return i?i.calculate(e,n):r.default},e.prototype.setPaintProperty=function(t,e,n,r){var o="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(i.endsWith(t,f))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._validate(u.paintProperty,o,t,e,r))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._validate(u.paintProperty,o,t,e,r))return;this._paintDeclarations[n||""][t]=new a(this._paintSpecifications[t],e)}},e.prototype.getPaintProperty=function(t,e){return e=e||"",i.endsWith(t,f)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},e.prototype.getPaintValue=function(t,e,n){var r=this._paintSpecifications[t],i=this._paintTransitions[t];return i?i.calculate(e,n):"color"===r.type&&r.default?l(r.default):r.default},e.prototype.getPaintValueStopZoomLevels=function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},e.prototype.getLayoutValueStopZoomLevels=function(t){var e=this._layoutDeclarations[t];return e?e.stopZoomLevels:[]},e.prototype.getPaintInterpolationT=function(t,e){var n=this._paintTransitions[t];return n.declaration.calculateInterpolationT(e)},e.prototype.getLayoutInterpolationT=function(t,e){var n=this._layoutDeclarations[t];return n.calculateInterpolationT(e)},e.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},e.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},e.prototype.isPaintValueZoomConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},e.prototype.isLayoutValueZoomConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isZoomConstant},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility)},e.prototype.updatePaintTransitions=function(t,e,n,r,o){for(var a=this,s=i.extend({},this._paintDeclarations[""]),u=0;u<t.length;u++)i.extend(s,a._paintDeclarations[t[u]]);var l;for(l in s)a._applyPaintDeclaration(l,s[l],e,n,r,o);for(l in a._paintTransitions)l in s||a._applyPaintDeclaration(l,null,e,n,r,o)},e.prototype.updatePaintTransition=function(t,e,n,r,i,o){for(var a=this,s=this._paintDeclarations[""][t],u=0;u<e.length;u++){var l=a._paintDeclarations[e[u]];l&&l[t]&&(s=l[t])}this._applyPaintDeclaration(t,s,n,r,i,o)},e.prototype.recalculate=function(t){var e=this;for(var n in e._paintTransitions)e.paint[n]=e.getPaintValue(n,{zoom:t});for(var r in e._layoutFunctions)e.layout[r]=e.getLayoutValue(r,{zoom:t})},e.prototype.serialize=function(){var t=this,e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:i.mapObject(this._layoutDeclarations,r)};for(var n in t._paintDeclarations){var o=""===n?"paint":"paint."+n;e[o]=i.mapObject(t._paintDeclarations[n],r)}return i.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},e.prototype._applyPaintDeclaration=function(t,e,n,r,s,u){var l=n.transition?this._paintTransitions[t]:void 0,c=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new a(c,c.default)),!l||l.declaration.json!==e.json){var h=i.extend({duration:300,delay:0},r,this.getPaintProperty(t+f)),p=this._paintTransitions[t]=new o(c,e,l,h,u);p.instant()||(p.loopID=s.set(p.endTime-Date.now())),l&&s.cancel(l.loopID)}},e.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},e.prototype._validate=function(t,e,n,r,i){return(!i||i.validate!==!1)&&u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:s,style:{glyphs:!0,sprite:!0}}))},e}(c);e.exports=h;var p={circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer")};h.create=function(t){var e=p[t.type]||h;return new e(t)}},{"../style-spec/reference/latest":118,"../util/evented":202,"../util/util":215,"./../style-spec/util/parse_color":123,"./style_declaration":149,"./style_layer/circle_style_layer":151,"./style_layer/fill_extrusion_style_layer":152,"./style_layer/fill_style_layer":153,"./style_layer/line_style_layer":154,"./style_layer/symbol_style_layer":155,"./style_transition":157,"./validate_style":158}],151:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/circle_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new i(t)},e}(r);e.exports=o},{"../../data/bucket/circle_bucket":45,"../style_layer":150}],152:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_extrusion_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var i=t.prototype.getPaintValue.call(this,e,n,r);return"fill-extrusion-color"===e&&i&&(i[3]=1),i},e.prototype.createBucket=function(t){return new i(t)},e}(r);e.exports=o},{"../../data/bucket/fill_extrusion_bucket":47,"../style_layer":150}],153:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/fill_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var i=this;if("fill-outline-color"===e){if(void 0===this.getPaintProperty("fill-outline-color"))return t.prototype.getPaintValue.call(this,"fill-color",n,r);for(var o=this._paintTransitions["fill-outline-color"];o;){var a=o&&o.declaration&&o.declaration.value;if(!a)return t.prototype.getPaintValue.call(i,"fill-color",n,r);o=o.oldTransition}}return t.prototype.getPaintValue.call(this,e,n,r)},e.prototype.getPaintValueStopZoomLevels=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):t.prototype.getPaintValueStopZoomLevels.call(this,e)},e.prototype.getPaintInterpolationT=function(e,n){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintInterpolationT.call(this,"fill-color",n):t.prototype.getPaintInterpolationT.call(this,e,n)},e.prototype.isPaintValueFeatureConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):t.prototype.isPaintValueFeatureConstant.call(this,e)},e.prototype.isPaintValueZoomConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueZoomConstant.call(this,"fill-color"):t.prototype.isPaintValueZoomConstant.call(this,e)},e.prototype.createBucket=function(t){return new i(t)},e}(r);e.exports=o},{"../../data/bucket/fill_bucket":46,"../style_layer":150}],154:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/line_bucket"),o=t("../../util/util"),a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,r){var i=t.prototype.getPaintValue.call(this,e,n,r);if(i&&"line-dasharray"===e){var a=this.getPaintValue("line-width",o.extend({},n,{zoom:Math.floor(n.zoom)}),r);i.fromScale*=a,i.toScale*=a}return i},e.prototype.createBucket=function(t){return new i(t)},e}(r);e.exports=a},{"../../data/bucket/line_bucket":48,"../../util/util":215,"../style_layer":150}],155:[function(t,e,n){"use strict";var r=t("../style_layer"),i=t("../../data/bucket/symbol_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,n,r){var i=t.prototype.getLayoutValue.call(this,e,n,r);if("auto"!==i)return i;switch(e){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);default:return i}},e.prototype.createBucket=function(t){return new i(t)},e}(r);e.exports=o},{"../../data/bucket/symbol_bucket":49,"../style_layer":150}],156:[function(t,e,n){"use strict";var r=t("./style_layer"),i=t("../util/util"),o=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){var e=this;this.symbolOrder=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];"symbol"===i.type&&e.symbolOrder.push(i.id)}this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e,n){for(var s=this,u=0,l=t;u<l.length;u+=1){var c=l[u];s._layerConfigs[c.id]=c;var f=s._layers[c.id]=r.create(c);f.updatePaintTransitions({},{transition:!1}),f.filter=o(f.filter)}for(var h=0,p=e;h<p.length;h+=1){var d=p[h];delete s._layerConfigs[d],delete s._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var v=a(i.values(this._layerConfigs)),m=0,g=v;m<g.length;m+=1){var y=g[m],_=y.map(function(t){return s._layers[t.id]}),b=_[0];if(!b.layout||"none"!==b.layout.visibility){var x=b.source||"",w=s.familiesBySource[x];w||(w=s.familiesBySource[x]={});var E=b.sourceLayer||"_geojsonTileLayer",T=w[E];T||(T=w[E]=[]),T.push(_)}}},e.exports=s},{"../style-spec/feature_filter":104,"../style-spec/group_by_layout":107,"../util/util":215,"./style_layer":150}],157:[function(t,e,n){"use strict";function r(t,e,n){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var i=t("../util/util"),o=t("../style-spec/util/interpolate"),a={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},s=function(t,e,n,i,s){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=i.duration||0,this.delay=i.delay||0,this.zoomTransitioned="piecewise-constant"===t.function&&t.transition,this.interp=this.zoomTransitioned?r:o[t.type],this.zoomHistory=s||a,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};s.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},s.prototype.calculate=function(t,e,n){var r=this._calculateTargetValue(t,e);if(this.instant())return r;if(n=n||Date.now(),n>=this.endTime)return r;var o=this.oldTransition.calculate(t,e,this.startTime),a=i.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(o,r,a)},s.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var n=t.zoom,r=this.zoomHistory.lastIntegerZoom,i=n>r?2:.5,a=this.declaration.calculate({zoom:n>r?n-1:n+1},e),s=this.declaration.calculate({zoom:n},e),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(n-r),c=o(u,1,l);return void 0!==a&&void 0!==s?{from:a,fromScale:i,to:s,toScale:1,t:c}:void 0},e.exports=s},{"../style-spec/util/interpolate":122,"../util/util":215}],158:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0;n<e.length;n++)t.fire("error",{error:new Error(e[n].message)});return!0}return!1}},{"../style-spec/validate_style.min":144}],159:[function(t,e,n){"use strict";var r=t("point-geometry"),i=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);e.exports=i},{"point-geometry":25}],160:[function(t,e,n){"use strict";function r(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(a--,a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],h=t[a+1];if(!h)return!1;var p=c.angleTo(f)-f.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(h)}return!0}e.exports=r},{}],161:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],h=u[c+1];f.x<e&&h.x<e||(f.x<e?f=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round():h.x<e&&(h=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round()),f.y<n&&h.y<n||(f.y<n?f=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round():h.y<n&&(h=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round()),f.x>=r&&h.x>=r||(f.x>=r?f=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round():h.x>=r&&(h=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round():h.y>=o&&(h=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(h)))))}return a}var i=t("point-geometry");e.exports=r},{"point-geometry":25}],162:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=t("point-geometry"),o=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new i(this.anchorPointX,this.anchorPointY)}}),e.exports=o},{"../util/struct_array":212,"point-geometry":25}],163:[function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s,u,l,c){var f=a.top*s-u,h=a.bottom*s+u,p=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=t.length,l){var v=h-f,m=d-p;if(v>0)if(v=Math.max(10*s,v),c){var g=e[n.segment+1].sub(e[n.segment])._unit()._mult(m),y=[n.sub(g),n.add(g)];this._addLineCollisionBoxes(t,y,n,0,m,v,r,i,o)}else this._addLineCollisionBoxes(t,e,n,n.segment,m,v,r,i,o)}else t.emplaceBack(n.x,n.y,p,f,d,h,1/0,r,i,o,0,0,0,0,0);this.boxEndIndex=t.length};r.prototype._addLineCollisionBoxes=function(t,e,n,r,i,o,a,s,u){var l=o/2,c=Math.floor(i/l),f=Math.floor(c/4),h=-o/2,p=n,d=r+1,v=h,m=-i/2,g=m-i/8;do{if(d--,d<0){if(v>m)return;d=0;break}v-=e[d].dist(p),p=e[d]}while(v>g);for(var y=e[d].dist(e[d+1]),_=-f;_<c+f;_++){var b=m+_*l;if(!(b<v)){for(;v+y<b;){if(v+=y,d++,d+1>=e.length)return;y=e[d].dist(e[d+1])}var x=b-v,w=e[d],E=e[d+1],T=E.sub(w)._unit()._mult(x)._add(w)._round(),I=Math.max(Math.abs(b-h)-l/2,0),C=i/2/I;(_<0||_>=c)&&(C=Math.min(C,.99)),t.emplaceBack(T.x,T.y,-o/2,-o/2,o/2,o/2,C,a,s,u,0,0,0,0,0)}}},e.exports=r},{}],164:[function(t,e,n){"use strict";var r=t("point-geometry"),i=t("../data/extent"),o=t("grid-index"),a=t("../util/intersection_tests"),s=function(t,e,n,r,a){if("object"==typeof t){var s=t;a=e,t=s.angle,e=s.pitch,n=s.cameraToCenterDistance,r=s.cameraToTileDistance,this.grid=new o(s.grid),this.ignoredGrid=new o(s.ignoredGrid)}else this.grid=new o(i,12,6),this.ignoredGrid=new o(i,12,0);this.perspectiveRatio=1+.5*(r/n-1),this.minScale=.5/this.perspectiveRatio,this.maxScale=2/this.perspectiveRatio,this.angle=t,this.pitch=e,this.cameraToCenterDistance=n,this.cameraToTileDistance=r;var u=Math.sin(t),l=Math.cos(t);if(this.rotationMatrix=[l,-u,u,l],this.reverseRotationMatrix=[l,u,-u,l],this.yStretch=Math.max(1,r/(n*Math.cos(e/180*Math.PI))),this.collisionBoxArray=a,0===a.length){a.emplaceBack();var c=32767;a.emplaceBack(0,0,0,-c,0,c,c,0,0,0,0,0,0,0,0,0),a.emplaceBack(i,0,0,-c,0,c,c,0,0,0,0,0,0,0,0,0),a.emplaceBack(0,0,-c,0,c,0,c,0,0,0,0,0,0,0,0,0),a.emplaceBack(0,i,-c,0,c,0,c,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=a.get(0),this.edges=[a.get(1),a.get(2),a.get(3),a.get(4)]};s.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(n)),{angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,grid:e,ignoredGrid:n}},s.prototype.placeCollisionFeature=function(t,e,n){for(var i=this,o=this.collisionBoxArray,a=this.minScale,s=this.rotationMatrix,u=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var c=o.get(l),f=c.anchorPoint._matMult(s),h=f.x,p=f.y,d=h+c.x1*i.perspectiveRatio,v=p+c.y1*u*i.perspectiveRatio,m=h+c.x2*i.perspectiveRatio,g=p+c.y2*u*i.perspectiveRatio;if(c.bbox0=d,c.bbox1=v,c.bbox2=m,c.bbox3=g,!e)for(var y=i.grid.query(d,v,m,g),_=0;_<y.length;_++){var b=o.get(y[_]),x=b.anchorPoint._matMult(s);if(a=i.getPlacementScale(a,f,c,x,b),a>=i.maxScale)return a}if(n){var w=void 0;if(i.angle){var E=i.reverseRotationMatrix,T=new r(c.x1,c.y1).matMult(E),I=new r(c.x2,c.y1).matMult(E),C=new r(c.x1,c.y2).matMult(E),M=new r(c.x2,c.y2).matMult(E);w=i.tempCollisionBox,w.anchorPointX=c.anchorPoint.x,w.anchorPointY=c.anchorPoint.y,w.x1=Math.min(T.x,I.x,C.x,M.x),w.y1=Math.min(T.y,I.x,C.x,M.x),w.x2=Math.max(T.x,I.x,C.x,M.x),w.y2=Math.max(T.y,I.x,C.x,M.x),w.maxScale=c.maxScale}else w=c;for(var A=0;A<this.edges.length;A++){var S=i.edges[A];if(a=i.getPlacementScale(a,c.anchorPoint,w,S.anchorPoint,S),a>=i.maxScale)return a}}}return a},s.prototype.queryRenderedSymbols=function(t,e){var n={},i=[];if(0===t.length||0===this.grid.keys.length&&0===this.ignoredGrid.keys.length)return i;for(var o=this.collisionBoxArray,s=this.rotationMatrix,u=this.yStretch,l=[],c=1/0,f=1/0,h=-(1/0),p=-(1/0),d=0;d<t.length;d++)for(var v=t[d],m=0;m<v.length;m++){var g=v[m].matMult(s);c=Math.min(c,g.x),f=Math.min(f,g.y),h=Math.max(h,g.x),p=Math.max(p,g.y),l.push(g)}for(var y=this.grid.query(c,f,h,p),_=this.ignoredGrid.query(c,f,h,p),b=0;b<_.length;b++)y.push(_[b]);for(var x=e/this.perspectiveRatio,w=Math.pow(2,Math.ceil(Math.log(x)/Math.LN2*10)/10),E=0;E<y.length;E++){var T=o.get(y[E]),I=T.sourceLayerIndex,C=T.featureIndex;if(void 0===n[I]&&(n[I]={}),!n[I][C]&&!(w<T.placementScale||w>T.maxScale)){var M=T.anchorPoint.matMult(s),A=M.x+T.x1/x,S=M.y+T.y1/x*u,R=M.x+T.x2/x,L=M.y+T.y2/x*u,k=[new r(A,S),new r(R,S),new r(R,L),new r(A,L)];a.polygonIntersectsPolygon(l,k)&&(n[I][C]=!0,i.push(y[E]))}}return i},s.prototype.getPlacementScale=function(t,e,n,r,i){var o=e.x-r.x,a=e.y-r.y,s=(i.x1-n.x2)/o,u=(i.x2-n.x1)/o,l=(i.y1-n.y2)*this.yStretch/a,c=(i.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var f=Math.min(Math.max(s,u),Math.max(l,c)),h=i.maxScale,p=n.maxScale;return f>h&&(f=h),f>p&&(f=p),f>t&&f>=i.placementScale&&(t=f),t},s.prototype.insertCollisionFeature=function(t,e,n){for(var r=this,i=n?this.ignoredGrid:this.grid,o=this.collisionBoxArray,a=t.boxStartIndex;a<t.boxEndIndex;a++){var s=o.get(a);s.placementScale=e,e<r.maxScale&&(1===r.perspectiveRatio||s.maxScale>=1)&&i.insert(a,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},e.exports=s},{"../data/extent":53,"../util/intersection_tests":206,"grid-index":16,"point-geometry":25}],165:[function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,u,l){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e-f*s<e/4&&(e=f*s+e/4);var p=2*a,d=h?e/2*u%e:(f/2+p)*s*u%e;return i(t,d,e,c,n,f*s,h,!1,l)}function i(t,e,n,r,u,l,c,f,h){for(var p=l/2,d=0,v=0;v<t.length-1;v++)d+=t[v].dist(t[v+1]);for(var m=0,g=e-n,y=[],_=0;_<t.length-1;_++){for(var b=t[_],x=t[_+1],w=b.dist(x),E=x.angleTo(b);g+n<m+w;){g+=n;var T=(g-m)/w,I=o(b.x,x.x,T),C=o(b.y,x.y,T);if(I>=0&&I<h&&C>=0&&C<h&&g-p>=0&&g+p<=d){var M=new a(I,C,E,_)._round();r&&!s(t,M,l,r,u)||y.push(M)}}m+=w}return f||y.length||c||(y=i(t,m/2,n,r,u,l,c,!0,h)),y}var o=t("../style-spec/util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../style-spec/util/interpolate":122,"../symbol/anchor":159,"./check_max_angle":160}],166:[function(t,e,n){"use strict";var r=t("@mapbox/shelf-pack"),i=t("../util/util"),o=4,a=128,s=2048,u=function(){this.width=a,this.height=a,this.atlas=new r(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};u.prototype.getGlyphs=function(){var t,e,n,r=this,i={};for(var o in r.ids)t=o.split("#"),e=t[0],n=t[1],i[e]||(i[e]=[]),i[e].push(n);return i},u.prototype.getRects=function(){var t,e,n,r=this,i={};for(var o in r.ids)t=o.split("#"),e=t[0],n=t[1],i[e]||(i[e]={}),i[e][n]=r.index[o];return i},u.prototype.addGlyph=function(t,e,n,r){var o=this;if(!n)return null;var a=e+"#"+n.id;if(this.index[a])return this.ids[a].indexOf(t)<0&&this.ids[a].push(t),this.index[a];if(!n.bitmap)return null;var s=n.width+2*r,u=n.height+2*r,l=1,c=s+2*l,f=u+2*l,h=this.atlas.packOne(c,f);if(h||(this.resize(),h=this.atlas.packOne(c,f)),!h)return i.warnOnce("glyph bitmap overflow"),null;this.index[a]=h,this.ids[a]=[t];for(var p=this.data,d=n.bitmap,v=0;v<u;v++)for(var m=o.width*(h.y+v+l)+h.x+l,g=s*v,y=0;y<s;y++)p[m+y]=d[g+y];return this.dirty=!0,h},u.prototype.resize=function(){var t=this,e=this.width,n=this.height;if(!(e>=s||n>=s)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=o,this.height*=o,this.atlas.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),i=0;i<n;i++){var a=new Uint8Array(t.data.buffer,n*i,e),u=new Uint8Array(r,n*i*o,e);u.set(a)}this.data=new Uint8Array(r)}},u.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},u.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)},e.exports=u},{"../util/util":215,"@mapbox/shelf-pack":2}],167:[function(t,e,n){"use strict";function r(t,e,n,r){return r=r||"abc",n.replace("{s}",r[t.length%r.length]).replace("{fontstack}",t).replace("{range}",e)}var i=t("../util/mapbox").normalizeGlyphsURL,o=t("../util/ajax"),a=t("../util/verticalize_punctuation"),s=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),l=t("pbf"),c=function(t,e,n){var r=1;this.advance=t.advance,this.left=t.left-n-r,this.top=t.top+n+r,this.rect=e},f=function(t){this.url=t&&i(t),this.atlases={},this.stacks={},this.loading={}};f.prototype.getSimpleGlyphs=function(t,e,n,r){var i=this;void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u);for(var o={},s=this.stacks[t],l=this.atlases[t],f=3,h={},p=0,d=function(e){var r=Math.floor(e/256);if(s[r]){var i=s[r].glyphs[e],a=l.addGlyph(n,t,i,f);i&&(o[e]=new c(i,a,f))}else void 0===h[r]&&(h[r]=[],p++),h[r].push(e)},v=0;v<e.length;v++){var m=e[v],g=String.fromCharCode(m);d(m),a.lookup[g]&&d(a.lookup[g].charCodeAt(0))}p||r(void 0,o,t);var y=function(e,a,s){if(!e)for(var u=i.stacks[t][a]=s.stacks[0],d=0;d<h[a].length;d++){var v=h[a][d],m=u.glyphs[v],g=l.addGlyph(n,t,m,f);m&&(o[v]=new c(m,g,f))}p--,p||r(void 0,o,t)};for(var _ in h)i.loadRange(t,_,y)},f.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var i=this.loading[t];if(i[e])i[e].push(n);else{i[e]=[n];var a=256*e+"-"+(256*e+255),u=r(t,a,this.url);o.getArrayBuffer(u,function(t,n){for(var r=!t&&new s(new l(n.data)),o=0;o<i[e].length;o++)i[e][o](t,e,r);delete i[e]})}},f.prototype.getGlyphAtlas=function(t){return this.atlases[t]},e.exports=f},{"../symbol/glyph_atlas":166,"../util/ajax":193,"../util/glyphs":205,"../util/mapbox":209,"../util/verticalize_punctuation":217,pbf:24}],168:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),u++}function n(t,e,n){var r=a[t];return delete a[t],a[e]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(t,e,n){var r=o[e];return delete o[e],o[t]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function i(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var o={},a={},s=[],u=0,l=0;l<t.length;l++){var c=t[l],f=c.geometry,h=c.text;if(h){var p=i(h,f),d=i(h,f,!0);if(p in a&&d in o&&a[p]!==o[d]){var v=r(p,d,f),m=n(p,d,s[v].geometry);delete o[p],delete a[d],a[i(h,s[m].geometry,!0)]=m,s[v].geometry=null}else p in a?n(p,d,f):d in o?r(p,d,f):(e(l),o[p]=u-1,a[d]=u-1)}else e(l)}return s.filter(function(t){return t.geometry})}},{}],169:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l,c){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=r,this.br=i,this.tex=o,this.anchorAngle=a,this.glyphAngle=s,this.minScale=u,this.maxScale=l,this.writingMode=c}function i(t,e,n,i,o,a,s,u,l){var c,f,h,v,m=e.image,g=o.layout,y=1,_=e.top-y/m.pixelRatio,b=e.left-y/m.pixelRatio,x=e.bottom+y/m.pixelRatio,w=e.right+y/m.pixelRatio;if("none"!==g["icon-text-fit"]&&s){var E=w-b,T=x-_,I=g["text-size"]/24,C=s.left*I,M=s.right*I,A=s.top*I,S=s.bottom*I,R=M-C,L=S-A,k=g["icon-text-fit-padding"][0],N=g["icon-text-fit-padding"][1],F=g["icon-text-fit-padding"][2],O=g["icon-text-fit-padding"][3],B="width"===g["icon-text-fit"]?.5*(L-T):0,P="height"===g["icon-text-fit"]?.5*(R-E):0,U="width"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?R:E,D="height"===g["icon-text-fit"]||"both"===g["icon-text-fit"]?L:T;c=new p(C+P-O,A+B-k),f=new p(C+P+N+U,A+B-k),h=new p(C+P+N+U,A+B+F+D),v=new p(C+P-O,A+B+F+D)}else c=new p(b,_),f=new p(w,_),h=new p(w,x),v=new p(b,x);var z=o.getLayoutValue("icon-rotate",u,l)*Math.PI/180;if(a){var j=i[t.segment];if(t.y===j.y&&t.x===j.x&&t.segment+1<i.length){var V=i[t.segment+1];z+=Math.atan2(t.y-V.y,t.x-V.x)+Math.PI}else z+=Math.atan2(t.y-j.y,t.x-j.x)}if(z){var G=Math.sin(z),X=Math.cos(z),W=[X,-G,G,X];c=c.matMult(W),f=f.matMult(W),v=v.matMult(W),h=h.matMult(W)}var Z={x:m.textureRect.x-y,y:m.textureRect.y-y,w:m.textureRect.w+2*y,h:m.textureRect.h+2*y};return[new r(new p(t.x,t.y),c,f,v,h,Z,0,0,d,1/0)]}function o(t,e,n,i,o,u,l,c){for(var f=24,h=o.getLayoutValue("text-rotate",l,c)*Math.PI/180,v=o.layout["text-keep-upright"],m=o.getLayoutValue("text-offset",l,c).map(function(t){return t*f}),g=e.positionedGlyphs,y=[],_=d,b=0;b<g.length;b++){var x=g[b],w=x.glyph;if(w){var E=w.rect;if(E){var T=(x.x+w.advance/2)*n,I=void 0;u?(I=[],_=Math.max(_,s(I,t,T,i,t.segment,!1)),v&&(_=Math.max(_,s(I,t,T,i,t.segment,!0)))):I=[{anchorPoint:new p(t.x,t.y),upsideDown:!1,angle:0,maxScale:1/0,minScale:d}];for(var C={upright:a(x,w,E,m),upsideDown:a(x,w,E,[m[0],-m[1]])},M=0;M<I.length;M++){var A=I[M],S=C[A.upsideDown?"upsideDown":"upright"],R=S.tl,L=S.tr,k=S.bl,N=S.br;if(h){var F=Math.sin(h),O=Math.cos(h),B=[O,-F,F,O];R=R.matMult(B),L=L.matMult(B),k=k.matMult(B),N=N.matMult(B)}var P=Math.max(A.minScale,_),U=(t.angle+(A.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI),D=(A.angle+(A.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI);y.push(new r(A.anchorPoint,R,L,k,N,E,U,D,P,A.maxScale,e.writingMode))}}}}return y}function a(t,e,n,r){var i=t.x+e.left+r[0],o=t.y-e.top+r[1],a=i+n.w,s=o+n.h,u=new p(t.x,e.advance/2),l=new p(i,o),c=new p(a,o),f=new p(i,s),h=new p(a,s);return 0!==t.angle&&(l._sub(u)._rotate(t.angle)._add(u),c._sub(u)._rotate(t.angle)._add(u),f._sub(u)._rotate(t.angle)._add(u),h._sub(u)._rotate(t.angle)._add(u)),{tl:l,tr:c,bl:f,br:h}}function s(t,e,n,r,i,o){for(var a=n>=0^o,s=Math.abs(n),l=new p(e.x,e.y),d=f(a,r,i),v={anchor:l,end:d,index:i,minScale:c(s,l,d),maxScale:1/0};;){if(u(t,v,a,o),v.minScale<=e.scale)return e.scale;var m=h(v,r,s,a);if(!m)return v.minScale;v=m}}function u(t,e,n,r){var i=Math.atan2(e.end.y-e.anchor.y,e.end.x-e.anchor.x),o=n?i:i+Math.PI;t.push({anchorPoint:e.anchor,upsideDown:r,minScale:e.minScale,maxScale:e.maxScale,angle:(o+2*Math.PI)%(2*Math.PI)})}function l(t,e,n){var r=e.sub(t)._unit();return t.sub(r._mult(n))}function c(t,e,n){var r=e.dist(n);return t/r}function f(t,e,n){return t?e[n+1]:e[n]}function h(t,e,n,r){for(var i=t.end,o=i,a=t.index;o.equals(i);){if(r&&a+2<e.length)a+=1;else{if(r||0===a)return null;a-=1}o=f(r,e,a)}var s=l(i,o,t.anchor.dist(t.end));return{anchor:s,end:o,index:a,minScale:c(n,s,o),maxScale:t.minScale}}var p=t("point-geometry");e.exports={getIconQuads:i,getGlyphQuads:o,SymbolQuad:r};var d=.5},{"point-geometry":25}],170:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.codePoint=t,this.x=e,this.y=n,this.glyph=r||null,this.angle=i}function i(t,e,n,r,i,o,a){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=r,this.left=i,this.right=o,this.writingMode=a}function o(t,e){for(var n=[],r=0,i=0,o=e;i<o.length;i+=1){var a=o[i];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}function a(t,e,n,r,a,s,u,l,c,f,d){var v=t.trim();d===x.vertical&&(v=_(v));var m,g=[],y=new i(g,v,c[1],c[1],c[0],c[0],d);return m=b.processBidirectionalText?b.processBidirectionalText(v,h(v,l,n,e)):o(v,h(v,l,n,e)),p(y,e,m,r,a,s,u,c,d,l,f),!!g.length&&y}function s(t,e,n,r){var i=0;for(var o in t){var a=r[t.charCodeAt(o)];a&&(i+=a.advance+e)}var s=Math.max(1,Math.ceil(i/n));return i/s}function u(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function l(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function c(t,e,n,r,i,o){for(var a=null,s=u(e,n,i,o),l=0,c=r;l<c.length;l+=1){var f=c[l],h=e-f.x,p=u(h,n,i,o)+f.badness;p<=s&&(a=f,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function f(t){return t?f(t.priorBreak).concat(t.index):[]}function h(t,e,n,r){if(!n)return[];if(!t)return[];for(var i=[],o=s(t,e,n,r),a=0,u=0;u<t.length;u++){var h=t.charCodeAt(u),p=r[h];p&&!w[h]&&(a+=p.advance+e),u<t.length-1&&(E[h]||y.charAllowsIdeographicBreaking(h))&&i.push(c(u+1,a,o,i,l(h,t.charCodeAt(u+1)),!1))}return f(c(t.length,a,o,i,0,!0))}function p(t,e,n,i,o,a,s,u,l,c,f){var h=-17,p=0,m=h,g=0,_=t.positionedGlyphs;for(var b in n){var w=n[b].trim();if(w.length){for(var E=_.length,T=0;T<w.length;T++){var I=w.charCodeAt(T),C=e[I];C&&(y.charHasUprightVerticalOrientation(I)&&l!==x.horizontal?(_.push(new r(I,p,0,C,-Math.PI/2)),p+=f+c):(_.push(new r(I,p,m,C,0)),p+=C.advance+c))}if(_.length!==E){var M=p-c;g=Math.max(M,g),d(_,e,E,_.length-1,s)}p=0,m+=i}else m+=i}v(_,s,o,a,g,i,n.length);var A=n.length*i;t.top+=-a*A,t.bottom=t.top+A,t.left+=-o*g,t.right=t.left+g}function d(t,e,n,r,i){if(i)for(var o=e[t[r].codePoint].advance,a=(t[r].x+o)*i,s=n;s<=r;s++)t[s].x-=a}function v(t,e,n,r,i,o,a){for(var s=(e-n)*i,u=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}function m(t,e){var n=e[0],r=e[1],i=n-t.displaySize[0]/2,o=i+t.displaySize[0],a=r-t.displaySize[1]/2,s=a+t.displaySize[1];return new g(t,a,s,i,o)}function g(t,e,n,r,i){this.image=t,this.top=e,this.bottom=n,this.left=r,this.right=i}var y=t("../util/script_detection"),_=t("../util/verticalize_punctuation"),b=t("../source/rtl_text_plugin"),x={horizontal:1,vertical:2};e.exports={shapeText:a,shapeIcon:m,WritingMode:x};var w={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},E={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":90,"../util/script_detection":210,"../util/verticalize_punctuation":217}],171:[function(t,e,n){"use strict";function r(t){var e={x:t.rect.x+c,y:t.rect.y+c,w:t.rect.w-2*c,h:t.rect.h-2*c};return{sdf:t.sdf,pixelRatio:t.pixelRatio,isNativePixelRatio:t.pixelRatio===a.devicePixelRatio,textureRect:e,tl:[e.x,e.y],br:[e.x+e.w,e.y+e.h],displaySize:[e.w/t.pixelRatio,e.h/t.pixelRatio]}}function i(t,e,n,r,i,o,a,s,u,l,c){var f,h,p=r*e+n,d=s*o+a;if(c)for(d-=o,h=-1;h<=l;h++,d+=o)for(p=((h+l)%l+r)*e+n,f=-1;f<=u;f++)i[d+f]=t[p+(f+u)%u];else for(h=0;h<l;h++,p+=e,d+=o)for(f=0;f<u;f++)i[d+f]=t[p+f]}var o=t("@mapbox/shelf-pack"),a=t("../util/browser"),s=t("../util/util"),u=t("../util/window"),l=t("../util/evented"),c=1,f=function(t){function e(e,n){t.call(this),this.images={},this.data=!1,this.texture=0,this.filter=0,this.width=e*a.devicePixelRatio,this.height=n*a.devicePixelRatio,this.shelfPack=new o(this.width,this.height),this.dirty=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPixelSize=function(){return[this.width,this.height]},e.prototype.allocateImage=function(t,e){var n=t+2*c,r=e+2*c,i=this.shelfPack.packOne(n,r);return i?i:(s.warnOnce("SpriteAtlas out of space."),null)},e.prototype.addImage=function(t,e,n){var r,i,o;if(e instanceof u.HTMLImageElement?(r=e.width,i=e.height,e=a.getImageData(e),o=1):(r=n.width,i=n.height,o=n.pixelRatio||1),ArrayBuffer.isView(e)&&(e=new Uint32Array(e.buffer)),!(e instanceof Uint32Array))return this.fire("error",{error:new Error("Image provided in an invalid format. Supported formats are HTMLImageElement and ArrayBufferView.")});if(this.images[t])return this.fire("error",{error:new Error("An image with this name already exists.")});var s=this.allocateImage(r,i);return s?(this.images[t]={rect:s,width:r,height:i,pixelRatio:o,sdf:!1},this.copy(e,r,s,{x:0,y:0,width:r,height:i},!1),void this.fire("data",{dataType:"style"})):this.fire("error",{error:new Error("There is not enough space to add this image.")})},e.prototype.removeImage=function(t){var e=this.images[t];return delete this.images[t],e?(this.shelfPack.unref(e.rect),void this.fire("data",{dataType:"style"})):this.fire("error",{error:new Error("No image with this name exists.")})},e.prototype.getIcon=function(t){return this._getImage(t,!1)},e.prototype.getPattern=function(t){return this._getImage(t,!0)},e.prototype._getImage=function(t,e){if(this.images[t])return r(this.images[t]);if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var i=this.allocateImage(n.width,n.height);if(!i)return null;var o={rect:i,width:n.width,height:n.height,sdf:n.sdf,pixelRatio:n.pixelRatio};if(this.images[t]=o,!this.sprite.imgData)return null;var a=new Uint32Array(this.sprite.imgData.buffer);return this.copy(a,this.sprite.width,i,n,e),r(o)},e.prototype.allocate=function(){var t=this;if(!this.data){this.data=new Uint32Array(this.width*this.height);for(var e=0;e<this.data.length;e++)t.data[e]=0}},e.prototype.copy=function(t,e,n,r,o){this.allocate();var a=this.data;i(t,e,r.x,r.y,a,this.getPixelSize()[0],n.x+c,n.y+c,r.width,r.height,o),this.dirty=!0},e.prototype.setSprite=function(t){t&&this.canvas&&(this.canvas.width=this.width,this.canvas.height=this.height),this.sprite=t},e.prototype.addIcons=function(t,e){for(var n=this,r={},i=0,o=t;i<o.length;i+=1){var a=o[i];r[a]=n.getIcon(a)}e(null,r)},e.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n=!0);var r=e?t.LINEAR:t.NEAREST;r!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},e}(l);e.exports=f},{"../util/browser":194,"../util/evented":202,"../util/util":215,"../util/window":196,"@mapbox/shelf-pack":2}],172:[function(t,e,n){"use strict";var r=t("../source/rtl_text_plugin");e.exports=function(t,e,n,i){var o=e.getLayoutValue("text-transform",n,i);return"uppercase"===o?t=t.toLocaleUpperCase():"lowercase"===o&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":90}],173:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){g("mouseout",t)}function a(e){t.stop(),w=r.mousePos(_,e),g("mousedown",e),x=!0}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();b&&!n&&g("contextmenu",b),b=null,x=!1,g("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==_;)n=n.parentNode;n===_&&g("mousemove",e)}}function l(e){t.stop(),y("touchstart",e),!e.touches||e.touches.length>1||(E?(clearTimeout(E),E=null,g("dblclick",e)):E=setTimeout(p,300))}function c(t){y("touchmove",t)}function f(t){y("touchend",t)}function h(t){y("touchcancel",t)}function p(){E=null}function d(t){var e=r.mousePos(_,t);e.equals(w)&&g("click",t)}function v(t){g("dblclick",t),t.preventDefault()}function m(e){var n=t.dragRotate&&t.dragRotate.isActive();x||n?x&&(b=e):g("contextmenu",e),e.preventDefault()}function g(e,n){var i=r.mousePos(_,n);return t.fire(e,{lngLat:t.unproject(i),point:i,originalEvent:n})}function y(e,n){var o=r.touchPos(_,n),a=o.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new i(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var _=t.getCanvasContainer(),b=null,x=!1,w=null,E=null;for(var T in o)t[T]=new o[T](t,e),e.interactive&&e[T]&&t[T].enable(e[T]);_.addEventListener("mouseout",n,!1),_.addEventListener("mousedown",a,!1),_.addEventListener("mouseup",s,!1),_.addEventListener("mousemove",u,!1),_.addEventListener("touchstart",l,!1),_.addEventListener("touchend",f,!1),_.addEventListener("touchmove",c,!1),_.addEventListener("touchcancel",h,!1),_.addEventListener("click",d,!1),_.addEventListener("dblclick",v,!1),_.addEventListener("contextmenu",m,!1)}},{"../util/dom":201,"./handler/box_zoom":181,"./handler/dblclick_zoom":182,"./handler/drag_pan":183,"./handler/drag_rotate":184,"./handler/keyboard":185,"./handler/scroll_zoom":186,"./handler/touch_zoom_rotate":187,"point-geometry":25}],174:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../style-spec/util/interpolate"),o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("point-geometry"),l=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=u.convert(t).mult(-1),this.panTo(this.transform.center,r.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var i=e.padding;e.padding={top:i,bottom:i,right:i,left:i}}if(!r.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return void r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");t=s.convert(t);var o=[e.padding.left-e.padding.right,e.padding.top-e.padding.bottom],a=Math.min(e.padding.right,e.padding.left),l=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=u.convert(e.offset),f=this.transform,h=f.project(t.getNorthWest()),p=f.project(t.getSouthEast()),d=p.sub(h),v=(f.width-2*a-2*Math.abs(c.x))/d.x,m=(f.height-2*l-2*Math.abs(c.y))/d.y;return m<0||v<0?void r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."):(e.center=f.unproject(h.add(p).div(2)),e.zoom=Math.min(f.scaleZoom(f.scale*Math.min(v,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),"center"in t&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),i&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t),t.animate===!1&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var o=this.transform,s=this.getZoom(),l=this.getBearing(),c=this.getPitch(),f="zoom"in t?+t.zoom:s,h="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:c,d=o.centerPoint.add(u.convert(t.offset)),v=o.pointLocation(d),m=a.convert(t.center||v);this._normalizeCenter(m);var g,y,_=o.project(v),b=o.project(m).sub(_),x=o.zoomScale(f-s);return t.around&&(g=a.convert(t.around),y=o.locationPoint(g)),this.zooming=f!==s,this.rotating=l!==h,this.pitching=p!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(o.zoom=i(s,f,t)),this.rotating&&(o.bearing=i(l,h,t)),this.pitching&&(o.pitch=i(c,p,t)),g)o.setLocationAtPoint(g,y);else{var n=o.zoomScale(o.zoom-s),r=f>s?Math.min(2,x):Math.max(.5,x),a=Math.pow(r,1-t),u=o.unproject(_.add(b.mult(t*a)).mult(n));o.setLocationAtPoint(o.renderWorldCopies?u.wrap():u,d)}this._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._easeToEnd(e)},t.delayEndEvents):n._easeToEnd(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._easeToEnd=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(C*C-I*I+(t?-1:1)*R*R*M*M)/(2*(t?C:I)*R*M);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return o(t)/s(t)}var c=this;this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var f=this.transform,h=this.getZoom(),p=this.getBearing(),d=this.getPitch(),v="zoom"in t?r.clamp(+t.zoom,f.minZoom,f.maxZoom):h,m="bearing"in t?this._normalizeBearing(t.bearing,p):p,g="pitch"in t?+t.pitch:d,y=f.zoomScale(v-h),_=f.centerPoint.add(u.convert(t.offset)),b=f.pointLocation(_),x=a.convert(t.center||b);this._normalizeCenter(x);var w=f.project(b),E=f.project(x).sub(w),T=t.curve,I=Math.max(f.width,f.height),C=I/y,M=E.mag();if("minZoom"in t){var A=r.clamp(Math.min(t.minZoom,h,v),f.minZoom,f.maxZoom),S=I/f.zoomScale(A-h);T=Math.sqrt(S/M*2)}var R=T*T,L=n(0),k=function(t){return s(L)/s(L+T*t)},N=function(t){return I*((s(L)*l(L+T*t)-o(L))/R)/M},F=(n(1)-L)/T;if(Math.abs(M)<1e-6||isNaN(F)){if(Math.abs(I-C)<1e-6)return this.easeTo(t,e);var O=C<I?-1:1;F=Math.abs(Math.log(C/I))/T,N=function(){return 0},k=function(t){return Math.exp(O*T*t)}}if("duration"in t)t.duration=+t.duration;else{var B="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*F/B}return this.zooming=!0,this.rotating=p!==m,this.pitching=g!==d,this._prepareEase(e,!1),this._ease(function(t){var n=t*F,r=1/k(n);f.zoom=h+f.scaleZoom(r),this.rotating&&(f.bearing=i(p,m,t)),this.pitching&&(f.pitch=i(d,g,t));var o=f.unproject(w.add(E.mult(N(n))).mult(r));f.setLocationAtPoint(f.renderWorldCopies?o.wrap():o,_),this._fireMoveEvents(e)},function(){return c._easeToEnd(e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var n=this._prevEase,i=(Date.now()-n.start)/n.duration,o=n.easing(i+.01)-n.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);e=r.bezier(a,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(l);e.exports=c},{"../geo/lng_lat":61,"../geo/lng_lat_bounds":62,"../style-spec/util/interpolate":122,"../util/browser":194,"../util/evented":202,"../util/util":215,"point-geometry":25}],175:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/config"),a=function(t){this.options=t,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map"));var t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(this._editLink){var e=t.reduce(function(e,n,r){return void 0!==n.value&&(e+=n.key+"="+n.value+(r<t.length-1?"&":"")),e},"?");this._editLink.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r].getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},a.prototype._updateCompact=function(){var t=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[t?"add":"remove"]("mapboxgl-compact")},e.exports=a},{"../../util/config":198,"../../util/dom":201,"../../util/util":215}],176:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=function(){this._fullscreen=!1,i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange")};a.prototype.onAdd=function(t){var e="mapboxgl-ctrl",n=this._container=r.create("div",e+" mapboxgl-ctrl-group"),i=this._fullscreenButton=r.create("button",e+"-icon "+e+"-fullscreen",this._container);return i.setAttribute("aria-label","Toggle fullscreen"),i.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),this._mapContainer=t.getContainer(),o.document.addEventListener(this._fullscreenchange,this._changeIcon),n},a.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){var t=o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement;if(t===this._mapContainer!==this._fullscreen){this._fullscreen=!this._fullscreen;var e="mapboxgl-ctrl";this._fullscreenButton.classList.toggle(e+"-shrink"),this._fullscreenButton.classList.toggle(e+"-fullscreen")}},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":201,"../../util/util":215,"../../util/window":196}],177:[function(t,e,n){"use strict";function r(t){void 0!==c?t(c):void 0!==a.navigator.permissions?a.navigator.permissions.query({name:"geolocation"}).then(function(e){c="denied"!==e.state,t(c)}):(c=!!a.navigator.geolocation,t(c))}var i=t("../../util/evented"),o=t("../../util/dom"),a=t("../../util/window"),s=t("../../util/util"),u={enableHighAccuracy:!1,timeout:6e3},l="mapboxgl-ctrl",c,f=function(t){function e(e){t.call(this),this.options=e||{},s.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=o.create("div",l+" "+l+"-group"),r(this._setupUI),this._container},e.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},e.prototype._onSuccess=function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},e.prototype._onError=function(t){this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){t!==!1&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=o.create("button",l+"-icon "+l+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.watchPosition&&this._geolocateButton.setAttribute("aria-pressed",!1),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},e.prototype._onClickGeolocate=function(){var t=s.extend(u,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove("mapboxgl-watching"),this._geolocateButton.setAttribute("aria-pressed",!1),a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add("mapboxgl-watching"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=a.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)):(a.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,t),this._timeoutId=setTimeout(this._finish,1e4))},e}(i);e.exports=f},{"../../util/dom":201,"../../util/evented":202,"../../util/util":215,"../../util/window":196}],178:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=function(){i.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){return this._map=t,this._container=r.create("div","mapboxgl-ctrl"),this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){if(t&&"metadata"===t.sourceDataType)if(!this._container.childNodes.length&&this._logoRequired()){var e=r.create("a","mapboxgl-ctrl-logo");e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._map.off("data",this._updateLogo)}else this._container.childNodes.length&&!this._logoRequired()&&this.onRemove()},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){var n=t[e].getSource();if(n.mapbox_logo)return!0}return!1}},e.exports=o},{"../../util/dom":201,"../../util/util":215}],179:[function(t,e,n){"use strict";function r(t){return new o.MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var i=t("../../util/dom"),o=t("../../util/window"),a=t("../../util/util"),s="mapboxgl-ctrl",u=function(){a.bindAll(["_rotateCompassArrow"],this)};u.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},u.prototype.onAdd=function(t){return this._map=t,this._container=i.create("div",s+" "+s+"-group",t.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(s+"-icon "+s+"-zoom-in","Zoom In",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(s+"-icon "+s+"-zoom-out","Zoom Out",t.zoomOut.bind(t)),this._compass=this._createButton(s+"-icon "+s+"-compass","Reset North",t.resetNorth.bind(t)),this._compassArrow=i.create("span",s+"-compass-arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},u.prototype._onContextMenu=function(t){t.preventDefault()},u.prototype._onCompassDown=function(t){0===t.button&&(i.disableDrag(),o.document.addEventListener("mousemove",this._onCompassMove),o.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._onCompassMove=function(t){0===t.button&&(this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._onCompassUp=function(t){0===t.button&&(o.document.removeEventListener("mousemove",this._onCompassMove),o.document.removeEventListener("mouseup",this._onCompassUp),i.enableDrag(),this._map.getCanvasContainer().dispatchEvent(r(t)),t.stopPropagation())},u.prototype._createButton=function(t,e,n){var r=i.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",function(){n()}),r},e.exports=u},{"../../util/dom":201,"../../util/util":215,"../../util/window":196}],180:[function(t,e,n){"use strict";function r(t,e,n){var r=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=o(t.unproject([0,a]),t.unproject([r,a]));if(n&&"imperial"===n.unit){var u=3.2808*s;if(u>5280){var l=u/5280;i(e,r,l,"mi")}else i(e,r,u,"ft")}else i(e,r,s,"m")}function i(t,e,n,r){var i=a(n),o=i/n;"m"===r&&i>=1e3&&(i/=1e3,r="km"),t.style.width=e*o+"px",t.innerHTML=i+r}function o(t,e){var n=6371e3,r=Math.PI/180,i=t.lat*r,o=e.lat*r,a=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*r),s=n*Math.acos(Math.min(a,1));return s}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),u=t("../../util/util"),l=function(t){this.options=t,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){r(this._map,this._container,this.options)},l.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=l},{"../../util/dom":201,"../../util/util":215}],181:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=r.mousePos(this._el,t);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=r.mousePos(this._el,t),o=(new i).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":62,"../../util/dom":201,"../../util/util":215,"../../util/window":196}],182:[function(t,e,n){"use strict";var r=function(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},e.exports=r},{}],183:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.3,s=i.bezier(0,0,a,1),u=1400,l=2500,c=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=r.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},c.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},r=this._inertia;if(r.length<2)return void n();var i=r[r.length-1],o=r[0],c=i[1].sub(o[1]),f=(i[0]-o[0])/1e3;if(0===f||i[1].equals(o[1]))return void n();var h=c.mult(a/f),p=h.mag();p>u&&(p=u,h._unit()._mult(p));var d=p/(l*a),v=h.mult(-d/2);this._map.panBy(v,{duration:1e3*d,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,r=0;return"mousemove"===t.type?t.buttons&0===n:t.button&&t.button!==r},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":201,"../../util/util":215,"../../util/window":196}],184:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.25,s=i.bezier(0,0,a,1),u=180,l=720,c=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,this._pitchWithRotate=e.pitchWithRotate!==!1,i.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault())},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var n=this._pos,i=r.mousePos(this._el,t),o=.8*(n.x-i.x),a=(n.y-i.y)*-.5,s=e.getBearing()-o,u=e.getPitch()-a,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,c[1])]),e.transform.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=i}},c.prototype._onUp=function(t){var e=this;if(!this._ignoreEvent(t)&&(o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,c=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)return void c();var f=i[0],h=i[i.length-1],p=i[i.length-2],d=n._normalizeBearing(r,p[1]),v=h[1]-f[1],m=v<0?-1:1,g=(h[0]-f[0])/1e3;if(0===v||0===g)return void c();var y=Math.abs(v*(a/g));y>u&&(y=u);var _=y/(l*a),b=m*y*(_/2);d+=b,Math.abs(n._normalizeBearing(d,0))<this._bearingSnap&&(d=n._normalizeBearing(0,d)),n.rotateTo(d,{duration:1e3*_,easing:s,noMoveStart:!0},{originalEvent:t})}},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,r=t.ctrlKey?0:2,i=t.button;return"undefined"!=typeof InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(i=0),"mousemove"===t.type?t.buttons&0===n:!this.isActive()&&i!==r},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":201,"../../util/util":215,"../../util/window":196}],185:[function(t,e,n){"use strict";function r(t){return t*(2-t)}var i=100,o=15,a=10,s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},s.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,s=0,u=0,l=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),u=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),u=1);break;case 38:t.shiftKey?s=1:(t.preventDefault(),l=-1);break;case 40:t.shiftKey?s=-1:(l=1,t.preventDefault());break;default:return}var c=this._map,f=c.getZoom(),h={duration:300,delayEndEvents:500,easing:r,zoom:e?Math.round(f)+e*(t.shiftKey?2:1):f,bearing:c.getBearing()+n*o,pitch:c.getPitch()+s*a,offset:[-u*i,-l*i],center:c.getCenter()};c.easeTo(h,{originalEvent:t})}},e.exports=s},{}],186:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/browser"),a=t("../../util/window"),s=a.navigator.userAgent.toLowerCase(),u=s.indexOf("firefox")!==-1,l=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1,c=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=o.now(),i=n-(this._time||0);this._pos=r.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(i*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var i=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(i*r);n.zoomTo(o,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=c},{"../../util/browser":194,"../../util/dom":201,"../../util/util":215,"../../util/window":196}],187:[function(t,e,n){"use strict";var r=t("../../util/dom"),i=t("../../util/util"),o=t("../../util/window"),a=.15,s=i.bezier(0,0,a,1),u=12,l=2.5,c=.15,f=4,h=function(t){this._map=t,this._el=t.getCanvasContainer(),i.bindAll(["_onStart","_onMove","_onEnd"],this)};h.prototype.isEnabled=function(){return!!this._enabled},h.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},h.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},h.prototype.disableRotation=function(){this._rotationDisabled=!0},h.prototype.enableRotation=function(){this._rotationDisabled=!1},h.prototype._onStart=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},h.prototype._onMove=function(t){if(2===t.touches.length){var e=r.mousePos(this._el,t.touches[0]),n=r.mousePos(this._el,t.touches[1]),i=e.add(n).div(2),o=e.sub(n),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(i)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,i]),u.easeTo(l,{originalEvent:t})}else{var h=Math.abs(1-a)>c,p=Math.abs(s)>f;p?this._gestureIntent="rotate":h&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},h.prototype._onEnd=function(t){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],i=e[0],c=n.transform.scaleZoom(this._startScale*r[1]),f=n.transform.scaleZoom(this._startScale*i[1]),h=c-f,p=(r[0]-i[0])/1e3,d=r[2];if(0===p||c===f)return void n.snapToNorth({},{originalEvent:t});var v=h*a/p;Math.abs(v)>l&&(v=v>0?l:-l);var m=1e3*Math.abs(v/(u*a)),g=c+v*m/2e3;g<0&&(g=0),n.easeTo({zoom:g,duration:m,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(d)},{originalEvent:t})},h.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>2&&e-t[0][0]>n;)t.shift()},e.exports=h},{"../../util/dom":201,"../../util/util":215,"../../util/window":196}],188:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/window"),o=function(){r.bindAll(["_onHashChange","_updateHash"],this)};o.prototype.addTo=function(t){return this._map=t,i.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},o.prototype.remove=function(){return i.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},o.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.max(0,Math.ceil(Math.log(n)/Math.LN2)),i=Math.round(e.lng*Math.pow(10,r))/Math.pow(10,r),o=Math.round(e.lat*Math.pow(10,r))/Math.pow(10,r),a=this._map.getBearing(),s=this._map.getPitch(),u="";return u+=t?"#/"+i+"/"+o+"/"+n:"#"+n+"/"+o+"/"+i,(a||s)&&(u+="/"+Math.round(10*a)/10),s&&(u+="/"+Math.round(s)),u},o.prototype._onHashChange=function(){var t=i.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},o.prototype._updateHash=function(){var t=this.getHashString();i.history.replaceState("","",t)},e.exports=o},{"../util/util":215,"../util/window":196}],189:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var i=t("../util/util"),o=t("../util/browser"),a=t("../util/window"),s=t("../util/dom"),u=t("../util/ajax"),l=t("../style/style"),c=t("../style/animation_loop"),f=t("../render/painter"),h=t("../geo/transform"),p=t("./hash"),d=t("./bind_handlers"),v=t("./camera"),m=t("../geo/lng_lat"),g=t("../geo/lng_lat_bounds"),y=t("point-geometry"),_=t("./control/attribution_control"),b=t("./control/logo_control"),x=t("mapbox-gl-supported"),w=0,E=22,T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:w,maxZoom:E,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0},I=function(t){function e(e){var n=this;if(e=i.extend({},T,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var r=new h(e.minZoom,e.maxZoom,e.renderWorldCopies);if(t.call(this,r,e),this._interactive=e.interactive,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,"string"==typeof e.container){if(this._container=a.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else this._container=e.container;this.animationLoop=new c,e.maxBounds&&this.setMaxBounds(e.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),d(this,e),this._hash=e.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style),e.attributionControl&&this.addControl(new _),this.addControl(new b,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return e.indexOf("bottom")!==-1?r.insertBefore(n,r.firstChild):r.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},r=0;r<t.length;r++)""!==t[r]&&(n[t[r]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return i.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new g(this.transform.pointLocation(new y(0,this.transform.height)),this.transform.pointLocation(new y(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new y(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new y(0,this.transform.size.y)))),t},e.prototype.setMaxBounds=function(t){if(t){var e=g.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},e.prototype.setMinZoom=function(t){if(t=null===t||void 0===t?w:t,t>=w&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+w+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if(t=null===t||void 0===t?E:t,t>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(m.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(y.convert(t))},e.prototype.on=function(e,n,r){var o=this;if(void 0===r)return t.prototype.on.call(this,e,n);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1,a=function(a){var s=o.queryRenderedFeatures(a.point,{layers:[n]});s.length?t||(t=!0,r.call(o,i.extend({features:s},a,{type:e}))):t=!1},s=function(){t=!1};return{layer:n,listener:r,delegates:{mousemove:a,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var u=!1,l=function(t){var a=o.queryRenderedFeatures(t.point,{layers:[n]});a.length?u=!0:u&&(u=!1,r.call(o,i.extend({},t,{type:e})))},c=function(t){u&&(u=!1,r.call(o,i.extend({},t,{type:e})))};return{layer:n,listener:r,delegates:{mousemove:l,mouseout:c}}}var f=function(t){var e=o.queryRenderedFeatures(t.point,{layers:[n]});e.length&&r.call(o,i.extend({features:e},t))};return{layer:n,listener:r,delegates:(h={},h[e]=f,h)};var h}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a);for(var s in a.delegates)o.on(s,a.delegates[s]);return this},e.prototype.off=function(e,n,r){var i=this;if(void 0===r)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===n&&s.listener===r){for(var u in s.delegates)i.off(u,s.delegates[u]);return o.splice(a,1),i}}},e.prototype.queryRenderedFeatures=function(){function t(t){return t instanceof y||Array.isArray(t)}var e,n={};return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[y.convert([0,0]),y.convert([this.transform.width,this.transform.height])]);var n,r=t instanceof y||"number"==typeof t[0];if(r){var i=y.convert(t);n=[i]}else{var o=[y.convert(t[0]),y.convert(t[1])];n=[o[0],new y(o[1].x,o[0].y),o[1],new y(o[0].x,o[1].y),o[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){var n=(!e||e.diff!==!1)&&this.style&&t&&!(t instanceof l)&&"string"!=typeof t;if(n)try{return this.style.setState(t)&&this._update(!0),this}catch(t){i.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement),this.off("move",this.style._redoPlacement)),t?(t instanceof l?this.style=t:this.style=new l(t,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this.on("move",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e],r=n._tiles;for(var i in r){var o=r[i];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){this.style.spriteAtlas.addImage(t,e,n)},e.prototype.removeImage=function(t){this.style.spriteAtlas.removeImage(t)},e.prototype.loadImage=function(t,e){u.getImage(t,e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n,r){return this.style.setPaintProperty(t,e,n,r),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,n){return this.style.getPaintProperty(t,e,n)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=s.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=s.create("div","mapboxgl-ctrl-"+t,r)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=i.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},x.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);return e?void(this.painter=new f(e,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),"undefined"!=typeof a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(v);e.exports=I},{"../geo/lng_lat":61,"../geo/lng_lat_bounds":62,"../geo/transform":63,"../render/painter":76,"../style/animation_loop":145,"../style/style":148,"../util/ajax":193,"../util/browser":194,"../util/dom":201,"../util/util":215,"../util/window":196,"./bind_handlers":173,"./camera":174,"./control/attribution_control":175,"./control/logo_control":178,"./hash":188,"mapbox-gl-supported":22,"point-geometry":25}],190:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("../geo/lng_lat"),o=t("point-geometry"),a=t("../util/smart_wrap"),s=function(t,e){this._offset=o.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),t||(t=r.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};s.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},s.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),r.remove(this._element),this._popup&&this._popup.remove(),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(t){return this._lngLat=i.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},s.prototype.getElement=function(){return this._element},s.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&(this._popup=t,this._popup.setLngLat(this._lngLat)),this},s.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},s.prototype.getPopup=function(){return this._popup},s.prototype.togglePopup=function(){var t=this._popup;t&&(t.isOpen()?t.remove():t.addTo(this._map))},s.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate("+this._pos.x+"px, "+this._pos.y+"px)"))},e.exports=s},{"../geo/lng_lat":61,"../util/dom":201,"../util/smart_wrap":211,"point-geometry":25}],191:[function(t,e,n){"use strict";function r(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l(-e,e),bottom:new l(0,-t),"bottom-left":new l(e,-e),"bottom-right":new l(-e,-e),left:new l(t,0),right:new l(-t,0)}}if(i(t)){var n=l.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return r(new l(0,0))}function i(t){return t instanceof l||Array.isArray(t)}var o=t("../util/util"),a=t("../util/evented"),s=t("../util/dom"),u=t("../geo/lng_lat"),l=t("point-geometry"),c=t("../util/window"),f=t("../util/smart_wrap"),h={closeButton:!0,closeOnClick:!0},p=function(t){function e(e){t.call(this),this.options=o.extend(Object.create(h),e),o.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=u.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(c.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=c.document.createDocumentFragment(),r=c.document.createElement("body");for(r.innerHTML=t;;){if(e=r.firstChild,!e)break;n.appendChild(e)}return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=f(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat);var t=this.options.anchor,e=r(this.options.offset);if(!t){var n=this._container.offsetWidth,i=this._container.offsetHeight;t=this._pos.y+e.bottom.y<i?["top"]:this._pos.y>this._map.transform.height-i?["bottom"]:[],this._pos.x<n/2?t.push("left"):this._pos.x>this._map.transform.width-n/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var o=this._pos.add(e[t]).round(),a={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},u=this._container.classList;for(var l in a)u.remove("mapboxgl-popup-anchor-"+l);u.add("mapboxgl-popup-anchor-"+t),s.setTransform(this._container,a[t]+" translate("+o.x+"px,"+o.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(a);e.exports=p},{"../geo/lng_lat":61,"../util/dom":201,"../util/evented":202,"../util/smart_wrap":211,"../util/util":215,"../util/window":196,"point-geometry":25}],192:[function(t,e,n){"use strict";var r=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};r.prototype.send=function(t,e,n,r,i){var o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n),this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:t,id:String(o),data:e},r)},r.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?String(t):null,data:e},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&e(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,o);else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var a=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,a[0]);s[a[1]](r.data,o)}else this.parent[r.type](r.data)}},r.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=r},{}],193:[function(t,e,n){"use strict";function r(t){var e=i.document.createElement("a");return e.href=t,e.protocol===i.document.location.protocol&&e.host===i.document.location.host}var i=t("./window"),o=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=new i.XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new o(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new i.XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?e(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?e(null,{data:n.response,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new o(n.statusText,n.status)))},n.send(),n};var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var r=new i.Image,o=i.URL||i.webkitURL;r.onload=function(){e(null,r),o.revokeObjectURL(r.src)};var s=new i.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?o.createObjectURL(s):a})},n.getVideo=function(t,e){var n=i.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var o=0;o<t.length;o++){var a=i.document.createElement("source");r(t[o])||(n.crossOrigin="Anonymous"),a.src=t[o],n.appendChild(a)}return n}},{"./window":196}],194:[function(t,e,n){"use strict";var r=t("./window");e.exports.now=function(){return r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date)}();var i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame;n.frame=function(t){return i(t)};var o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;n.cancelFrame=function(t){o(t)},n.timed=function(t,r,i){function o(u){a||(u=e.exports.now(),u>=s+r?t.call(i,1):(t.call(i,(u-s)/r),n.frame(o)))}if(!r)return t.call(i,1),null;var a=!1,s=e.exports.now();return n.frame(o),function(){a=!0}},n.getImageData=function(t){var e=r.document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height).data},n.supported=t("mapbox-gl-supported"),n.hardwareConcurrency=r.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return r.devicePixelRatio}}),n.supportsWebp=!1;var a=r.document.createElement("img");a.onload=function(){n.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":196,"mapbox-gl-supported":22}],195:[function(t,e,n){"use strict";var r=t("webworkify"),i=t("../window"),o=i.URL.createObjectURL(new r(t("../../source/worker"),{bare:!0}));e.exports=function(){return new i.Worker(o)}},{"../../source/worker":99,"../window":196,webworkify:40}],196:[function(t,e,n){"use strict";e.exports=self},{}],197:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var i=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],l=0;l<n;l++){var c=o(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[t[l]]):a.push(t[l]))}if(a&&u.push(a),e>1)for(var f=0;f<u.length;f++)u[f].length<=e||(i(u[f],e,1,u[f].length-1,r),u[f]=u[f].slice(0,e));return u}},{"./util":215,quickselect:27}],198:[function(t,e,n){"use strict";var r={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=r},{}],199:[function(t,e,n){"use strict";var r=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];e._stringToNumber[r]=n,e._numberToString[n]=r}};r.prototype.encode=function(t){return this._stringToNumber[t]},r.prototype.decode=function(t){return this._numberToString[t]},e.exports=r},{}],200:[function(t,e,n){"use strict";var r=t("./util"),i=t("./actor"),o=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=o[a],u=new i(s,e,n.id);u.name="Worker "+a,n.actors.push(u)}};o.prototype.broadcast=function(t,e,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},o.prototype.send=function(t,e,n,r,i){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,i),r},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":192,"./util":215}],201:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e];return t[0]}function i(t){t.preventDefault(),t.stopPropagation(),a.removeEventListener("click",i,!0)}var o=t("point-geometry"),a=t("./window");n.create=function(t,e,n){var r=a.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r};var s=a.document.documentElement.style,u=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),l;n.disableDrag=function(){u&&(l=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=l)};var c=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[c]=e},n.suppressClick=function(){a.addEventListener("click",i,!0),a.setTimeout(function(){a.removeEventListener("click",i,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i="touchend"===e.type?e.changedTouches:e.touches,a=0;a<i.length;a++)r.push(new o(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return r},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":196,"point-geometry":25}],202:[function(t,e,n){"use strict";function r(t,e,n){n[t]=n[t]||[],n[t].push(e)}function i(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);r!==-1&&n[t].splice(r,1)}}var o=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},r(t,e,this._listeners),this},a.prototype.off=function(t,e){return i(t,e,this._listeners),i(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},r(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var r=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0;a<r.length;a++)r[a].call(n,e);for(var s=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0;u<s.length;u++)s[u].call(n,e),i(t,s[u],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":215}],203:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function i(t,e,n,r){this.p=new u(t,e),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],f=o[u];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(t,c,f))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,o=t[0],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,e+=3*f}return new i(n/e,r/e,0,t)}var s=t("tinyqueue"),u=t("point-geometry"),l=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){e=e||1;for(var o,u,l,c,f=t[0],h=0;h<f.length;h++){var p=f[h];(!h||p.x<o)&&(o=p.x),(!h||p.y<u)&&(u=p.y),(!h||p.x>l)&&(l=p.x),(!h||p.y>c)&&(c=p.y)}var d=l-o,v=c-u,m=Math.min(d,v),g=m/2,y=new s(null,r);if(0===m)return[o,u];for(var _=o;_<l;_+=m)for(var b=u;b<c;b+=m)y.push(new i(_+g,b+g,g,t));for(var x=a(t),w=y.length;y.length;){var E=y.pop();(E.d>x.d||!x.d)&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,w)),E.max-x.d<=e||(g=E.h/2,y.push(new i(E.p.x-g,E.p.y-g,g,t)),y.push(new i(E.p.x+g,E.p.y-g,g,t)),y.push(new i(E.p.x-g,E.p.y+g,g,t)),y.push(new i(E.p.x+g,E.p.y+g,g,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":206,"point-geometry":25,tinyqueue:29}],204:[function(t,e,n){"use strict";var r=t("./worker_pool"),i;e.exports=function(){return i||(i=new r),i}},{"./worker_pool":218}],205:[function(t,e,n){"use strict";function r(t,e){this.stacks=t.readFields(i,[],e)}function i(t,e,n){if(1===t){var r=n.readMessage(o,{glyphs:{}});e.push(r)}}function o(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var r=n.readMessage(a,{});e.glyphs[r.id]=r}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=r},{}],206:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)if(p(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(p(t,e[r]))return!0;return!!u(t,e)}function i(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];if(p(i,u))return!0;if(c(u,i,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return h(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(h(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(h(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(u(a,e[l]))return!0}return!1}function a(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var u=0;u<i.length;u++)if(p(a,i[u]))return!0;if(s(a,i,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(u(t,e))return!0;for(var r=0;r<e.length;r++)if(c(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(c(t[i],e,n))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(l(r,i,a,s))return!0}return!1}function l(t,e,n,r){return d(t,n,r)!==d(e,n,r)&&d(t,e,n)!==d(t,e,r)}function c(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++){var o=e[i-1],a=e[i];if(f(t,o,a)<r)return!0}return!1}function f(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function h(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function p(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var d=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:i,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:r,distToSegmentSquared:f}},{"./util":215}],207:[function(t,e,n){"use strict";var r={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=r},{}],208:[function(t,e,n){"use strict";var r=function(t,e){this.max=t,this.onRemove=e,this.reset()};r.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.getWithoutRemoving=function(t){if(!this.has(t))return null;var e=this.data[t];return e},r.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},r.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.get(e.order[0]);n&&e.onRemove(n)}return this},e.exports=r},{}],209:[function(t,e,n){"use strict";function r(t,e){var n=a(u.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,!u.REQUIRE_ACCESS_TOKEN)return s(t);if(e=e||u.ACCESS_TOKEN,!e)throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function i(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}function a(t){var e=t.match(h);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),l=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=i,n.normalizeStyleURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,r(n,e)},n.normalizeGlyphsURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,r(n,e)},n.normalizeSourceURL=function(t,e){if(!i(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,e)},n.normalizeSpriteURL=function(t,e,n,o){var u=a(t);return i(t)?(u.path="/styles/v1"+u.path+"/sprite"+e+n,r(u,o)):(u.path+=""+e+n,s(u))};var f=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!i(e))return t;var r=a(t),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return r.path=r.path.replace(f,""+u+c),o(r.params),s(r)};var h=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":194,"./config":198}],210:[function(t,e,n){"use strict";var r=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsIdeographicBreaking(i.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(n.charHasUprightVerticalOrientation(i.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(!n.charAllowsLetterSpacing(i.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!r.Arabic(t)&&(!r["Arabic Supplement"](t)&&(!r["Arabic Extended-A"](t)&&(!r["Arabic Presentation Forms-A"](t)&&!r["Arabic Presentation Forms-B"](t))))},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!!r["CJK Compatibility Forms"](t)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!!r["CJK Symbols and Punctuation"](t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!!r.Katakana(t)||(!!r["Vertical Forms"](t)||(!!r["Yi Radicals"](t)||!!r["Yi Syllables"](t))))))))))))))))))))},n.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!(!r["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Hangul Compatibility Jamo"](t)||(!!r["Hangul Jamo Extended-A"](t)||(!!r["Hangul Jamo Extended-B"](t)||(!!r["Hangul Jamo"](t)||(!!r["Hangul Syllables"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r.Kanbun(t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!(!r.Katakana(t)||12540===t)||(!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||(!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(!!r["Unified Canadian Aboriginal Syllabics"](t)||(!!r["Unified Canadian Aboriginal Syllabics Extended"](t)||(!!r["Vertical Forms"](t)||(!!r["Yijing Hexagram Symbols"](t)||(!!r["Yi Syllables"](t)||!!r["Yi Radicals"](t))))))))))))))))))))))))))))))},n.charHasNeutralVerticalOrientation=function(t){return!(!r["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||(!(!r["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||(!!r["Letterlike Symbols"](t)||(!!r["Number Forms"](t)||(!(!r["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||(!(!r["Control Pictures"](t)||9251===t)||(!!r["Optical Character Recognition"](t)||(!!r["Enclosed Alphanumerics"](t)||(!!r["Geometric Shapes"](t)||(!(!r["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||(!(!r["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||(!!r["CJK Symbols and Punctuation"](t)||(!!r.Katakana(t)||(!!r["Private Use Area"](t)||(!!r["CJK Compatibility Forms"](t)||(!!r["Small Form Variants"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)))))))))))))))))},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":207}],211:[function(t,e,n){"use strict";var r=t("../geo/lng_lat");e.exports=function(t,e,n){if(t=new r(t.lng,t.lat),e){var i=new r(t.lng-360,t.lat),o=new r(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(e);n.locationPoint(i).distSqr(e)<a?t=i:n.locationPoint(o).distSqr(e)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":61}],212:[function(t,e,n){"use strict";function r(t){var e=JSON.stringify(t);if(m[e])return m[e];var n=void 0===t.alignment?1:t.alignment,r=0,a=0,u=["Uint8"],f=t.members.map(function(t){u.indexOf(t.type)<0&&u.push(t.type);var e=o(t.type),s=r=i(r,Math.max(n,e)),l=t.components||1;return a=Math.max(a,e),r+=e*l,{name:t.name,type:t.type,components:l,offset:s}}),p=i(r,Math.max(a,n)),d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h);d.prototype.alignment=n,d.prototype.size=p;for(var g=0,y=f;g<y.length;g+=1)for(var _=y[g],b=0;b<_.components;b++){var x=_.name+(1===_.components?"":b);Object.defineProperty(d.prototype,x,{get:l(_,b),set:c(_,b)})}var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(v);return w.prototype.members=f,w.prototype.StructType=d,w.prototype.bytesPerElement=p,w.prototype.emplaceBack=s(f,p),w.prototype._usedTypes=u,m[e]=w,w}function i(t,e){return Math.ceil(t/e)*e}function o(t){return f[t].BYTES_PER_ELEMENT}function a(t){return t.toLowerCase()}function s(t,e){for(var n=[],r=[],i="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=t;s<u.length;s+=1){var l=u[s],c=o(l.type);n.indexOf(c)<0&&(n.push(c),i+="var o"+c.toFixed(0)+" = i * "+(e/c).toFixed(0)+";\n");for(var f=0;f<l.components;f++){var h="v"+r.length,p="o"+c.toFixed(0)+" + "+(l.offset/c+f).toFixed(0);i+="this."+a(l.type)+"["+p+"] = "+h+";\n",r.push(h)}}return i+="return i;",new Function(r.toString(),i)}function u(t,e){var n="this._pos"+o(t.type).toFixed(0),r=(t.offset/o(t.type)+e).toFixed(0),i=n+" + "+r;return"this._structArray."+a(t.type)+"["+i+"]"}function l(t,e){return new Function("return "+u(t,e)+";")}function c(t,e){return new Function("x",u(t,e)+" = x;")}e.exports=r;var f={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},h=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},p=128,d=5,v=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};v.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},v.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},v.prototype.get=function(t){return new this.StructType(this,t)},v.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},v.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*d),p),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},v.prototype._refreshViews=function(){for(var t=this,e=0,n=t._usedTypes;e<n.length;e+=1){var r=n[e];t[a(r)]=new f[r](t.arrayBuffer)}},v.prototype.toArray=function(t,e){for(var n=this,r=[],i=t;i<e;i++){var o=n.get(i);r.push(o)}return r};var m={}},{}],213:[function(t,e,n){"use strict";var r=t("./browser"),i=function(t,e){this.frequency=t,this.throttledFunction=e,this.lastInvocation=0};i.prototype.invoke=function(){var t=this;if(!this.pendingInvocation){var e=0===this.lastInvocation?0:this.lastInvocation+this.frequency-r.now();e<=0?(this.lastInvocation=r.now(),this.throttledFunction()):this.pendingInvocation=setTimeout(function(){t.pendingInvocation=void 0,t.lastInvocation=r.now(),t.throttledFunction()},e)}},i.prototype.stop=function(){this.pendingInvocation&&(clearTimeout(this.pendingInvocation),this.pendingInvocation=void 0)},e.exports=i},{"./browser":194}],214:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=r},{}],215:[function(t,e,n){"use strict";var r=t("@mapbox/unitbezier"),i=t("../geo/coordinate"),o=t("point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,i){var o=new r(t,e,n,i);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0===--r&&n(o,i)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n};var a=1;n.uniqueId=function(){return a++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),o=Math.max(o,t[a].row);var s=r-e,u=o-n,l=Math.max(s,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new i((e+r)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},n.mapObject=function(t,e,n){var r=this,i={};for(var o in t)i[o]=e.call(n||r,t[o],o,t);return i},n.filterObject=function(t,e,n){var r=this,i={};for(var o in t)e.call(n||r,t[o],o,t)&&(i[o]=t[o]);return i},n.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n.deepEqual(t[r],e[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(var o in t)if(!n.deepEqual(t[o],e[o]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var s={};n.warnOnce=function(t){s[t]||("undefined"!=typeof console&&console.warn(t),s[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],a=t[i],e+=(a.x-o.x)*(o.y+a.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[e*Math.cos(n)*Math.sin(r),e*Math.sin(n)*Math.sin(r),e*Math.cos(r)]},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,r,i){var o=r||i;return n[e]=!o||o.toLowerCase(),""}),n["max-age"]){var r=parseInt(n["max-age"],10);isNaN(r)?delete n["max-age"]:n["max-age"]=r}return n}},{"../geo/coordinate":60,"@mapbox/unitbezier":3,"point-geometry":25}],216:[function(t,e,n){"use strict";var r=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},i={geometry:{}};i.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},i.geometry.set=function(t){this._geometry=t},r.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(r.prototype,i),e.exports=r},{}],217:[function(t,e,n){"use strict";var r=t("./script_detection");e.exports=function(t){for(var n="",i=0;i<t.length;i++){var o=t.charCodeAt(i+1)||null,a=t.charCodeAt(i-1)||null,s=(!o||!r.charHasRotatedVerticalOrientation(o)||e.exports.lookup[t[i+1]])&&(!a||!r.charHasRotatedVerticalOrientation(a)||e.exports.lookup[t[i-1]]);n+=s&&e.exports.lookup[t[i]]?e.exports.lookup[t[i]]:t[i]}return n},e.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":210}],218:[function(t,e,n){"use strict";var r=t("./web_worker"),i=function(){this.active={}};i.prototype.acquire=function(e){var n=this;if(!this.workers){var i=t("../").workerCount;for(this.workers=[];this.workers.length<i;)n.workers.push(new r)}return this.active[e]=!0,this.workers.slice()},i.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=i},{"../":64,"./web_worker":195}]},{},[64])(64)})}).call(e,n("DuR2"))},"ZN/I":function(t,e,n){"use strict";e["a"]=c;var r=n("mlCA");var i=n.n(r);var o=n("diIw");var a=n("UiKI");function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}Object(a["a"])();function u(t){t.luma=t.luma||{};return t.luma}function l(t){o["log"].debug=t}function c(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.debug;if(t===null){return null}return n?h(t):f(t)}function f(t){if(t===null){return null}var e=u(t);return e.realContext?e.realContext:t}function h(t){if(t===null){return null}var e=u(t);if(e.realContext){return t}if(e.debugContext){return e.debugContext}var n=function t(){s(this,t)};var r=i.a.makeDebugContext(t,d,v);Object.assign(n.prototype,r);e.debugContext=r;r.debug=true;r.gl=t;return r}function p(t,e){var n=i.a.glFunctionArgsToString(t,e);n=""+n.slice(0,100)+(n.length>100?"...":"");return"gl."+t+"("+n+")"}function d(t,e,n){if(!o["log"].nothrow){var r=i.a.glEnumToString(t);var a=i.a.glFunctionArgsToString(e,n);throw new Error(r+" in gl."+e+"("+a+")")}}function v(t,e){if(!o["log"].debug){return}var n=void 0;if(o["log"].priority>=4){n=p(t,e);o["log"].info(4,""+n)}if(o["log"].break){n=n||p(t,e);var r=o["log"].break&&o["log"].break.every(function(t){return n.indexOf(t)!==-1});if(r){debugger}}var i=true;var a=false;var s=undefined;try{for(var u=e[Symbol.iterator](),l;!(i=(l=u.next()).done);i=true){var c=l.value;if(c===undefined){n=n||p(t,e);throw new Error("Undefined argument: "+n)}}}catch(t){a=true;s=t}finally{try{if(!i&&u.return){u.return()}}finally{if(a){throw s}}}}},ZSYl:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];var a=n*n+r*r+i*i+o*o;if(a>0){a=1/Math.sqrt(a);t[0]=n*a;t[1]=r*a;t[2]=i*a;t[3]=o*a}return t}},ZhOs:function(t,e,n){n("rZAI");t.exports=n("iANj").Object.keys},Zrlr:function(t,e,n){"use strict";e.__esModule=true;e.default=function(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}},Zzip:function(t,e,n){t.exports={default:n("BQO6"),__esModule:true}},"a/OS":function(t,e,n){var r=n("YjQv");var i="__core-js_shared__";var o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},a3gu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["default"]=f;var r=n("7puw");var i=n("diIw");var o=n("S7bo");var a=n("N+Om");var s=n.n(a);var u=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var l="Illegal argument to pick";function c(){return typeof window!=="undefined"?window.devicePixelRatio:1}function f(t,e){var n=e.models,a=e.position,f=e.uniforms,h=f===undefined?{}:f,p=e.parameters,d=p===undefined?{}:p,v=e.settings,m=e.useDevicePixelRatio,g=m===undefined?null:m,y=e.useDevicePixels,_=y===undefined?true:y,b=e.framebuffer;s()(Object(r["isWebGL"])(t),l);s()(b,l);s()(a,l);if(g!==null){i["log"].deprecated("useDevicePixelRatio","useDevicePixels");_=g}var x=u(a,2),w=x[0],E=x[1];b.resize({width:t.canvas.width,height:t.canvas.height});var T=_?c():1;var I=w*T;var C=t.canvas.height-E*T;var M=new o["default"]({children:n});return M.traverseReverse(function(e){if(e.isPickable()){Object(r["clear"])(t,{framebuffer:b,color:true,depth:true});e.setUniforms({picking_uActive:1});e.draw({uniforms:h,parameters:d,settings:v,framebuffer:b});e.setUniforms({picking_uActive:0});var n=b.readPixels({x:I,y:C,width:1,height:1,format:t.RGBA,type:t.UNSIGNED_BYTE});var i=n[0]!==0||n[1]!==0||n[2]!==0;if(i){return{model:e,color:n,x:w,y:E,deviceX:I,deviceY:C}}}return null})}},aLzV:function(t,e,n){var r=n("GCs6");var i=n("YTz9");t.exports=n("qs+f")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){t[e]=n;return t}},abPz:function(t,e,n){"use strict";var r=n("Aq0r");var i=n("beh1");var o=n("yYxz");var a=n("ksFB");t.exports=n("4dmN")(Array,"Array",function(t,e){this._t=a(t);this._i=0;this._k=e},function(){var t=this._t;var e=this._k;var n=this._i++;if(!t||n>=t.length){this._t=undefined;return i(1)}if(e=="keys")return i(0,n);if(e=="values")return i(0,t[n]);return i(0,[n,t[n]])},"values");o.Arguments=o.Array;r("keys");r("values");r("entries")},"al+/":function(t,e,n){"use strict";var r=n("LR+x");function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var s=function(t){a(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,e);var n=t.radius,r=n===undefined?1:n;return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{bottomRadius:r,topRadius:r})))}return e}(r["a"]);e["a"]=s},alWr:function(t,e){t.exports=n;function n(t,e,n,r){t[0]=e;t[1]=n;t[2]=r;return t}},amPU:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return r});n.d(e,"a",function(){return i});var r=typeof window!=="undefined"?window:t;var i=typeof t!=="undefined"?t:window;var o=typeof document!=="undefined"?document:{}}).call(e,n("DuR2"))},anx6:function(t,e){t.exports=n;function n(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}},apqo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();e.requestFile=u;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(){}var a={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETED:4};var s=function(){function t(e){var n=e.url,r=e.path,a=r===undefined?null:r,s=e.method,u=s===undefined?"GET":s,l=e.asynchronous,c=l===undefined?true:l,f=e.noCache,h=f===undefined?false:f,p=e.sendAsBinary,d=p===undefined?false:p,v=e.responseType,m=v===undefined?false:v,g=e.onProgress,y=g===undefined?o:g,_=e.onError,b=_===undefined?o:_,x=e.onAbort,w=x===undefined?o:x,E=e.onComplete,T=E===undefined?o:E;i(this,t);this.url=a?a.join(a,n):n;this.method=u;this.async=c;this.noCache=h;this.sendAsBinary=d;this.responseType=m;this.req=new XMLHttpRequest;this.req.onload=function(t){return T(t)};this.req.onerror=function(t){return b(t)};this.req.onabort=function(t){return w(t)};this.req.onprogress=function(t){if(t.lengthComputable){y(t,Math.round(t.loaded/t.total*100))}else{y(t,-1)}}}r(t,[{key:"setRequestHeader",value:function t(e,n){this.req.setRequestHeader(e,n);return this}},{key:"sendAsync",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.body||null;return new Promise(function(t,r){try{var i=e.req,o=e.method,s=e.noCache,u=e.sendAsBinary,l=e.responseType;var c=s?e.url+(e.url.indexOf("?")>=0?"&":"?")+Date.now():e.url;i.open(o,c,e.async);if(l){i.responseType=l}if(e.async){i.onreadystatechange=function(e){if(i.readyState===a.COMPLETED){if(i.status===200){t(i.responseType?i.response:i.responseText)}else{r(new Error(i.status+": "+c))}}}}if(u){i.sendAsBinary(n)}else{i.send(n)}if(!e.async){if(i.status===200){t(i.responseType?i.response:i.responseText)}else{r(new Error(i.status+": "+c))}}}catch(t){r(t)}})}}]);return t}();function u(t){var e=new s(t);return e.sendAsync()}},bH80:function(t,e){t.exports=n;function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},bSeU:function(t,e){e.f={}.propertyIsEnumerable},beh1:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},bnoI:function(t,e,n){"use strict";e["a"]=p;e["b"]=d;var r=n("7k+L");var i=n("u/dy");var o;function a(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var s=(o={},a(o,r["b"].ALIASED_LINE_WIDTH_RANGE,{gl1:new Float32Array([1,1])}),a(o,r["b"].ALIASED_POINT_SIZE_RANGE,{gl1:new Float32Array([1,1])}),a(o,r["b"].MAX_TEXTURE_SIZE,{gl1:64,gl2:2048}),a(o,r["b"].MAX_CUBE_MAP_TEXTURE_SIZE,{gl1:16}),a(o,r["b"].MAX_TEXTURE_IMAGE_UNITS,{gl1:8}),a(o,r["b"].MAX_COMBINED_TEXTURE_IMAGE_UNITS,{gl1:8}),a(o,r["b"].MAX_VERTEX_TEXTURE_IMAGE_UNITS,{gl1:0}),a(o,r["b"].MAX_RENDERBUFFER_SIZE,{gl1:1}),a(o,r["b"].MAX_VARYING_VECTORS,{gl1:8}),a(o,r["b"].MAX_VERTEX_ATTRIBS,{gl1:8}),a(o,r["b"].MAX_VERTEX_UNIFORM_VECTORS,{gl1:128}),a(o,r["b"].MAX_FRAGMENT_UNIFORM_VECTORS,{gl1:16}),a(o,r["b"].MAX_VIEWPORT_DIMS,{gl1:new Int32Array([0,0])}),a(o,r["b"].MAX_3D_TEXTURE_SIZE,{gl1:0,gl2:256}),a(o,r["b"].MAX_ARRAY_TEXTURE_LAYERS,{gl1:0,gl2:256}),a(o,r["b"].MAX_CLIENT_WAIT_TIMEOUT_WEBGL,{gl1:0,gl2:0}),a(o,r["b"].MAX_COLOR_ATTACHMENTS,{gl1:0,gl2:4}),a(o,r["b"].MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_COMBINED_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(o,r["b"].MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_DRAW_BUFFERS,{gl1:0,gl2:4}),a(o,r["b"].MAX_ELEMENT_INDEX,{gl1:0,gl2:0}),a(o,r["b"].MAX_ELEMENTS_INDICES,{gl1:0,gl2:0}),a(o,r["b"].MAX_ELEMENTS_VERTICES,{gl1:0,gl2:0}),a(o,r["b"].MAX_FRAGMENT_INPUT_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_FRAGMENT_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(o,r["b"].MAX_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_SAMPLES,{gl1:0,gl2:0}),a(o,r["b"].MAX_SERVER_WAIT_TIMEOUT,{gl1:0,gl2:0}),a(o,r["b"].MAX_TEXTURE_LOD_BIAS,{gl1:0,gl2:0}),a(o,r["b"].MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,{gl1:0,gl2:0}),a(o,r["b"].MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_UNIFORM_BLOCK_SIZE,{gl1:0,gl2:0}),a(o,r["b"].MAX_UNIFORM_BUFFER_BINDINGS,{gl1:0,gl2:0}),a(o,r["b"].MAX_VARYING_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_VERTEX_OUTPUT_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MAX_VERTEX_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(o,r["b"].MAX_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(o,r["b"].MIN_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:-8,negative:true}),a(o,r["b"].MAX_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:7}),a(o,r["b"].UNIFORM_BUFFER_OFFSET_ALIGNMENT,{gl1:0,gl2:0}),o);function u(t){t.luma=t.luma||{};if(!t.luma.limits){t.luma.limits={};t.luma.webgl1MinLimits={};t.luma.webgl2MinLimits={};var e=Object(i["h"])(t);for(var n in s){var r=s[n];var o=r.gl1;var a="gl2"in r?r.gl2:r.gl1;var u=e?a:o;var l="gl2"in r&&!e||"extension"in r&&!t.getExtension(r.extension);var c=l?u:t.getParameter(n);t.luma.limits[n]=c;t.luma.webgl1MinLimits[n]=o;t.luma.webgl2MinLimits[n]=a}}return t.luma.limits}function l(t){t.luma=t.luma||{};if(!t.luma.info){var e;var n=t.getExtension("WEBGL_debug_renderer_info");t.luma.info=(e={},a(e,r["b"].VENDOR,t.getParameter(r["b"].VENDOR)),a(e,r["b"].RENDERER,t.getParameter(r["b"].RENDERER)),a(e,r["b"].UNMASKED_VENDOR_WEBGL,t.getParameter(n&&n.UNMASKED_VENDOR_WEBGL||r["b"].VENDOR)),a(e,r["b"].UNMASKED_RENDERER_WEBGL,t.getParameter(n&&n.UNMASKED_RENDERER_WEBGL||r["b"].RENDERER)),a(e,r["b"].VERSION,t.getParameter(r["b"].VERSION)),a(e,r["b"].SHADING_LANGUAGE_VERSION,t.getParameter(r["b"].SHADING_LANGUAGE_VERSION)),e)}return t.luma.info}var c=37445;var f=37446;function h(t){var e=t.getParameter(r["b"].VENDOR);var n=t.getParameter(r["b"].RENDERER);var i=t.getExtension("WEBGL_debug_renderer_info");var o=i&&t.getParameter(i.UNMASKED_VENDOR_WEBGL||r["b"].VENDOR);var a=i&&t.getParameter(i.UNMASKED_RENDERER_WEBGL||r["b"].RENDERER);return{vendor:o||e,renderer:a||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(r["b"].VERSION),shadingLanguageVersion:t.getParameter(r["b"].SHADING_LANGUAGE_VERSION)}}function p(t){var e=u(t);var n=l(t);return{vendor:n[c]||n[r["b"].VENDOR],renderer:n[f]||n[r["b"].RENDERER],version:n[r["b"].VERSION],shadingLanguageVersion:n[r["b"].SHADING_LANGUAGE_VERSION],info:n,limits:e,webgl1MinLimits:t.luma.webgl1MinLimits,webgl2MinLimits:t.luma.webgl2MinLimits}}function d(t){return h(t)}var v={WEBGL_LIMITS:s}},c8Kh:function(t,e){t.exports=true},c9c3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Manager=undefined;var r=n("KoGk");var i=n("8PxU");var o=void 0;if(r.isBrowser){o=n("rxKx")}function a(t){var e={};var n=function t(){return e};e.get=function(){return null};e.set=n;e.on=n;e.off=n;e.destroy=n;e.emit=n;return e}if(o){(0,i.enhancePointerEventInput)(o.PointerEventInput);(0,i.enhanceMouseInput)(o.MouseInput)}var s=e.Manager=o?o.Manager:a;e.default=o},cCjG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("woOf");var i=b(r);var o=n("fZjL");var a=b(o);var s=n("Zrlr");var u=b(s);var l=n("wxAW");var c=b(l);var f=n("c9c3");var h=n("W3On");var p=b(h);var d=n("R30K");var v=b(d);var m=n("Pitb");var g=b(m);var y=n("DqEI");var _=n("kgss");function b(t){return t&&t.__esModule?t:{default:t}}function x(t){t.preventDefault()}var w=function(){function t(e){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,u.default)(this,t);this.element=e;this.options=r;this._onBasicInput=this._onBasicInput.bind(this);var i=r.Manager||f.Manager;this.manager=new i(e,{recognizers:r.recognizers||y.RECOGNIZERS}).on("hammer.input",this._onBasicInput);if(!r.recognizers){(0,a.default)(y.RECOGNIZER_COMPATIBLE_MAP).forEach(function(t){var e=n.manager.get(t);if(e){y.RECOGNIZER_COMPATIBLE_MAP[t].forEach(function(t){e.recognizeWith(t)})}})}this.eventHandlers=[];this._onOtherEvent=this._onOtherEvent.bind(this);this.wheelInput=new p.default(e,this._onOtherEvent,{enable:false});this.moveInput=new v.default(e,this._onOtherEvent,{enable:false});this.keyInput=new g.default(e,this._onOtherEvent,{enable:false});if(r.rightButton){e.addEventListener("contextmenu",x)}var o=r.events;if(o){this.on(o)}}(0,c.default)(t,[{key:"destroy",value:function t(){this.element.removeEventListener("contextmenu",x);this.wheelInput.destroy();this.moveInput.destroy();this.keyInput.destroy();this.manager.destroy()}},{key:"on",value:function t(e,n,r){if(typeof e==="string"){this._addEventHandler(e,n,r)}else{r=n;for(var i in e){this._addEventHandler(i,e[i],r)}}}},{key:"off",value:function t(e,n){if(typeof e==="string"){this._removeEventHandler(e,n)}else{for(var r in e){this._removeEventHandler(r,e[r])}}}},{key:"_toggleRecognizer",value:function t(e,n){var r=this;var i=this.manager.get(e);if(i){i.set({enable:n});var o=y.RECOGNIZER_FALLBACK_MAP[e];if(o&&!this.options.recognizers){o.forEach(function(t){var i=r.manager.get(t);if(n){i.requireFailure(e)}else{i.dropRequireFailure(e)}})}}this.wheelInput.enableEventType(e,n);this.moveInput.enableEventType(e,n);this.keyInput.enableEventType(e,n)}},{key:"_addEventHandler",value:function t(e,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=this._wrapEventHandler(e,n,i);var a=y.GESTURE_EVENT_ALIASES[e]||e;var s=y.EVENT_RECOGNIZER_MAP[a]||a;this._toggleRecognizer(s,true);var u=this.eventHandlers.filter(function(t){return t.eventAlias===a&&t.srcElement!==i&&(!t.srcElement||t.srcElement.contains(i))});this.eventHandlers.push({event:e,eventAlias:a,recognizerName:s,srcElement:i,handler:n,wrappedHandler:o});u.forEach(function(t){return r.manager.off(a,t.wrappedHandler)});this.manager.on(a,o);u.forEach(function(t){return r.manager.on(a,t.wrappedHandler)})}},{key:"_removeEventHandler",value:function t(e,n){var r=false;for(var i=this.eventHandlers.length;i--;){var o=this.eventHandlers[i];if(o.event===e&&o.handler===n){this.manager.off(o.eventAlias,o.wrappedHandler);this.eventHandlers.splice(i,1);r=true}}if(r){var a=y.GESTURE_EVENT_ALIASES[e]||e;var s=y.EVENT_RECOGNIZER_MAP[a]||a;var u=this.eventHandlers.find(function(t){return t.recognizerName===s});if(!u){this._toggleRecognizer(s,false)}}}},{key:"_wrapEventHandler",value:function t(e,n,r){var o=this;return function(t){var a=t.mjolnirEvent;if(!a){a=o._normalizeEvent(t);t.mjolnirEvent=a}var s=a.handled&&a.handled!==r;if(!s){var u=!r||r.contains(t.srcEvent.target);if(u){n((0,i.default)({},a,{type:e,stopPropagation:function t(){if(!a.handled){a.handled=r}}}))}}}}},{key:"_normalizeEvent",value:function t(e){var n=this.element;return(0,i.default)({},e,(0,_.whichButtons)(e),(0,_.getOffsetPosition)(e,n),{handled:false,rootElement:n})}},{key:"_onBasicInput",value:function t(e){var n=e.srcEvent;var r=y.BASIC_EVENT_ALIASES[n.type];if(r){this.manager.emit(r,e)}}},{key:"_onOtherEvent",value:function t(e){this.manager.emit(e.type,e)}}]);return t}();e.default=w},cxPT:function(t,e,n){"use strict";var r=function t(e){};if(false){r=function t(e){if(e===undefined){throw new Error("invariant requires an error message argument")}}}function i(t,e,n,i,o,a,s,u){r(e);if(!t){var l;if(e===undefined){l=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var c=[n,i,o,a,s,u];var f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]}));l.name="Invariant Violation"}l.framesToPop=1;throw l}}t.exports=i},dXH5:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;t[0]=-n*s;t[1]=-r*s;t[2]=-i*s;t[3]=o*s;return t}},diIw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("w2X3");function i(t){return function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++){r[i]=arguments[i]}return new Promise(function(e,n){function i(t,r){try{if(t){n(t)}else{e(r)}}catch(t){n(t)}}t.apply(undefined,r.concat([i]))})}}var o=n("N+Om");var a=n.n(o);function s(t){return t?Array.isArray(t)?t:[t]:[]}function u(){}var l={};function c(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"id";l[t]=l[t]||1;var e=l[t]++;return t+"-"+e}function f(t){var e={};for(var n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(!i||i.constructor.name!=="Object"){continue}for(var o in i){var a=i[o];var s=e[o];if(s&&a.constructor.name==="Object"&&s.constructor.name==="Object"){e[o]=f(s,a)}else{e[o]=h(a)}}}return e}function h(t){var e=t.constructor.name;var n=void 0;if(e==="Object"){n={};for(var r in t){n[r]=h(t[r])}}else if(e==="Array"){n=[];for(var i=0,o=t.length;i<o;i++){n[i]=h(t[i])}}else{n=t}return n}function p(t){a()(typeof t==="number","Input must be a number");return t&&(t&t-1)===0}var d=n("3eDX");var v=n("e3NO");n.d(e,"isNode",function(){return r["b"]});n.d(e,"isBrowser",function(){return r["a"]});n.d(e,"promisify",function(){return i});n.d(e,"splat",function(){return s});n.d(e,"noop",function(){return u});n.d(e,"uid",function(){return c});n.d(e,"merge",function(){return f});n.d(e,"isPowerOfTwo",function(){return p});n.d(e,"formatValue",function(){return d["b"]});n.d(e,"getGLTypeFromTypedArray",function(){return v["b"]});n.d(e,"getTypedArrayFromGLType",function(){return v["c"]});n.d(e,"flipRows",function(){return v["a"]});n.d(e,"scalePixels",function(){return v["d"]});n.d(e,"log",function(){return d["a"]})},e3NO:function(t,e,n){"use strict";e["b"]=d;e["c"]=v;e["a"]=m;e["d"]=g;var r=5120;var i=5121;var o=5122;var a=5123;var s=5124;var u=5125;var l=5126;var c=32819;var f=32820;var h=33635;var p="Failed to deduce GL constant from typed array";function d(t){var e=ArrayBuffer.isView(t)?t.constructor:t;switch(e){case Float32Array:return l;case Uint16Array:return a;case Uint32Array:return u;case Uint8Array:return i;case Uint8ClampedArray:return i;case Int8Array:return r;case Int16Array:return o;case Int32Array:return s;default:throw new Error(p)}}function v(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.clamped,p=n===undefined?true:n;switch(t){case l:return Float32Array;case a:case h:case c:case f:return Uint16Array;case u:return Uint32Array;case i:return p?Uint8ClampedArray:Uint8Array;case r:return Int8Array;case o:return Int16Array;case s:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function m(t){var e=t.data,n=t.width,r=t.height,i=t.bytesPerPixel,o=i===undefined?4:i,a=t.temp;var s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s;var c=(r-u-1)*s;a.set(e.subarray(l,l+s));e.copyWithin(l,c,c+s);e.set(a,c)}}function g(t){var e=t.data,n=t.width,r=t.height;var i=Math.round(n/2);var o=Math.round(r/2);var a=new Uint8Array(i*o*4);for(var s=0;s<o;s++){for(var u=0;u<i;u++){for(var l=0;l<4;l++){a[(s*i+u)*4+l]=e[(s*2*n+u*2)*4+l]}}}return{data:a,width:i,height:o}}},"e6+Q":function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function t(){};i.thatReturns=r;i.thatReturnsFalse=r(false);i.thatReturnsTrue=r(true);i.thatReturnsNull=r(null);i.thatReturnsThis=function(){return this};i.thatReturnsArgument=function(t){return t};t.exports=i},e6Rv:function(t,e,n){(function(e,n){var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=(typeof e==="undefined"?"undefined":r(e))!=="object"||String(e)!=="[object process]"||e.browser;t.exports={window:typeof window!=="undefined"?window:n,global:typeof n!=="undefined"?n:window,document:typeof document!=="undefined"?document:{},isBrowser:i}}).call(e,n("W2nU"),n("DuR2"))},fC4T:function(t,e){t.exports=function t(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},fUho:function(t,e,n){"use strict";e["a"]=m;e["b"]=g;var r=n("u/dy");var i=n("1Yfb");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(e&&n.length===e)break}}catch(t){i=true;o=t}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return t(e,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var u=256;var l=1024;var c=16384;var f=6144;var h=6145;var p=6146;var d=34041;var v="clear: bad arguments";function m(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.framebuffer,r=n===undefined?null:n,o=e.color,s=o===undefined?null:o,f=e.depth,h=f===undefined?null:f,p=e.stencil,d=p===undefined?null:p;var m={};if(r){m.framebuffer=r}var g=0;if(s){g|=c;if(s!==true){m.clearColor=s}}if(h){g|=u;if(h!==true){m.clearDepth=h}}if(d){g|=l;if(h!==true){m.clearStencil=h}}a()(g!==0,v);Object(i["c"])(t,m,function(){t.clear(g)})}function g(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=e.framebuffer,o=n===undefined?null:n,u=e.buffer,l=u===undefined?f:u,c=e.drawBuffer,m=c===undefined?0:c,g=e.value,y=g===undefined?[0,0,0,0]:g;a()(Object(r["h"])(t),r["b"]);Object(i["c"])(t,{framebuffer:o},function(){switch(l){case f:switch(y.constructor){case Int32Array:t.clearBufferiv(l,m,y);break;case Uint32Array:t.clearBufferuiv(l,m,y);break;case Float32Array:default:t.clearBufferfv(l,m,y)}break;case h:t.clearBufferfv(h,0,[y]);break;case p:t.clearBufferiv(p,0,[y]);break;case d:var e=s(y,2),n=e[0],r=e[1];t.clearBufferfi(d,0,n,r);break;default:a()(false,v)}})}},fWKP:function(t,e){t.exports=n;function n(t,e){t[0]=-e[0];t[1]=-e[1];return t}},fZjL:function(t,e,n){t.exports={default:n("ZhOs"),__esModule:true}},fmJ1:function(t,e,n){"use strict";e["d"]=rt;e["b"]=it;e["a"]=ot;e["c"]=lt;var r=n("RG0x");var i=n("7+pg");var o=n("diIw");var a=n("N+Om");var s=n.n(a);var u;function l(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var c=5126;var f=35664;var h=35665;var p=35666;var d=5124;var v=35667;var m=35668;var g=35669;var y=35670;var _=35671;var b=35672;var x=35673;var w=35674;var E=35675;var T=35676;var I=35678;var C=35680;var M=5125;var A=36294;var S=36295;var R=36296;var L=35685;var k=35686;var N=35687;var F=35688;var O=35689;var B=35690;var P=35679;var U=35682;var D=36289;var z=36292;var j=36293;var V=36298;var G=36299;var X=36300;var W=36303;var Z=36306;var Q=36307;var H=36308;var Y=36311;var J=(u={},l(u,c,function(t,e,n){return t.uniform1f(e,n)}),l(u,f,function(t,e,n){return t.uniform2fv(e,tt(n,2))}),l(u,h,function(t,e,n){return t.uniform3fv(e,tt(n,3))}),l(u,p,function(t,e,n){return t.uniform4fv(e,tt(n,4))}),l(u,d,function(t,e,n){return t.uniform1i(e,n)}),l(u,v,function(t,e,n){return t.uniform2iv(e,et(n,2))}),l(u,m,function(t,e,n){return t.uniform3iv(e,et(n,3))}),l(u,g,function(t,e,n){return t.uniform4iv(e,et(n,4))}),l(u,y,function(t,e,n){return t.uniform1i(e,n)}),l(u,_,function(t,e,n){return t.uniform2iv(e,et(n,2))}),l(u,b,function(t,e,n){return t.uniform3iv(e,et(n,3))}),l(u,x,function(t,e,n){return t.uniform4iv(e,et(n,4))}),l(u,w,function(t,e,n){return t.uniformMatrix2fv(e,false,tt(n,4))}),l(u,E,function(t,e,n){return t.uniformMatrix3fv(e,false,tt(n,9))}),l(u,T,function(t,e,n){return t.uniformMatrix4fv(e,false,tt(n,16))}),l(u,I,function(t,e,n){return t.uniform1i(e,n)}),l(u,C,function(t,e,n){return t.uniform1i(e,n)}),l(u,M,function(t,e,n){return t.uniform1ui(e,n)}),l(u,A,function(t,e,n){return t.uniform2uiv(e,nt(n,2))}),l(u,S,function(t,e,n){return t.uniform3uiv(e,nt(n,3))}),l(u,R,function(t,e,n){return t.uniform4uiv(e,nt(n,4))}),l(u,L,function(t,e,n){return t.uniformMatrix2x3fv(e,false,tt(n,6))}),l(u,k,function(t,e,n){return t.uniformMatrix2x4fv(e,false,tt(n,8))}),l(u,N,function(t,e,n){return t.uniformMatrix3x2fv(e,false,tt(n,6))}),l(u,F,function(t,e,n){return t.uniformMatrix3x4fv(e,false,tt(n,12))}),l(u,O,function(t,e,n){return t.uniformMatrix4x2fv(e,false,tt(n,8))}),l(u,B,function(t,e,n){return t.uniformMatrix4x3fv(e,false,tt(n,12))}),l(u,P,function(t,e,n){return t.uniform1i(e,n)}),l(u,U,function(t,e,n){return t.uniform1i(e,n)}),l(u,D,function(t,e,n){return t.uniform1i(e,n)}),l(u,z,function(t,e,n){return t.uniform1i(e,n)}),l(u,j,function(t,e,n){return t.uniform1i(e,n)}),l(u,V,function(t,e,n){return t.uniform1i(e,n)}),l(u,G,function(t,e,n){return t.uniform1i(e,n)}),l(u,X,function(t,e,n){return t.uniform1i(e,n)}),l(u,W,function(t,e,n){return t.uniform1i(e,n)}),l(u,Z,function(t,e,n){return t.uniform1i(e,n)}),l(u,Q,function(t,e,n){return t.uniform1i(e,n)}),l(u,H,function(t,e,n){return t.uniform1i(e,n)}),l(u,Y,function(t,e,n){return t.uniform1i(e,n)}),u);var q=[2,3,4,6,8,9,12,16].reduce(function(t,e){t[e]=new Float32Array(e);return t},{});var K={2:new Int32Array(2),3:new Int32Array(3),4:new Int32Array(4)};var $={2:new Uint32Array(2),3:new Uint32Array(3),4:new Uint32Array(4)};function tt(t,e){if(t instanceof Float32Array){return t}var n=q[e];for(var r=0;r<e;r++){n[r]=t[r]}return n}function et(t,e){if(t instanceof Int32Array){return t}var n=K[e];for(var r=0;r<e;r++){n[r]=t[r]}return n}function nt(t,e){if(t instanceof Uint32Array){return t}var n=$[e];for(var r=0;r<e;r++){n[r]=t[r]}return n}function rt(t){var e=/([^\[]*)(\[[0-9]+\])?/;var n=t.match(e);if(!n||n.length<2){throw new Error("Failed to parse GLSL uniform name "+t)}return{name:n[1],length:n[2]||1,isArray:Boolean(n[2])}}function it(t,e,n){var r=J[n.type];if(!r){throw new Error("Unknown GLSL uniform type "+n.type)}return r.bind(null,t,e)}function ot(t,e){for(var n in t){var r=t[n];if(!at(r)){e=e?e+" ":"";console.error(e+" Bad uniform "+n,r);throw new Error(e+" Bad uniform "+n)}}return true}function at(t){if(Array.isArray(t)){return t.length>0&&t.every(function(t){return isFinite(t)})}else if(ArrayBuffer.isView(t)){return t.length>0}else if(isFinite(t)){return true}else if(t instanceof i["a"]){return true}else if(t instanceof r["a"]){return Boolean(t.texture)}return false}function st(t){return t!==undefined&&t!==null}function ut(t){var e=t.table,n=t.header,r=t.uniforms,i=t.uniformName,a=t.undefinedOnly;var s=r[i];var u=st(s);if(!a||!u){e[i]=l({Type:u?s:"NOT PROVIDED"},n,u?Object(o["formatValue"])(s):"N/A");return true}return false}function lt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.header,n=e===undefined?"Uniforms":e,r=t.program,i=t.uniforms,a=t.undefinedOnly,u=a===undefined?false:a;s()(r);var c=".*_.*";var f=".*Matrix";var h=r._uniformSetters;var p={};var d=Object.keys(h).sort();var v=0;var m=true;var g=false;var y=undefined;try{for(var _=d[Symbol.iterator](),b;!(m=(b=_.next()).done);m=true){var x=b.value;if(!x.match(c)&&!x.match(f)){if(ut({table:p,header:n,uniforms:i,uniformName:x,undefinedOnly:u})){v++}}}}catch(t){g=true;y=t}finally{try{if(!m&&_.return){_.return()}}finally{if(g){throw y}}}var w=true;var E=false;var T=undefined;try{for(var I=d[Symbol.iterator](),C;!(w=(C=I.next()).done);w=true){var M=C.value;if(M.match(f)){if(ut({table:p,header:n,uniforms:i,uniformName:M,undefinedOnly:u})){v++}}}}catch(t){E=true;T=t}finally{try{if(!w&&I.return){I.return()}}finally{if(E){throw T}}}var A=true;var S=false;var R=undefined;try{for(var L=d[Symbol.iterator](),k;!(A=(k=L.next()).done);A=true){var N=k.value;if(!p[N]){if(ut({table:p,header:n,uniforms:i,uniformName:N,undefinedOnly:u})){v++}}}}catch(t){S=true;R=t}finally{try{if(!A&&L.return){L.return()}}finally{if(S){throw R}}}var F=0;var O={};if(!u){for(var B in i){var P=i[B];if(!p[B]){F++;O[B]=l({Type:"NOT USED: "+P},n,Object(o["formatValue"])(P))}}}return{table:p,count:v,unusedTable:O,unusedCount:F}}},g4SV:function(t,e,n){var r=n("tDJt");t.exports=i;function i(t,e,n,i){var o,a,s,u,l,c,f,h,p,d,v=e[0],m=e[1],g=e[2],y=i[0],_=i[1],b=i[2],x=n[0],w=n[1],E=n[2];if(Math.abs(v-x)<1e-6&&Math.abs(m-w)<1e-6&&Math.abs(g-E)<1e-6){return r(t)}f=v-x;h=m-w;p=g-E;d=1/Math.sqrt(f*f+h*h+p*p);f*=d;h*=d;p*=d;o=_*p-b*h;a=b*f-y*p;s=y*h-_*f;d=Math.sqrt(o*o+a*a+s*s);if(!d){o=0;a=0;s=0}else{d=1/d;o*=d;a*=d;s*=d}u=h*s-p*a;l=p*o-f*s;c=f*a-h*o;d=Math.sqrt(u*u+l*l+c*c);if(!d){u=0;l=0;c=0}else{d=1/d;u*=d;l*=d;c*=d}t[0]=o;t[1]=u;t[2]=f;t[3]=0;t[4]=a;t[5]=l;t[6]=h;t[7]=0;t[8]=s;t[9]=c;t[10]=p;t[11]=0;t[12]=-(o*v+a*m+s*g);t[13]=-(u*v+l*m+c*g);t[14]=-(f*v+h*m+p*g);t[15]=1;return t}},gCWN:function(t,e){},gJt3:function(t,e){t.exports=n;function n(t,e,n){t[0]=e;t[1]=n;return t}},gQ4S:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2];var o=n*n+r*r+i*i;if(o>0){o=1/Math.sqrt(o);t[0]=e[0]*o;t[1]=e[1]*o;t[2]=e[2]*o}return t}},gihg:function(t,e,n){"use strict";var r=n("IBoo");function i(t,e,n){this.options=n?n:{};this._onDown=this._onDown.bind(this);this._onMove=this._onMove.bind(this);this._onMouseUp=this._onMouseUp.bind(this);this._onTouchEnd=this._onTouchEnd.bind(this);this._swiper=document.createElement("div");this._swiper.className="compare-swiper";this._container=document.createElement("div");this._container.className="mapboxgl-compare";this._container.appendChild(this._swiper);t.getContainer().appendChild(this._container);this._clippedMap=e;this._bounds=e.getContainer().getBoundingClientRect();this._setPosition(this._bounds.width/2);r(t,e);e.on("resize",function(){this._bounds=e.getContainer().getBoundingClientRect();if(this._x)this._setPosition(this._x)}.bind(this));if(this.options&&this.options.mousemove){t.getContainer().addEventListener("mousemove",this._onMove);e.getContainer().addEventListener("mousemove",this._onMove)}this._swiper.addEventListener("mousedown",this._onDown);this._swiper.addEventListener("touchstart",this._onDown)}i.prototype={_setPointerEvents:function(t){this._container.style.pointerEvents=t;this._swiper.style.pointerEvents=t},_onDown:function(t){if(t.touches){document.addEventListener("touchmove",this._onMove);document.addEventListener("touchend",this._onTouchEnd)}else{document.addEventListener("mousemove",this._onMove);document.addEventListener("mouseup",this._onMouseUp)}},_setPosition:function(t){var e="translate("+t+"px, 0)";this._container.style.transform=e;this._container.style.WebkitTransform=e;this._clippedMap.getContainer().style.clip="rect(0, 999em, "+this._bounds.height+"px,"+t+"px)";this._x=t},_onMove:function(t){if(this.options&&this.options.mousemove){this._setPointerEvents(t.touches?"auto":"none")}this._setPosition(this._getX(t))},_onMouseUp:function(){document.removeEventListener("mousemove",this._onMove);document.removeEventListener("mouseup",this._onMouseUp)},_onTouchEnd:function(){document.removeEventListener("touchmove",this._onMove);document.removeEventListener("touchend",this._onTouchEnd)},_getX:function(t){t=t.touches?t.touches[0]:t;var e=t.clientX-this._bounds.left;if(e<0)e=0;if(e>this._bounds.width)e=this._bounds.width;return e}};if(window.mapboxgl){mapboxgl.Compare=i}else if(true){t.exports=i}},"gt/O":function(t,e,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},hG1I:function(t,e,n){"use strict";t.exports={hasTexture1:false,hasTextureCube1:false,enableLights:false,useReflection:false,enablePicking:false,hasPickingColors:false,hasFog:false}},hUG8:function(t,e,n){t.exports=n("anx6")},"hV/S":function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];return t}},hgbu:function(t,e,n){var r=n("a/OS")("wks");var i=n("GmwO");var o=n("YjQv").Symbol;var a=typeof o=="function";var s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},hwBn:function(t,e){t.exports=n;function n(t){t[0]=0;t[1]=0;t[2]=0;t[3]=1;return t}},iANj:function(t,e){var n=t.exports={version:"2.5.1"};if(typeof __e=="number")__e=n},iXdV:function(t,e,n){"use strict";var r=n("7k+L");var i=n("7+pg");var o=n("N+Om");var a=n.n(o);var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=[r["a"].TEXTURE_CUBE_MAP_POSITIVE_X,r["a"].TEXTURE_CUBE_MAP_NEGATIVE_X,r["a"].TEXTURE_CUBE_MAP_POSITIVE_Y,r["a"].TEXTURE_CUBE_MAP_NEGATIVE_Y,r["a"].TEXTURE_CUBE_MAP_POSITIVE_Z,r["a"].TEXTURE_CUBE_MAP_NEGATIVE_Z];var h=function(t){c(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};u(this,e);var i=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{target:r["a"].TEXTURE_CUBE_MAP})));i.initialize(n);Object.seal(i);return i}s(e,[{key:"initialize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.format,i=n===undefined?r["a"].RGBA:n,o=e.mipmaps,s=o===undefined?true:o;var u=e.width,l=u===undefined?1:u,c=e.height,f=c===undefined?1:c,h=e.type,p=h===undefined?r["a"].UNSIGNED_BYTE:h,d=e.dataFormat;var v=this._deduceParameters({format:i,type:p,dataFormat:d});p=v.type;d=v.dataFormat;var m=this._deduceImageSize({data:e[r["a"].TEXTURE_CUBE_MAP_POSITIVE_X],width:l,height:f});l=m.width;f=m.height;a()(l===f);this.setCubeMapImageData(e);if(s){this.generateMipmap(e)}this.opts=e}},{key:"subImage",value:function t(e){var n=e.face,r=e.data,i=e.x,o=i===undefined?0:i,a=e.y,s=a===undefined?0:a,u=e.mipmapLevel,l=u===undefined?0:u;return this._subImage({target:n,data:r,x:o,y:s,mipmapLevel:l})}},{key:"setCubeMapImageData",value:function t(e){var n=e.width,i=e.height,o=e.pixels,a=e.data,s=e.border,u=s===undefined?0:s,l=e.format,c=l===undefined?r["a"].RGBA:l,h=e.type,p=h===undefined?r["a"].UNSIGNED_BYTE:h,d=e.generateMipmap,v=d===undefined?false:d;var m=this.gl;o=o||a;this.bind();if(this.width||this.height){var g=true;var y=false;var _=undefined;try{for(var b=f[Symbol.iterator](),x;!(g=(x=b.next()).done);g=true){var w=x.value;m.texImage2D(w,0,c,n,i,u,c,p,o[w])}}catch(t){y=true;_=t}finally{try{if(!g&&b.return){b.return()}}finally{if(y){throw _}}}}else{var E=true;var T=false;var I=undefined;try{for(var C=f[Symbol.iterator](),M;!(E=(M=C.next()).done);E=true){var A=M.value;m.texImage2D(A,0,c,c,p,o[A])}}catch(t){T=true;I=t}finally{try{if(!E&&C.return){C.return()}}finally{if(T){throw I}}}}}},{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.index;if(n!==undefined){this.gl.activeTexture(r["a"].TEXTURE0+n)}this.gl.bindTexture(r["a"].TEXTURE_CUBE_MAP,this.handle);return n}},{key:"unbind",value:function t(){this.gl.bindTexture(r["a"].TEXTURE_CUBE_MAP,null);return this}}]);return e}(i["a"]);e["a"]=h;h.FACES=f},jNv1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.PICKING_RES=e.MAX_POINT_LIGHTS=e.MAX_TEXTURES=undefined;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var i=n("7VzN");var o=n("diIw");var a=n("S7bo");var s=h(a);var u=n("a3gu");var l=h(u);var c=n("N+Om");var f=h(c);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function v(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var m=e.MAX_TEXTURES=10;var g=e.MAX_POINT_LIGHTS=4;var y=e.PICKING_RES=4;var _="LumaGL.Scene invalid argument";var b={lights:{enable:false,ambient:{r:.2,g:.2,b:.2},directional:{direction:{x:1,y:1,z:1},color:{r:0,g:0,b:0}}},effects:{fog:false},clearColor:true,clearDepth:true,backgroundColor:{r:0,g:0,b:0,a:1},backgroundDepth:1};var x=function(t){v(e,t);function e(t,n){p(this,e);(0,f.default)(t,_);n=(0,o.merge)(b,n);var r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.gl=t;r.config=n;r.needsRedraw=false;Object.seal(r);return r}r(e,[{key:"setNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.needsRedraw=e;return this}},{key:"getNeedsRedraw",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.clearRedrawFlags,r=n===undefined?false:n;var i=false;i=i||this.needsRedraw;this.needsRedraw=this.needsRedraw&&!r;this.traverse(function(t){i=i||t.getNeedsRedraw({clearRedrawFlags:r})});return i}},{key:"clear",value:function t(){var e=this.gl;if(this.config.clearColor){var n=this.config.backgroundColor;e.clearColor(n.r,n.g,n.b,n.a)}if(this.config.clearDepth){e.clearDepth(this.config.backgroundDepth)}if(this.config.clearColor&&this.config.clearDepth){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}else if(this.config.clearColor){e.clear(e.COLOR_BUFFER_BIT)}else if(this.config.clearDepth){e.clear(e.DEPTH_BUFFER_BIT)}return this}},{key:"render",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.clear();this.traverse(function(t){if(t.display){e.renderObject({model:t,uniforms:n})}});return this}},{key:"renderObject",value:function t(e){var n=e.model,r=e.uniforms;r=Object.assign({},this.getSceneUniforms(),r);n.render(r);return this}},{key:"pickModels",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.x,r=e.y,i=e.uniforms,o=i===undefined?{}:i;return(0,l.default)(this.gl,Object.assign({group:this,position:[n,r],uniforms:o},e))}},{key:"getSceneUniforms",value:function t(){var e=this.config.lights,n=e.enable,r=e.ambient,i=e.directional,o=e.points;return Object.assign({},this.getEffectsUniforms(),{enableLights:n},n&&r?this.getAmbientUniforms(r):{},n&&i?this.getDirectionalUniforms(i):{},n&&o?this.getPointUniforms(o):{})}},{key:"getAmbientUniforms",value:function t(e){return{ambientColor:[e.r,e.g,e.b]}}},{key:"getDirectionalUniforms",value:function t(e){var n=e.color,r=e.direction;var o=new i.Vector3(r.x,r.y,r.z).normalize().scale(-1,-1,-1);return{directionalColor:[n.r,n.g,n.b],lightingDirection:[o.x,o.y,o.z]}}},{key:"getPointUniforms",value:function t(e){e=e instanceof Array?e:[e];var n=e.length;var r={numberPoints:n};var i=[];var o=[];var a=[];var s=[];var u=true;var l=false;var c=undefined;try{for(var f=e[Symbol.iterator](),h;!(u=(h=f.next()).done);u=true){var p=h.value;var d=p.position,v=p.color,m=p.diffuse,g=p.specular;var y=v||m;i.push(d.x,d.y,d.z);o.push(y.r,y.g,y.b);a.push(Number(Boolean(g)));if(g){s.push(g.r,g.g,g.b)}else{s.push(0,0,0)}}}catch(t){l=true;c=t}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}if(i.length){Object.assign(r,{pointLocation:i,pointColor:o,enableSpecular:a,pointSpecularColor:s})}return r}},{key:"getEffectsUniforms",value:function t(){var e=this.config.effects.fog;if(e){var n=e.color,r=n===undefined?{r:.5,g:.5,b:.5}:n;return{hasFog:true,fogNear:e.near,fogFar:e.far,fogColor:[r.r,r.g,r.b]}}return{hasFog:false}}}]);return e}(s.default);e.default=x;x.MAX_TEXTURES=4;x.MAX_POINT_LIGHTS=4;x.PICKING_RES=4},jUfW:function(t,e){t.exports=n;function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);t[0]=r*u-o*s;t[1]=i*u+a*s;t[2]=o*u+r*s;t[3]=a*u-i*s;return t}},jafr:function(t,e){t.exports=n;function n(t,e){var n=e[0]+e[4]+e[8];var r;if(n>0){r=Math.sqrt(n+1);t[3]=.5*r;r=.5/r;t[0]=(e[5]-e[7])*r;t[1]=(e[6]-e[2])*r;t[2]=(e[1]-e[3])*r}else{var i=0;if(e[4]>e[0]){i=1}if(e[8]>e[i*3+i]){i=2}var o=(i+1)%3;var a=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[a*3+a]+1);t[i]=.5*r;r=.5/r;t[3]=(e[o*3+a]-e[a*3+o])*r;t[o]=(e[o*3+i]+e[i*3+o])*r;t[a]=(e[a*3+i]+e[i*3+a])*r}return t}},jgbb:function(t,e,n){"use strict";n.d(e,"b",function(){return _});n.d(e,"a",function(){return b});var r=n("3u7p");var i=n("u/dy");var o=n("4MLn");var a=n("diIw");var s=n("N+Om");var u=n.n(s);var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var p="Shader: GLSL source code must be a JavaScript string";var d=35632;var v=35633;var m=35713;var g=35663;var y=function(t){h(e,t);l(e,null,[{key:"getTypeName",value:function t(e){switch(e){case v:return"vertex-shader";case d:return"fragment-shader";default:u()(false);return"unknown"}}}]);function e(t,n,o){c(this,e);Object(i["d"])(t);u()(typeof n==="string",p);var s=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{id:Object(r["e"])(n)||Object(a["uid"])(e.getTypeName(o))}));s.shaderType=o;s.source=n;s.opts.source=n;s.initialize(s.opts);return s}l(e,[{key:"initialize",value:function t(e){var n=e.source;var i=Object(r["e"])(n);if(i){this.id=Object(a["uid"])(i)}this._compile(n);this.opts.source=n}},{key:"getParameter",value:function t(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function t(){return this.getTypeName(this.shaderType)+":"+this.id}},{key:"getName",value:function t(){return Object(r["e"])(this.opts.source)||"unnamed-shader"}},{key:"getSource",value:function t(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function t(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function t(){this.gl.shaderSource(this.handle,this.source);this.gl.compileShader(this.handle);var e=this.getParameter(m);if(!e){var n=this.gl.getShaderInfoLog(this.handle);var i=Object(r["f"])(n,this.source,this.shaderType),o=i.shaderName,s=i.errors,u=i.warnings;a["log"].error("GLSL compilation errors in "+o+"\n"+s);a["log"].warn("GLSL compilation warnings in "+o+"\n"+u);throw new Error("GLSL compilation errors in "+o)}}},{key:"_deleteHandle",value:function t(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function t(){return{type:this.getParameter(g),source:this.getSource()}}}]);return e}(o["a"]);var _=function(t){h(e,t);function e(t,n){c(this,e);return f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,v))}l(e,[{key:"_createHandle",value:function t(){return this.gl.createShader(v)}}]);return e}(y);var b=function(t){h(e,t);function e(t,n){c(this,e);return f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,d))}l(e,[{key:"_createHandle",value:function t(){return this.gl.createShader(d)}}]);return e}(y)},jpCA:function(t,e,n){"use strict";e["a"]={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},kgss:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("AMV0");var i=o(r);e.whichButtons=_;e.getOffsetPosition=b;function o(t){return t&&t.__esModule?t:{default:t}}var a=1;var s=2;var u=4;var l={pointerdown:a,pointermove:s,pointerup:u,mousedown:a,mousemove:s,mouseup:u};var c=1;var f=2;var h=3;var p=0;var d=1;var v=2;var m=1;var g=2;var y=4;function _(t){var e=l[t.srcEvent.type];if(!e){return null}var n=t.srcEvent,r=n.buttons,o=n.button,_=n.which;var b=false;var x=false;var w=false;if(e===u||e===s&&!(0,i.default)(r)){b=_===c;x=_===f;w=_===h}else if(e===s){b=Boolean(r&m);x=Boolean(r&y);w=Boolean(r&g)}else if(e===a){b=o===p;x=o===d;w=o===v}return{leftButton:b,middleButton:x,rightButton:w}}function b(t,e){var n=t.srcEvent;if(!t.center&&!(0,i.default)(n.clientX)){return null}var r=t.center||{x:n.clientX,y:n.clientY};var o=e.getBoundingClientRect();var a=o.width/e.offsetWidth;var s=o.height/e.offsetHeight;var u={x:(r.x-o.left-e.clientLeft)/a,y:(r.y-o.top-e.clientTop)/s};return{center:r,offsetCenter:u}}},kpIg:function(t,e,n){"use strict";n.d(e,"m",function(){return M});n.d(e,"a",function(){return L});n.d(e,"h",function(){return u});n.d(e,"f",function(){return c});n.d(e,"i",function(){return h});n.d(e,"d",function(){return d});n.d(e,"e",function(){return m});n.d(e,"g",function(){return y});n.d(e,"k",function(){return b});n.d(e,"l",function(){return w});n.d(e,"c",function(){return T});n.d(e,"j",function(){return C});n.d(e,"b",function(){return R});var r=n("9xiO");function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var o=function t(){i(this,t)};var a=r["default"].globals.headlessTypes||r["global"],s=a.WebGLRenderingContext,u=s===undefined?o:s,l=a.WebGLProgram,c=l===undefined?o:l,f=a.WebGLShader,h=f===undefined?o:f,p=a.WebGLBuffer,d=p===undefined?o:p,v=a.WebGLFramebuffer,m=v===undefined?o:v,g=a.WebGLRenderbuffer,y=g===undefined?o:g,_=a.WebGLTexture,b=_===undefined?o:_,x=a.WebGLUniformLocation,w=x===undefined?o:x,E=a.WebGLActiveInfo,T=E===undefined?o:E,I=a.WebGLShaderPrecisionFormat,C=I===undefined?o:I;var M=u!==o&&c!==o&&h!==o&&d!==o&&m!==o&&y!==o&&b!==o&&w!==o&&T!==o&&C!==o;function A(){var t=function t(){i(this,t)};return r["global"].WebGL2RenderingContext||t}function S(){var t=function t(){i(this,t)};return r["global"].Image||t}var R=A();var L=S()},ksFB:function(t,e,n){var r=n("wiaE");var i=n("+MZ2");t.exports=function(t){return r(i(t))}},mlCA:function(t,e,n){(function(e){WebGLDebugUtils=function(){if(typeof window=="undefined"){window=e}var t=function(t){if(window.console&&window.console.log){window.console.log(t)}};var n=function(e){if(window.console&&window.console.error){window.console.error(e)}else{t(e)}};var r={enable:{1:{0:true}},disable:{1:{0:true}},getParameter:{1:{0:true}},drawArrays:{3:{0:true}},drawElements:{4:{0:true,2:true}},createShader:{1:{0:true}},getShaderParameter:{2:{1:true}},getProgramParameter:{2:{1:true}},getShaderPrecisionFormat:{2:{0:true,1:true}},getVertexAttrib:{2:{1:true}},vertexAttribPointer:{6:{2:true}},bindTexture:{2:{0:true}},activeTexture:{1:{0:true}},getTexParameter:{2:{0:true,1:true}},texParameterf:{3:{0:true,1:true}},texParameteri:{3:{0:true,1:true,2:true}},texImage2D:{9:{0:true,2:true,6:true,7:true},6:{0:true,2:true,3:true,4:true}},texSubImage2D:{9:{0:true,6:true,7:true},7:{0:true,4:true,5:true}},copyTexImage2D:{8:{0:true,2:true}},copyTexSubImage2D:{8:{0:true}},generateMipmap:{1:{0:true}},compressedTexImage2D:{7:{0:true,2:true}},compressedTexSubImage2D:{8:{0:true,6:true}},bindBuffer:{2:{0:true}},bufferData:{3:{0:true,2:true}},bufferSubData:{3:{0:true}},getBufferParameter:{2:{0:true,1:true}},pixelStorei:{2:{0:true,1:true}},readPixels:{7:{4:true,5:true}},bindRenderbuffer:{2:{0:true}},bindFramebuffer:{2:{0:true}},checkFramebufferStatus:{1:{0:true}},framebufferRenderbuffer:{4:{0:true,1:true,2:true}},framebufferTexture2D:{5:{0:true,1:true,2:true}},getFramebufferAttachmentParameter:{3:{0:true,1:true,2:true}},getRenderbufferParameter:{2:{0:true,1:true}},renderbufferStorage:{4:{0:true,1:true}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:true}},blendFunc:{2:{0:true,1:true}},blendFuncSeparate:{4:{0:true,1:true,2:true,3:true}},blendEquation:{1:{0:true}},blendEquationSeparate:{2:{0:true,1:true}},stencilFunc:{3:{0:true}},stencilFuncSeparate:{4:{0:true,1:true}},stencilMaskSeparate:{2:{0:true}},stencilOp:{3:{0:true,1:true,2:true}},stencilOpSeparate:{4:{0:true,1:true,2:true,3:true}},cullFace:{1:{0:true}},frontFace:{1:{0:true}},drawArraysInstancedANGLE:{4:{0:true}},drawElementsInstancedANGLE:{5:{0:true,2:true}},blendEquationEXT:{1:{0:true}}};var i=null;var o=null;function a(t){if(i==null){i={};o={};for(var e in t){if(typeof t[e]=="number"){i[t[e]]=e;o[e]=t[e]}}}}function s(){if(i==null){throw"WebGLDebugUtils.init(ctx) not called"}}function u(t){s();return i[t]!==undefined}function l(t){s();var e=i[t];return e!==undefined?"gl."+e:"/*UNKNOWN WebGL ENUM*/ 0x"+t.toString(16)+""}function c(t,e,n,i){var a=r[t];if(a!==undefined){var a=a[e];if(a!==undefined){if(a[n]){if(typeof a[n]==="object"&&a[n]["enumBitwiseOr"]!==undefined){var s=a[n]["enumBitwiseOr"];var u=0;var c=[];for(var f=0;f<s.length;++f){var h=o[s[f]];if((i&h)!==0){u|=h;c.push(l(h))}}if(u===i){return c.join(" | ")}else{return l(i)}}else{return l(i)}}}}if(i===null){return"null"}else if(i===undefined){return"undefined"}else{return i.toString()}}function f(t,e){var n="";var r=e.length;for(var i=0;i<r;++i){n+=(i==0?"":", ")+c(t,r,i,e[i])}return n}function h(t,e,n){t.__defineGetter__(n,function(){return e[n]});t.__defineSetter__(n,function(t){e[n]=t})}function p(t,e){var n=t[e];return function(){var e=n.apply(t,arguments);return e}}function d(t,e,r,i){i=i||t;a(t);e=e||function(t,e,r){var i="";var o=r.length;for(var a=0;a<o;++a){i+=(a==0?"":", ")+c(e,o,a,r[a])}n("WebGL error "+l(t)+" in "+e+"("+i+")")};var o={};function s(t,n){return function(){if(r){r(n,arguments)}var a=t[n].apply(t,arguments);var s=i.getError();if(s!=0){o[s]=true;e(s,n,arguments)}return a}}var u={};for(var f in t){if(typeof t[f]=="function"){if(f!="getExtension"){u[f]=s(t,f)}else{var p=s(t,f);u[f]=function(){var n=p.apply(t,arguments);return d(n,e,r,i)}}}else{h(u,t,f)}}u.getError=function(){for(var e in o){if(o.hasOwnProperty(e)){if(o[e]){o[e]=false;return e}}}return t.NO_ERROR};return u}function v(t){var e=t.getParameter(t.MAX_VERTEX_ATTRIBS);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);for(var r=0;r<e;++r){t.disableVertexAttribArray(r);t.vertexAttribPointer(r,4,t.FLOAT,false,0,0);t.vertexAttrib1f(r,0)}t.deleteBuffer(n);var i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<i;++r){t.activeTexture(t.TEXTURE0+r);t.bindTexture(t.TEXTURE_CUBE_MAP,null);t.bindTexture(t.TEXTURE_2D,null)}t.activeTexture(t.TEXTURE0);t.useProgram(null);t.bindBuffer(t.ARRAY_BUFFER,null);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);t.bindFramebuffer(t.FRAMEBUFFER,null);t.bindRenderbuffer(t.RENDERBUFFER,null);t.disable(t.BLEND);t.disable(t.CULL_FACE);t.disable(t.DEPTH_TEST);t.disable(t.DITHER);t.disable(t.SCISSOR_TEST);t.blendColor(0,0,0,0);t.blendEquation(t.FUNC_ADD);t.blendFunc(t.ONE,t.ZERO);t.clearColor(0,0,0,0);t.clearDepth(1);t.clearStencil(-1);t.colorMask(true,true,true,true);t.cullFace(t.BACK);t.depthFunc(t.LESS);t.depthMask(true);t.depthRange(0,1);t.frontFace(t.CCW);t.hint(t.GENERATE_MIPMAP_HINT,t.DONT_CARE);t.lineWidth(1);t.pixelStorei(t.PACK_ALIGNMENT,4);t.pixelStorei(t.UNPACK_ALIGNMENT,4);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,false);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,false);if(t.UNPACK_COLORSPACE_CONVERSION_WEBGL){t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.BROWSER_DEFAULT_WEBGL)}t.polygonOffset(0,0);t.sampleCoverage(1,false);t.scissor(0,0,t.canvas.width,t.canvas.height);t.stencilFunc(t.ALWAYS,0,4294967295);t.stencilMask(4294967295);t.stencilOp(t.KEEP,t.KEEP,t.KEEP);t.viewport(0,0,t.canvas.width,t.canvas.height);t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT);while(t.getError());}function m(t){var e;var n;var r=[];var i=[];var n={};var o=1;var a=false;var s=0;var u=[];var l=0;var c=0;var f=false;var p=0;var d={};t.getContext=function(r){return function(){var i=r.apply(t,arguments);if(i instanceof WebGLRenderingContext){if(i!=e){if(e){throw"got different context"}e=i;n=M(e)}return n}return i}}(t.getContext);function m(t){if(typeof t=="function"){return t}else{return function(e){t.handleEvent(e)}}}var g=function(t){r.push(m(t))};var y=function(t){i.push(m(t))};function _(t){var e=t.addEventListener;t.addEventListener=function(n,r,i){switch(n){case"webglcontextlost":g(r);break;case"webglcontextrestored":y(r);break;default:e.apply(t,arguments)}}}_(t);t.loseContext=function(){if(!a){a=true;l=0;++o;while(e.getError());w();d[e.CONTEXT_LOST_WEBGL]=true;var n=C("context lost");var i=r.slice();setTimeout(function(){for(var e=0;e<i.length;++e){i[e](n)}if(p>=0){setTimeout(function(){t.restoreContext()},p)}},0)}};t.restoreContext=function(){if(a){if(i.length){setTimeout(function(){if(!f){throw"can not restore. webglcontestlost listener did not call event.preventDefault"}I();v(e);a=false;c=0;f=false;var t=i.slice();var n=C("context restored");for(var r=0;r<t.length;++r){t[r](n)}},0)}}};t.loseContextInNCalls=function(t){if(a){throw"You can not ask a lost contet to be lost"}l=c+t};t.getNumCalls=function(){return c};t.setRestoreTimeout=function(t){p=t};function b(t){return t instanceof WebGLBuffer||t instanceof WebGLFramebuffer||t instanceof WebGLProgram||t instanceof WebGLRenderbuffer||t instanceof WebGLShader||t instanceof WebGLTexture}function x(t){for(var e=0;e<t.length;++e){var n=t[e];if(b(n)){return n.__webglDebugContextLostId__==o}}return true}function w(){var t=Object.keys(d);for(var e=0;e<t.length;++e){delete d[t]}}function E(){++c;if(!a){if(l==c){t.loseContext()}}}function T(t,e){var n=t[e];return function(){E();if(!a){var e=n.apply(t,arguments);return e}}}function I(){for(var t=0;t<u.length;++t){var n=u[t];if(n instanceof WebGLBuffer){e.deleteBuffer(n)}else if(n instanceof WebGLFramebuffer){e.deleteFramebuffer(n)}else if(n instanceof WebGLProgram){e.deleteProgram(n)}else if(n instanceof WebGLRenderbuffer){e.deleteRenderbuffer(n)}else if(n instanceof WebGLShader){e.deleteShader(n)}else if(n instanceof WebGLTexture){e.deleteTexture(n)}}}function C(t){return{statusMessage:t,preventDefault:function(){f=true}}}return t;function M(t){for(var r in t){if(typeof t[r]=="function"){n[r]=T(t,r)}else{h(n,t,r)}}n.getError=function(){E();if(!a){var t;while(t=e.getError()){d[t]=true}}for(var t in d){if(d[t]){delete d[t];return t}}return n.NO_ERROR};var i=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"];for(var s=0;s<i.length;++s){var l=i[s];n[l]=function(e){return function(){E();if(a){return null}var n=e.apply(t,arguments);n.__webglDebugContextLostId__=o;u.push(n);return n}}(t[l])}var c=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];for(var s=0;s<c.length;++s){var l=c[s];n[l]=function(e){return function(){E();if(a){return null}return e.apply(t,arguments)}}(n[l])}var f=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];for(var s=0;s<f.length;++s){var l=f[s];n[l]=function(e){return function(){E();if(a){return false}return e.apply(t,arguments)}}(n[l])}n.checkFramebufferStatus=function(e){return function(){E();if(a){return n.FRAMEBUFFER_UNSUPPORTED}return e.apply(t,arguments)}}(n.checkFramebufferStatus);n.getAttribLocation=function(e){return function(){E();if(a){return-1}return e.apply(t,arguments)}}(n.getAttribLocation);n.getVertexAttribOffset=function(e){return function(){E();if(a){return 0}return e.apply(t,arguments)}}(n.getVertexAttribOffset);n.isContextLost=function(){return a};return n}}return{init:a,mightBeEnum:u,glEnumToString:l,glFunctionArgToString:c,glFunctionArgsToString:f,makeDebugContext:d,makeLostContextSimulatingCanvas:m,resetToInitialState:v}}();t.exports=WebGLDebugUtils}).call(e,n("DuR2"))},mxLw:function(t,e){t.exports=n;function n(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],p=t[12],d=t[13],v=t[14],m=t[15],g=e*a-n*o,y=e*s-r*o,_=e*u-i*o,b=n*s-r*a,x=n*u-i*a,w=r*u-i*s,E=l*d-c*p,T=l*v-f*p,I=l*m-h*p,C=c*v-f*d,M=c*m-h*d,A=f*m-h*v;return g*A-y*M+_*C+b*I-x*T+w*E}},mypn:function(t,e,n){(function(t,e){(function(t,n){"use strict";if(t.setImmediate){return}var r=1;var i={};var o=false;var a=t.document;var s;function u(t){if(typeof t!=="function"){t=new Function(""+t)}var e=new Array(arguments.length-1);for(var n=0;n<e.length;n++){e[n]=arguments[n+1]}var o={callback:t,args:e};i[r]=o;s(r);return r++}function l(t){delete i[t]}function c(t){var e=t.callback;var r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r);break}}function f(t){if(o){setTimeout(f,0,t)}else{var e=i[t];if(e){o=true;try{c(e)}finally{l(t);o=false}}}}function h(){s=function(t){e.nextTick(function(){f(t)})}}function p(){if(t.postMessage&&!t.importScripts){var e=true;var n=t.onmessage;t.onmessage=function(){e=false};t.postMessage("","*");t.onmessage=n;return e}}function d(){var e="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===t&&typeof n.data==="string"&&n.data.indexOf(e)===0){f(+n.data.slice(e.length))}};if(t.addEventListener){t.addEventListener("message",n,false)}else{t.attachEvent("onmessage",n)}s=function(n){t.postMessage(e+n,"*")}}function v(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)};s=function(e){t.port2.postMessage(e)}}function m(){var t=a.documentElement;s=function(e){var n=a.createElement("script");n.onreadystatechange=function(){f(e);n.onreadystatechange=null;t.removeChild(n);n=null};t.appendChild(n)}}function g(){s=function(t){setTimeout(f,0,t)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t;if({}.toString.call(t.process)==="[object process]"){h()}else if(p()){d()}else if(t.MessageChannel){v()}else if(a&&"onreadystatechange"in a.createElement("script")){m()}else{g()}y.setImmediate=u;y.clearImmediate=l})(typeof self==="undefined"?typeof t==="undefined"?this:t:self)}).call(e,n("DuR2"),n("W2nU"))},n0om:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]*n;t[1]=e[1]*n;t[2]=e[2]*n;t[3]=e[3]*n;return t}},nXN2:function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("qBE+");var a=n("4MLn");var s=n("7+pg");var u=n("RG0x");var l=n("wnLj");var c=n("fmJ1");var f=n("jgbb");var h=n("diIw");var p=n("N+Om");var d=n.n(p);var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function m(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function g(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function y(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _=3;var b=function(t){y(e,t);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};m(this,e);var r=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.initialize(n);r.vertexAttributes=o["a"].getDefaultArray(t);Object.seal(r);r._setId(n.id);return r}v(e,[{key:"initialize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.vs,o=e.fs,a=e.defaultUniforms,s=e.varyings,u=e.bufferMode,l=u===undefined?r["e"].SEPARATE_ATTRIBS:u;this.vs=typeof n==="string"?new f["b"](this.gl,n):n;this.fs=typeof o==="string"?new f["a"](this.gl,o):o;d()(this.vs instanceof f["b"],"Program: bad vertex shader");d()(this.fs instanceof f["a"],"Program: bad fragment shader");this.defaultUniforms=a;if(s){Object(i["c"])(this.gl);this.gl.transformFeedbackVaryings(this.handle,s,l);this.varyings=w(s,l)}this._compileAndLink();return this}},{key:"reset",value:function t(){this.unsetBuffers()}},{key:"use",value:function t(){this.gl.useProgram(this.handle);return this}},{key:"draw",value:function t(e){var n=this;var a=e.drawMode,s=a===undefined?r["e"].TRIANGLES:a,u=e.vertexCount,c=e.offset,f=c===undefined?0:c,p=e.start,d=e.end,v=e.isIndexed,m=v===undefined?false:v,g=e.indexType,y=g===undefined?r["e"].UNSIGNED_SHORT:g,_=e.isInstanced,b=_===undefined?false:_,x=e.instanceCount,w=x===undefined?0:x,E=e.vertexArray,T=E===undefined?null:E,I=e.transformFeedback,C=I===undefined?null:I,M=e.uniforms,A=M===undefined?{}:M,S=e.samplers,R=S===undefined?{}:S,L=e.parameters,k=L===undefined?{}:L,N=e.settings;if(N){h["log"].deprecated("settings","parameters");k=N}T=T||o["a"].getDefaultArray(this.gl);T.bind(function(){n.gl.useProgram(n.handle);if(C){if(k[r["e"].RASTERIZER_DISCARD]){n.gl.enable(r["e"].RASTERIZER_DISCARD)}var t=Object(l["a"])({drawMode:s});C.begin(t)}n.setUniforms(A,R);if(m&&b){n.ext.drawElementsInstanced(s,u,y,f,w)}else if(m&&Object(i["h"])(n.gl)&&!isNaN(p)&&!isNaN(d)){n.gl.drawElementsRange(s,p,d,u,y,f)}else if(m){n.gl.drawElements(s,u,y,f)}else if(b){n.ext.drawArraysInstanced(s,f,u,w)}else{n.gl.drawArrays(s,f,u)}if(C){C.end();if(k[r["e"].RASTERIZER_DISCARD]){n.gl.disable(r["e"].RASTERIZER_DISCARD)}}});return this}},{key:"setBuffers",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.clear,i=r===undefined?true:r,o=n.check,a=o===undefined?true:o,s=n.drawParams,u=s===undefined?{}:s;if(i){this._filledLocations={}}u.isInstanced=false;u.isIndexed=false;u.indexType=null;var l=this._sortBuffersByLocation(e),c=l.locations,f=l.elements;for(var h=0;h<c.length;++h){var p=c[h];var d=e[p];if(!d){this.vertexAttributes.disable(h)}else{var v=d.layout.instanced?1:0;this.vertexAttributes.enable(h);this.vertexAttributes.setBuffer({location:h,buffer:d});this.vertexAttributes.setDivisor(h,v);u.isInstanced=d.layout.instanced>0;this._filledLocations[p]=true}}if(f){var m=e[f];m.bind();u.isIndexed=true;u.indexType=m.layout.type}if(a){this._checkBuffers()}return this}},{key:"unsetBuffers",value:function t(){var e=this._attributeCount;for(var n=1;n<e;++n){this.vertexAttributes.disable(n)}this.gl.bindBuffer(r["e"].ELEMENT_ARRAY_BUFFER,null);return this}},{key:"setUniforms",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var r in e){var i=e[r];var o=this._uniformSetters[r];var a=n[r];if(o){if(i instanceof u["a"]){i=i.texture}if(i instanceof s["a"]){if(o.textureIndex===undefined){o.textureIndex=this._textureIndexCounter++}var l=i;var c=o.textureIndex;l.bind(c);if(a){a.bind(c)}o(c)}else{o(i)}}}return this}},{key:"getAttributeCount",value:function t(){return this._getParameter(r["e"].ACTIVE_ATTRIBUTES)}},{key:"getAttributeLocation",value:function t(e){return this.gl.getAttribLocation(this.handle,e)}},{key:"getAttributeInfo",value:function t(e){return this.gl.getActiveAttrib(this.handle,e)}},{key:"getUniformCount",value:function t(){return this._getParameter(r["e"].ACTIVE_UNIFORMS)}},{key:"getUniformInfo",value:function t(e){return this.gl.getActiveUniform(this.handle,e)}},{key:"getUniformLocation",value:function t(e){return this.gl.getUniformLocation(this.handle,e)}},{key:"getUniformValue",value:function t(e){return this.gl.getUniform(this.handle,e)}},{key:"getVarying",value:function t(e,n){var r=this.gl.getTransformFeedbackVarying(e,n);return r}},{key:"getFragDataLocation",value:function t(e){Object(i["c"])(this.gl);return this.gl.getFragDataLocation(this.handle,e)}},{key:"getAttachedShaders",value:function t(){return this.gl.getAttachedShaders(this.handle)}},{key:"_compileAndLink",value:function t(){var e=this.gl;e.attachShader(this.handle,this.vs.handle);e.attachShader(this.handle,this.fs.handle);h["log"].time(_,"linkProgram for "+this._getName());e.linkProgram(this.handle);h["log"].timeEnd(_,"linkProgram for "+this._getName());if(e.debug||h["log"].priority>0){e.validateProgram(this.handle);var n=e.getProgramParameter(this.handle,e.LINK_STATUS);if(!n){throw new Error("Error linking "+e.getProgramInfoLog(this.handle))}}this._queryAttributeLocations();this._queryUniformLocations()}},{key:"_checkBuffers",value:function t(){for(var e in this._attributeLocations){if(!this._filledLocations[e]&&!this._warnedLocations[e]){var n=this._attributeLocations[e];h["log"].warn("Program "+this.id+": Attribute "+n+":"+e+" not supplied");this._warnedLocations[e]=true}}return this}},{key:"_sortBuffersByLocation",value:function t(e){var n=null;var i=new Array(this._attributeCount);for(var o in e){var a=e[o];var s=this._attributeLocations[o];if(s===undefined){if(a.target===r["e"].ELEMENT_ARRAY_BUFFER&&n){throw new Error(this._print(o)+" duplicate GL.ELEMENT_ARRAY_BUFFER")}else if(a.target===r["e"].ELEMENT_ARRAY_BUFFER){n=o}else if(!this._warnedLocations[o]){h["log"].log(2,this._print(o)+" not used");this._warnedLocations[o]=true}}else{if(a.target===r["e"].ELEMENT_ARRAY_BUFFER){throw new Error(this._print(o)+":"+s+" "+"has both location and type gl.ELEMENT_ARRAY_BUFFER")}i[s]=o}}return{locations:i,elements:n}}},{key:"_areAllAttributesEnabled",value:function t(){var e=this._attributeCount;for(var n=0;n<e;++n){if(!this.vertexAttributes.isEnabled(n)){return false}}return true}},{key:"_print",value:function t(e){return"Program "+this.id+": Attribute "+e}},{key:"_createHandle",value:function t(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function t(){this.gl.deleteProgram(this.handle)}},{key:"_getName",value:function t(){var e=this.vs.getName()||this.fs.getName();e=e.replace(/shader/i,"");e=e?e+"-program":"program";return e}},{key:"_getOptionsFromHandle",value:function t(e){var n=this.gl.getAttachedShaders(e);var i={};var o=true;var a=false;var s=undefined;try{for(var u=n[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;var h=this.gl.getShaderParameter(this.handle,r["e"].SHADER_TYPE);switch(h){case r["e"].VERTEX_SHADER:i.vs=new f["b"]({handle:c});break;case r["e"].FRAGMENT_SHADER:i.fs=new f["a"]({handle:c});break;default:}}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return i}},{key:"_getParameter",value:function t(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_queryAttributeLocations",value:function t(){this._attributeLocations={};this._attributeCount=this.getAttributeCount();for(var e=0;e<this._attributeCount;e++){var n=this.getAttributeInfo(e).name;this._attributeLocations[n]=this.getAttributeLocation(n)}this._warnedLocations=[];this._filledLocations={}}},{key:"_queryUniformLocations",value:function t(){var e=this.gl;this._uniformSetters={};this._uniformCount=this.getUniformCount();for(var n=0;n<this._uniformCount;n++){var r=this.getUniformInfo(n);var i=Object(c["d"])(r.name);var o=this.getUniformLocation(i.name);this._uniformSetters[i.name]=Object(c["b"])(e,o,r,i.isArray)}this._textureIndexCounter=0}},{key:"_setId",value:function t(e){if(!e){var n=this._getName();this.id=Object(h["uid"])(n)}}}]);return e}(a["a"]);e["a"]=b;function x(t,e){var n={};var r=e.getUniformCount();for(var i=0;i<r;i++){var o=e.getUniformInfo(i);var a=e.getUniformLocation(o.name);var s=Object(c["b"])(t,a,o);n[s.name]=s}return n}function w(t,e){var n={};var i=0;var o=true;var a=false;var s=undefined;try{for(var u=t[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true){var c=l.value;if(e===r["e"].SEPARATE_ATTRIBS){n[t]={index:i};i++}else if(c==="gl_NextBuffer"){i++}else{n[t]={index:i,offset:16}}}}catch(t){a=true;s=t}finally{try{if(!o&&u.return){u.return()}}finally{if(a){throw s}}}return n}},njfc:function(t,e){t.exports=n;function n(t,e){return t[0]*e[0]+t[1]*e[1]}},"o+Ph":function(t,e){t.exports=n;function n(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);t[0]=r*u+i*s;t[1]=i*u-r*s;t[2]=o*u+a*s;t[3]=a*u-o*s;return t}},"o/R8":function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];t[0]=i*u-o*s;t[1]=o*a-r*u;t[2]=r*s-i*a;return t}},oI6O:function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a;t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a;t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a;t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a;return t}},pEGt:function(t,e,n){var r=n("DvwR");var i=n("B5V0");t.exports=Object.keys||function t(e){return r(e,i)}},pFYg:function(t,e,n){"use strict";e.__esModule=true;var r=n("Zzip");var i=u(r);var o=n("5QVw");var a=u(o);var s=typeof a.default==="function"&&typeof i.default==="symbol"?function(t){return typeof t}:function(t){return t&&typeof a.default==="function"&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default=typeof a.default==="function"&&s(i.default)==="symbol"?function(t){return typeof t==="undefined"?"undefined":s(t)}:function(t){return t&&typeof a.default==="function"&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t==="undefined"?"undefined":s(t)}},pf5t:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];t[2]=e[2]-n[2];return t}},pqyw:function(t,e,n){t.exports=n("1/Wr")},"qBE+":function(t,e,n){"use strict";var r=n("7k+L");var i=n("u/dy");var o=n("4MLn");var a=n("N+Om");var s=n.n(a);var u=n("diIw");var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var p="OES_vertex_array_object";var d=34963;var v=34338;var m=34339;var g=34340;var y=34341;var _=34922;var b=34373;var x=34975;var w=35069;var E=35070;var T=[v,m,g,y,_,b,x,w,E];var I="elements must be GL.ELEMENT_ARRAY_BUFFER";var C=function(t){h(e,t);l(e,[{key:"MAX_ATTRIBUTES",get:function t(){return this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS)}}],[{key:"isSupported",value:function t(e){return Object(i["h"])(e)||e.getExtension(p)}},{key:"getDefaultArray",value:function t(n){n.luma=n.luma||{};if(!n.luma.defaultVertexArray){n.luma.defaultVertexArray=new e(n,{handle:null})}return n.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function t(e){return e.getParameter(e.MAX_VERTEX_ATTRIBS)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.elements=null;r.buffers={};r.locations={};r.names={};r.drawParameters={};r._bound=false;Object.seal(r);r.initialize(n);return r}l(e,[{key:"initialize",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.buffers,r=n===undefined?{}:n,i=e.elements,o=i===undefined?null:i,a=e.locations,s=a===undefined?{}:a;this.setLocations(s);this.setBuffers(r,{clear:true});this.setElements(o)}},{key:"setLocations",value:function t(e){this.locations=e;this.names={}}},{key:"setElements",value:function t(e){s()(!e||e.target===d,I);this.ext.bindVertexArray(this.handle);this.gl.bindBuffer(d,e&&e.handle);this.ext.bindVertexArray(null);this.elements=e;return this}},{key:"_getBufferAndLayout",value:function t(e){var n=void 0;var r=void 0;if(e.handle){n=e;r=e.layout}else{n=e.buffer;r=Object.assign({},n.layout,e.layout||{},e)}return{buffer:n,layout:r}}},{key:"setBuffers",value:function t(e,n){var r=n.clear,i=n.check;var o=this._getLocations(e),a=o.locations,s=o.elements;this.ext.bindVertexArray(this.handle);for(var u in a){var l=a[u];if(l){var c=this._getBufferAndLayout(l),f=c.buffer,h=c.layout;this.setBuffer({location:u,buffer:f,layout:h});this.setDivisor(u,h.instanced?1:0);this.enable(u)}else{this.disable(u)}}this.buffers=e;this.ext.bindVertexArray(null);if(s){this.setElements(s)}if(i){this._checkBuffers()}}},{key:"enable",value:function t(e){var n=this;this.bind(function(){n.gl.enableVertexAttribArray(e)})}},{key:"disable",value:function t(e){var n=this;if(e>0){this.bind(function(){n.gl.disableVertexAttribArray(e)})}}},{key:"setDivisor",value:function t(e,n){var r=this;this.bind(function(){r.ext.vertexAttribDivisor(e,n)})}},{key:"setBuffer",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.location,r=e.buffer,o=e.target,a=e.layout;var u=this.gl;o=o!==undefined?o:r.target;a=a!==undefined?a:r.layout;s()(o,"setBuffer needs target");s()(a,"setBuffer called on uninitialized buffer");this.bind(function(){r.bind({target:u.ARRAY_BUFFER});var t=a,e=t.size,o=t.type,l=t.normalized,c=t.stride,f=t.offset;if(!a.integer){u.vertexAttribPointer(n,e,o,l,c,f)}else{s()(Object(i["h"])(u));u.vertexAttribIPointer(n,e,o,c,f)}})}},{key:"setGeneric",value:function t(e){var n=e.location,r=e.array;u["log"].warn(0,"VertexAttributes.setGeneric is not well tested");var o=this.gl;switch(r.constructor){case Float32Array:o.vertexAttrib4fv(n,r);break;case Int32Array:s()(Object(i["h"])(o));o.vertexAttribI4iv(n,r);break;case Uint32Array:s()(Object(i["h"])(o));o.vertexAttribI4uiv(n,r);break;default:}return this}},{key:"setGenericValues",value:function t(e,n,r,i,o){u["log"].warn(0,"VertexAttributes.setGenericValues is not well tested");switch(arguments.length-1){case 1:this.gl.vertexAttrib1f(e,n);break;case 2:this.gl.vertexAttrib2f(e,n,r);break;case 3:this.gl.vertexAttrib3f(e,n,r,i);break;case 4:this.gl.vertexAttrib4f(e,n,r,i,o);break;default:throw new Error("vertex attribute size must be between 1 and 4")}}},{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.handle;if(typeof e!=="function"){this.bindVertexArray(e);return this}var n=void 0;if(!this._bound){this.ext.bindVertexArray(this.handle);this._bound=true;n=e();this.ext.bindVertexArray(null);this._bound=false}else{n=e()}return n}},{key:"_deduceDrawParameters",value:function t(){var e=false;var n=false;var r=null;if(this.elements){n=true;r=this.elements.layout.type}this.buffers.forEach(function(t){if(t.layout.instanced>0){e=true}});return{isInstanced:e,isIndexed:n,indexType:r}}},{key:"_getLocations",value:function t(e){var n=null;var r={};for(var i in e){var o=e[i];if(o&&o.target===d){s()(!n,"Duplicate GL.ELEMENT_ARRAY_BUFFER");n=o}var a=Number(i);if(!Number.isFinite(a)){a=this.locations[i]}s()(Number.isFinite(a));s()(!r[a],"Duplicate attribute for binding point "+a);r[a]=o}return{locations:r,elements:n}}},{key:"_sortBuffersByLocation",value:function t(e){var n=null;var r=new Array(this._attributeCount).fill(null);for(var i in e){var o=e[i];if(o.target===d){s()(!n,"Duplicate GL.ELEMENT_ARRAY_BUFFER");n=o}else if(!this._warn[i]){u["log"].warn(2,this._print(i)+" not used");this._warn[i]=true}var a=Number(i);if(!Number.isFinite(a)){a=this.locations[i]}r[a]=i;s()(r[a]===null,"Duplicate attribute for binding point "+a);r[a]=a}return{locations:r,elements:n}}},{key:"_checkBuffers",value:function t(){for(var e in this._attributeLocations){if(!this._filledLocations[e]&&!this._warn[e]){var n=this._attributeLocations[e];u["log"].warn(0,"Program "+this.id+": Attribute "+n+":"+e+" not supplied");this._warn[e]=true}}return this}},{key:"_createHandle",value:function t(){return this.ext.createVertexArray()}},{key:"_deleteHandle",value:function t(e){this.ext.deleteVertexArray(e);return[this.elements]}},{key:"_getParameter",value:function t(e,n){var r=n.location;s()(Number.isFinite(r));this.ext.bindVertexArray(this.handle);var i=void 0;switch(e){case b:i=this.gl.getVertexAttribOffset(r,e);break;default:i=this.ext.getVertexAttrib(r,e)}this.ext.bindVertexArray(null);return i}},{key:"_getData",value:function t(){var e=this;return new Array(this.MAX_ATTRIBUTES).fill(0).map(function(t,n){var i={};T.forEach(function(t){i[Object(r["d"])(t)]=e.getParameter(t,{location:n})});return i})}},{key:"_bind",value:function t(e){this.ext.bindVertexArray(e)}}]);return e}(o["a"]);e["a"]=C},qZWb:function(t,e){t.exports=n;function n(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=n[0],l=n[1],c=n[2],f=n[3];var h,p,d,v,m;p=i*u+o*l+a*c+s*f;if(p<0){p=-p;u=-u;l=-l;c=-c;f=-f}if(1-p>1e-6){h=Math.acos(p);d=Math.sin(h);v=Math.sin((1-r)*h)/d;m=Math.sin(r*h)/d}else{v=1-r;m=r}t[0]=v*i+m*u;t[1]=v*o+m*l;t[2]=v*a+m*c;t[3]=v*s+m*f;return t}},"qs+f":function(t,e,n){t.exports=!n("zyKz")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"r3+g":function(t,e,n){var r=n("GCs6");var i=n("FKWp");var o=n("pEGt");t.exports=n("qs+f")?Object.defineProperties:function t(e,n){i(e);var a=o(n);var s=a.length;var u=0;var l;while(s>u)r.f(e,l=a[u++],n[l]);return e}},"rKx+":function(t,e,n){n("4ajQ");var r=n("iANj").Object;t.exports=function t(e,n,i){return r.defineProperty(e,n,i)}},rZAI:function(t,e,n){var r=n("wXdB");var i=n("pEGt");n("30vf")("keys",function(){return function t(e){return i(r(e))}})},rjj0:function(t,e,n){var r=typeof document!=="undefined";if(typeof DEBUG!=="undefined"&&DEBUG){if(!r){throw new Error("vue-style-loader cannot be used in a non-browser environment. "+"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.")}}var i=n("tTVk");var o={};var a=r&&(document.head||document.getElementsByTagName("head")[0]);var s=null;var u=0;var l=false;var c=function(){};var f=typeof navigator!=="undefined"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){l=n;var r=i(t,e);h(r);return function e(n){var a=[];for(var s=0;s<r.length;s++){var u=r[s];var l=o[u.id];l.refs--;a.push(l)}if(n){r=i(t,n);h(r)}else{r=[]}for(var s=0;s<a.length;s++){var l=a[s];if(l.refs===0){for(var c=0;c<l.parts.length;c++){l.parts[c]()}delete o[l.id]}}}};function h(t){for(var e=0;e<t.length;e++){var n=t[e];var r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++){r.parts[i](n.parts[i])}for(;i<n.parts.length;i++){r.parts.push(d(n.parts[i]))}if(r.parts.length>n.parts.length){r.parts.length=n.parts.length}}else{var a=[];for(var i=0;i<n.parts.length;i++){a.push(d(n.parts[i]))}o[n.id]={id:n.id,refs:1,parts:a}}}}function p(){var t=document.createElement("style");t.type="text/css";a.appendChild(t);return t}function d(t){var e,n;var r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(l){return c}else{r.parentNode.removeChild(r)}}if(f){var i=u++;r=s||(s=p());e=m.bind(null,r,i,false);n=m.bind(null,r,i,true)}else{r=p();e=g.bind(null,r);n=function(){r.parentNode.removeChild(r)}}e(t);return function r(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap){return}e(t=i)}else{n()}}}var v=function(){var t=[];return function(e,n){t[e]=n;return t.filter(Boolean).join("\n")}}();function m(t,e,n,r){var i=n?"":r.css;if(t.styleSheet){t.styleSheet.cssText=v(e,i)}else{var o=document.createTextNode(i);var a=t.childNodes;if(a[e])t.removeChild(a[e]);if(a.length){t.insertBefore(o,a[e])}else{t.appendChild(o)}}}function g(t,e){var n=e.css;var r=e.media;var i=e.sourceMap;if(r){t.setAttribute("media",r)}if(i){n+="\n/*# sourceURL="+i.sources[0]+" */";n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"}if(t.styleSheet){t.styleSheet.cssText=n}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(n))}}},rjjF:function(t,e,n){var r=n("bSeU");var i=n("YTz9");var o=n("ksFB");var a=n("9MbE");var s=n("x//u");var u=n("LocR");var l=Object.getOwnPropertyDescriptor;e.f=n("qs+f")?l:function t(e,n){e=o(e);n=a(n,true);if(u)try{return l(e,n)}catch(t){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},rxKx:function(t,e,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(i,o,a,s){"use strict";var u=["","webkit","Moz","MS","ms","o"];var l=o.createElement("div");var c="function";var f=Math.round;var h=Math.abs;var p=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){if(Array.isArray(t)){m(t,n[e],n);return true}return false}function m(t,e,n){var r;if(!t){return}if(t.forEach){t.forEach(e,n)}else if(t.length!==s){r=0;while(r<t.length){e.call(n,t[r],r,t);r++}}else{for(r in t){t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}}}function g(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace");var n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var o=i.console&&(i.console.warn||i.console.log);if(o){o.call(i.console,r,n)}return t.apply(this,arguments)}}var y;if(typeof Object.assign!=="function"){y=function t(e){if(e===s||e===null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(e);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!==s&&i!==null){for(var o in i){if(i.hasOwnProperty(o)){n[o]=i[o]}}}}return n}}else{y=Object.assign}var _=g(function t(e,n,r){var i=Object.keys(n);var o=0;while(o<i.length){if(!r||r&&e[i[o]]===s){e[i[o]]=n[i[o]]}o++}return e},"extend","Use `assign`.");var b=g(function t(e,n){return _(e,n,true)},"merge","Use `assign`.");function x(t,e,n){var r=e.prototype,i;i=t.prototype=Object.create(r);i.constructor=t;i._super=r;if(n){y(i,n)}}function w(t,e){return function n(){return t.apply(e,arguments)}}function E(t,e){if(typeof t==c){return t.apply(e?e[0]||s:s,e)}return t}function T(t,e){return t===s?e:t}function I(t,e,n){m(S(e),function(e){t.addEventListener(e,n,false)})}function C(t,e,n){m(S(e),function(e){t.removeEventListener(e,n,false)})}function M(t,e){while(t){if(t==e){return true}t=t.parentNode}return false}function A(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\s+/g)}function R(t,e,n){if(t.indexOf&&!n){return t.indexOf(e)}else{var r=0;while(r<t.length){if(n&&t[r][n]==e||!n&&t[r]===e){return r}r++}return-1}}function L(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){var r=[];var i=[];var o=0;while(o<t.length){var a=e?t[o][e]:t[o];if(R(i,a)<0){r.push(t[o])}i[o]=a;o++}if(n){if(!e){r=r.sort()}else{r=r.sort(function t(n,r){return n[e]>r[e]})}}return r}function N(t,e){var n,r;var i=e[0].toUpperCase()+e.slice(1);var o=0;while(o<u.length){n=u[o];r=n?n+i:e;if(r in t){return r}o++}return s}var F=1;function O(){return F++}function B(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var P=/mobile|tablet|ip(ad|hone|od)|android/i;var U="ontouchstart"in i;var D=N(i,"PointerEvent")!==s;var z=U&&P.test(navigator.userAgent);var j="touch";var V="pen";var G="mouse";var X="kinect";var W=25;var Z=1;var Q=2;var H=4;var Y=8;var J=1;var q=2;var K=4;var $=8;var tt=16;var et=q|K;var nt=$|tt;var rt=et|nt;var it=["x","y"];var ot=["clientX","clientY"];function at(t,e){var n=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){if(E(t.options.enable,[t])){n.handler(e)}};this.init()}at.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler);this.evTarget&&I(this.target,this.evTarget,this.domHandler);this.evWin&&I(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler);this.evTarget&&C(this.target,this.evTarget,this.domHandler);this.evWin&&C(B(this.element),this.evWin,this.domHandler)}};function st(t){var e;var n=t.options.inputClass;if(n){e=n}else if(D){e=At}else if(z){e=Bt}else if(!U){e=Et}else{e=zt}return new e(t,ut)}function ut(t,e,n){var r=n.pointers.length;var i=n.changedPointers.length;var o=e&Z&&r-i===0;var a=e&(H|Y)&&r-i===0;n.isFirst=!!o;n.isFinal=!!a;if(o){t.session={}}n.eventType=e;lt(t,n);t.emit("hammer.input",n);t.recognize(n);t.session.prevInput=n}function lt(t,e){var n=t.session;var r=e.pointers;var i=r.length;if(!n.firstInput){n.firstInput=ht(e)}if(i>1&&!n.firstMultiple){n.firstMultiple=ht(e)}else if(i===1){n.firstMultiple=false}var o=n.firstInput;var a=n.firstMultiple;var s=a?a.center:o.center;var u=e.center=pt(r);e.timeStamp=p();e.deltaTime=e.timeStamp-o.timeStamp;e.angle=gt(s,u);e.distance=mt(s,u);ct(n,e);e.offsetDirection=vt(e.deltaX,e.deltaY);var l=dt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x;e.overallVelocityY=l.y;e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y;e.scale=a?_t(a.pointers,r):1;e.rotation=a?yt(a.pointers,r):0;e.maxPointers=!n.prevInput?e.pointers.length:e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers;ft(n,e);var c=t.element;if(M(e.srcEvent.target,c)){c=e.srcEvent.target}e.target=c}function ct(t,e){var n=e.center;var r=t.offsetDelta||{};var i=t.prevDelta||{};var o=t.prevInput||{};if(e.eventType===Z||o.eventType===H){i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0};r=t.offsetDelta={x:n.x,y:n.y}}e.deltaX=i.x+(n.x-r.x);e.deltaY=i.y+(n.y-r.y)}function ft(t,e){var n=t.lastInterval||e,r=e.timeStamp-n.timeStamp,i,o,a,u;if(e.eventType!=Y&&(r>W||n.velocity===s)){var l=e.deltaX-n.deltaX;var c=e.deltaY-n.deltaY;var f=dt(r,l,c);o=f.x;a=f.y;i=h(f.x)>h(f.y)?f.x:f.y;u=vt(l,c);t.lastInterval=e}else{i=n.velocity;o=n.velocityX;a=n.velocityY;u=n.direction}e.velocity=i;e.velocityX=o;e.velocityY=a;e.direction=u}function ht(t){var e=[];var n=0;while(n<t.pointers.length){e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)};n++}return{timeStamp:p(),pointers:e,center:pt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pt(t){var e=t.length;if(e===1){return{x:f(t[0].clientX),y:f(t[0].clientY)}}var n=0,r=0,i=0;while(i<e){n+=t[i].clientX;r+=t[i].clientY;i++}return{x:f(n/e),y:f(r/e)}}function dt(t,e,n){return{x:e/t||0,y:n/t||0}}function vt(t,e){if(t===e){return J}if(h(t)>=h(e)){return t<0?q:K}return e<0?$:tt}function mt(t,e,n){if(!n){n=it}var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function gt(t,e,n){if(!n){n=it}var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.atan2(i,r)*180/Math.PI}function yt(t,e){return gt(e[1],e[0],ot)+gt(t[1],t[0],ot)}function _t(t,e){return mt(e[0],e[1],ot)/mt(t[0],t[1],ot)}var bt={mousedown:Z,mousemove:Q,mouseup:H};var xt="mousedown";var wt="mousemove mouseup";function Et(){this.evEl=xt;this.evWin=wt;this.pressed=false;at.apply(this,arguments)}x(Et,at,{handler:function t(e){var n=bt[e.type];if(n&Z&&e.button===0){this.pressed=true}if(n&Q&&e.which!==1){n=H}if(!this.pressed){return}if(n&H){this.pressed=false}this.callback(this.manager,n,{pointers:[e],changedPointers:[e],pointerType:G,srcEvent:e})}});var Tt={pointerdown:Z,pointermove:Q,pointerup:H,pointercancel:Y,pointerout:Y};var It={2:j,3:V,4:G,5:X};var Ct="pointerdown";var Mt="pointermove pointerup pointercancel";if(i.MSPointerEvent&&!i.PointerEvent){Ct="MSPointerDown";Mt="MSPointerMove MSPointerUp MSPointerCancel"}function At(){this.evEl=Ct;this.evWin=Mt;at.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}x(At,at,{handler:function t(e){var n=this.store;var r=false;var i=e.type.toLowerCase().replace("ms","");var o=Tt[i];var a=It[e.pointerType]||e.pointerType;var s=a==j;var u=R(n,e.pointerId,"pointerId");if(o&Z&&(e.button===0||s)){if(u<0){n.push(e);u=n.length-1}}else if(o&(H|Y)){r=true}if(u<0){return}n[u]=e;this.callback(this.manager,o,{pointers:n,changedPointers:[e],pointerType:a,srcEvent:e});if(r){n.splice(u,1)}}});var St={touchstart:Z,touchmove:Q,touchend:H,touchcancel:Y};var Rt="touchstart";var Lt="touchstart touchmove touchend touchcancel";function kt(){this.evTarget=Rt;this.evWin=Lt;this.started=false;at.apply(this,arguments)}x(kt,at,{handler:function t(e){var n=St[e.type];if(n===Z){this.started=true}if(!this.started){return}var r=Nt.call(this,e,n);if(n&(H|Y)&&r[0].length-r[1].length===0){this.started=false}this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:j,srcEvent:e})}});function Nt(t,e){var n=L(t.touches);var r=L(t.changedTouches);if(e&(H|Y)){n=k(n.concat(r),"identifier",true)}return[n,r]}var Ft={touchstart:Z,touchmove:Q,touchend:H,touchcancel:Y};var Ot="touchstart touchmove touchend touchcancel";function Bt(){this.evTarget=Ot;this.targetIds={};at.apply(this,arguments)}x(Bt,at,{handler:function t(e){var n=Ft[e.type];var r=Pt.call(this,e,n);if(!r){return}this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:j,srcEvent:e})}});function Pt(t,e){var n=L(t.touches);var r=this.targetIds;if(e&(Z|Q)&&n.length===1){r[n[0].identifier]=true;return[n,n]}var i,o,a=L(t.changedTouches),s=[],u=this.target;o=n.filter(function(t){return M(t.target,u)});if(e===Z){i=0;while(i<o.length){r[o[i].identifier]=true;i++}}i=0;while(i<a.length){if(r[a[i].identifier]){s.push(a[i])}if(e&(H|Y)){delete r[a[i].identifier]}i++}if(!s.length){return}return[k(o.concat(s),"identifier",true),s]}var Ut=2500;var Dt=25;function zt(){at.apply(this,arguments);var t=w(this.handler,this);this.touch=new Bt(this.manager,t);this.mouse=new Et(this.manager,t);this.primaryTouch=null;this.lastTouches=[]}x(zt,at,{handler:function t(e,n,r){var i=r.pointerType==j,o=r.pointerType==G;if(o&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents){return}if(i){jt.call(this,n,r)}else if(o&&Gt.call(this,r)){return}this.callback(e,n,r)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});function jt(t,e){if(t&Z){this.primaryTouch=e.changedPointers[0].identifier;Vt.call(this,e)}else if(t&(H|Y)){Vt.call(this,e)}}function Vt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;var i=function(){var t=r.indexOf(n);if(t>-1){r.splice(t,1)}};setTimeout(i,Ut)}}function Gt(t){var e=t.srcEvent.clientX,n=t.srcEvent.clientY;for(var r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r];var o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=Dt&&a<=Dt){return true}}return false}var Xt=N(l.style,"touchAction");var Wt=Xt!==s;var Zt="compute";var Qt="auto";var Ht="manipulation";var Yt="none";var Jt="pan-x";var qt="pan-y";var Kt=ee();function $t(t,e){this.manager=t;this.set(e)}$t.prototype={set:function(t){if(t==Zt){t=this.compute()}if(Wt&&this.manager.element.style&&Kt[t]){this.manager.element.style[Xt]=t}this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];m(this.manager.recognizers,function(e){if(E(e.options.enable,[e])){t=t.concat(e.getTouchAction())}});return te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent;var n=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var r=this.actions;var i=A(r,Yt)&&!Kt[Yt];var o=A(r,qt)&&!Kt[qt];var a=A(r,Jt)&&!Kt[Jt];if(i){var s=t.pointers.length===1;var u=t.distance<2;var l=t.deltaTime<250;if(s&&u&&l){return}}if(a&&o){return}if(i||o&&n&et||a&&n&nt){return this.preventSrc(e)}},preventSrc:function(t){this.manager.session.prevented=true;t.preventDefault()}};function te(t){if(A(t,Yt)){return Yt}var e=A(t,Jt);var n=A(t,qt);if(e&&n){return Yt}if(e||n){return e?Jt:qt}if(A(t,Ht)){return Ht}return Qt}function ee(){if(!Wt){return false}var t={};var e=i.CSS&&i.CSS.supports;["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=e?i.CSS.supports("touch-action",n):true});return t}var ne=1;var re=2;var ie=4;var oe=8;var ae=oe;var se=16;var ue=32;function le(t){this.options=y({},this.defaults,t||{});this.id=O();this.manager=null;this.options.enable=T(this.options.enable,true);this.state=ne;this.simultaneous={};this.requireFail=[]}le.prototype={defaults:{},set:function(t){y(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(v(t,"recognizeWith",this)){return this}var e=this.simultaneous;t=he(t,this);if(!e[t.id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(v(t,"dropRecognizeWith",this)){return this}t=he(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(v(t,"requireFailure",this)){return this}var e=this.requireFail;t=he(t,this);if(R(e,t)===-1){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this)){return this}t=he(t,this);var e=R(this.requireFail,t);if(e>-1){this.requireFail.splice(e,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this;var n=this.state;function r(n){e.manager.emit(n,t)}if(n<oe){r(e.options.event+ce(n))}r(e.options.event);if(t.additionalEvent){r(t.additionalEvent)}if(n>=oe){r(e.options.event+ce(n))}},tryEmit:function(t){if(this.canEmit()){return this.emit(t)}this.state=ue},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(ue|ne))){return false}t++}return true},recognize:function(t){var e=y({},t);if(!E(this.options.enable,[this,e])){this.reset();this.state=ue;return}if(this.state&(ae|se|ue)){this.state=ne}this.state=this.process(e);if(this.state&(re|ie|oe|se)){this.tryEmit(e)}},process:function(t){},getTouchAction:function(){},reset:function(){}};function ce(t){if(t&se){return"cancel"}else if(t&oe){return"end"}else if(t&ie){return"move"}else if(t&re){return"start"}return""}function fe(t){if(t==tt){return"down"}else if(t==$){return"up"}else if(t==q){return"left"}else if(t==K){return"right"}return""}function he(t,e){var n=e.manager;if(n){return n.get(t)}return t}function pe(){le.apply(this,arguments)}x(pe,le,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state;var n=t.eventType;var r=e&(re|ie);var i=this.attrTest(t);if(r&&(n&Y||!i)){return e|se}else if(r||i){if(n&H){return e|oe}else if(!(e&re)){return re}return e|ie}return ue}});function de(){pe.apply(this,arguments);this.pX=null;this.pY=null}x(de,pe,{defaults:{event:"pan",threshold:10,pointers:1,direction:rt},getTouchAction:function(){var t=this.options.direction;var e=[];if(t&et){e.push(qt)}if(t&nt){e.push(Jt)}return e},directionTest:function(t){var e=this.options;var n=true;var r=t.distance;var i=t.direction;var o=t.deltaX;var a=t.deltaY;if(!(i&e.direction)){if(e.direction&et){i=o===0?J:o<0?q:K;n=o!=this.pX;r=Math.abs(t.deltaX)}else{i=a===0?J:a<0?$:tt;n=a!=this.pY;r=Math.abs(t.deltaY)}}t.direction=i;return n&&r>e.threshold&&i&e.direction},attrTest:function(t){return pe.prototype.attrTest.call(this,t)&&(this.state&re||!(this.state&re)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=fe(t.direction);if(e){t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function ve(){pe.apply(this,arguments)}x(ve,pe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&re)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function me(){le.apply(this,arguments);this._timer=null;this._input=null}x(me,le,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Qt]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var r=t.distance<e.threshold;var i=t.deltaTime>e.time;this._input=t;if(!r||!n||t.eventType&(H|Y)&&!i){this.reset()}else if(t.eventType&Z){this.reset();this._timer=d(function(){this.state=ae;this.tryEmit()},e.time,this)}else if(t.eventType&H){return ae}return ue},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state!==ae){return}if(t&&t.eventType&H){this.manager.emit(this.options.event+"up",t)}else{this._input.timeStamp=p();this.manager.emit(this.options.event,this._input)}}});function ge(){pe.apply(this,arguments)}x(ge,pe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Yt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&re)}});function ye(){pe.apply(this,arguments)}x(ye,pe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|nt,pointers:1},getTouchAction:function(){return de.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction;var n;if(e&(et|nt)){n=t.overallVelocity}else if(e&et){n=t.overallVelocityX}else if(e&nt){n=t.overallVelocityY}return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(n)>this.options.velocity&&t.eventType&H},emit:function(t){var e=fe(t.offsetDirection);if(e){this.manager.emit(this.options.event+e,t)}this.manager.emit(this.options.event,t)}});function _e(){le.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}x(_e,le,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ht]},process:function(t){var e=this.options;var n=t.pointers.length===e.pointers;var r=t.distance<e.threshold;var i=t.deltaTime<e.time;this.reset();if(t.eventType&Z&&this.count===0){return this.failTimeout()}if(r&&i&&n){if(t.eventType!=H){return this.failTimeout()}var o=this.pTime?t.timeStamp-this.pTime<e.interval:true;var a=!this.pCenter||mt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;if(!a||!o){this.count=1}else{this.count+=1}this._input=t;var s=this.count%e.taps;if(s===0){if(!this.hasRequireFailures()){return ae}else{this._timer=d(function(){this.state=ae;this.tryEmit()},e.interval,this);return re}}}return ue},failTimeout:function(){this._timer=d(function(){this.state=ue},this.options.interval,this);return ue},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==ae){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function be(t,e){e=e||{};e.recognizers=T(e.recognizers,be.defaults.preset);return new Ee(t,e)}be.VERSION="2.0.7";be.defaults={domEvents:false,touchAction:Zt,enable:true,inputTarget:null,inputClass:null,preset:[[ge,{enable:false}],[ve,{enable:false},["rotate"]],[ye,{direction:et}],[de,{direction:et},["swipe"]],[_e],[_e,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xe=1;var we=2;function Ee(t,e){this.options=y({},be.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=t;this.input=st(this);this.touchAction=new $t(this,this.options.touchAction);Te(this,true);m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}Ee.prototype={set:function(t){y(this.options,t);if(t.touchAction){this.touchAction.update()}if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?we:xe},recognize:function(t){var e=this.session;if(e.stopped){return}this.touchAction.preventDefaults(t);var n;var r=this.recognizers;var i=e.curRecognizer;if(!i||i&&i.state&ae){i=e.curRecognizer=null}var o=0;while(o<r.length){n=r[o];if(e.stopped!==we&&(!i||n==i||n.canRecognizeWith(i))){n.recognize(t)}else{n.reset()}if(!i&&n.state&(re|ie|oe)){i=e.curRecognizer=n}o++}},get:function(t){if(t instanceof le){return t}var e=this.recognizers;for(var n=0;n<e.length;n++){if(e[n].options.event==t){return e[n]}}return null},add:function(t){if(v(t,"add",this)){return this}var e=this.get(t.options.event);if(e){this.remove(e)}this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(v(t,"remove",this)){return this}t=this.get(t);if(t){var e=this.recognizers;var n=R(e,t);if(n!==-1){e.splice(n,1);this.touchAction.update()}}return this},on:function(t,e){if(t===s){return}if(e===s){return}var n=this.handlers;m(S(t),function(t){n[t]=n[t]||[];n[t].push(e)});return this},off:function(t,e){if(t===s){return}var n=this.handlers;m(S(t),function(t){if(!e){delete n[t]}else{n[t]&&n[t].splice(R(n[t],e),1)}});return this},emit:function(t,e){if(this.options.domEvents){Ie(t,e)}var n=this.handlers[t]&&this.handlers[t].slice();if(!n||!n.length){return}e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};var r=0;while(r<n.length){n[r](e);r++}},destroy:function(){this.element&&Te(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function Te(t,e){var n=t.element;if(!n.style){return}var r;m(t.options.cssProps,function(i,o){r=N(n.style,o);if(e){t.oldCssProps[r]=n.style[r];n.style[r]=i}else{n.style[r]=t.oldCssProps[r]||""}});if(!e){t.oldCssProps={}}}function Ie(t,e){var n=o.createEvent("Event");n.initEvent(t,true,true);n.gesture=e;e.target.dispatchEvent(n)}y(be,{INPUT_START:Z,INPUT_MOVE:Q,INPUT_END:H,INPUT_CANCEL:Y,STATE_POSSIBLE:ne,STATE_BEGAN:re,STATE_CHANGED:ie,STATE_ENDED:oe,STATE_RECOGNIZED:ae,STATE_CANCELLED:se,STATE_FAILED:ue,DIRECTION_NONE:J,DIRECTION_LEFT:q,DIRECTION_RIGHT:K,DIRECTION_UP:$,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:nt,DIRECTION_ALL:rt,Manager:Ee,Input:at,TouchAction:$t,TouchInput:Bt,MouseInput:Et,PointerEventInput:At,TouchMouseInput:zt,SingleTouchInput:kt,Recognizer:le,AttrRecognizer:pe,Tap:_e,Pan:de,Swipe:ye,Pinch:ve,Rotate:ge,Press:me,on:I,off:C,each:m,merge:b,extend:_,assign:y,inherit:x,bindFn:w,prefixed:N});var Ce=typeof i!=="undefined"?i:typeof self!=="undefined"?self:{};Ce.Hammer=be;if(true){!(r=function(){return be}.call(e,n,e,t),r!==s&&(t.exports=r))}else if(typeof t!="undefined"&&t.exports){t.exports=be}else{i[a]=be}})(window,document,"Hammer")},sopr:function(t,e,n){var r=n("8w1/");var i=n("o/R8");var o=n("YPlJ");var a=n("gQ4S");var s=n("XAEG");var u=n("NAGG");t.exports=h;var l=[0,0,0];var c=[1,0,0];var f=[0,1,0];function h(t,e,n){var h=r(e,n);if(h<-.999999){i(l,c,e);if(o(l)<1e-6){i(l,f,e)}a(l,l);u(t,l,Math.PI);return t}else if(h>.999999){t[0]=0;t[1]=0;t[2]=0;t[3]=1;return t}else{i(l,e,n);t[0]=l[0];t[1]=l[1];t[2]=l[2];t[3]=1+h;return s(t,t)}}},tAmJ:function(t,e,n){t.exports=n("bH80")},tDJt:function(t,e){t.exports=n;function n(t){t[0]=1;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=1;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=1;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return t}},tKKN:function(t,e,n){"use strict";e["a"]=s;var r=n("7k+L");var i=n("u/dy");var o=n("N+Om");var a=n.n(o);function s(t,e){var n=e.drawMode,o=n===undefined?r["b"].TRIANGLES:n,a=e.vertexCount,s=e.offset,u=s===undefined?0:s,l=e.isIndexed,c=l===undefined?false:l,f=e.indexType,h=f===undefined?r["b"].UNSIGNED_SHORT:f,p=e.isInstanced,d=p===undefined?false:p,v=e.instanceCount,m=v===undefined?0:v;Object(i["d"])(t);var g=t.getExtension("ANGLE_instanced_arrays");if(d){var y=isWebGL2(t);var _=t.getExtension("ANGLE_instanced_arrays");var b=y?t:_;var x=y?"":"ANGLE";var w="drawElementsInstanced"+x;var E="drawArraysInstanced"+x;if(c){b[w](o,a,h,u,m)}else{b[E](o,u,a,m)}}else if(c){t.drawElements(o,a,h,u)}else{t.drawArrays(o,u,a)}}},tLlS:function(t,e,n){"use strict";var r=n("kpIg");n.d(e,"d",function(){return r["h"]});n.d(e,"c",function(){return r["d"]});n.d(e,"b",function(){return r["b"]});n.d(e,"f",function(){return r["m"]});var i=n("3u7p");var o=n("jpCA");n.d(e,"a",function(){return o["a"]});e["e"]=o["a"]},tRNv:function(t,e){t.exports=n;function n(t,e,n,r){var i=[],o=[];i[0]=e[0]-n[0];i[1]=e[1]-n[1];i[2]=e[2]-n[2];o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r);o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r);o[2]=i[2];t[0]=o[0]+n[0];t[1]=o[1]+n[1];t[2]=o[2]+n[2];return t}},tTVk:function(t,e){t.exports=function t(e,n){var r=[];var i={};for(var o=0;o<n.length;o++){var a=n[o];var s=a[0];var u=a[1];var l=a[2];var c=a[3];var f={id:e+":"+o,css:u,media:l,sourceMap:c};if(!i[s]){r.push(i[s]={id:s,parts:[f]})}else{i[s].parts.push(f)}}return r}},tYO1:function(t,e,n){n("0/jl");n("gCWN");n("3ggi");n("OoWg");t.exports=n("iANj").Symbol},tYfZ:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,T=c*v-f*d,I=c*m-h*d,C=c*g-p*d,M=f*m-h*v,A=f*g-p*v,S=h*g-p*m,R=y*S-_*A+b*M+x*C-w*I+E*T;if(!R){return null}R=1/R;t[0]=(s*S-u*A+l*M)*R;t[1]=(i*A-r*S-o*M)*R;t[2]=(v*E-m*w+g*x)*R;t[3]=(h*w-f*E-p*x)*R;t[4]=(u*C-a*S-l*I)*R;t[5]=(n*S-i*C+o*I)*R;t[6]=(m*b-d*E-g*_)*R;t[7]=(c*E-h*b+p*_)*R;t[8]=(a*A-s*C+l*T)*R;t[9]=(r*C-n*A-o*T)*R;t[10]=(d*w-v*b+g*y)*R;t[11]=(f*b-c*w-p*y)*R;t[12]=(s*I-a*M-u*T)*R;t[13]=(n*M-r*I+i*T)*R;t[14]=(v*_-d*x-m*y)*R;t[15]=(c*x-f*_+h*y)*R;return t}},tooZ:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]/n[0];t[1]=e[1]/n[1];t[2]=e[2]/n[2];t[3]=e[3]/n[3];return t}},tz60:function(t,e,n){"use strict";var r=n("0Lvz")(true);n("4dmN")(String,"String",function(t){this._t=String(t);this._i=0},function(){var t=this._t;var e=this._i;var n;if(e>=t.length)return{value:undefined,done:true};n=r(t,e);this._i+=n.length;return{value:n,done:false}})},"u/dy":function(t,e,n){"use strict";n.d(e,"a",function(){return m});n.d(e,"b",function(){return g});e["g"]=x;e["h"]=w;e["d"]=I;e["c"]=C;e["e"]=S;e["f"]=R;var r=n("tLlS");var i=n("AmSC");var o=n("3u7p");var a=n("ZN/I");var s=n("bnoI");var u=n("wPGR");var l=n("diIw");var c=n("9xiO");var f=n("N+Om");var h=n.n(f);var p=34962;var d=32874;var v="Invalid WebGLRenderingContext";var m=v;var g="Requires WebGL2";var y="WebGL API is missing. To run luma.gl under Node.js, please \"npm install gl\"\nand import 'luma.gl/headless' before importing 'luma.gl'.";var _="Cannot create headless WebGL context, headlessGL not available";var b="headlessGL failed to create headless WebGL context";function x(t){return Boolean(t&&(t instanceof r["d"]||t.ARRAY_BUFFER===p))}function w(t){return Boolean(t&&(t instanceof r["b"]||t.TEXTURE_BINDING_3D===d))}function E(t){l["log"].deprecated("isWebGLContext","isWebGL");return x(t)}function T(t){l["log"].deprecated("isWebGL2Context","isWebGL2");return w(t)}function I(t){h()(x(t),v)}function C(t){h()(w(t),g)}var M={webgl2:true,webgl1:true,throwOnFailure:true,manageState:true,canvas:null,debug:false,width:800,height:600};function A(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.assign(M,{width:1,height:1},t)}function S(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t=Object.assign({},M,t);var e=t,n=e.canvas,r=e.width,s=e.height,u=e.throwOnError,c=e.manageState,f=e.debug;function h(t){if(u){throw new Error(t)}return null}var p=void 0;if(l["isBrowser"]){var d=void 0;if(!n){d=Object(o["a"])({id:"lumagl-canvas",width:r,height:s,onError:h})}else if(typeof n==="string"){d=Object(o["c"])({id:n})}else{d=n}p=Object(o["b"])({canvas:d,opts:t})}else{p=N({width:r,height:s,opts:t,onError:h})}if(!p){return null}if(c){Object(i["a"])(p,{copyState:false,log:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++){n[r]=arguments[r]}return l["log"].log.apply(l["log"],[1].concat(n))}})}if(l["isBrowser"]&&f){p=Object(a["a"])(p,{debug:f});l["log"].priority=Math.max(l["log"].priority,1)}k(p);return p}function R(t){}function L(t){u["a"].poll(t)}function k(t){var e=w(t)?"WebGL2":"WebGL1";var n=Object(s["b"])(t);var r=n?"("+n.vendor+" "+n.renderer+")":"";var i=t.debug?"debug":"";l["log"].once(0,"Created "+e+" "+i+" context "+r)}function N(t){var e=t.width,n=t.height,i=t.opts,o=t.onError;var a=i.webgl1,s=i.webgl2;if(s&&!a){return o("headless-gl does not support WebGL2")}if(!r["f"]){return o(y)}if(!c["default"].globals.headlessGL){return o(_)}var u=c["default"].globals.headlessGL(e,n,i);if(!u){return o(b)}return u}},uZ0T:function(t,e,n){(function(e){var n;var n;!function(n){if(true)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:this).MapboxDraw=n()}}(function(){return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!u&&l)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n||t)},f,f.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r=t("./src/setup"),i=t("./src/options"),o=t("./src/api"),a=t("./src/constants"),s=function(t,e){var n={options:t=i(t)};e=o(n,e),n.api=e;var s=r(n);return e.onAdd=s.onAdd,e.onRemove=s.onRemove,e.types=a.types,e.options=t,e};e.exports=function(t){s(t,this)},e.exports.modes=t("./src/modes")},{"./src/api":22,"./src/constants":23,"./src/modes":56,"./src/options":61,"./src/setup":63}],2:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}e.exports=r,r.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},r.prototype.equals=function(t){var e;return e=t instanceof r?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},r.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},r.prototype.union=function(t){this._valid=!0;var e;return e=t instanceof r?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},r.prototype.bbox=function(){return this._valid?this._bbox:null},r.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},r.prototype.intersect=function(t){if(!this._valid)return null;var e;return e=t instanceof r?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])},r.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},r.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},{}],3:[function(t,e,n){function r(t){var e,n=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=i(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=r(t.geometries[e]);return n}}function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,r,i,o,u,l=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(r=c-2,i=c-1,o=0):u===c-1?(r=c-1,i=0,o=1):(r=u,i=u+1,o=u+2),e=t[r],n=t[i],l+=(a(t[o][0])-a(e[0]))*Math.sin(a(n[1]));l=l*s.RADIUS*s.RADIUS/2}return l}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=o},{wgs84:20}],4:[function(t,e,n){e.exports=function(t){function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce(function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)},[])}return e(t)}},{}],5:[function(t,e,n){var r=t("@mapbox/geojson-normalize"),i=t("geojson-flatten"),o=t("./flatten");e.exports=function(t){if(!t)return[];var e=[];return i(r(t)).features.forEach(function(t){t.geometry&&(e=e.concat(o(t.geometry.coordinates)))}),e}},{"./flatten":4,"@mapbox/geojson-normalize":7,"geojson-flatten":13}],6:[function(t,e,n){function r(t){for(var e=a(),n=i(t),r=0;r<n.length;r++)e.include(n[r]);return e}var i=t("@mapbox/geojson-coords"),o=t("traverse"),a=t("@mapbox/extent"),s={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},u=Object.keys(s);e.exports=function(t){return r(t).bbox()},e.exports.polygon=function(t){return r(t).polygon()},e.exports.bboxify=function(t){return o(t).map(function(t){t&&u.some(function(e){return!!t[e]&&-1!==s[e].indexOf(t.type)})&&(t.bbox=r(t).bbox(),this.update(t))})}},{"@mapbox/extent":2,"@mapbox/geojson-coords":5,traverse:19}],7:[function(t,e,n){e.exports=function(t){if(!t||!t.type)return null;var e=r[t.type];return e?"geometry"===e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===e?{type:"FeatureCollection",features:[t]}:"featurecollection"===e?t:void 0:null};var r={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],8:[function(t,e,n){var r=t("jsonlint-lines"),i=t("./object");e.exports.hint=function(t,e){var n,o=[];if("object"==typeof t)n=t;else{if("string"!=typeof t)return[{message:"Expected string or object as input",line:0}];try{n=r.parse(t)}catch(t){var a=t.message.match(/line (\d+)/);return[{line:parseInt(a[1],10)-1,message:t.message,error:t}]}}return o=o.concat(i.hint(n,e))}},{"./object":9,"jsonlint-lines":15}],9:[function(t,e,n){var r=t("./rhr");e.exports.hint=function(t,e){function n(t){if(e&&!1===e.noDuplicateMembers||!t.__duplicateProperties__||h.push({message:"An object contained duplicate members, making parsing ambigous: "+t.__duplicateProperties__.join(", "),line:t.__line__}),!o(t,"type","string"))if(m[t.type])t&&m[t.type](t);else{var n=g[t.type.toLowerCase()];void 0!==n?h.push({message:"Expected "+n+" but got "+t.type+" (case sensitive)",line:t.__line__}):h.push({message:"The type "+t.type+" is unknown",line:t.__line__})}}function i(t,e){return t.every(function(t){return null!==t&&typeof t===e})}function o(t,e,n){if(void 0===t[e])return h.push({message:'"'+e+'" member required',line:t.__line__});if("array"===n){if(!Array.isArray(t[e]))return h.push({message:'"'+e+'" member should be an array, but is an '+typeof t[e]+" instead",line:t.__line__})}else{if("object"===n&&t[e]&&"Object"!==t[e].constructor.name)return h.push({message:'"'+e+'" member should be '+n+", but is an "+t[e].constructor.name+" instead",line:t.__line__});if(n&&typeof t[e]!==n)return h.push({message:'"'+e+'" member should be '+n+", but is an "+typeof t[e]+" instead",line:t.__line__})}}function a(t,n){if(!Array.isArray(t))return h.push({message:"position should be an array, is a "+typeof t+" instead",line:t.__line__||n});if(t.length<2)return h.push({message:"position must have 2 or more elements",line:t.__line__||n});if(t.length>3)return h.push({message:"position should not have more than 3 elements",level:"message",line:t.__line__||n});if(!i(t,"number"))return h.push({message:"each element in a position must be a number",line:t.__line__||n});if(e&&e.precisionWarning){if(p===d)return p+=1,h.push({message:"truncated warnings: we've encountered coordinate precision warning "+d+" times, no more warnings will be reported",level:"message",line:t.__line__||n});p<d&&t.forEach(function(e){var r=0,i=String(e).split(".")[1];if(void 0!==i&&(r=i.length),r>v)return p+=1,h.push({message:"precision of coordinates should be reduced",level:"message",line:t.__line__||n})})}}function s(t,e,n,r){if(void 0===r&&void 0!==t.__line__&&(r=t.__line__),0===n)return a(t,r);if(1===n&&e)if("LinearRing"===e){if(!Array.isArray(t[t.length-1]))return h.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r}),!0;if(t.length<4&&h.push({message:"a LinearRing of coordinates needs to have four or more positions",line:r}),t.length&&(t[t.length-1].length!==t[0].length||!t[t.length-1].every(function(e,n){return t[0][n]===e})))return h.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:r}),!0}else if("Line"===e&&t.length<2)return h.push({message:"a line needs to have two or more coordinates to be valid",line:r});if(Array.isArray(t))return t.map(function(t){return s(t,e,n-1,t.__line__||r)}).some(function(t){return t});h.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:r})}function u(t){t.crs&&("object"==typeof t.crs&&t.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===t.crs.properties.name?h.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:t.__line__}):h.push({message:"old-style crs member is not recommended",line:t.__line__}))}function l(t){if(t.bbox)return Array.isArray(t.bbox)?(i(t.bbox,"number")||h.push({message:"each element in a bbox member must be a number",line:t.bbox.__line__}),4!==t.bbox.length&&6!==t.bbox.length&&h.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:t.bbox.__line__}),h.length):void h.push({message:"bbox member must be an array of numbers, but is a "+typeof t.bbox,line:t.__line__})}function c(t){void 0!==t.properties&&h.push({message:'geometry object cannot contain a "properties" member',line:t.__line__}),void 0!==t.geometry&&h.push({message:'geometry object cannot contain a "geometry" member',line:t.__line__}),void 0!==t.features&&h.push({message:'geometry object cannot contain a "features" member',line:t.__line__})}function f(t){u(t),l(t),void 0!==t.id&&"string"!=typeof t.id&&"number"!=typeof t.id&&h.push({message:'Feature "id" member must have a string or number value',line:t.__line__}),void 0!==t.features&&h.push({message:'Feature object cannot contain a "features" member',line:t.__line__}),void 0!==t.coordinates&&h.push({message:'Feature object cannot contain a "coordinates" member',line:t.__line__}),"Feature"!==t.type&&h.push({message:"GeoJSON features must have a type=feature member",line:t.__line__}),o(t,"properties","object"),o(t,"geometry","object")||t.geometry&&n(t.geometry)}var h=[],p=0,d=10,v=6,m={Point:function(t){u(t),l(t),c(t),o(t,"coordinates","array")||a(t.coordinates)},Feature:f,MultiPoint:function(t){u(t),l(t),o(t,"coordinates","array")||s(t.coordinates,"",1)},LineString:function(t){u(t),l(t),o(t,"coordinates","array")||s(t.coordinates,"Line",1)},MultiLineString:function(t){u(t),l(t),o(t,"coordinates","array")||s(t.coordinates,"Line",2)},FeatureCollection:function(t){if(u(t),l(t),void 0!==t.properties&&h.push({message:'FeatureCollection object cannot contain a "properties" member',line:t.__line__}),void 0!==t.coordinates&&h.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:t.__line__}),!o(t,"features","array")){if(!i(t.features,"object"))return h.push({message:"Every feature must be an object",line:t.__line__});t.features.forEach(f)}},GeometryCollection:function(t){u(t),l(t),o(t,"geometries","array")||(i(t.geometries,"object")||h.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:t.__line__}),1===t.geometries.length&&h.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:t.geometries.__line__}),t.geometries.forEach(function(e){e&&("GeometryCollection"===e.type&&h.push({message:"GeometryCollection should avoid nested geometry collections",line:t.geometries.__line__}),n(e))}))},Polygon:function(t){u(t),l(t),o(t,"coordinates","array")||s(t.coordinates,"LinearRing",2)||r(t,h)},MultiPolygon:function(t){u(t),l(t),o(t,"coordinates","array")||s(t.coordinates,"LinearRing",3)||r(t,h)}},g=Object.keys(m).reduce(function(t,e){return t[e.toLowerCase()]=e,t},{});return"object"!=typeof t||null===t||void 0===t?(h.push({message:"The root of a GeoJSON object must be an object.",line:0}),h):(n(t),h.forEach(function(t){({}).hasOwnProperty.call(t,"line")&&void 0===t.line&&delete t.line}),h)}},{"./rhr":10}],10:[function(t,e,n){function r(t){return t*Math.PI/180}function i(t){var e=0;if(t.length>2)for(var n,i,o=0;o<t.length-1;o++)n=t[o],e+=r((i=t[o+1])[0]-n[0])*(2+Math.sin(r(n[1]))+Math.sin(r(i[1])));return e>=0}function o(t){if(t&&t.length>0){if(i(t[0]))return!1;if(!t.slice(1,t.length).every(i))return!1}return!0}function a(t){return"Polygon"===t.type?o(t.coordinates):"MultiPolygon"===t.type?t.coordinates.every(o):void 0}e.exports=function(t,e){a(t)||e.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:t.__line__})}},{}],11:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],12:[function(t,e,n){},{}],13:[function(t,e,n){function r(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce(function(t,e){return t.concat(r(e))},[]),t;case"Feature":return t.geometry?r(t.geometry).map(function(e){return{type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e}}):t;case"MultiPoint":return t.coordinates.map(function(t){return{type:"Point",coordinates:t}});case"MultiPolygon":return t.coordinates.map(function(t){return{type:"Polygon",coordinates:t}});case"MultiLineString":return t.coordinates.map(function(t){return{type:"LineString",coordinates:t}});case"GeometryCollection":return t.geometries.map(r).reduce(function(t,e){return t.concat(e)},[]);case"Point":case"Polygon":case"LineString":return[t]}}e.exports=r},{}],14:[function(t,e,n){var r=e.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),t<=0)return"0";for(var n=Math.log(Math.pow(2,t))/Math.log(e),i=2;n===1/0;i*=2)n=Math.log(Math.pow(2,t/i))/Math.log(e)*i;for(var o=n-Math.floor(n),a="",i=0;i<Math.floor(n);i++)a=(u=Math.floor(Math.random()*e).toString(e))+a;if(o){var s=Math.pow(e,o),u=Math.floor(Math.random()*s).toString(e);a=u+a}var l=parseInt(a,e);return l!==1/0&&l>=Math.pow(2,t)?r(t,e):a};r.rack=function(t,e,n){var i=function(i){var a=0;do{if(a++>10){if(!n)throw new Error("too many ID collisions, use more bits");t+=n}var s=r(t,e)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(t){return i.hats[t]},i.set=function(t,e){return i.hats[t]=e,i},i.bits=t||128,i.base=e||16,i}},{}],15:[function(t,e,n){(function(r){var i=function(){function t(){this.yy={}}var e=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},n=[1,12],r=[1,13],i=[1,9],o=[1,10],a=[1,11],s=[1,14],u=[1,15],l=[14,18,22,24],c=[18,22],f=[22,24],h={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],void 0!==o[s-2][o[s][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(o[s][0])),o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:a,12:1,13:2,15:7,16:8,17:s,23:u},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:n,18:[1,17],19:18,20:19},{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:a,13:23,15:7,16:8,17:s,23:u,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(c,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(f,[2,20]),e(l,[2,14]),{3:20,4:n,20:29},{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:a,13:30,15:7,16:8,17:s,23:u},e(l,[2,19]),{3:5,4:n,5:6,6:r,7:3,8:i,9:4,10:o,11:a,13:31,15:7,16:8,17:s,23:u},e(c,[2,17]),e(c,[2,15]),e(f,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){function n(t,e){this.message=t,this.hash=e}if(!e.recoverable)throw n.prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=0,c=i.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(h.yy[p]=this.yy[p]);f.setInput(t,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var d=f.yylloc;i.push(d);var v=f.options&&f.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,g,y,_,b,x,w,E,T,I=function(){var t;return"number"!=typeof(t=f.lex()||1)&&(t=e.symbols_[t]||t),t},C={};;){if(y=n[n.length-1],this.defaultActions[y]?_=this.defaultActions[y]:(null!==m&&void 0!==m||(m=I()),_=o[y]&&o[y][m]),void 0===_||!_.length||!_[0]){var M="";T=[];for(x in o[y])this.terminals_[x]&&x>2&&T.push("'"+this.terminals_[x]+"'");M=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(M,{text:f.match,token:this.terminals_[m]||m,line:f.yylineno,loc:d,expected:T})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(_[0]){case 1:n.push(m),r.push(f.yytext),i.push(f.yylloc),n.push(_[1]),m=null,g?(m=g,g=null):(u=f.yyleng,a=f.yytext,s=f.yylineno,d=f.yylloc,l>0&&l--);break;case 2:if(w=this.productions_[_[1]][1],C.$=r[r.length-w],C._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},v&&(C._$.range=[i[i.length-(w||1)].range[0],i[i.length-1].range[1]]),void 0!==(b=this.performAction.apply(C,[a,u,s,h.yy,_[1],r,i].concat(c))))return b;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),i=i.slice(0,-1*w)),n.push(this.productions_[_[1]][0]),r.push(C.$),i.push(C._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},p={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return h.lexer=p,t.prototype=h,h.Parser=t,new t}();void 0!==t&&void 0!==n&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},void 0!==e&&t.main===e&&n.main(r.argv.slice(1)))}).call(this,t("_process"))},{_process:18,fs:12,path:17}],16:[function(t,n,r){(function(t){function e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function i(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function o(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function s(t,e){return t.has(e)}function u(t,e){return null==t?void 0:t[e]}function l(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function p(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new p;++e<n;)this.add(t[e])}function v(t){var e=this.__data__=new h(t);this.size=e.size}function m(t,e){var n=le(t),r=!n&&ue(t),i=!n&&!r&&ce(t),o=!n&&!r&&!i&&fe(t),s=n||r||i||o,u=s?a(t.length,String):[],l=u.length;for(var c in t)!e&&!Ft.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||k(c,l))||u.push(c);return u}function g(t,e){for(var n=t.length;n--;)if(U(t[n][0],e))return n;return-1}function y(t,e,n){var r=e(t);return le(t)?r:i(r,n(t))}function _(t){return null==t?void 0===t?pt:at:Gt&&Gt in Object(t)?L(t):B(t)}function b(t){return G(t)&&_(t)==J}function x(t,e,n,r,i){return t===e||(null==t||null==e||!G(t)&&!G(e)?t!==t&&e!==e:w(t,e,n,r,x,i))}function w(t,e,n,r,i,o){var a=le(t),s=le(e),u=a?q:se(t),l=s?q:se(e),c=(u=u==J?st:u)==st,f=(l=l==J?st:l)==st,h=u==l;if(h&&ce(t)){if(!ce(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new v),a||fe(t)?I(t,e,n,r,i,o):C(t,e,u,n,r,i,o);if(!(n&Q)){var p=c&&Ft.call(t,"__wrapped__"),d=f&&Ft.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return o||(o=new v),i(m,g,n,r,o)}}return!!h&&(o||(o=new v),M(t,e,n,r,i,o))}function E(t){return!(!V(t)||F(t))&&(z(t)?Pt:gt).test(P(t))}function T(t){if(!O(t))return Zt(t);var e=[];for(var n in Object(t))Ft.call(t,n)&&"constructor"!=n&&e.push(n);return e}function I(t,e,n,r,i,a){var u=n&Q,l=t.length,c=e.length;if(l!=c&&!(u&&c>l))return!1;var f=a.get(t);if(f&&a.get(e))return f==e;var h=-1,p=!0,v=n&H?new d:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var m=t[h],g=e[h];if(r)var y=u?r(g,m,h,e,t,a):r(m,g,h,t,e,a);if(void 0!==y){if(y)continue;p=!1;break}if(v){if(!o(e,function(t,e){if(!s(v,e)&&(m===t||i(m,t,n,r,a)))return v.push(e)})){p=!1;break}}else if(m!==g&&!i(m,g,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function C(t,e,n,r,i,o,a){switch(n){case vt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dt:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case $:case tt:case ot:return U(+t,+e);case et:return t.name==e.name&&t.message==e.message;case lt:case ft:return t==e+"";case it:var s=l;case ct:var u=r&Q;if(s||(s=c),t.size!=e.size&&!u)return!1;var f=a.get(t);if(f)return f==e;r|=H,a.set(t,e);var h=I(s(t),s(e),r,i,o,a);return a.delete(t),h;case ht:if(oe)return oe.call(t)==oe.call(e)}return!1}function M(t,e,n,r,i,o){var a=n&Q,s=A(t),u=s.length;if(u!=A(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:Ft.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++l<u;){var d=t[c=s[l]],v=e[c];if(r)var m=a?r(v,d,c,e,t,o):r(d,v,c,t,e,o);if(!(void 0===m?d===v||i(d,v,n,r,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var g=t.constructor,y=e.constructor;g!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(t),o.delete(e),h}function A(t){return y(t,X,ae)}function S(t,e){var n=t.__data__;return N(e)?n["string"==typeof e?"string":"hash"]:n.map}function R(t,e){var n=u(t,e);return E(n)?n:void 0}function L(t){var e=Ft.call(t,Gt),n=t[Gt];try{t[Gt]=void 0;var r=!0}catch(t){}var i=Bt.call(t);return r&&(e?t[Gt]=n:delete t[Gt]),i}function k(t,e){return!!(e=null==e?Y:e)&&("number"==typeof t||yt.test(t))&&t>-1&&t%1==0&&t<e}function N(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function F(t){return!!Ot&&Ot in t}function O(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function B(t){return Bt.call(t)}function P(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function U(t,e){return t===e||t!==t&&e!==e}function D(t){return null!=t&&j(t.length)&&!z(t)}function z(t){if(!V(t))return!1;var e=_(t);return e==nt||e==rt||e==K||e==ut}function j(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Y}function V(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function G(t){return null!=t&&"object"==typeof t}function X(t){return D(t)?m(t):T(t)}var W=200,Z="__lodash_hash_undefined__",Q=1,H=2,Y=9007199254740991,J="[object Arguments]",q="[object Array]",K="[object AsyncFunction]",$="[object Boolean]",tt="[object Date]",et="[object Error]",nt="[object Function]",rt="[object GeneratorFunction]",it="[object Map]",ot="[object Number]",at="[object Null]",st="[object Object]",ut="[object Proxy]",lt="[object RegExp]",ct="[object Set]",ft="[object String]",ht="[object Symbol]",pt="[object Undefined]",dt="[object ArrayBuffer]",vt="[object DataView]",mt=/[\\^$.*+?()[\]{}|]/g,gt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,_t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t[J]=_t[q]=_t[dt]=_t[$]=_t[vt]=_t[tt]=_t[et]=_t[nt]=_t[it]=_t[ot]=_t[st]=_t[lt]=_t[ct]=_t[ft]=_t["[object WeakMap]"]=!1;var bt="object"==typeof t&&t&&t.Object===Object&&t,xt="object"==typeof self&&self&&self.Object===Object&&self,wt=bt||xt||Function("return this")(),Et="object"==typeof r&&r&&!r.nodeType&&r,Tt=Et&&"object"==typeof n&&n&&!n.nodeType&&n,It=Tt&&Tt.exports===Et,Ct=It&&bt.process,Mt=function(){try{return Ct&&Ct.binding&&Ct.binding("util")}catch(t){}}(),At=Mt&&Mt.isTypedArray,St=Array.prototype,Rt=Function.prototype,Lt=Object.prototype,kt=wt["__core-js_shared__"],Nt=Rt.toString,Ft=Lt.hasOwnProperty,Ot=function(){var t=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Bt=Lt.toString,Pt=RegExp("^"+Nt.call(Ft).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=It?wt.Buffer:void 0,Dt=wt.Symbol,zt=wt.Uint8Array,jt=Lt.propertyIsEnumerable,Vt=St.splice,Gt=Dt?Dt.toStringTag:void 0,Xt=Object.getOwnPropertySymbols,Wt=Ut?Ut.isBuffer:void 0,Zt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Qt=R(wt,"DataView"),Ht=R(wt,"Map"),Yt=R(wt,"Promise"),Jt=R(wt,"Set"),qt=R(wt,"WeakMap"),Kt=R(Object,"create"),$t=P(Qt),te=P(Ht),ee=P(Yt),ne=P(Jt),re=P(qt),ie=Dt?Dt.prototype:void 0,oe=ie?ie.valueOf:void 0;f.prototype.clear=function(){this.__data__=Kt?Kt(null):{},this.size=0},f.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},f.prototype.get=function(t){var e=this.__data__;if(Kt){var n=e[t];return n===Z?void 0:n}return Ft.call(e,t)?e[t]:void 0},f.prototype.has=function(t){var e=this.__data__;return Kt?void 0!==e[t]:Ft.call(e,t)},f.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Kt&&void 0===e?Z:e,this},h.prototype.clear=function(){this.__data__=[],this.size=0},h.prototype.delete=function(t){var e=this.__data__,n=g(e,t);return!(n<0||(n==e.length-1?e.pop():Vt.call(e,n,1),--this.size,0))},h.prototype.get=function(t){var e=this.__data__,n=g(e,t);return n<0?void 0:e[n][1]},h.prototype.has=function(t){return g(this.__data__,t)>-1},h.prototype.set=function(t,e){var n=this.__data__,r=g(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},p.prototype.clear=function(){this.size=0,this.__data__={hash:new f,map:new(Ht||h),string:new f}},p.prototype.delete=function(t){var e=S(this,t).delete(t);return this.size-=e?1:0,e},p.prototype.get=function(t){return S(this,t).get(t)},p.prototype.has=function(t){return S(this,t).has(t)},p.prototype.set=function(t,e){var n=S(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},d.prototype.add=d.prototype.push=function(t){return this.__data__.set(t,Z),this},d.prototype.has=function(t){return this.__data__.has(t)},v.prototype.clear=function(){this.__data__=new h,this.size=0},v.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},v.prototype.get=function(t){return this.__data__.get(t)},v.prototype.has=function(t){return this.__data__.has(t)},v.prototype.set=function(t,e){var n=this.__data__;if(n instanceof h){var r=n.__data__;if(!Ht||r.length<W-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new p(r)}return n.set(t,e),this.size=n.size,this};var ae=Xt?function(t){return null==t?[]:(t=Object(t),e(Xt(t),function(e){return jt.call(t,e)}))}:function(){return[]},se=_;(Qt&&se(new Qt(new ArrayBuffer(1)))!=vt||Ht&&se(new Ht)!=it||Yt&&"[object Promise]"!=se(Yt.resolve())||Jt&&se(new Jt)!=ct||qt&&"[object WeakMap]"!=se(new qt))&&(se=function(t){var e=_(t),n=e==st?t.constructor:void 0,r=n?P(n):"";if(r)switch(r){case $t:return vt;case te:return it;case ee:return"[object Promise]";case ne:return ct;case re:return"[object WeakMap]"}return e});var ue=b(function(){return arguments}())?b:function(t){return G(t)&&Ft.call(t,"callee")&&!jt.call(t,"callee")},le=Array.isArray,ce=Wt||function(){return!1},fe=At?function(t){return function(e){return t(e)}}(At):function(t){return G(t)&&j(t.length)&&!!_t[_(t)]};n.exports=function(t,e){return x(t,e)}}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===a(t,-1);return(t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:18}],18:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?v=d.concat(v):g=-1,v.length&&u())}function u(){if(!m){var t=o(s);m=!0;for(var e=v.length;e;){for(d=v,v=[];++g<e;)d&&d[g].run();g=-1,e=v.length}d=null,m=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f,h,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,v=[],m=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new l(t,e)),1!==v.length||m||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],19:[function(t,e,n){function r(t){this.value=t}function i(t,e,n){var r=[],i=[],a=!0;return function t(s){function u(){if("object"==typeof f.node&&null!==f.node){f.keys&&f.node_===f.node||(f.keys=d(f.node)),f.isLeaf=0==f.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===s){f.circular=i[t];break}}else f.isLeaf=!0,f.keys=null;f.notLeaf=!f.isLeaf,f.notRoot=!f.isRoot}var l={},c=!0,f={node:n?o(s):s,node_:s,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){f.isRoot||(f.parent.node[f.key]=t),f.node=t,e&&(c=!1)},delete:function(t){delete f.parent.node[f.key],t&&(c=!1)},remove:function(t){v(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key],t&&(c=!1)},keys:null,before:function(t){l.before=t},after:function(t){l.after=t},pre:function(t){l.pre=t},post:function(t){l.post=t},stop:function(){a=!1},block:function(){c=!1}};if(!a)return f;u();var h=e.call(f,f.node);return void 0!==h&&f.update&&f.update(h),l.before&&l.before.call(f,f.node),c?("object"!=typeof f.node||null===f.node||f.circular||(i.push(f),u(),m(f.keys,function(e,i){r.push(e),l.pre&&l.pre.call(f,f.node[e],e);var o=t(f.node[e]);n&&g.call(f.node,e)&&(f.node[e]=o.node),o.isLast=i==f.keys.length-1,o.isFirst=0==i,l.post&&l.post.call(f,o),r.pop()}),i.pop()),l.after&&l.after.call(f,f.node),f):f}(t).node}function o(t){if("object"==typeof t&&null!==t){var e;if(v(t))e=[];else if(s(t))e=new Date(t.getTime?t.getTime():t);else if(u(t))e=new RegExp(t);else if(l(t))e={message:t.message};else if(c(t))e=new Boolean(t);else if(f(t))e=new Number(t);else if(h(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return m(d(t),function(n){e[n]=t[n]}),e}return t}function a(t){return Object.prototype.toString.call(t)}function s(t){return"[object Date]"===a(t)}function u(t){return"[object RegExp]"===a(t)}function l(t){return"[object Error]"===a(t)}function c(t){return"[object Boolean]"===a(t)}function f(t){return"[object Number]"===a(t)}function h(t){return"[object String]"===a(t)}var p=e.exports=function(t){return new r(t)};r.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!g.call(e,r)){e=void 0;break}e=e[r]}return e},r.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!g.call(e,r))return!1;e=e[r]}return!0},r.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];g.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},r.prototype.map=function(t){return i(this.value,t,!0)},r.prototype.forEach=function(t){return this.value=i(this.value,t,!1),this.value},r.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},r.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},r.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},r.prototype.clone=function(){var t=[],e=[];return function n(r){for(var i=0;i<t.length;i++)if(t[i]===r)return e[i];if("object"==typeof r&&null!==r){var a=o(r);return t.push(r),e.push(a),m(d(r),function(t){a[t]=n(r[t])}),t.pop(),e.pop(),a}return r}(this.value)};var d=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},m=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};m(d(r.prototype),function(t){p[t]=function(e){var n=[].slice.call(arguments,1),i=new r(e);return i[t].apply(i,n)}});var g=Object.hasOwnProperty||function(t,e){return e in t}},{}],20:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],21:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],22:[function(t,e,n){"use strict";var r=t("lodash.isequal"),i=t("@mapbox/geojson-normalize"),o=t("hat"),a=t("./lib/features_at"),s=t("./lib/string_sets_are_equal"),u=t("@mapbox/geojsonhint"),l=t("./constants"),c=t("./lib/string_set"),f={Polygon:t("./feature_types/polygon"),LineString:t("./feature_types/line_string"),Point:t("./feature_types/point"),MultiPolygon:t("./feature_types/multi_feature"),MultiLineString:t("./feature_types/multi_feature"),MultiPoint:t("./feature_types/multi_feature")};e.exports=function(t,e){return e.modes=l.modes,e.getFeatureIdsAt=function(e){return a.click({point:e},null,t).map(function(t){return t.properties.id})},e.getSelectedIds=function(){return t.store.getSelectedIds()},e.getSelected=function(){return{type:l.geojsonTypes.FEATURE_COLLECTION,features:t.store.getSelectedIds().map(function(e){return t.store.get(e)}).map(function(t){return t.toGeoJSON()})}},e.getSelectedPoints=function(){return{type:l.geojsonTypes.FEATURE_COLLECTION,features:t.store.getSelectedCoordinates().map(function(t){return{type:l.geojsonTypes.FEATURE,properties:{},geometry:{type:l.geojsonTypes.POINT,coordinates:t.coordinates}}})}},e.set=function(n){if(void 0===n.type||n.type!==l.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=t.store.createRenderBatch(),i=t.store.getAllIds().slice(),o=e.add(n),a=new c(o);return(i=i.filter(function(t){return!a.has(t)})).length&&e.delete(i),r(),o},e.add=function(e){var n=u.hint(e,{precisionWarning:!1}).filter(function(t){return"message"!==t.level});if(n.length)throw new Error(n[0].message);var a=JSON.parse(JSON.stringify(i(e))).features.map(function(e){if(e.id=e.id||o(),null===e.geometry)throw new Error("Invalid geometry: null");if(void 0===t.store.get(e.id)||t.store.get(e.id).type!==e.geometry.type){var n=f[e.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+e.geometry.type+".");var i=new n(t,e);t.store.add(i)}else{var a=t.store.get(e.id);a.properties=e.properties,r(a.getCoordinates(),e.geometry.coordinates)||a.incomingCoords(e.geometry.coordinates)}return e.id});return t.store.render(),a},e.get=function(e){var n=t.store.get(e);if(n)return n.toGeoJSON()},e.getAll=function(){return{type:l.geojsonTypes.FEATURE_COLLECTION,features:t.store.getAll().map(function(t){return t.toGeoJSON()})}},e.delete=function(n){return t.store.delete(n,{silent:!0}),e.getMode()!==l.modes.DIRECT_SELECT||t.store.getSelectedIds().length?t.store.render():t.events.changeMode(l.modes.SIMPLE_SELECT,void 0,{silent:!0}),e},e.deleteAll=function(){return t.store.delete(t.store.getAllIds(),{silent:!0}),e.getMode()===l.modes.DIRECT_SELECT?t.events.changeMode(l.modes.SIMPLE_SELECT,void 0,{silent:!0}):t.store.render(),e},e.changeMode=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n===l.modes.SIMPLE_SELECT&&e.getMode()===l.modes.SIMPLE_SELECT?s(r.featureIds||[],t.store.getSelectedIds())?e:(t.store.setSelected(r.featureIds,{silent:!0}),t.store.render(),e):n===l.modes.DIRECT_SELECT&&e.getMode()===l.modes.DIRECT_SELECT&&r.featureId===t.store.getSelectedIds()[0]?e:(t.events.changeMode(n,r,{silent:!0}),e)},e.getMode=function(){return t.events.getMode()},e.trash=function(){return t.events.trash({silent:!0}),e},e.combineFeatures=function(){return t.events.combineFeatures({silent:!0}),e},e.uncombineFeatures=function(){return t.events.uncombineFeatures({silent:!0}),e},e.setFeatureProperty=function(n,r,i){return t.store.setFeatureProperty(n,r,i),e},e}},{"./constants":23,"./feature_types/line_string":26,"./feature_types/multi_feature":27,"./feature_types/point":28,"./feature_types/polygon":29,"./lib/features_at":37,"./lib/string_set":47,"./lib/string_sets_are_equal":48,"@mapbox/geojson-normalize":7,"@mapbox/geojsonhint":8,hat:14,"lodash.isequal":16}],23:[function(t,e,n){"use strict";e.exports={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{POLYGON:"polygon",LINE:"line_string",POINT:"point"},geojsonTypes:{FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}},{}],24:[function(t,e,n){"use strict";var r=t("./lib/mode_handler"),i=t("./lib/get_features_and_set_cursor"),o=t("./lib/features_at"),a=t("./lib/is_click"),s=t("./lib/is_tap"),u=t("./constants"),l=t("./modes/object_to_mode");e.exports=function(t){function e(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.stop();var a=n[e];if(void 0===a)throw new Error(e+" is not valid");p=e;var s=a(t,i);d=r(s,t),o.silent||t.map.fire(u.events.MODE_CHANGE,{mode:e}),t.store.setDirty(),t.store.render()}var n=Object.keys(t.options.modes).reduce(function(e,n){return e[n]=l(t.options.modes[n]),e},{}),c={},f={},h={},p=null,d=null;h.drag=function(e,n){n({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:u.cursors.DRAG}),d.drag(e)):e.originalEvent.stopPropagation()},h.mousedrag=function(t){h.drag(t,function(t){return!a(c,t)})},h.touchdrag=function(t){h.drag(t,function(t){return!s(f,t)})},h.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return h.mousedrag(e);var n=i(e,t);e.featureTarget=n,d.mousemove(e)},h.mousedown=function(e){c={time:(new Date).getTime(),point:e.point};var n=i(e,t);e.featureTarget=n,d.mousedown(e)},h.mouseup=function(e){var n=i(e,t);e.featureTarget=n,a(c,{point:e.point,time:(new Date).getTime()})?d.click(e):d.mouseup(e)},h.mouseout=function(t){d.mouseout(t)},h.touchstart=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){f={time:(new Date).getTime(),point:e.point};var n=o.touch(e,null,t)[0];e.featureTarget=n,d.touchstart(e)}},h.touchmove=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled)return d.touchmove(e),h.touchdrag(e)},h.touchend=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){var n=o.touch(e,null,t)[0];e.featureTarget=n,s(f,{time:(new Date).getTime(),point:e.point})?d.tap(e):d.touchend(e)}};var v=function(t){return!(8===t||46===t||t>=48&&t<=57)};h.keydown=function(n){"mapboxgl-canvas"===n.srcElement.classList[0]&&(8!==n.keyCode&&46!==n.keyCode||!t.options.controls.trash?v(n.keyCode)?d.keydown(n):49===n.keyCode&&t.options.controls.point?e(u.modes.DRAW_POINT):50===n.keyCode&&t.options.controls.line_string?e(u.modes.DRAW_LINE_STRING):51===n.keyCode&&t.options.controls.polygon&&e(u.modes.DRAW_POLYGON):(n.preventDefault(),d.trash()))},h.keyup=function(t){v(t.keyCode)&&d.keyup(t)},h.zoomend=function(){t.store.changeZoom()},h.data=function(e){if("style"===e.dataType){var n=t.setup,r=t.map,i=t.options,o=t.store;i.styles.some(function(t){return r.getLayer(t.id)})||(n.addLayers(),o.setDirty(),o.render())}};var m={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){p=t.options.defaultMode,d=r(n[p](t),t)},changeMode:e,actionable:function(e){var n=!1;Object.keys(e).forEach(function(t){if(void 0===m[t])throw new Error("Invalid action type");m[t]!==e[t]&&(n=!0),m[t]=e[t]}),n&&t.map.fire(u.events.ACTIONABLE,{actions:m})},currentModeName:function(){return p},currentModeRender:function(t,e){return d.render(t,e)},fire:function(t,e){h[t]&&h[t](e)},addEventListeners:function(){t.map.on("mousemove",h.mousemove),t.map.on("mousedown",h.mousedown),t.map.on("mouseup",h.mouseup),t.map.on("data",h.data),t.map.on("touchmove",h.touchmove),t.map.on("touchstart",h.touchstart),t.map.on("touchend",h.touchend),t.container.addEventListener("mouseout",h.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",h.keydown),t.container.addEventListener("keyup",h.keyup))},removeEventListeners:function(){t.map.off("mousemove",h.mousemove),t.map.off("mousedown",h.mousedown),t.map.off("mouseup",h.mouseup),t.map.off("data",h.data),t.map.off("touchmove",h.touchmove),t.map.off("touchstart",h.touchstart),t.map.off("touchend",h.touchend),t.container.removeEventListener("mouseout",h.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",h.keydown),t.container.removeEventListener("keyup",h.keyup))},trash:function(t){d.trash(t)},combineFeatures:function(){d.combineFeatures()},uncombineFeatures:function(){d.uncombineFeatures()},getMode:function(){return p}}}},{"./constants":23,"./lib/features_at":37,"./lib/get_features_and_set_cursor":38,"./lib/is_click":39,"./lib/is_tap":41,"./lib/mode_handler":43,"./modes/object_to_mode":59}],25:[function(t,e,n){"use strict";var r=t("hat"),i=t("../constants"),o=function(t,e){this.ctx=t,this.properties=e.properties||{},this.coordinates=e.geometry.coordinates,this.id=e.id||r(),this.type=e.geometry.type};o.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},o.prototype.incomingCoords=function(t){this.setCoordinates(t)},o.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},o.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},o.prototype.setProperty=function(t,e){this.properties[t]=e},o.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:i.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},o.prototype.internal=function(t){var e={id:this.id,meta:i.meta.FEATURE,"meta:type":this.type,active:i.activeStates.INACTIVE,mode:t};if(this.ctx.options.userProperties)for(var n in this.properties)e["user_"+n]=this.properties[n];return{type:i.geojsonTypes.FEATURE,properties:e,geometry:{coordinates:this.getCoordinates(),type:this.type}}},e.exports=o},{"../constants":23,hat:14}],26:[function(t,e,n){"use strict";var r=t("./feature"),i=function(t,e){r.call(this,t,e)};(i.prototype=Object.create(r.prototype)).isValid=function(){return this.coordinates.length>1},i.prototype.addCoordinate=function(t,e,n){this.changed();var r=parseInt(t,10);this.coordinates.splice(r,0,[e,n])},i.prototype.getCoordinate=function(t){var e=parseInt(t,10);return JSON.parse(JSON.stringify(this.coordinates[e]))},i.prototype.removeCoordinate=function(t){this.changed(),this.coordinates.splice(parseInt(t,10),1)},i.prototype.updateCoordinate=function(t,e,n){var r=parseInt(t,10);this.coordinates[r]=[e,n],this.changed()},e.exports=i},{"./feature":25}],27:[function(t,e,n){"use strict";var r=t("./feature"),i=t("../constants"),o=t("hat"),a={MultiPoint:t("./point"),MultiLineString:t("./line_string"),MultiPolygon:t("./polygon")},s=function(t,e,n,r,i){var o=n.split("."),a=parseInt(o[0],10),s=o[1]?o.slice(1).join("."):null;return t[a][e](s,r,i)},u=function(t,e){if(r.call(this,t,e),delete this.coordinates,this.model=a[e.geometry.type],void 0===this.model)throw new TypeError(e.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(e.geometry.coordinates)};(u.prototype=Object.create(r.prototype))._coordinatesToFeatures=function(t){var e=this,n=this.model.bind(this);return t.map(function(t){return new n(e.ctx,{id:o(),type:i.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:t,type:e.type.replace("Multi","")}})})},u.prototype.isValid=function(){return this.features.every(function(t){return t.isValid()})},u.prototype.setCoordinates=function(t){this.features=this._coordinatesToFeatures(t),this.changed()},u.prototype.getCoordinate=function(t){return s(this.features,"getCoordinate",t)},u.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(t){return t.type===i.geojsonTypes.POLYGON?t.getCoordinates():t.coordinates})))},u.prototype.updateCoordinate=function(t,e,n){s(this.features,"updateCoordinate",t,e,n),this.changed()},u.prototype.addCoordinate=function(t,e,n){s(this.features,"addCoordinate",t,e,n),this.changed()},u.prototype.removeCoordinate=function(t){s(this.features,"removeCoordinate",t),this.changed()},u.prototype.getFeatures=function(){return this.features},e.exports=u},{"../constants":23,"./feature":25,"./line_string":26,"./point":28,"./polygon":29,hat:14}],28:[function(t,e,n){"use strict";var r=t("./feature"),i=function(t,e){r.call(this,t,e)};(i.prototype=Object.create(r.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},i.prototype.updateCoordinate=function(t,e,n){3===arguments.length?this.coordinates=[e,n]:this.coordinates=[t,e],this.changed()},i.prototype.getCoordinate=function(){return this.getCoordinates()},e.exports=i},{"./feature":25}],29:[function(t,e,n){"use strict";var r=t("./feature"),i=function(t,e){r.call(this,t,e),this.coordinates=this.coordinates.map(function(t){return t.slice(0,-1)})};(i.prototype=Object.create(r.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every(function(t){return t.length>2})},i.prototype.incomingCoords=function(t){this.coordinates=t.map(function(t){return t.slice(0,-1)}),this.changed()},i.prototype.setCoordinates=function(t){this.coordinates=t,this.changed()},i.prototype.addCoordinate=function(t,e,n){this.changed();var r=t.split(".").map(function(t){return parseInt(t,10)});this.coordinates[r[0]].splice(r[1],0,[e,n])},i.prototype.removeCoordinate=function(t){this.changed();var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];n&&(n.splice(e[1],1),n.length<3&&this.coordinates.splice(e[0],1))},i.prototype.getCoordinate=function(t){var e=t.split(".").map(function(t){return parseInt(t,10)}),n=this.coordinates[e[0]];return JSON.parse(JSON.stringify(n[e[1]]))},i.prototype.getCoordinates=function(){return this.coordinates.map(function(t){return t.concat([t[0]])})},i.prototype.updateCoordinate=function(t,e,n){this.changed();var r=t.split("."),i=parseInt(r[0],10),o=parseInt(r[1],10);void 0===this.coordinates[i]&&(this.coordinates[i]=[]),this.coordinates[i][o]=[e,n]},e.exports=i},{"./feature":25}],30:[function(t,e,n){"use strict";var r=t("../constants");e.exports={isOfMetaType:function(t){return function(e){var n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===t)}},isShiftMousedown:function(t){return!!t.originalEvent&&(!!t.originalEvent.shiftKey&&0===t.originalEvent.button)},isActiveFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.activeStates.ACTIVE&&t.featureTarget.properties.meta===r.meta.FEATURE))},isInactiveFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&(t.featureTarget.properties.active===r.activeStates.INACTIVE&&t.featureTarget.properties.meta===r.meta.FEATURE))},noTarget:function(t){return void 0===t.featureTarget},isFeature:function(t){return!!t.featureTarget&&(!!t.featureTarget.properties&&t.featureTarget.properties.meta===r.meta.FEATURE)},isVertex:function(t){var e=t.featureTarget;return!!e&&(!!e.properties&&e.properties.meta===r.meta.VERTEX)},isShiftDown:function(t){return!!t.originalEvent&&!0===t.originalEvent.shiftKey},isEscapeKey:function(t){return 27===t.keyCode},isEnterKey:function(t){return 13===t.keyCode},true:function(){return!0}}},{"../constants":23}],31:[function(t,e,n){"use strict";var r=t("@mapbox/geojson-extent"),i=t("../constants"),o=i.LAT_MIN,a=i.LAT_MAX,s=i.LAT_RENDERED_MIN,u=i.LAT_RENDERED_MAX,l=i.LNG_MIN,c=i.LNG_MAX;e.exports=function(t,e){var n=o,i=a,f=o,h=a,p=c,d=l;t.forEach(function(t){var e=r(t),o=e[1],a=e[3],s=e[0],u=e[2];o>n&&(n=o),a<i&&(i=a),a>f&&(f=a),o<h&&(h=o),s<p&&(p=s),u>d&&(d=u)});var v=e;return n+v.lat>u&&(v.lat=u-n),f+v.lat>a&&(v.lat=a-f),i+v.lat<s&&(v.lat=s-i),h+v.lat<o&&(v.lat=o-h),p+v.lng<=l&&(v.lng+=360*Math.ceil(Math.abs(v.lng)/360)),d+v.lng>=c&&(v.lng-=360*Math.ceil(Math.abs(v.lng)/360)),v}},{"../constants":23,"@mapbox/geojson-extent":6}],32:[function(t,e,n){"use strict";var r=t("../constants");e.exports=function(t,e,n,i){var o=e.geometry.coordinates,a=n.geometry.coordinates;if(o[1]>r.LAT_RENDERED_MAX||o[1]<r.LAT_RENDERED_MIN||a[1]>r.LAT_RENDERED_MAX||a[1]<r.LAT_RENDERED_MIN)return null;var s=i.project([o[0],o[1]]),u=i.project([a[0],a[1]]),l=i.unproject([(s.x+u.x)/2,(s.y+u.y)/2]);return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.MIDPOINT,parent:t,lng:l.lng,lat:l.lat,coord_path:n.properties.coord_path},geometry:{type:r.geojsonTypes.POINT,coordinates:[l.lng,l.lat]}}}},{"../constants":23}],33:[function(t,e,n){"use strict";function r(t){function e(t,e){var r="",a=null;t.forEach(function(t,u){var l=void 0!==e&&null!==e?e+"."+u:String(u),c=i(h,t,l,n(l));if(s.midpoints&&a){var f=o(h,a,c,s.map);f&&p.push(f)}a=c;var d=JSON.stringify(t);r!==d&&p.push(c),0===u&&(r=d)})}function n(t){return!!s.selectedPaths&&-1!==s.selectedPaths.indexOf(t)}var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=t.geometry,c=l.type,f=l.coordinates,h=t.properties&&t.properties.id,p=[];return c===a.geojsonTypes.POINT?p.push(i(h,f,u,n(u))):c===a.geojsonTypes.POLYGON?f.forEach(function(t,n){e(t,null!==u?u+"."+n:String(n))}):c===a.geojsonTypes.LINE_STRING?e(f,u):0===c.indexOf(a.geojsonTypes.MULTI_PREFIX)&&function(){var e=c.replace(a.geojsonTypes.MULTI_PREFIX,"");f.forEach(function(n,i){var o={type:a.geojsonTypes.FEATURE,properties:t.properties,geometry:{type:e,coordinates:n}};p=p.concat(r(o,s,i))})}(),p}var i=t("./create_vertex"),o=t("./create_midpoint"),a=t("../constants");e.exports=r},{"../constants":23,"./create_midpoint":32,"./create_vertex":34}],34:[function(t,e,n){"use strict";var r=t("../constants");e.exports=function(t,e,n,i){return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.VERTEX,parent:t,coord_path:n,active:i?r.activeStates.ACTIVE:r.activeStates.INACTIVE},geometry:{type:r.geojsonTypes.POINT,coordinates:e}}}},{"../constants":23}],35:[function(t,e,n){"use strict";e.exports={enable:function(t){setTimeout(function(){t.map&&t.map.doubleClickZoom&&t._ctx&&t._ctx.store&&t._ctx.store.getInitialConfigValue&&t._ctx.store.getInitialConfigValue("doubleClickZoom")&&t.map.doubleClickZoom.enable()},0)},disable:function(t){setTimeout(function(){t.map&&t.map.doubleClickZoom&&t.map.doubleClickZoom.disable()},0)}}},{}],36:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}},{}],37:[function(t,e,n){"use strict";function r(t,e,n,r){if(null===n.map)return[];var a=t?o(t,r):e,l={};n.options.styles&&(l.layers=n.options.styles.map(function(t){return t.id}));var c=n.map.queryRenderedFeatures(a,l).filter(function(t){return-1!==u.indexOf(t.properties.meta)}),f=new s,h=[];return c.forEach(function(t){var e=t.properties.id;f.has(e)||(f.add(e),h.push(t))}),i(h)}var i=t("./sort_features"),o=t("./map_event_to_bounding_box"),a=t("../constants"),s=t("./string_set"),u=[a.meta.FEATURE,a.meta.MIDPOINT,a.meta.VERTEX];e.exports={click:function(t,e,n){return r(t,e,n,n.options.clickBuffer)},touch:function(t,e,n){return r(t,e,n,n.options.touchBuffer)}}},{"../constants":23,"./map_event_to_bounding_box":42,"./sort_features":46,"./string_set":47}],38:[function(t,e,n){"use strict";var r=t("./features_at"),i=t("../constants");e.exports=function(t,e){var n=r.click(t,null,e),o={mouse:i.cursors.NONE};return n[0]&&(o.mouse=n[0].properties.active===i.activeStates.ACTIVE?i.cursors.MOVE:i.cursors.POINTER,o.feature=n[0].properties.meta),-1!==e.events.currentModeName().indexOf("draw")&&(o.mouse=i.cursors.ADD),e.ui.queueMapClasses(o),e.ui.updateMapClasses(),n[0]}},{"../constants":23,"./features_at":37}],39:[function(t,e,n){"use strict";var r=t("./euclidean_distance");e.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!=n.fineTolerance?n.fineTolerance:4,o=null!=n.grossTolerance?n.grossTolerance:12,a=null!=n.interval?n.interval:500;t.point=t.point||e.point,t.time=t.time||e.time;var s=r(t.point,e.point);return s<i||s<o&&e.time-t.time<a}},{"./euclidean_distance":36}],40:[function(t,e,n){"use strict";e.exports=function(t,e){return!!t.lngLat&&t.lngLat.lng===e[0]&&t.lngLat.lat===e[1]}},{}],41:[function(t,e,n){"use strict";var r=t("./euclidean_distance");e.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!=n.tolerance?n.tolerance:25,o=null!=n.interval?n.interval:250;return t.point=t.point||e.point,t.time=t.time||e.time,r(t.point,e.point)<i&&e.time-t.time<o}},{"./euclidean_distance":36}],42:[function(t,e,n){"use strict";e.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[t.point.x-e,t.point.y-e],[t.point.x+e,t.point.y+e]]}},{}],43:[function(t,e,n){"use strict";e.exports=function(t,e){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(t,e,r){if(void 0===n[t])throw new Error("Invalid event type: "+t);n[t].push({selector:e,fn:r})},render:function(t){e.store.featureChanged(t)}},i=function(t,i){for(var o=n[t],a=o.length;a--;){var s=o[a];if(s.selector(i)){s.fn.call(r,i),e.store.render(),e.ui.updateMapClasses();break}}};return t.start.call(r),{render:t.render,stop:function(){t.stop&&t.stop()},trash:function(){t.trash&&(t.trash(),e.store.render())},combineFeatures:function(){t.combineFeatures&&t.combineFeatures()},uncombineFeatures:function(){t.uncombineFeatures&&t.uncombineFeatures()},drag:function(t){i("drag",t)},click:function(t){i("click",t)},mousemove:function(t){i("mousemove",t)},mousedown:function(t){i("mousedown",t)},mouseup:function(t){i("mouseup",t)},mouseout:function(t){i("mouseout",t)},keydown:function(t){i("keydown",t)},keyup:function(t){i("keyup",t)},touchstart:function(t){i("touchstart",t)},touchmove:function(t){i("touchmove",t)},touchend:function(t){i("touchend",t)},tap:function(t){i("tap",t)}}}},{}],44:[function(t,e,n){"use strict";var r=t("@mapbox/point-geometry");e.exports=function(t,e){var n=e.getBoundingClientRect();return new r(t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0))}},{"@mapbox/point-geometry":11}],45:[function(t,e,n){"use strict";var r=t("./constrain_feature_movement"),i=t("../constants");e.exports=function(t,e){var n=r(t.map(function(t){return t.toGeoJSON()}),e);t.forEach(function(t){var e=t.getCoordinates(),r=function(t){var e={lng:t[0]+n.lng,lat:t[1]+n.lat};return[e.lng,e.lat]},o=function(t){return t.map(function(t){return r(t)})},a=void 0;t.type===i.geojsonTypes.POINT?a=r(e):t.type===i.geojsonTypes.LINE_STRING||t.type===i.geojsonTypes.MULTI_POINT?a=e.map(r):t.type===i.geojsonTypes.POLYGON||t.type===i.geojsonTypes.MULTI_LINE_STRING?a=e.map(o):t.type===i.geojsonTypes.MULTI_POLYGON&&(a=e.map(function(t){return t.map(function(t){return o(t)})})),t.incomingCoords(a)})}},{"../constants":23,"./constrain_feature_movement":31}],46:[function(t,e,n){"use strict";function r(t,e){var n=a[t.geometry.type]-a[e.geometry.type];return 0===n&&t.geometry.type===o.geojsonTypes.POLYGON?t.area-e.area:n}var i=t("@mapbox/geojson-area"),o=t("../constants"),a={Point:0,LineString:1,Polygon:2};e.exports=function(t){return t.map(function(t){return t.geometry.type===o.geojsonTypes.POLYGON&&(t.area=i.geometry({type:o.geojsonTypes.FEATURE,property:{},geometry:t.geometry})),t}).sort(r).map(function(t){return delete t.area,t})}},{"../constants":23,"@mapbox/geojson-area":3}],47:[function(t,e,n){"use strict";function r(t){if(this._items={},this._length=t?t.length:0,t)for(var e=0,n=t.length;e<n;e++)void 0!==t[e]&&(this._items[t[e]]=e)}r.prototype.add=function(t){return this._length=this._items[t]?this._length:this._length+1,this._items[t]=this._items[t]?this._items[t]:this._length,this},r.prototype.delete=function(t){return this._length=this._items[t]?this._length-1:this._length,delete this._items[t],this},r.prototype.has=function(t){return void 0!==this._items[t]},r.prototype.values=function(){var t=this;return Object.keys(this._items).sort(function(e,n){return t._items[e]-t._items[n]})},r.prototype.clear=function(){return this._length=0,this._items={},this},e.exports=r},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){return t.length===e.length&&JSON.stringify(t.map(function(t){return t}).sort())===JSON.stringify(e.map(function(t){return t}).sort())}},{}],49:[function(t,e,n){"use strict";e.exports=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},{}],50:[function(t,e,n){"use strict";e.exports=function(t,e,n){function r(){o=!1,a&&(i.apply(n,a),a=!1)}function i(){o?a=arguments:(o=!0,t.apply(n,arguments),setTimeout(r,e))}var o=void 0,a=void 0;return i}},{}],51:[function(t,e,n){"use strict";e.exports=function(t){return[].concat(t).filter(function(t){return void 0!==t})}},{}],52:[function(t,e,n){"use strict";var r=t("../lib/common_selectors"),i=r.noTarget,o=r.isOfMetaType,a=r.isInactiveFeature,s=r.isShiftDown,u=t("../lib/create_supplementary_points"),l=t("../lib/constrain_feature_movement"),c=t("../lib/double_click_zoom"),f=t("../constants"),h=t("../lib/common_selectors"),p=t("../lib/move_features"),d=o(f.meta.VERTEX),v=o(f.meta.MIDPOINT),m={};m.fireUpdate=function(){this.map.fire(f.events.UPDATE,{action:f.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},m.fireActionable=function(t){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:t.selectedCoordPaths.length>0})},m.startDragging=function(t,e){this.map.dragPan.disable(),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},m.stopDragging=function(t){this.map.dragPan.enable(),t.dragMoving=!1,t.canDragMove=!1,t.dragMoveLocation=null},m.onVertex=function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties,r=t.selectedCoordPaths.indexOf(n.coord_path);s(e)||-1!==r?s(e)&&-1===r&&t.selectedCoordPaths.push(n.coord_path):t.selectedCoordPaths=[n.coord_path];var i=this.pathsToCoordinates(t.featureId,t.selectedCoordPaths);this.setSelectedCoordinates(i)},m.onMidpoint=function(t,e){this.startDragging(t,e);var n=e.featureTarget.properties;t.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),t.selectedCoordPaths=[n.coord_path]},m.pathsToCoordinates=function(t,e){return e.map(function(e){return{feature_id:t,coord_path:e}})},m.onFeature=function(t,e){0===t.selectedCoordPaths.length?this.startDragging(t,e):this.stopDragging(t)},m.dragFeature=function(t,e,n){p(this.getSelected(),n),t.dragMoveLocation=e.lngLat},m.dragVertex=function(t,e,n){for(var r=t.selectedCoordPaths.map(function(e){return t.feature.getCoordinate(e)}),i=r.map(function(t){return{type:f.geojsonTypes.FEATURE,properties:{},geometry:{type:f.geojsonTypes.POINT,coordinates:t}}}),o=l(i,n),a=0;a<r.length;a++){var s=r[a];t.feature.updateCoordinate(t.selectedCoordPaths[a],s[0]+o.lng,s[1]+o.lat)}},m.clickNoTarget=function(){this.changeMode(f.modes.SIMPLE_SELECT)},m.clickInactive=function(){this.changeMode(f.modes.SIMPLE_SELECT)},m.clickActiveFeature=function(t){t.selectedCoordPaths=[],this.clearSelectedCoordinates(),t.feature.changed()},m.onSetup=function(t){var e=t.featureId,n=this.getFeature(e);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===f.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:e,feature:n,dragMoveLocation:t.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:t.coordPath?[t.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(e,r.selectedCoordPaths)),this.setSelected(e),c.disable(this),this.setActionableState({trash:!0}),r},m.onStop=function(){c.enable(this),this.clearSelectedCoordinates()},m.toDisplayFeatures=function(t,e,n){t.featureId===e.properties.id?(e.properties.active=f.activeStates.ACTIVE,n(e),u(e,{map:this.map,midpoints:!0,selectedPaths:t.selectedCoordPaths}).forEach(n)):(e.properties.active=f.activeStates.INACTIVE,n(e)),this.fireActionable(t)},m.onTrash=function(t){t.selectedCoordPaths.sort().reverse().forEach(function(e){return t.feature.removeCoordinate(e)}),this.map.fire(f.events.UPDATE,{action:f.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(t){return t.toGeoJSON()})}),t.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(t),!1===t.feature.isValid()&&(this.deleteFeature([t.featureId]),this.changeMode(f.modes.SIMPLE_SELECT,{}))},m.onMouseMove=function(t,e){var n=h.isActiveFeature(e),r=d(e),i=0===t.selectedCoordPaths.length;n&&i?this.updateUIClasses({mouse:f.cursors.MOVE}):r&&!i?this.updateUIClasses({mouse:f.cursors.MOVE}):this.updateUIClasses({mouse:f.cursors.NONE}),this.stopDragging(t)},m.onMouseOut=function(t){t.dragMoving&&this.fireUpdate()},m.onTouchStart=m.onMouseDown=function(t,e){return d(e)?this.onVertex(t,e):h.isActiveFeature(e)?this.onFeature(t,e):v(e)?this.onMidpoint(t,e):void 0},m.onDrag=function(t,e){if(!0===t.canDragMove){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};t.selectedCoordPaths.length>0?this.dragVertex(t,e,n):this.dragFeature(t,e,n),t.dragMoveLocation=e.lngLat}},m.onClick=function(t,e){return i(e)?this.clickNoTarget(t,e):h.isActiveFeature(e)?this.clickActiveFeature(t,e):a(e)?this.clickInactive(t,e):void this.stopDragging(t)},m.onTap=function(t,e){return i(e)?this.clickNoTarget(t,e):h.isActiveFeature(e)?this.clickActiveFeature(t,e):a(e)?this.clickInactive(t,e):void 0},m.onTouchEnd=m.onMouseUp=function(t){t.dragMoving&&this.fireUpdate(),this.stopDragging(t)},e.exports=m},{"../constants":23,"../lib/common_selectors":30,"../lib/constrain_feature_movement":31,"../lib/create_supplementary_points":33,"../lib/double_click_zoom":35,"../lib/move_features":45}],53:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=t("../lib/common_selectors"),o=t("../lib/is_event_at_coordinates"),a=t("../lib/double_click_zoom"),s=t("../constants"),u=t("../lib/create_vertex"),l={};l.onSetup=function(t){var e=(t=t||{}).featureId,n=void 0,i=void 0,o="forward";if(e){if(!(n=this.getFeature(e)))throw new Error("Could not find a feature with the provided featureId");var u=t.from;if(u&&"Feature"===u.type&&u.geometry&&"Point"===u.geometry.type&&(u=u.geometry),u&&"Point"===u.type&&u.coordinates&&2===u.coordinates.length&&(u=u.coordinates),!u||!Array.isArray(u))throw new Error("Please use the `from` property to indicate which point to continue the line from");var l=n.coordinates.length-1;if(n.coordinates[l][0]===u[0]&&n.coordinates[l][1]===u[1]){var c;i=l+1,(c=n).addCoordinate.apply(c,[i].concat(r(n.coordinates[l])))}else{if(n.coordinates[0][0]!==u[0]||n.coordinates[0][1]!==u[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");var f;o="backwards",i=0,(f=n).addCoordinate.apply(f,[i].concat(r(n.coordinates[0])))}}else n=this.newFeature({type:s.geojsonTypes.FEATURE,properties:{},geometry:{type:s.geojsonTypes.LINE_STRING,coordinates:[]}}),i=0,this.addFeature(n);return this.clearSelectedFeatures(),a.disable(this),this.updateUIClasses({mouse:s.cursors.ADD}),this.activateUIButton(s.types.LINE),this.setActionableState({trash:!0}),{line:n,currentVertexPosition:i,direction:o}},l.clickAnywhere=function(t,e){if(t.currentVertexPosition>0&&o(e,t.line.coordinates[t.currentVertexPosition-1])||"backwards"===t.direction&&o(e,t.line.coordinates[t.currentVertexPosition+1]))return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.line.id]});this.updateUIClasses({mouse:s.cursors.ADD}),t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),"forward"===t.direction?(t.currentVertexPosition++,t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)):t.line.addCoordinate(0,e.lngLat.lng,e.lngLat.lat)},l.clickOnVertex=function(t){return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.line.id]})},l.onMouseMove=function(t,e){t.line.updateCoordinate(t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),i.isVertex(e)&&this.updateUIClasses({mouse:s.cursors.POINTER})},l.onTap=l.onClick=function(t,e){if(i.isVertex(e))return this.clickOnVertex(t,e);this.clickAnywhere(t,e)},l.onKeyUp=function(t,e){i.isEnterKey(e)?this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[t.line.id]}):i.isEscapeKey(e)&&(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT))},l.onStop=function(t){a.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.line.id)&&(t.line.removeCoordinate(""+t.currentVertexPosition),t.line.isValid()?this.map.fire(s.events.CREATE,{features:[t.line.toGeoJSON()]}):(this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT,{},{silent:!0})))},l.onTrash=function(t){this.deleteFeature([t.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT)},l.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.line.id;if(e.properties.active=r?s.activeStates.ACTIVE:s.activeStates.INACTIVE,!r)return n(e);e.geometry.coordinates.length<2||(e.properties.meta=s.meta.FEATURE,n(u(t.line.id,e.geometry.coordinates["forward"===t.direction?e.geometry.coordinates.length-2:1],""+("forward"===t.direction?e.geometry.coordinates.length-2:1),!1)),n(e))},e.exports=l},{"../constants":23,"../lib/common_selectors":30,"../lib/create_vertex":34,"../lib/double_click_zoom":35,"../lib/is_event_at_coordinates":40}],54:[function(t,e,n){"use strict";var r=t("../lib/common_selectors"),i=t("../constants"),o={};o.onSetup=function(){var t=this.newFeature({type:i.geojsonTypes.FEATURE,properties:{},geometry:{type:i.geojsonTypes.POINT,coordinates:[]}});return this.addFeature(t),this.clearSelectedFeatures(),this.updateUIClasses({mouse:i.cursors.ADD}),this.activateUIButton(i.types.POINT),this.setActionableState({trash:!0}),{point:t}},o.stopDrawingAndRemove=function(t){this.deleteFeature([t.point.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT)},o.onTap=o.onClick=function(t,e){this.updateUIClasses({mouse:i.cursors.MOVE}),t.point.updateCoordinate("",e.lngLat.lng,e.lngLat.lat),this.map.fire(i.events.CREATE,{features:[t.point.toGeoJSON()]}),this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[t.point.id]})},o.onStop=function(t){this.activateUIButton(),t.point.getCoordinate().length||this.deleteFeature([t.point.id],{silent:!0})},o.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.point.id;if(e.properties.active=r?i.activeStates.ACTIVE:i.activeStates.INACTIVE,!r)return n(e)},o.onTrash=o.stopDrawingAndRemove,o.onKeyUp=function(t,e){if(r.isEscapeKey(e)||r.isEnterKey(e))return this.stopDrawingAndRemove(t,e)},e.exports=o},{"../constants":23,"../lib/common_selectors":30}],55:[function(t,e,n){"use strict";var r=t("../lib/common_selectors"),i=t("../lib/double_click_zoom"),o=t("../constants"),a=t("../lib/is_event_at_coordinates"),s=t("../lib/create_vertex"),u={};u.onSetup=function(){var t=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{},geometry:{type:o.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),i.disable(this),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},u.clickAnywhere=function(t,e){if(t.currentVertexPosition>0&&a(e,t.polygon.coordinates[0][t.currentVertexPosition-1]))return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]});this.updateUIClasses({mouse:o.cursors.ADD}),t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),t.currentVertexPosition++,t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat)},u.clickOnVertex=function(t){return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},u.onMouseMove=function(t,e){t.polygon.updateCoordinate("0."+t.currentVertexPosition,e.lngLat.lng,e.lngLat.lat),r.isVertex(e)&&this.updateUIClasses({mouse:o.cursors.POINTER})},u.onTap=u.onClick=function(t,e){return r.isVertex(e)?this.clickOnVertex(t,e):this.clickAnywhere(t,e)},u.onKeyUp=function(t,e){r.isEscapeKey(e)?(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)):r.isEnterKey(e)&&this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[t.polygon.id]})},u.onStop=function(t){this.updateUIClasses({mouse:o.cursors.NONE}),i.enable(this),this.activateUIButton(),void 0!==this.getFeature(t.polygon.id)&&(t.polygon.removeCoordinate("0."+t.currentVertexPosition),t.polygon.isValid()?this.map.fire(o.events.CREATE,{features:[t.polygon.toGeoJSON()]}):(this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT,{},{silent:!0})))},u.toDisplayFeatures=function(t,e,n){var r=e.properties.id===t.polygon.id;if(e.properties.active=r?o.activeStates.ACTIVE:o.activeStates.INACTIVE,!r)return n(e);if(0!==e.geometry.coordinates.length){var i=e.geometry.coordinates[0].length;if(!(i<3)){if(e.properties.meta=o.meta.FEATURE,n(s(t.polygon.id,e.geometry.coordinates[0][0],"0.0",!1)),i>3){var a=e.geometry.coordinates[0].length-3;n(s(t.polygon.id,e.geometry.coordinates[0][a],"0."+a,!1))}if(i<=4){var u=[[e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][1]],[e.geometry.coordinates[0][1][0],e.geometry.coordinates[0][1][1]]];if(n({type:o.geojsonTypes.FEATURE,properties:e.properties,geometry:{coordinates:u,type:o.geojsonTypes.LINE_STRING}}),3===i)return}return n(e)}}},u.onTrash=function(t){this.deleteFeature([t.polygon.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)},e.exports=u},{"../constants":23,"../lib/common_selectors":30,"../lib/create_vertex":34,"../lib/double_click_zoom":35,"../lib/is_event_at_coordinates":40}],56:[function(t,e,n){"use strict";var r=["simple_select","direct_select","draw_point","draw_polygon","draw_line_string"];e.exports=r.reduce(function(e,n){return e[n]=t("./"+n),e},{}),e.exports={simple_select:t("./simple_select"),direct_select:t("./direct_select"),draw_point:t("./draw_point"),draw_polygon:t("./draw_polygon"),draw_line_string:t("./draw_line_string")}},{"./direct_select":52,"./draw_line_string":53,"./draw_point":54,"./draw_polygon":55,"./simple_select":60}],57:[function(t,e,n){"use strict";var r=e.exports=t("./mode_interface_accessors");r.prototype.onSetup=function(){},r.prototype.onDrag=function(){},r.prototype.onClick=function(){},r.prototype.onMouseMove=function(){},r.prototype.onMouseDown=function(){},r.prototype.onMouseUp=function(){},r.prototype.onMouseOut=function(){},r.prototype.onKeyUp=function(){},r.prototype.onKeyDown=function(){},r.prototype.onTouchStart=function(){},r.prototype.onTouchMove=function(){},r.prototype.onTouchEnd=function(){},r.prototype.onTap=function(){},r.prototype.onStop=function(){},r.prototype.onTrash=function(){},r.prototype.onCombineFeature=function(){},r.prototype.onUncombineFeature=function(){},r.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")}},{"./mode_interface_accessors":58}],58:[function(t,e,n){"use strict";var r=t("../constants"),i=t("../lib/features_at"),o=t("../feature_types/point"),a=t("../feature_types/line_string"),s=t("../feature_types/polygon"),u=t("../feature_types/multi_feature"),l=e.exports=function(t){this.map=t.map,this.drawConfig=JSON.parse(JSON.stringify(t.options||{})),this._ctx=t};l.prototype.setSelected=function(t){return this._ctx.store.setSelected(t)},l.prototype.setSelectedCoordinates=function(t){var e=this;this._ctx.store.setSelectedCoordinates(t),t.reduce(function(t,n){return void 0===t[n.feature_id]&&(t[n.feature_id]=!0,e._ctx.store.get(n.feature_id).changed()),t},{})},l.prototype.getSelected=function(){return this._ctx.store.getSelected()},l.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},l.prototype.isSelected=function(t){return this._ctx.store.isSelected(t)},l.prototype.getFeature=function(t){return this._ctx.store.get(t)},l.prototype.select=function(t){return this._ctx.store.select(t)},l.prototype.deselect=function(t){return this._ctx.store.deselect(t)},l.prototype.deleteFeature=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._ctx.store.delete(t,e)},l.prototype.addFeature=function(t){return this._ctx.store.add(t)},l.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},l.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},l.prototype.setActionableState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={trash:t.trash||!1,combineFeatures:t.combineFeatures||!1,uncombineFeatures:t.uncombineFeatures||!1};return this._ctx.events.actionable(e)},l.prototype.changeMode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._ctx.events.changeMode(t,e,n)},l.prototype.updateUIClasses=function(t){return this._ctx.ui.queueMapClasses(t)},l.prototype.activateUIButton=function(t){return this._ctx.ui.setActiveButton(t)},l.prototype.featuresAt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if("click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return i[n](t,e,this._ctx)},l.prototype.newFeature=function(t){var e=t.geometry.type;return e===r.geojsonTypes.POINT?new o(this._ctx,t):e===r.geojsonTypes.LINE_STRING?new a(this._ctx,t):e===r.geojsonTypes.POLYGON?new s(this._ctx,t):new u(this._ctx,t)},l.prototype.isInstanceOf=function(t,e){if(t===r.geojsonTypes.POINT)return e instanceof o;if(t===r.geojsonTypes.LINE_STRING)return e instanceof a;if(t===r.geojsonTypes.POLYGON)return e instanceof s;if("MultiFeature"===t)return e instanceof u;throw new Error("Unknown feature class: "+t)},l.prototype.doRender=function(t){return this._ctx.store.featureChanged(t)}},{"../constants":23,"../feature_types/line_string":26,"../feature_types/multi_feature":27,"../feature_types/point":28,"../feature_types/polygon":29,"../lib/features_at":37}],59:[function(t,e,n){"use strict";var r=t("./mode_interface");e.exports=function(t){var e=Object.keys(t);return function(n){function i(t){return function(e){s[t](a,e)}}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},s=e.reduce(function(e,n){return e[n]=t[n],e},new r(n));return{start:function(){a=s.onSetup(o),this.on("drag",function(){return!0},i("onDrag")),this.on("click",function(){return!0},i("onClick")),this.on("mousemove",function(){return!0},i("onMouseMove")),this.on("mousedown",function(){return!0},i("onMouseDown")),this.on("mouseup",function(){return!0},i("onMouseUp")),this.on("mouseout",function(){return!0},i("onMouseOut")),this.on("keyup",function(){return!0},i("onKeyUp")),this.on("keydown",function(){return!0},i("onKeyDown")),this.on("touchstart",function(){return!0},i("onTouchStart")),this.on("touchmove",function(){return!0},i("onTouchMove")),this.on("touchend",function(){return!0},i("onTouchEnd")),this.on("tap",function(){return!0},i("onTap"))},stop:function(){s.onStop(a)},trash:function(){s.onTrash(a)},combineFeatures:function(){s.onCombineFeatures(a)},uncombineFeatures:function(){s.onUncombineFeatures(a)},render:function(t,e){s.toDisplayFeatures(a,t,e)}}}}},{"./mode_interface":57}],60:[function(t,e,n){"use strict";var r=t("../lib/common_selectors"),i=t("../lib/mouse_event_point"),o=t("../lib/create_supplementary_points"),a=t("../lib/string_set"),s=t("../lib/double_click_zoom"),u=t("../lib/move_features"),l=t("../constants"),c={};c.onSetup=function(t){var e=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoveing:!1,canDragMove:!1,initiallySelectedFeatureIds:t.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter(function(t){return void 0!==e.getFeature(t)})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},c.fireUpdate=function(){this.map.fire(l.events.UPDATE,{action:l.updateActions.MOVE,features:this.getSelected().map(function(t){return t.toGeoJSON()})})},c.fireActionable=function(){var t=this,e=this.getSelected(),n=e.filter(function(e){return t.isInstanceOf("MultiFeature",e)}),r=!1;if(e.length>1){r=!0;var i=e[0].type.replace("Multi","");e.forEach(function(t){t.type.replace("Multi","")!==i&&(r=!1)})}var o=n.length>0,a=e.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:o,trash:a})},c.getUniqueIds=function(t){return t.length?t.map(function(t){return t.properties.id}).filter(function(t){return void 0!==t}).reduce(function(t,e){return t.add(e),t},new a).values():[]},c.stopExtendedInteractions=function(t){t.boxSelectElement&&(t.boxSelectElement.parentNode&&t.boxSelectElement.parentNode.removeChild(t.boxSelectElement),t.boxSelectElement=null),this.map.dragPan.enable(),t.boxSelecting=!1,t.canBoxSelect=!1,t.dragMoving=!1,t.canDragMove=!1},c.onStop=function(){s.enable(this)},c.onMouseUp=function(t,e){if(r.true(e))return this.stopExtendedInteractions(t)},c.onMouseMove=function(t){return this.stopExtendedInteractions(t)},c.onMouseOut=function(t){if(t.dragMoving)return this.fireUpdate()},c.onTap=c.onClick=function(t,e){return r.noTarget(e)?this.clickAnywhere(t,e):r.isOfMetaType(l.meta.VERTEX)(e)?this.clickOnVertex(t,e):r.isFeature(e)?this.clickOnFeature(t,e):void 0},c.clickAnywhere=function(t){var e=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach(function(t){return e.doRender(t)})),s.enable(this),this.stopExtendedInteractions(t)},c.clickOnVertex=function(t,e){this.changeMode(l.modes.DIRECT_SELECT,{featureId:e.featureTarget.properties.parent,coordPath:e.featureTarget.properties.coord_path,startPos:e.lngLat}),this.updateUIClasses({mouse:l.cursors.MOVE})},c.startOnActiveFeature=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),this.doRender(e.featureTarget.properties.id),t.canDragMove=!0,t.dragMoveLocation=e.lngLat},c.clickOnFeature=function(t,e){var n=this;s.disable(this),this.stopExtendedInteractions(t);var i=r.isShiftDown(e),o=this.getSelectedIds(),a=e.featureTarget.properties.id,u=this.isSelected(a);if(!i&&u&&this.getFeature(a).type!==l.geojsonTypes.POINT)return this.changeMode(l.modes.DIRECT_SELECT,{featureId:a});u&&i?(this.deselect(a),this.updateUIClasses({mouse:l.cursors.POINTER}),1===o.length&&s.enable(this)):!u&&i?(this.select(a),this.updateUIClasses({mouse:l.cursors.MOVE})):u||i||(o.forEach(function(t){return n.doRender(t)}),this.setSelected(a),this.updateUIClasses({mouse:l.cursors.MOVE})),this.doRender(a)},c.onMouseDown=function(t,e){return r.isActiveFeature(e)?this.startOnActiveFeature(t,e):this.drawConfig.boxSelect&&r.isShiftMousedown(e)?this.startBoxSelect(t,e):void 0},c.startBoxSelect=function(t,e){this.stopExtendedInteractions(t),this.map.dragPan.disable(),t.boxSelectStartLocation=i(e.originalEvent,this.map.getContainer()),t.canBoxSelect=!0},c.onTouchStart=function(t,e){if(r.isActiveFeature(e))return this.startOnActiveFeature(t,e)},c.onDrag=function(t,e){return t.canDragMove?this.dragMove(t,e):this.drawConfig.boxSelect&&t.canBoxSelect?this.whileBoxSelect(t,e):void 0},c.whileBoxSelect=function(t,e){t.boxSelecting=!0,this.updateUIClasses({mouse:l.cursors.ADD}),t.boxSelectElement||(t.boxSelectElement=document.createElement("div"),t.boxSelectElement.classList.add(l.classes.BOX_SELECT),this.map.getContainer().appendChild(t.boxSelectElement));var n=i(e.originalEvent,this.map.getContainer()),r=Math.min(t.boxSelectStartLocation.x,n.x),o=Math.max(t.boxSelectStartLocation.x,n.x),a=Math.min(t.boxSelectStartLocation.y,n.y),s=Math.max(t.boxSelectStartLocation.y,n.y),u="translate("+r+"px, "+a+"px)";t.boxSelectElement.style.transform=u,t.boxSelectElement.style.WebkitTransform=u,t.boxSelectElement.style.width=o-r+"px",t.boxSelectElement.style.height=s-a+"px"},c.dragMove=function(t,e){t.dragMoving=!0,e.originalEvent.stopPropagation();var n={lng:e.lngLat.lng-t.dragMoveLocation.lng,lat:e.lngLat.lat-t.dragMoveLocation.lat};u(this.getSelected(),n),t.dragMoveLocation=e.lngLat},c.onMouseUp=function(t,e){var n=this;if(t.dragMoving)this.fireUpdate();else if(t.boxSelecting){var r=[t.boxSelectStartLocation,i(e.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),a=this.getUniqueIds(o).filter(function(t){return!n.isSelected(t)});a.length&&(this.select(a),a.forEach(function(t){return n.doRender(t)}),this.updateUIClasses({mouse:l.cursors.MOVE}))}this.stopExtendedInteractions(t)},c.toDisplayFeatures=function(t,e,n){e.properties.active=this.isSelected(e.properties.id)?l.activeStates.ACTIVE:l.activeStates.INACTIVE,n(e),this.fireActionable(),e.properties.active===l.activeStates.ACTIVE&&e.geometry.type!==l.geojsonTypes.POINT&&o(e).forEach(n)},c.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},c.onCombineFeatures=function(){var t=this.getSelected();if(!(0===t.length||t.length<2)){for(var e=[],n=[],r=t[0].type.replace("Multi",""),i=0;i<t.length;i++){var o=t[i];if(o.type.replace("Multi","")!==r)return;o.type.includes("Multi")?o.getCoordinates().forEach(function(t){e.push(t)}):e.push(o.getCoordinates()),n.push(o.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:l.geojsonTypes.FEATURE,properties:n[0].properties,geometry:{type:"Multi"+r,coordinates:e}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(l.events.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},c.onUncombineFeatures=function(){var t=this,e=this.getSelected();if(0!==e.length){for(var n=[],r=[],i=0;i<e.length;i++)!function(i){var o=e[i];t.isInstanceOf("MultiFeature",o)&&(o.getFeatures().forEach(function(e){t.addFeature(e),e.properties=o.properties,n.push(e.toGeoJSON()),t.select([e.id])}),t.deleteFeature(o.id,{silent:!0}),r.push(o.toGeoJSON()))}(i);n.length>1&&this.map.fire(l.events.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}},e.exports=c},{"../constants":23,"../lib/common_selectors":30,"../lib/create_supplementary_points":33,"../lib/double_click_zoom":35,"../lib/mouse_event_point":44,"../lib/move_features":45,"../lib/string_set":47}],61:[function(t,e,n){"use strict";function r(t,e){return t.map(function(t){return t.source?t:i(t,{id:t.id+"."+e,source:"hot"===e?o.sources.HOT:o.sources.COLD})})}var i=t("xtend"),o=t("./constants"),a={defaultMode:o.modes.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:t("./lib/theme"),modes:t("./modes"),controls:{},userProperties:!1},s={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},u={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i(t);return t.controls||(e.controls={}),!1===t.displayControlsDefault?e.controls=i(u,t.controls):e.controls=i(s,t.controls),e=i(a,e),e.styles=r(e.styles,"cold").concat(r(e.styles,"hot")),e}},{"./constants":23,"./lib/theme":49,"./modes":56,xtend:21}],62:[function(t,e,n){"use strict";var r=t("./constants");e.exports=function(){function t(t,e){var r=n.get(t).internal(i);n.ctx.events.currentModeRender(r,function(t){n.sources[e].push(t)})}function e(){n.isDirty=!1,n.clearChangedIds()}var n=this;if(!(n.ctx.map&&void 0!==n.ctx.map.getSource(r.sources.HOT)))return e();var i=n.ctx.events.currentModeName();n.ctx.ui.queueMapClasses({mode:i});var o=[],a=[];n.isDirty?a=n.getAllIds():(o=n.getChangedIds().filter(function(t){return void 0!==n.get(t)}),a=n.sources.hot.filter(function(t){return t.properties.id&&-1===o.indexOf(t.properties.id)&&void 0!==n.get(t.properties.id)}).map(function(t){return t.properties.id})),n.sources.hot=[];var s=n.sources.cold.length;n.sources.cold=n.isDirty?[]:n.sources.cold.filter(function(t){var e=t.properties.id||t.properties.parent;return-1===o.indexOf(e)});var u=s!==n.sources.cold.length||a.length>0;if(o.forEach(function(e){return t(e,"hot")}),a.forEach(function(e){return t(e,"cold")}),u&&n.ctx.map.getSource(r.sources.COLD).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:n.sources.cold}),n.ctx.map.getSource(r.sources.HOT).setData({type:r.geojsonTypes.FEATURE_COLLECTION,features:n.sources.hot}),n._emitSelectionChange&&(n.ctx.map.fire(r.events.SELECTION_CHANGE,{features:n.getSelected().map(function(t){return t.toGeoJSON()}),points:n.getSelectedCoordinates().map(function(t){return{type:r.geojsonTypes.FEATURE,properties:{},geometry:{type:r.geojsonTypes.POINT,coordinates:t.coordinates}}})}),n._emitSelectionChange=!1),n._deletedFeaturesToEmit.length){var l=n._deletedFeaturesToEmit.map(function(t){return t.toGeoJSON()});n._deletedFeaturesToEmit=[],n.ctx.map.fire(r.events.DELETE,{features:l})}n.ctx.map.fire(r.events.RENDER,{}),e()}},{"./constants":23}],63:[function(t,e,n){"use strict";var r=t("./events"),i=t("./store"),o=t("./ui"),a=t("./constants");e.exports=function(t){var e=null,n={onRemove:function(){return n.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.map=null,t.container=null,t.store=null,e&&e.parentNode&&e.parentNode.removeChild(e),e=null,this},onAdd:function(a){t.map=a,t.events=r(t),t.ui=o(t),t.container=a.getContainer(),t.store=new i(t),e=t.ui.addButtons(),t.options.boxSelect&&(a.boxZoom.disable(),a.dragPan.disable(),a.dragPan.enable());var s=null,u=function e(){a.off("load",e),clearInterval(s),n.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()};return a.loaded()?u():(a.on("load",u),s=setInterval(function(){a.loaded()&&u()},16)),t.events.start(),e},addLayers:function(){t.map.addSource(a.sources.COLD,{data:{type:a.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(a.sources.HOT,{data:{type:a.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach(function(e){t.map.addLayer(e)}),t.store.render()},removeLayers:function(){t.options.styles.forEach(function(e){t.map.removeLayer(e.id)}),t.map.removeSource(a.sources.COLD),t.map.removeSource(a.sources.HOT)}};return t.setup=n,n}},{"./constants":23,"./events":24,"./store":64,"./ui":65}],64:[function(t,e,n){"use strict";function r(t){var e=this,n=this._selectedCoordinates.filter(function(t){return e._selectedFeatureIds.has(t.feature_id)});this._selectedCoordinates.length===n.length||t.silent||(this._emitSelectionChange=!0),this._selectedCoordinates=n}var i=t("./lib/throttle"),o=t("./lib/to_dense_array"),a=t("./lib/string_set"),s=t("./render"),u=t("./constants").interactions,l=e.exports=function(t){this._features={},this._featureIds=new a,this._selectedFeatureIds=new a,this._selectedCoordinates=[],this._changedFeatureIds=new a,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=t,this.sources={hot:[],cold:[]},this.render=i(s,16,this),this.isDirty=!1};l.prototype.createRenderBatch=function(){var t=this,e=this.render,n=0;return this.render=function(){n++},function(){t.render=e,n>0&&t.render()}},l.prototype.setDirty=function(){return this.isDirty=!0,this},l.prototype.featureChanged=function(t){return this._changedFeatureIds.add(t),this},l.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},l.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},l.prototype.getAllIds=function(){return this._featureIds.values()},l.prototype.add=function(t){return this.featureChanged(t.id),this._features[t.id]=t,this._featureIds.add(t.id),this},l.prototype.delete=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t).forEach(function(t){e._featureIds.has(t)&&(e._featureIds.delete(t),e._selectedFeatureIds.delete(t),n.silent||-1===e._deletedFeaturesToEmit.indexOf(e._features[t])&&e._deletedFeaturesToEmit.push(e._features[t]),delete e._features[t],e.isDirty=!0)}),r.call(this,n),this},l.prototype.get=function(t){return this._features[t]},l.prototype.getAll=function(){var t=this;return Object.keys(this._features).map(function(e){return t._features[e]})},l.prototype.select=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t).forEach(function(t){e._selectedFeatureIds.has(t)||(e._selectedFeatureIds.add(t),e._changedFeatureIds.add(t),n.silent||(e._emitSelectionChange=!0))}),this},l.prototype.deselect=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(t).forEach(function(t){e._selectedFeatureIds.has(t)&&(e._selectedFeatureIds.delete(t),e._changedFeatureIds.add(t),n.silent||(e._emitSelectionChange=!0))}),r.call(this,n),this},l.prototype.clearSelected=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:t.silent}),this},l.prototype.setSelected=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=o(t),this.deselect(this._selectedFeatureIds.values().filter(function(e){return-1===t.indexOf(e)}),{silent:n.silent}),this.select(t.filter(function(t){return!e._selectedFeatureIds.has(t)}),{silent:n.silent}),this},l.prototype.setSelectedCoordinates=function(t){return this._selectedCoordinates=t,this._emitSelectionChange=!0,this},l.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},l.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},l.prototype.getSelected=function(){var t=this;return this._selectedFeatureIds.values().map(function(e){return t.get(e)})},l.prototype.getSelectedCoordinates=function(){var t=this;return this._selectedCoordinates.map(function(e){return{coordinates:t.get(e.feature_id).getCoordinate(e.coord_path)}})},l.prototype.isSelected=function(t){return this._selectedFeatureIds.has(t)},l.prototype.setFeatureProperty=function(t,e,n){this.get(t).setProperty(e,n),this.featureChanged(t)},l.prototype.storeMapConfig=function(){var t=this;u.forEach(function(e){t.ctx.map[e]&&(t._mapInitialConfig[e]=t.ctx.map[e].isEnabled())})},l.prototype.restoreMapConfig=function(){var t=this;Object.keys(this._mapInitialConfig).forEach(function(e){t._mapInitialConfig[e]?t.ctx.map[e].enable():t.ctx.map[e].disable()})},l.prototype.getInitialConfigValue=function(t){return void 0===this._mapInitialConfig[t]||this._mapInitialConfig[t]}},{"./constants":23,"./lib/string_set":47,"./lib/throttle":50,"./lib/to_dense_array":51,"./render":62}],65:[function(t,e,n){"use strict";var r=t("xtend"),i=t("./constants"),o=["mode","feature","mouse"];e.exports=function(t){function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("button");return r.className=i.classes.CONTROL_BUTTON+" "+e.className,r.setAttribute("title",e.title),e.container.appendChild(r),r.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),r.target!==u?(a(t),e.onActivate()):n()},!0),r}function n(){u&&(u.classList.remove(i.classes.ACTIVE_BUTTON),u=null)}function a(t){n();var e=s[t];e&&e&&"trash"!==t&&(e.classList.add(i.classes.ACTIVE_BUTTON),u=e)}var s={},u=null,l={mode:null,feature:null,mouse:null},c={mode:null,feature:null,mouse:null};return{setActiveButton:a,queueMapClasses:function(t){c=r(c,t)},updateMapClasses:function(){if(t.container){var e=[],n=[];o.forEach(function(t){c[t]!==l[t]&&(e.push(t+"-"+l[t]),null!==c[t]&&n.push(t+"-"+c[t]))}),e.length>0&&t.container.classList.remove.apply(t.container.classList,e),n.length>0&&t.container.classList.add.apply(t.container.classList,n),l=r(l,c)}},addButtons:function(){var n=t.options.controls,r=document.createElement("div");return r.className=i.classes.CONTROL_GROUP+" "+i.classes.CONTROL_BASE,n?(n[i.types.LINE]&&(s[i.types.LINE]=e(i.types.LINE,{container:r,className:i.classes.CONTROL_BUTTON_LINE,title:"LineString tool "+(t.options.keybindings?"(l)":""),onActivate:function(){return t.events.changeMode(i.modes.DRAW_LINE_STRING)}})),n[i.types.POLYGON]&&(s[i.types.POLYGON]=e(i.types.POLYGON,{container:r,className:i.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(t.options.keybindings?"(p)":""),onActivate:function(){return t.events.changeMode(i.modes.DRAW_POLYGON)}})),n[i.types.POINT]&&(s[i.types.POINT]=e(i.types.POINT,{container:r,className:i.classes.CONTROL_BUTTON_POINT,title:"Marker tool "+(t.options.keybindings?"(m)":""),onActivate:function(){return t.events.changeMode(i.modes.DRAW_POINT)}})),n.trash&&(s.trash=e("trash",{container:r,className:i.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){t.events.trash()}})),n.combine_features&&(s.combine_features=e("combineFeatures",{container:r,className:i.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){t.events.combineFeatures()}})),n.uncombine_features&&(s.uncombine_features=e("uncombineFeatures",{container:r,className:i.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){t.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(s).forEach(function(t){var e=s[t];e.parentNode&&e.parentNode.removeChild(e),delete s[t]})}}}},{"./constants":23,xtend:21}]},{},[1])(1)})}).call(e,n("DuR2"))},uZnM:function(t,e,n){"use strict";var r=n("7k+L");var i=n("u/dy");var o=n("4MLn");var a=n("N+Om");var s=n.n(a);var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();var l;function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function p(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var d=36161;var v=32937;var m=36162;var g=36163;var y=36164;var _=36011;var b="EXT_color_buffer_float";var x=(l={},p(l,r["b"].DEPTH_COMPONENT16,{}),p(l,r["b"].DEPTH_COMPONENT24,{gl2:true}),p(l,r["b"].DEPTH_COMPONENT32F,{gl2:true}),p(l,r["b"].STENCIL_INDEX8,{}),p(l,r["b"].DEPTH_STENCIL,{}),p(l,r["b"].DEPTH24_STENCIL8,{gl2:true}),p(l,r["b"].DEPTH32F_STENCIL8,{gl2:true}),p(l,r["b"].RGBA4,{}),p(l,r["b"].RGB565,{}),p(l,r["b"].RGB5_A1,{}),p(l,r["b"].R8,{gl2:true}),p(l,r["b"].R8UI,{gl2:true}),p(l,r["b"].R8I,{gl2:true}),p(l,r["b"].R16UI,{gl2:true}),p(l,r["b"].R16I,{gl2:true}),p(l,r["b"].R32UI,{gl2:true}),p(l,r["b"].R32I,{gl2:true}),p(l,r["b"].RG8,{gl2:true}),p(l,r["b"].RG8UI,{gl2:true}),p(l,r["b"].RG8I,{gl2:true}),p(l,r["b"].RG16UI,{gl2:true}),p(l,r["b"].RG16I,{gl2:true}),p(l,r["b"].RG32UI,{gl2:true}),p(l,r["b"].RG32I,{gl2:true}),p(l,r["b"].RGB8,{gl2:true}),p(l,r["b"].RGBA8,{gl2:true}),p(l,r["b"].RGB10_A2,{gl2:true}),p(l,r["b"].RGBA8UI,{gl2:true}),p(l,r["b"].RGBA8I,{gl2:true}),p(l,r["b"].RGB10_A2UI,{gl2:true}),p(l,r["b"].RGBA16UI,{gl2:true}),p(l,r["b"].RGBA16I,{gl2:true}),p(l,r["b"].RGBA32I,{gl2:true}),p(l,r["b"].RGBA32UI,{gl2:true}),p(l,r["b"].R16F,{gl2:b}),p(l,r["b"].RG16F,{gl2:b}),p(l,r["b"].RGBA16F,{gl2:b}),p(l,r["b"].R32F,{gl2:b}),p(l,r["b"].RG32F,{gl2:b}),p(l,r["b"].RGBA32F,{gl2:b}),p(l,r["b"].R11F_G11F_B10F,{gl2:b}),l);function w(t,e,n){var r=n[e];if(!r){return false}var o=Object(i["h"])(t)?r.gl2||r.gl1:r.gl1;if(typeof o==="string"){return t.getExtension(o)}return o}var E=function(t){h(e,t);u(e,null,[{key:"isSupported",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.format;return!r||w(e,r,x)}},{key:"getSamplesForFormat",value:function t(e,n){var r=n.format;return e.getInternalformatParameter(d,r,v)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.initialize(n);Object.seal(r);return r}u(e,[{key:"initialize",value:function t(e){var n=e.format,r=e.width,o=r===undefined?1:r,a=e.height,u=a===undefined?1:a,l=e.samples,c=l===undefined?0:l;s()(n,"Needs format");this.gl.bindRenderbuffer(d,this.handle);if(c!==0&&Object(i["h"])(this.gl)){this.gl.renderbufferStorageMultisample(d,c,n,o,u)}else{this.gl.renderbufferStorage(d,n,o,u)}this.format=n;this.width=o;this.height=u;this.samples=c;return this}},{key:"resize",value:function t(e){var n=e.width,r=e.height;if(n!==this.width||r!==this.height){return this.initialize({width:n,height:r,format:this.format,samples:this.samples})}return this}},{key:"_createHandle",value:function t(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function t(){this.gl.deleteRenderbuffer(this.handle)}},{key:"_syncHandle",value:function t(e){this.format=this.getParameter(y);this.width=this.getParameter(m);this.height=this.getParameter(g);this.samples=this.getParameter(_)}},{key:"_getParameter",value:function t(e){this.gl.bindRenderbuffer(d,this.handle);var n=this.gl.getRenderbufferParameter(d,e);return n}}]);return e}(o["a"]);e["a"]=E},ueJt:function(t,e,n){var r=n("Wdy1");var i=n("YjQv").isFinite;r(r.S,"Number",{isFinite:function t(e){return typeof e=="number"&&i(e)}})},upAl:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1],i=e[2];t[0]=n;t[1]=r;t[2]=i;t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i));return t}},v0R9:function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("7+pg");var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var c=function(t){l(e,t);a(e,null,[{key:"isSupported",value:function t(e,n){return o["a"].isSupported(e,n)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};s(this,e);Object(i["d"])(t);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,Object.assign({},n,{target:t.TEXTURE_2D})));r.initialize(n);Object.seal(r);return r}a(e,[{key:"bind",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.textureUnit;var n=this.gl;if(e===undefined){throw new Error("Texture.bind: must specify texture unit")}this.textureUnit=e;n.activeTexture(n.TEXTURE0+e);n.bindTexture(this.target,this.handle);return e}},{key:"unbind",value:function t(){var e=this.gl;if(this.textureUnit===undefined){throw new Error("Texture.unbind: texture unit not specified")}e.activeTexture(e.TEXTURE0+this.textureUnit);e.bindTexture(this.target,null);return this.textureUnit}},{key:"getActiveUnit",value:function t(){return this.gl.getParameter(r["a"].ACTIVE_TEXTURE)-r["a"].TEXTURE0}}]);return e}(o["a"]);e["a"]=c},vttU:function(t,e,n){"use strict";/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n("BEQ0"),i=n("TJez"),o=n("e6+Q"),a="function"===typeof Symbol&&Symbol["for"],s=a?Symbol["for"]("react.element"):60103,u=a?Symbol["for"]("react.call"):60104,l=a?Symbol["for"]("react.return"):60105,c=a?Symbol["for"]("react.portal"):60106,f=a?Symbol["for"]("react.fragment"):60107,h="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);e=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");e.name="Invariant Violation";e.framesToPop=1;throw e}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function v(t,e,n){this.props=t;this.context=e;this.refs=i;this.updater=n||d}v.prototype.isReactComponent={};v.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t?p("85"):void 0;this.updater.enqueueSetState(this,t,e,"setState")};v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m(t,e,n){this.props=t;this.context=e;this.refs=i;this.updater=n||d}function g(){}g.prototype=v.prototype;var y=m.prototype=new g;y.constructor=m;r(y,v.prototype);y.isPureReactComponent=!0;function _(t,e,n){this.props=t;this.context=e;this.refs=i;this.updater=n||d}var b=_.prototype=new g;b.constructor=_;r(b,v.prototype);b.unstable_isAsyncReactComponent=!0;b.render=function(){return this.props.children};var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,r)&&!E.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:s,type:t,key:o,ref:a,props:i,_owner:x.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}function C(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}var M=/\/+/g,A=[];function S(t,e,n,r){if(A.length){var i=A.pop();i.result=t;i.keyPrefix=e;i.func=n;i.context=r;i.count=0;return i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function R(t){t.result=null;t.keyPrefix=null;t.func=null;t.context=null;t.count=0;10>A.length&&A.push(t)}function L(t,e,n,r){var i=typeof t;if("undefined"===i||"boolean"===i)t=null;var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case s:case u:case l:case c:o=!0}}if(o)return n(r,t,""===e?"."+k(t,0):e),1;o=0;e=""===e?".":e+":";if(Array.isArray(t))for(var a=0;a<t.length;a++){i=t[a];var f=e+k(i,a);o+=L(i,f,n,r)}else if(null===t||"undefined"===typeof t?f=null:(f=h&&t[h]||t["@@iterator"],f="function"===typeof f?f:null),"function"===typeof f)for(t=f.call(t),a=0;!(i=t.next()).done;)i=i.value,f=e+k(i,a++),o+=L(i,f,n,r);else"object"===i&&(n=""+t,p("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return o}function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?C(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++);Array.isArray(t)?O(t,r,n,o.thatReturnsArgument):null!=t&&(I(t)&&(e=i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(M,"$&/")+"/")+n,t={$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function O(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(M,"$&/")+"/");e=S(e,o,r,i);null==t||L(t,"",F,e);R(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];O(t,r,null,e,n);return r},forEach:function(t,e,n){if(null==t)return t;e=S(null,null,e,n);null==t||L(t,"",N,e);R(e)},count:function(t){return null==t?0:L(t,"",o.thatReturnsNull,null)},toArray:function(t){var e=[];O(t,e,null,o.thatReturnsArgument);return e},only:function(t){I(t)?void 0:p("143");return t}},Component:v,PureComponent:m,unstable_AsyncComponent:_,Fragment:f,createElement:T,cloneElement:function(t,e,n){var i=r({},t.props),o=t.key,a=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,u=x.current);void 0!==e.key&&(o=""+e.key);if(t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:s,type:t.type,key:o,ref:a,props:i,_owner:u}},createFactory:function(t){var e=T.bind(null,t);e.type=t;return e},isValidElement:I,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:r}},P=Object.freeze({default:B}),U=P&&B||P;t.exports=U["default"]?U["default"]:U},w2X3:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return i});n.d(e,"a",function(){return o});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=(typeof t==="undefined"?"undefined":r(t))==="object"&&String(t)==="[object process]"&&!t.browser;var o=!i;var a=o}).call(e,n("W2nU"))},w9vz:function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15];var _=n[0],b=n[1],x=n[2],w=n[3];t[0]=_*r+b*s+x*f+w*v;t[1]=_*i+b*u+x*h+w*m;t[2]=_*o+b*l+x*p+w*g;t[3]=_*a+b*c+x*d+w*y;_=n[4];b=n[5];x=n[6];w=n[7];t[4]=_*r+b*s+x*f+w*v;t[5]=_*i+b*u+x*h+w*m;t[6]=_*o+b*l+x*p+w*g;t[7]=_*a+b*c+x*d+w*y;_=n[8];b=n[9];x=n[10];w=n[11];t[8]=_*r+b*s+x*f+w*v;t[9]=_*i+b*u+x*h+w*m;t[10]=_*o+b*l+x*p+w*g;t[11]=_*a+b*c+x*d+w*y;_=n[12];b=n[13];x=n[14];w=n[15];t[12]=_*r+b*s+x*f+w*v;t[13]=_*i+b*u+x*h+w*m;t[14]=_*o+b*l+x*p+w*g;t[15]=_*a+b*c+x*d+w*y;return t}},wGI4:function(t,e){t.exports=n;function n(t,e,n){var r=new Float32Array(3);r[0]=t;r[1]=e;r[2]=n;return r}},wGd9:function(t,e){t.exports=n;function n(t,e){t[0]=1/e[0];t[1]=1/e[1];t[2]=1/e[2];t[3]=1/e[3];return t}},wPGR:function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var o="Query was deleted before result was available";var a="Query was canceled before result was available";var s=function t(e){return e};var u=function(){function t(){i(this,t);this.pendingQueries=new Set;this.invalidQueryType=null;this.invalidErrorMessage="";this.checkInvalid=function(){return false}}r(t,[{key:"poll",value:function t(e){this.cancelInvalidQueries(e);var n=true;var r=false;var i=undefined;try{for(var o=this.pendingQueries.values()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;var u=s.isResultAvailable();if(u){var l=s.getResult();this.resolveQuery(s,l)}}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}},{key:"setInvalidator",value:function t(e){var n=e.queryType,r=e.errorMessage,i=e.checkInvalid;this.invalidQueryType=n;this.invalidErrorMessage=r;this.checkInvalid=i}},{key:"beginQuery",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:s;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:s;this.cancelInvalidQueries(e.gl);this.cancelQuery(e);var i={};e.promise=new Promise(function(t,e){i.resolve=t;i.reject=e});Object.assign(e.promise,i);this.pendingQueries.add(e);return e.promise.then(n).catch(r)}},{key:"resolveQuery",value:function t(e,n){this.pendingQueries.delete(e);e.promise.resolve(n)}},{key:"rejectQuery",value:function t(e,n){this.pendingQueries.delete(e);if(e.promise){e.promise.reject(new Error(n))}}},{key:"deleteQuery",value:function t(e){return this.rejectQuery(e,o)}},{key:"cancelQuery",value:function t(e){return this.rejectQuery(e,a)}},{key:"invalidateQuery",value:function t(e){if(e instanceof this.invalidQueryType){this.rejectQuery(e,this.invalidErrorMessage)}}},{key:"cancelInvalidQueries",value:function t(e){if(this.checkInvalid(e)){var n=true;var r=false;var i=undefined;try{for(var o=this.pendingQueries.values()[Symbol.iterator](),a;!(n=(a=o.next()).done);n=true){var s=a.value;this.invalidateQuery(s)}}catch(t){r=true;i=t}finally{try{if(!n&&o.return){o.return()}}finally{if(r){throw i}}}}}}]);return t}();e["a"]=new u},wVSh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default="#define SHADER_NAME luma-default-fragment\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n// varyings\nvarying vec4 vColor;\nvarying vec4 vPickingColor;\nvarying vec2 vTexCoord;\nvarying vec3 lightWeighting;\nvarying vec3 vReflection;\nvarying vec4 vNormal;\n\n// texture configs\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\nuniform bool hasTextureCube1;\nuniform samplerCube samplerCube1;\n\n// picking configs\nuniform bool enablePicking;\nuniform bool hasPickingColors;\nuniform vec3 pickColor;\n\n// reflection / refraction configs\nuniform float reflection;\nuniform float refraction;\n\n// fog configuration\nuniform bool hasFog;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvoid main(){\n  // set color from texture\n  if (!hasTexture1) {\n    gl_FragColor = vec4(vColor.rgb, vColor.a);\n  } else {\n    gl_FragColor =\n      vec4(texture2D(sampler1, vec2(vTexCoord.s, vTexCoord.t)).rgb, 1.0);\n  }\n  // gl_FragColor.rgba *= lightWeighting\n\n  // has cube texture then apply reflection\n  // if (hasTextureCube1) {\n  //   vec3 nReflection = normalize(vReflection);\n  //   vec3 reflectionValue;\n  //   if (refraction > 0.0) {\n  //    reflectionValue = refract(nReflection, vNormal.xyz, refraction);\n  //   } else {\n  //    reflectionValue = -reflect(nReflection, vNormal.xyz);\n  //   }\n\n  //   // TODO(nico): check whether this is right.\n  //   vec4 cubeColor = textureCube(samplerCube1,\n  //       vec3(-reflectionValue.x, -reflectionValue.y, reflectionValue.z));\n  //   gl_FragColor = vec4(mix(gl_FragColor.xyz, cubeColor.xyz, reflection), 1.0);\n  // }\n\n  // set picking\n  // if (enablePicking) {\n  //   if (hasPickingColors) {\n  //     gl_FragColor = vPickingColor;\n  //   } else {\n  //     gl_FragColor = vec4(pickColor, 1.0);\n  //   }\n  // }\n\n  // handle fog\n  // if (hasFog) {\n  //   float depth = gl_FragCoord.z / gl_FragCoord.w;\n  //   float fogFactor = smoothstep(fogNear, fogFar, depth);\n  //   gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n  // }\n}\n"},wXdB:function(t,e,n){var r=n("+MZ2");t.exports=function(t){return Object(r(t))}},wYL2:function(t,e){t.exports=n;function n(t,e){var n=e[0],r=e[1];var i=n*n+r*r;if(i>0){i=1/Math.sqrt(i);t[0]=e[0]*i;t[1]=e[1]*i}return t}},wiaE:function(t,e,n){var r=n("NZra");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return r(t)=="String"?t.split(""):Object(t)}},wnLj:function(t,e,n){"use strict";e["a"]=y;var r=n("7k+L");var i=n("4MLn");var o=n("u/dy");var a=n("N+Om");var s=n.n(a);var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=35982;var p=36386;var d=function(t){f(e,t);u(e,null,[{key:"isSupported",value:function t(e){return Object(o["h"])(e)}},{key:"isHandle",value:function t(e){return this.gl.isTransformFeedback(this.handle)}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};l(this,e);Object(o["c"])(t);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.buffers={};Object.seal(r);r.initialize(n);return r}u(e,[{key:"initialize",value:function t(e){var n=e.buffers,r=n===undefined?{}:n;this.bindBuffers(r,{clear:true})}},{key:"bindBuffers",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments[1];var r=n.clear,i=n.varyingMap,o=i===undefined?{}:i;if(r){this._unbindBuffers();this.buffers={}}var a=0;for(var u in e){var l=e[u];var c=a++;s()(Number.isFinite(c));this.buffers[c]=l}}},{key:"begin",value:function t(e){this._bindBuffers();this.gl.bindTransformFeedback(p,this.handle);this.gl.beginTransformFeedback(e);return this}},{key:"pause",value:function t(){this.gl.bindTransformFeedback(p,this.handle);this.gl.pauseTransformFeedback();this.gl.bindTransformFeedback(p,null);this._unbindBuffers();return this}},{key:"resume",value:function t(){this._bindBuffers();this.gl.bindTransformFeedback(p,this.handle);this.gl.resumeTransformFeedback();return this}},{key:"end",value:function t(){this.gl.bindTransformFeedback(p,this.handle);this.gl.endTransformFeedback();this.gl.bindTransformFeedback(p,null);this._unbindBuffers();return this}},{key:"bindBuffer",value:function t(e){var n=e.index,r=e.buffer,i=e.offset,o=i===undefined?0:i,a=e.size;this.gl.bindTransformFeedback(p,this.handle);if(a===undefined){this.gl.bindBufferBase(h,n,r.handle)}else{this.gl.bindBufferRange(h,n,r.handle,o,a)}return this}},{key:"unbindBuffer",value:function t(e){var n=e.index;this.gl.bindTransformFeedback(p,this.handle);this.gl.bindBufferBase(h,n,null);return this}},{key:"_bindBuffers",value:function t(){for(var e in this.buffers){this.bindBuffer({buffer:this.buffers[e],index:Number(e)})}}},{key:"_unbindBuffers",value:function t(){for(var e in this.buffers){this.unbindBuffer({buffer:this.buffers[e],index:Number(e)})}}},{key:"_createHandle",value:function t(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function t(){this.gl.deleteTransformFeedback(this.handle)}}]);return e}(i["a"]);var v=d;function m(t){var e=t.drawMode,n=t.vertexCount,i=t.countVertices;switch(e){case r["b"].POINTS:return n;case r["b"].LINES:return n/2;case r["b"].LINE_STRIP:return n-1;case r["b"].LINE_LOOP:return n;case r["b"].TRIANGLES:return n/3;case r["b"].TRIANGLE_STRIP:return n-2;case r["b"].TRIANGLE_FAN:return n-2;default:s()(false);return 0}}function g(t){var e=t.drawMode,n=t.vertexCount;var i=m({drawMode:e,vertexCount:n});switch(e){case r["b"].POINTS:return i;case r["b"].LINES:case r["b"].LINE_STRIP:case r["b"].LINE_LOOP:return n*2;case r["b"].TRIANGLES:case r["b"].TRIANGLE_STRIP:case r["b"].TRIANGLE_FAN:return n*3;default:s()(false);return 0}}function y(t){var e=t.drawMode;switch(e){case r["b"].POINTS:return r["b"].POINTS;case r["b"].LINES:return r["b"].LINES;case r["b"].LINE_STRIP:return r["b"].LINES;case r["b"].LINE_LOOP:return r["b"].LINES;case r["b"].TRIANGLES:return r["b"].TRIANGLES;case r["b"].TRIANGLE_STRIP:return r["b"].TRIANGLES;case r["b"].TRIANGLE_FAN:return r["b"].TRIANGLES;default:s()(false);return 0}}},wo0b:function(t,e,n){"use strict";var r=n("PeCl");var i=n("diIw");function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var u=function(t){s(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o(this,e);var n=t.nlat,r=n===undefined?10:n,s=t.nlong,u=s===undefined?10:s,c=t.radius,f=c===undefined?1:c,h=t.id,p=h===undefined?Object(i["uid"])("sphere-geometry"):h;return a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{id:p,attributes:l(r,u,f)})))}return e}(r["a"]);e["a"]=u;function l(t,e,n){var r=0;var i=Math.PI;var o=i-r;var a=0;var s=2*Math.PI;var u=s-a;var l=(t+1)*(e+1);if(typeof n==="number"){var c=n;n=function t(e,n,r,i,o){return c}}var f=new Float32Array(l*3);var h=new Float32Array(l*3);var p=new Float32Array(l*2);var d=new Uint16Array(t*e*6);for(var v=0;v<=t;v++){for(var m=0;m<=e;m++){var g=m/e;var y=v/t;var _=m+v*(e+1);var b=_*2;var x=_*3;var w=u*g;var E=o*y;var T=Math.sin(w);var I=Math.cos(w);var C=Math.sin(E);var M=Math.cos(E);var A=I*C;var S=M;var R=T*C;var L=n(A,S,R,g,y);f[x+0]=L*A;f[x+1]=L*S;f[x+2]=L*R;h[x+0]=A;h[x+1]=S;h[x+2]=R;p[b+0]=g;p[b+1]=y}}var k=t+1;for(var N=0;N<t;N++){for(var F=0;F<e;F++){var O=(N*e+F)*6;d[O+0]=F*k+N;d[O+1]=F*k+N+1;d[O+2]=(F+1)*k+N;d[O+3]=(F+1)*k+N;d[O+4]=F*k+N+1;d[O+5]=(F+1)*k+N+1}}return{positions:f,indices:d,normals:h,texCoords:p}}},woOf:function(t,e,n){t.exports={default:n("Eif7"),__esModule:true}},wxAW:function(t,e,n){"use strict";e.__esModule=true;var r=n("C4MV");var i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;(0,i.default)(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}()},"x//u":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},xF4I:function(t,e,n){"use strict";var r=n("tLlS");var i=n("u/dy");var o=n("4MLn");var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var c=function(t){l(e,t);a(e,null,[{key:"isSupported",value:function t(e){return Object(i["h"])(e)}},{key:"isHandle",value:function t(e){return this.gl.isSampler(this.handle)}}]);function e(t,n){s(this,e);Object(i["c"])(t);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));Object.seal(r);return r}a(e,[{key:"bind",value:function t(e){this.gl.bindSampler(e,this.handle);return this}},{key:"unbind",value:function t(e){this.gl.bindSampler(e,null);return this}},{key:"_createHandle",value:function t(){return this.gl.createSampler()}},{key:"_deleteHandle",value:function t(){this.gl.deleteSampler(this.handle)}},{key:"_getParameter",value:function t(e){var n=this.gl.getSamplerParameter(this.handle,e);return n}},{key:"_setParameter",value:function t(e,n){switch(e){case r["e"].TEXTURE_MIN_LOD:case r["e"].TEXTURE_MAX_LOD:this.gl.samplerParameterf(this.handle,e,n);break;default:this.gl.samplerParameteri(this.handle,e,n);break}return this}}]);return e}(o["a"]);e["a"]=c},xVc6:function(t,e,n){"use strict";var r=n("pEGt");var i=n("THEY");var o=n("bSeU");var a=n("wXdB");var s=n("wiaE");var u=Object.assign;t.exports=!u||n("zyKz")(function(){var t={};var e={};var n=Symbol();var r="abcdefghijklmnopqrst";t[n]=7;r.split("").forEach(function(t){e[t]=t});return u({},t)[n]!=7||Object.keys(u({},e)).join("")!=r})?function t(e,n){var u=a(e);var l=arguments.length;var c=1;var f=i.f;var h=o.f;while(l>c){var p=s(arguments[c++]);var d=f?r(p).concat(f(p)):r(p);var v=d.length;var m=0;var g;while(v>m)if(h.call(p,g=d[m++]))u[g]=p[g]}return u}:u},xam7:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]+n[0];t[1]=e[1]+n[1];t[2]=e[2]+n[2];t[3]=e[3]+n[3];return t}},xrBZ:function(t,e){t.exports=n;function n(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];a=a||1;t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a;t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a;t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a;return t}},"y/u5":function(t,e,n){"use strict";var r=n("LR+x");function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var s=function(t){a(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,e);var n=t.radius,r=n===undefined?1:n,a=t.cap,s=a===undefined?true:a;return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{topRadius:0,topCap:Boolean(s),bottomCap:Boolean(s),bottomRadius:r})))}return e}(r["a"]);e["a"]=s},yO0j:function(t,e,n){"use strict";var r=n("4MLn");var i=n("wPGR");var o=n("+sAb");var a=n("u/dy");var s=n("3u7p");var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}return function(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}}();function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=function t(e){return e};var p="Disjoint GPU operation invalidated timer queries";var d='Timer queries require "EXT_disjoint_timer_query" extension';var v=34916;var m=34918;var g=34919;var y=35007;var _=36392;var b=36795;var x=35976;var w=35887;var E=36202;var T=function(t){f(e,t);u(e,null,[{key:"isSupported",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.queries,i=r===undefined?false:r,u=n.timers,l=u===undefined?false:u,c=n.timestamps,f=c===undefined?false:c;var h=Object(a["h"])(e);var p=Object(o["d"])(e,o["a"].TIMER_QUERY);var d=h||p;if(i){d=d&&h}if(l){d=d&&p}if(f){Object(s["g"])(e);var m=e.getQuery(_,v);d=d&&m>0}return d}}]);function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};l(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));var i=n.onComplete,o=i===undefined?h:i,a=n.onError,s=a===undefined?h:a;r.target=null;r.onComplete=o;r.onError=s;r.promise=null;Object.seal(r);return r}u(e,[{key:"beginTimeElapsedQuery",value:function t(){return this.begin(y)}},{key:"beginOcclusionQuery",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=e.conservative,r=n===undefined?false:n;return this.begin(r?E:w)}},{key:"beginTransformFeedbackQuery",value:function t(){return this.begin(x)}},{key:"getTimestamp",value:function t(){i["a"].beginQuery(this,this.onComplete,this.onError);try{this.gl.queryCounter(this.handle,_)}catch(t){i["a"].rejectQuery(this,d)}return this}},{key:"begin",value:function t(e){i["a"].beginQuery(this,this.onComplete,this.onError);this.target=e;try{this.gl.beginQuery(this.target,this.handle)}catch(t){i["a"].rejectQuery(this,"Query not supported")}return this}},{key:"end",value:function t(){if(this.target){this.ext.endQuery(this.target);this.target=null}return this}},{key:"cancel",value:function t(){this.end();i["a"].cancelQuery(this);return this}},{key:"isResultAvailable",value:function t(){return this.gl.getQueryParameter(this.handle,g)}},{key:"getResult",value:function t(){var e=this.gl.getQueryParameter(this.handle,m);return Number.isFinite(e)?e/1e6:0}},{key:"_createHandle",value:function t(){return e.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function t(){i["a"].deleteQuery(this);this.gl.deleteQuery(this.handle)}}],[{key:"poll",value:function t(e){i["a"].poll(e)}}]);return e}(r["a"]);e["a"]=T;i["a"].setInvalidator({queryType:T,errorMessage:p,checkInvalid:function t(e){return e.getParameter(b)}})},yYxz:function(t,e){t.exports={}},yf90:function(t,e){t.exports=n;function n(t,e,n,r){var i=e[0],o=e[1],a=e[2];t[0]=i+r*(n[0]-i);t[1]=o+r*(n[1]-o);t[2]=a+r*(n[2]-a);return t}},zSCX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r=n("HZVa");var i=s(r);var o=n("wVSh");var a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=n("hG1I");e.default={vs:i.default,fs:a.default,defaultUniforms:u}},zb2e:function(t,e){t.exports=n;function n(t,e,n){t[0]=e[0]-n[0];t[1]=e[1]-n[1];t[2]=e[2]-n[2];t[3]=e[3]-n[3];return t}},zuDh:function(t,e,n){"use strict";var r=n("PeCl");var i=n("diIw");function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function a(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var u=function(t){s(e,t);function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};o(this,e);var n=t.type,r=n===undefined?"x,y":n,s=t.offset,u=s===undefined?0:s,l=t.flipCull,c=l===undefined?false:l,f=t.unpack,h=f===undefined?false:f,p=t.id,d=p===undefined?Object(i["uid"])("plane-geometry"):p;var v=r.split(",");var m=t[v[0]+"len"];var g=t[v[1]+"len"];var y=t["n"+v[0]]||1;var _=t["n"+v[1]]||1;var b=(y+1)*(_+1);var x=new Float32Array(b*3);var w=new Float32Array(b*3);var E=new Float32Array(b*2);if(c){m=-m}var T=0;var I=0;for(var C=0;C<=_;C++){for(var M=0;M<=y;M++){var A=M/y;var S=C/_;E[T+0]=c?1-A:A;E[T+1]=S;switch(r){case"x,y":x[I+0]=m*A-m*.5;x[I+1]=g*S-g*.5;x[I+2]=u;w[I+0]=0;w[I+1]=0;w[I+2]=c?1:-1;break;case"x,z":x[I+0]=m*A-m*.5;x[I+1]=u;x[I+2]=g*S-g*.5;w[I+0]=0;w[I+1]=c?1:-1;w[I+2]=0;break;case"y,z":x[I+0]=u;x[I+1]=m*A-m*.5;x[I+2]=g*S-g*.5;w[I+0]=c?1:-1;w[I+1]=0;w[I+2]=0;break;default:break}T+=2;I+=3}}var R=y+1;var L=new Uint16Array(y*_*6);for(var k=0;k<_;k++){for(var N=0;N<y;N++){var F=(k*y+N)*6;L[F+0]=(k+0)*R+N;L[F+1]=(k+1)*R+N;L[F+2]=(k+0)*R+N+1;L[F+3]=(k+1)*R+N;L[F+4]=(k+1)*R+N+1;L[F+5]=(k+0)*R+N+1}}if(h){var O=new Float32Array(L.length*3);var B=new Float32Array(L.length*3);var P=new Float32Array(L.length*2);for(var U=0;U<L.length;++U){var D=L[U];O[U*3+0]=x[D*3+0];O[U*3+1]=x[D*3+1];O[U*3+2]=x[D*3+2];B[U*3+0]=w[D*3+0];B[U*3+1]=w[D*3+1];B[U*3+2]=w[D*3+2];P[U*2+0]=E[D*2+0];P[U*2+1]=E[D*2+1]}x=O;w=B;E=P;L=undefined}var z={positions:x,normals:w,texCoords:E};if(L){z.indices=L}return a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},t,{attributes:z,id:d})))}return e}(r["a"]);e["a"]=u},zyKz:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return true}}}});
//# sourceMappingURL=vendor.c23f407d031f7c691a48.js.map